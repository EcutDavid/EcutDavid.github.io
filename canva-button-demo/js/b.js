(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["src/pages/design_button/design_button.entry"],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */
/*!*****************************************************************!*\
  !*** multi ./conf/entry_init.js ./src/pages/design_button/main ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! ./conf/entry_init.js */8);
module.exports = __webpack_require__(/*! /Users/davidguan/Documents/Work/GitHub/canva/web/src/pages/design_button/main */13);


/***/ }),
/* 8 */
/*!****************************!*\
  !*** ./conf/entry_init.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var symbol_observable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! symbol-observable */ 9);\n/* eslint-disable */\n\n// symbol-observable (imported via React Dnd -> Redux) sets the Symbol.observable\n// global. Rxjs and mobxUtils use a pure module which exports the symbol if available,\n// otherwise the '@@observable' string.\n// If symbol-observable is imported after Rxjs and before mobxUtils, their observable\n// symbols won't be compatible with each other. So we must import the polyfill before\n// all other modules.\n// If symbol-observable fails to resolve, this hack is likely no longer required. Try removing\n// it before adding an explicit dependency.\n// https://github.com/benlesh/symbol-observable/issues/38\n// Other places importing this module for the same reason:\n// https://github.com/Canva/canva/blob/2eb3696e91374035a3999cd8a82cdcdb99819c23/web/tools/jest/setup.ts#L8-L17\n\n\n__webpack_require__.p = window['__canva_public_path__'];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbmYvZW50cnlfaW5pdC5qcz85OWY2Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlICovXG5cbi8vIHN5bWJvbC1vYnNlcnZhYmxlIChpbXBvcnRlZCB2aWEgUmVhY3QgRG5kIC0+IFJlZHV4KSBzZXRzIHRoZSBTeW1ib2wub2JzZXJ2YWJsZVxuLy8gZ2xvYmFsLiBSeGpzIGFuZCBtb2J4VXRpbHMgdXNlIGEgcHVyZSBtb2R1bGUgd2hpY2ggZXhwb3J0cyB0aGUgc3ltYm9sIGlmIGF2YWlsYWJsZSxcbi8vIG90aGVyd2lzZSB0aGUgJ0BAb2JzZXJ2YWJsZScgc3RyaW5nLlxuLy8gSWYgc3ltYm9sLW9ic2VydmFibGUgaXMgaW1wb3J0ZWQgYWZ0ZXIgUnhqcyBhbmQgYmVmb3JlIG1vYnhVdGlscywgdGhlaXIgb2JzZXJ2YWJsZVxuLy8gc3ltYm9scyB3b24ndCBiZSBjb21wYXRpYmxlIHdpdGggZWFjaCBvdGhlci4gU28gd2UgbXVzdCBpbXBvcnQgdGhlIHBvbHlmaWxsIGJlZm9yZVxuLy8gYWxsIG90aGVyIG1vZHVsZXMuXG4vLyBJZiBzeW1ib2wtb2JzZXJ2YWJsZSBmYWlscyB0byByZXNvbHZlLCB0aGlzIGhhY2sgaXMgbGlrZWx5IG5vIGxvbmdlciByZXF1aXJlZC4gVHJ5IHJlbW92aW5nXG4vLyBpdCBiZWZvcmUgYWRkaW5nIGFuIGV4cGxpY2l0IGRlcGVuZGVuY3kuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmVubGVzaC9zeW1ib2wtb2JzZXJ2YWJsZS9pc3N1ZXMvMzhcbi8vIE90aGVyIHBsYWNlcyBpbXBvcnRpbmcgdGhpcyBtb2R1bGUgZm9yIHRoZSBzYW1lIHJlYXNvbjpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9DYW52YS9jYW52YS9ibG9iLzJlYjM2OTZlOTEzNzQwMzVhMzk5OWNkOGE4MmNkY2RiOTk4MTljMjMvd2ViL3Rvb2xzL2plc3Qvc2V0dXAudHMjTDgtTDE3XG5pbXBvcnQgJ3N5bWJvbC1vYnNlcnZhYmxlJztcblxuX193ZWJwYWNrX3B1YmxpY19wYXRoX18gPSB3aW5kb3dbJ19fY2FudmFfcHVibGljX3BhdGhfXyddO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8\n");

/***/ }),
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */
/*!*****************************************!*\
  !*** ./src/pages/design_button/main.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"main\", function() { return main; });\n/* harmony import */ var services_http_http_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! services/http/http_client */ 14);\n/* harmony import */ var services_http_http_service_bootstrap_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! services/http/http_service_bootstrap_proto */ 26);\n/* harmony import */ var services_login_http_login_client__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! services/login/http_login_client */ 27);\n/* harmony import */ var services_profile_http_profile_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! services/profile/http_profile_client */ 34);\n/* harmony import */ var services_signup_http_signup_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! services/signup/http_signup_client */ 35);\n/* harmony import */ var _api_initializer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./api_initializer */ 37);\n/* harmony import */ var _authentication_authentication_provider__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./authentication/authentication_provider */ 50);\n/* harmony import */ var _html_api_initialize_document_design_buttons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./html_api/initialize_document_design_buttons */ 51);\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction createServices(httpServiceBootstrap) {\r\n    const httpClient = new services_http_http_client__WEBPACK_IMPORTED_MODULE_0__[\"HttpClient\"](httpServiceBootstrap);\r\n    return {\r\n        profileService: new services_profile_http_profile_client__WEBPACK_IMPORTED_MODULE_3__[\"HttpProfileClient\"](httpClient),\r\n        loginService: new services_login_http_login_client__WEBPACK_IMPORTED_MODULE_2__[\"HttpLoginClient\"](httpClient),\r\n        signupService: new services_signup_http_signup_client__WEBPACK_IMPORTED_MODULE_4__[\"HttpSignupClient\"](httpClient),\r\n    };\r\n}\r\n// use multi entry file to run main('flavor')\r\n// the created API will be exported by the entry file and use webpack UMD build\r\nfunction main(targetOrigin, cssUrl) {\r\n    const services = createServices(new services_http_http_service_bootstrap_proto__WEBPACK_IMPORTED_MODULE_1__[\"HttpServiceBootstrap\"]({\r\n        serverRoot: targetOrigin,\r\n    }));\r\n    const authenticationProvider = new _authentication_authentication_provider__WEBPACK_IMPORTED_MODULE_6__[\"AuthenticationProvider\"](services.loginService, services.signupService, services.profileService);\r\n    const apiInitializer = new _api_initializer__WEBPACK_IMPORTED_MODULE_5__[\"ApiInitializer\"]({\r\n        targetOrigin,\r\n        currentOrigin: window.location.origin,\r\n        cssUrl,\r\n        authenticationProvider,\r\n        container: document.body,\r\n    });\r\n    const namespace = apiInitializer.exposeNamespace();\r\n    Object(_html_api_initialize_document_design_buttons__WEBPACK_IMPORTED_MODULE_7__[\"initializeDocumentDesignButtons\"])(document.body, namespace.initialize);\r\n    return namespace;\r\n}\r\nwindow['CreateCanvaButton'] = (origin) => {\r\n    return main(origin, '');\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9tYWluLnRzPzJiYmMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ3NlcnZpY2VzL2h0dHAvaHR0cF9jbGllbnQnO1xuaW1wb3J0IHsgSHR0cFNlcnZpY2VCb290c3RyYXAgfSBmcm9tICdzZXJ2aWNlcy9odHRwL2h0dHBfc2VydmljZV9ib290c3RyYXBfcHJvdG8nO1xuaW1wb3J0IHsgSHR0cExvZ2luQ2xpZW50IH0gZnJvbSAnc2VydmljZXMvbG9naW4vaHR0cF9sb2dpbl9jbGllbnQnO1xuaW1wb3J0IHsgTG9naW5TZXJ2aWNlIH0gZnJvbSAnc2VydmljZXMvbG9naW4vbG9naW5fc2VydmljZSc7XG5pbXBvcnQgeyBIdHRwUHJvZmlsZUNsaWVudCB9IGZyb20gJ3NlcnZpY2VzL3Byb2ZpbGUvaHR0cF9wcm9maWxlX2NsaWVudCc7XG5pbXBvcnQgeyBQcm9maWxlU2VydmljZSB9IGZyb20gJ3NlcnZpY2VzL3Byb2ZpbGUvcHJvZmlsZV9zZXJ2aWNlJztcbmltcG9ydCB7IEh0dHBTaWdudXBDbGllbnQgfSBmcm9tICdzZXJ2aWNlcy9zaWdudXAvaHR0cF9zaWdudXBfY2xpZW50JztcbmltcG9ydCB7IFNpZ251cFNlcnZpY2UgfSBmcm9tICdzZXJ2aWNlcy9zaWdudXAvc2lnbnVwX3NlcnZpY2UnO1xuaW1wb3J0IHsgQXBpSW5pdGlhbGl6ZXIgfSBmcm9tICcuL2FwaV9pbml0aWFsaXplcic7XG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblByb3ZpZGVyIH0gZnJvbSAnLi9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbl9wcm92aWRlcic7XG5pbXBvcnQgeyBpbml0aWFsaXplRG9jdW1lbnREZXNpZ25CdXR0b25zIH0gZnJvbSAnLi9odG1sX2FwaS9pbml0aWFsaXplX2RvY3VtZW50X2Rlc2lnbl9idXR0b25zJztcblxudHlwZSBTZXJ2aWNlcyA9IHtcbiAgcHJvZmlsZVNlcnZpY2U6IFByb2ZpbGVTZXJ2aWNlLFxuICBsb2dpblNlcnZpY2U6IExvZ2luU2VydmljZSxcbiAgc2lnbnVwU2VydmljZTogU2lnbnVwU2VydmljZSxcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVNlcnZpY2VzKGh0dHBTZXJ2aWNlQm9vdHN0cmFwOiBIdHRwU2VydmljZUJvb3RzdHJhcCk6IFNlcnZpY2VzIHtcbiAgY29uc3QgaHR0cENsaWVudCA9IG5ldyBIdHRwQ2xpZW50KGh0dHBTZXJ2aWNlQm9vdHN0cmFwKTtcbiAgcmV0dXJuIHtcbiAgICBwcm9maWxlU2VydmljZTogbmV3IEh0dHBQcm9maWxlQ2xpZW50KGh0dHBDbGllbnQpLFxuICAgIGxvZ2luU2VydmljZTogbmV3IEh0dHBMb2dpbkNsaWVudChodHRwQ2xpZW50KSxcbiAgICBzaWdudXBTZXJ2aWNlOiBuZXcgSHR0cFNpZ251cENsaWVudChodHRwQ2xpZW50KSxcbiAgfTtcbn1cblxuLy8gdXNlIG11bHRpIGVudHJ5IGZpbGUgdG8gcnVuIG1haW4oJ2ZsYXZvcicpXG4vLyB0aGUgY3JlYXRlZCBBUEkgd2lsbCBiZSBleHBvcnRlZCBieSB0aGUgZW50cnkgZmlsZSBhbmQgdXNlIHdlYnBhY2sgVU1EIGJ1aWxkXG5leHBvcnQgZnVuY3Rpb24gbWFpbih0YXJnZXRPcmlnaW46IHN0cmluZywgY3NzVXJsOiBzdHJpbmcpIHtcbiAgY29uc3Qgc2VydmljZXMgPSBjcmVhdGVTZXJ2aWNlcyhuZXcgSHR0cFNlcnZpY2VCb290c3RyYXAoe1xuICAgIHNlcnZlclJvb3Q6IHRhcmdldE9yaWdpbixcbiAgfSkpO1xuICBjb25zdCBhdXRoZW50aWNhdGlvblByb3ZpZGVyID0gbmV3IEF1dGhlbnRpY2F0aW9uUHJvdmlkZXIoXG4gICAgICBzZXJ2aWNlcy5sb2dpblNlcnZpY2UsXG4gICAgICBzZXJ2aWNlcy5zaWdudXBTZXJ2aWNlLFxuICAgICAgc2VydmljZXMucHJvZmlsZVNlcnZpY2UsXG4gICk7XG4gIGNvbnN0IGFwaUluaXRpYWxpemVyID0gbmV3IEFwaUluaXRpYWxpemVyKHtcbiAgICB0YXJnZXRPcmlnaW4sXG4gICAgY3VycmVudE9yaWdpbjogd2luZG93LmxvY2F0aW9uLm9yaWdpbixcbiAgICBjc3NVcmwsXG4gICAgYXV0aGVudGljYXRpb25Qcm92aWRlcixcbiAgICBjb250YWluZXI6IGRvY3VtZW50LmJvZHksXG4gIH0pO1xuICBjb25zdCBuYW1lc3BhY2UgPSBhcGlJbml0aWFsaXplci5leHBvc2VOYW1lc3BhY2UoKTtcblxuICBpbml0aWFsaXplRG9jdW1lbnREZXNpZ25CdXR0b25zKGRvY3VtZW50LmJvZHksIG5hbWVzcGFjZS5pbml0aWFsaXplKTtcblxuICByZXR1cm4gbmFtZXNwYWNlO1xufVxud2luZG93WydDcmVhdGVDYW52YUJ1dHRvbiddID0gKG9yaWdpbjogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBtYWluKG9yaWdpbiwgJycpO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///13\n");

/***/ }),
/* 14 */
/*!******************************************!*\
  !*** ./src/services/http/http_client.ts ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XSSI_PREFIX\", function() { return XSSI_PREFIX; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpClient\", function() { return HttpClient; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_time_system_clock__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! base/time/system_clock */ 19);\n/* harmony import */ var services_http_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! services/http/http_service */ 20);\n/* harmony import */ var _http_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./http_proto */ 21);\n/* harmony import */ var _parse_http_error__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parse_http_error */ 24);\n/* harmony import */ var _xhr_engine__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./xhr_engine */ 25);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/**\r\n * Arbitrary text prefix used for XSSI prevention.\r\n */\r\nconst XSSI_PREFIX = '\\'\"])}while(1);</x>//';\r\n/**\r\n * Service for internal Canva API AJAX requests. To talk to external services, use HttpEngine.\r\n *\r\n * This service manages communication-level details, such as request encoding, XSSI protection,\r\n * and transparent authorization using managed CSRF tokens.\r\n */\r\nclass HttpClient {\r\n    constructor(config, engine = new _xhr_engine__WEBPACK_IMPORTED_MODULE_6__[\"XHREngine\"](), clock = base_time_system_clock__WEBPACK_IMPORTED_MODULE_2__[\"systemClock\"]) {\r\n        this.engine = engine;\r\n        this.clock = clock;\r\n        this.analyticsContext = config && config.analyticsContext;\r\n        this.authToken = config && config.authToken;\r\n        this.authzToken = config && config.authzToken;\r\n        this.brandRestriction = config && config.brandRestriction;\r\n        this.buildName = config && config.buildName;\r\n        this.buildSha = config && config.buildSha;\r\n        this.serverRoot = config && config.serverRoot;\r\n        this.csrfTokens = config ? new Map(config.csrfTokens) : new Map();\r\n    }\r\n    get(path) {\r\n        return this.send('GET', path);\r\n    }\r\n    post(path, body) {\r\n        return this.authorizeAndSend(path, token => this.send('POST', path, token, body));\r\n    }\r\n    delete(path) {\r\n        return this.authorizeAndSend(path, token => this.send('DELETE', path, token));\r\n    }\r\n    authorizeAndSend(path, send) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(path.startsWith('/') && path.length > 1);\r\n            const action = path.split('/')[1];\r\n            const token = yield this.getCsrfToken(action);\r\n            try {\r\n                return yield send(token);\r\n            }\r\n            catch (e) {\r\n                if (e instanceof services_http_http_service__WEBPACK_IMPORTED_MODULE_3__[\"CsrfTokenExpiredError\"]) {\r\n                    this.csrfTokens.delete(action);\r\n                    const token = yield this.getCsrfToken(action);\r\n                    return yield send(token);\r\n                }\r\n                else {\r\n                    throw e;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    getCsrfToken(action) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const token = this.csrfTokens.get(action);\r\n            if (token != null && token.expiry >= this.clock.now() + HttpClient.CSRF_TOKEN_MINIMUM_LIFETIME_MS) {\r\n                // we have a token and it is valid for at least another CSRF_TOKEN_MINIMUM_LIFETIME_MS\r\n                return token;\r\n            }\r\n            else {\r\n                const res = yield this.send('GET', `/csrf3/${action}`);\r\n                const newToken = _http_proto__WEBPACK_IMPORTED_MODULE_4__[\"CsrfToken\"].deserialize(res);\r\n                this.csrfTokens.set(action, newToken);\r\n                return newToken;\r\n            }\r\n        });\r\n    }\r\n    send(method, path, csrfToken, value) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const body = value != null ? JSON.stringify(value) : value;\r\n            const res = yield this.engine.requestText({\r\n                method,\r\n                url: `${this.serverRoot || ''}/_ajax${path}`,\r\n                body,\r\n                headers: this.getHeaders(body, csrfToken),\r\n                withCredentials: !!this.serverRoot,\r\n                // The API gateway has an infrastructure-level 30s timeout on all HTTP requests.\r\n                // However, a gateway timeout is a TCP-level event that closes the connection; it does not\r\n                // generate an HTTP response.  It is unclear what behavior that triggers on the XHR, so set a\r\n                // client-side 30s timeout to kick in first.\r\n                timeout: 30 * 1000,\r\n            });\r\n            return this.handleResponse(res);\r\n        });\r\n    }\r\n    getHeaders(body, csrfToken) {\r\n        return {\r\n            ['X-Canva-Analytics']: this.analyticsContext,\r\n            ['X-Canva-Auth']: this.authToken,\r\n            ['X-Canva-Authz']: this.authzToken,\r\n            ['X-Canva-Brand']: this.brandRestriction,\r\n            ['X-Canva-Build-Name']: this.buildName,\r\n            ['X-Canva-Build-Sha']: this.buildSha,\r\n            ['X-Csrf-Token']: csrfToken ? csrfToken.token : undefined,\r\n            ['Content-Type']: body != null ? 'application/json;charset=UTF-8' : body,\r\n        };\r\n    }\r\n    refreshHeaders(res) {\r\n        const authToken = res.getResponseHeader('X-Canva-Auth');\r\n        const authzToken = res.getResponseHeader('X-Canva-Authz');\r\n        if (authToken != null) {\r\n            this.authToken = authToken !== '!' ? authToken : undefined;\r\n        }\r\n        if (authzToken != null) {\r\n            this.authzToken = authzToken !== '!' ? authzToken : undefined;\r\n        }\r\n    }\r\n    handleResponse(res) {\r\n        const { status, body: bodyStr } = res;\r\n        if (200 <= status && status < 300) {\r\n            this.refreshHeaders(res);\r\n            return HttpClient.parseBody(bodyStr);\r\n        }\r\n        const { message, endUserMessage, body } = HttpClient.parseError(bodyStr);\r\n        throw Object(_parse_http_error__WEBPACK_IMPORTED_MODULE_5__[\"parseHttpError\"])(status, message, endUserMessage, body);\r\n    }\r\n    static parseBody(body) {\r\n        if (!body.startsWith(XSSI_PREFIX)) {\r\n            throw new services_http_http_service__WEBPACK_IMPORTED_MODULE_3__[\"HttpInternalServerError\"]();\r\n        }\r\n        try {\r\n            return base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].checkObject(JSON.parse(body.substring(XSSI_PREFIX.length)));\r\n        }\r\n        catch (e) {\r\n            throw new services_http_http_service__WEBPACK_IMPORTED_MODULE_3__[\"HttpInternalServerError\"](e);\r\n        }\r\n    }\r\n    /** Parses the loggable message and the end-user message out of an error response. */\r\n    static parseError(body) {\r\n        let res;\r\n        try {\r\n            res = HttpClient.parseBody(body);\r\n        }\r\n        catch (e) {\r\n            return {};\r\n        }\r\n        const endUserMessage = res['endUserMessage'];\r\n        const message = res['error'];\r\n        return {\r\n            endUserMessage: typeof endUserMessage === 'string' ? endUserMessage : undefined,\r\n            message: typeof message === 'string' ? message : undefined,\r\n            body: res,\r\n        };\r\n    }\r\n}\r\n/** CSRF tokens with less time before expiry than this will be discarded. */\r\nHttpClient.CSRF_TOKEN_MINIMUM_LIFETIME_MS = 5 * 60 * 1000;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvaHR0cC9odHRwX2NsaWVudC50cz83NGRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByZWNvbmRpdGlvbnMgfSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuaW1wb3J0IHsgRGVzZXJpYWxpemF0aW9uIH0gZnJvbSAnYmFzZS9zZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvbic7XG5pbXBvcnQgeyBDbG9jayB9IGZyb20gJ2Jhc2UvdGltZS9jbG9jayc7XG5pbXBvcnQgeyBzeXN0ZW1DbG9jayB9IGZyb20gJ2Jhc2UvdGltZS9zeXN0ZW1fY2xvY2snO1xuaW1wb3J0IHtcbiAgQ3NyZlRva2VuRXhwaXJlZEVycm9yLFxuICBIdHRwSW50ZXJuYWxTZXJ2ZXJFcnJvcixcbiAgSHR0cFNlcnZpY2UsXG59IGZyb20gJ3NlcnZpY2VzL2h0dHAvaHR0cF9zZXJ2aWNlJztcbmltcG9ydCB7IEh0dHBFbmdpbmUsIEh0dHBNZXRob2QsIEh0dHBSZXNwb25zZSB9IGZyb20gJy4vaHR0cF9lbmdpbmUnO1xuaW1wb3J0IHsgQ3NyZlRva2VuIH0gZnJvbSAnLi9odHRwX3Byb3RvJztcbmltcG9ydCB7IEh0dHBTZXJ2aWNlQm9vdHN0cmFwIH0gZnJvbSAnLi9odHRwX3NlcnZpY2VfYm9vdHN0cmFwX3Byb3RvJztcbmltcG9ydCB7IHBhcnNlSHR0cEVycm9yIH0gZnJvbSAnLi9wYXJzZV9odHRwX2Vycm9yJztcbmltcG9ydCB7IFhIUkVuZ2luZSB9IGZyb20gJy4veGhyX2VuZ2luZSc7XG5cbi8qKlxuICogQXJiaXRyYXJ5IHRleHQgcHJlZml4IHVzZWQgZm9yIFhTU0kgcHJldmVudGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFhTU0lfUFJFRklYID0gJ1xcJ1wiXSl9d2hpbGUoMSk7PC94Pi8vJztcblxuLyoqXG4gKiBTZXJ2aWNlIGZvciBpbnRlcm5hbCBDYW52YSBBUEkgQUpBWCByZXF1ZXN0cy4gVG8gdGFsayB0byBleHRlcm5hbCBzZXJ2aWNlcywgdXNlIEh0dHBFbmdpbmUuXG4gKlxuICogVGhpcyBzZXJ2aWNlIG1hbmFnZXMgY29tbXVuaWNhdGlvbi1sZXZlbCBkZXRhaWxzLCBzdWNoIGFzIHJlcXVlc3QgZW5jb2RpbmcsIFhTU0kgcHJvdGVjdGlvbixcbiAqIGFuZCB0cmFuc3BhcmVudCBhdXRob3JpemF0aW9uIHVzaW5nIG1hbmFnZWQgQ1NSRiB0b2tlbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwQ2xpZW50IGltcGxlbWVudHMgSHR0cFNlcnZpY2Uge1xuICAvKiogQ1NSRiB0b2tlbnMgd2l0aCBsZXNzIHRpbWUgYmVmb3JlIGV4cGlyeSB0aGFuIHRoaXMgd2lsbCBiZSBkaXNjYXJkZWQuICovXG4gIHN0YXRpYyByZWFkb25seSBDU1JGX1RPS0VOX01JTklNVU1fTElGRVRJTUVfTVMgPSA1ICogNjAgKiAxMDAwO1xuXG4gIC8qKiBBbmFseXRpY3MgY29udGV4dCBzZXJpYWxpemVkIGZyb20gKi9cbiAgcHJpdmF0ZSByZWFkb25seSBhbmFseXRpY3NDb250ZXh0Pzogc3RyaW5nO1xuICBwcml2YXRlIGF1dGhUb2tlbj86IHN0cmluZztcbiAgcHJpdmF0ZSBhdXRoelRva2VuPzogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGJyYW5kUmVzdHJpY3Rpb24/OiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgYnVpbGROYW1lPzogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGJ1aWxkU2hhPzogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IHNlcnZlclJvb3Q/OiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgY3NyZlRva2VuczogTWFwPHN0cmluZywgQ3NyZlRva2VuPjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIGNvbmZpZz86IEh0dHBTZXJ2aWNlQm9vdHN0cmFwLFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBlbmdpbmU6IEh0dHBFbmdpbmUgPSBuZXcgWEhSRW5naW5lKCksXG4gICAgICBwcml2YXRlIHJlYWRvbmx5IGNsb2NrOiBDbG9jayA9IHN5c3RlbUNsb2NrLFxuICApIHtcbiAgICB0aGlzLmFuYWx5dGljc0NvbnRleHQgPSBjb25maWcgJiYgY29uZmlnLmFuYWx5dGljc0NvbnRleHQ7XG4gICAgdGhpcy5hdXRoVG9rZW4gPSBjb25maWcgJiYgY29uZmlnLmF1dGhUb2tlbjtcbiAgICB0aGlzLmF1dGh6VG9rZW4gPSBjb25maWcgJiYgY29uZmlnLmF1dGh6VG9rZW47XG4gICAgdGhpcy5icmFuZFJlc3RyaWN0aW9uID0gY29uZmlnICYmIGNvbmZpZy5icmFuZFJlc3RyaWN0aW9uO1xuICAgIHRoaXMuYnVpbGROYW1lID0gY29uZmlnICYmIGNvbmZpZy5idWlsZE5hbWU7XG4gICAgdGhpcy5idWlsZFNoYSA9IGNvbmZpZyAmJiBjb25maWcuYnVpbGRTaGE7XG4gICAgdGhpcy5zZXJ2ZXJSb290ID0gY29uZmlnICYmIGNvbmZpZy5zZXJ2ZXJSb290O1xuICAgIHRoaXMuY3NyZlRva2VucyA9IGNvbmZpZyA/IG5ldyBNYXAoY29uZmlnLmNzcmZUb2tlbnMpIDogbmV3IE1hcCgpO1xuICB9XG5cbiAgZ2V0KHBhdGg6IHN0cmluZyk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMuc2VuZCgnR0VUJywgcGF0aCk7XG4gIH1cblxuICBwb3N0KHBhdGg6IHN0cmluZywgYm9keT86IG9iamVjdCk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMuYXV0aG9yaXplQW5kU2VuZChwYXRoLCB0b2tlbiA9PiB0aGlzLnNlbmQoJ1BPU1QnLCBwYXRoLCB0b2tlbiwgYm9keSkpO1xuICB9XG5cbiAgZGVsZXRlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8b2JqZWN0PiB7XG4gICAgcmV0dXJuIHRoaXMuYXV0aG9yaXplQW5kU2VuZChwYXRoLCB0b2tlbiA9PiB0aGlzLnNlbmQoJ0RFTEVURScsIHBhdGgsIHRva2VuKSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGF1dGhvcml6ZUFuZFNlbmQ8VD4ocGF0aDogc3RyaW5nLCBzZW5kOiAodG9rZW46IENzcmZUb2tlbikgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudChwYXRoLnN0YXJ0c1dpdGgoJy8nKSAmJiBwYXRoLmxlbmd0aCA+IDEpO1xuICAgIGNvbnN0IGFjdGlvbiA9IHBhdGguc3BsaXQoJy8nKVsxXTtcbiAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMuZ2V0Q3NyZlRva2VuKGFjdGlvbik7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzZW5kKHRva2VuKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBpZiAoZSBpbnN0YW5jZW9mIENzcmZUb2tlbkV4cGlyZWRFcnJvcikge1xuICAgICAgICB0aGlzLmNzcmZUb2tlbnMuZGVsZXRlKGFjdGlvbik7XG4gICAgICAgIGNvbnN0IHRva2VuID0gYXdhaXQgdGhpcy5nZXRDc3JmVG9rZW4oYWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHNlbmQodG9rZW4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGdldENzcmZUb2tlbihhY3Rpb246IHN0cmluZyk6IFByb21pc2U8Q3NyZlRva2VuPiB7XG4gICAgY29uc3QgdG9rZW4gPSB0aGlzLmNzcmZUb2tlbnMuZ2V0KGFjdGlvbik7XG4gICAgaWYgKHRva2VuICE9IG51bGwgJiYgdG9rZW4uZXhwaXJ5ID49IHRoaXMuY2xvY2subm93KCkgKyBIdHRwQ2xpZW50LkNTUkZfVE9LRU5fTUlOSU1VTV9MSUZFVElNRV9NUykge1xuICAgICAgLy8gd2UgaGF2ZSBhIHRva2VuIGFuZCBpdCBpcyB2YWxpZCBmb3IgYXQgbGVhc3QgYW5vdGhlciBDU1JGX1RPS0VOX01JTklNVU1fTElGRVRJTUVfTVNcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5zZW5kKCdHRVQnLCBgL2NzcmYzLyR7YWN0aW9ufWApO1xuICAgICAgY29uc3QgbmV3VG9rZW4gPSBDc3JmVG9rZW4uZGVzZXJpYWxpemUocmVzKTtcbiAgICAgIHRoaXMuY3NyZlRva2Vucy5zZXQoYWN0aW9uLCBuZXdUb2tlbik7XG4gICAgICByZXR1cm4gbmV3VG9rZW47XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzZW5kKG1ldGhvZDogJ0dFVCcsIHBhdGg6IHN0cmluZyk6IFByb21pc2U8b2JqZWN0PjtcblxuICBwcml2YXRlIGFzeW5jIHNlbmQobWV0aG9kOiAnREVMRVRFJywgcGF0aDogc3RyaW5nLCBjc3JmVG9rZW46IENzcmZUb2tlbik6IFByb21pc2U8b2JqZWN0PjtcbiAgcHJpdmF0ZSBhc3luYyBzZW5kKG1ldGhvZDogJ1BPU1QnLCBwYXRoOiBzdHJpbmcsXG4gICAgICBjc3JmVG9rZW46IENzcmZUb2tlbixcbiAgICAgIHZhbHVlPzogb2JqZWN0LFxuICApOiBQcm9taXNlPG9iamVjdD47XG4gIHByaXZhdGUgYXN5bmMgc2VuZChtZXRob2Q6IEh0dHBNZXRob2QsIHBhdGg6IHN0cmluZyxcbiAgICAgIGNzcmZUb2tlbj86IENzcmZUb2tlbixcbiAgICAgIHZhbHVlPzogb2JqZWN0LFxuICApOiBQcm9taXNlPG9iamVjdD4ge1xuICAgIGNvbnN0IGJvZHkgPSB2YWx1ZSAhPSBudWxsID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5lbmdpbmUucmVxdWVzdFRleHQoeyAvLyBDYW52YSBBUElzIGFyZSB0ZXh0LW9ubHlcbiAgICAgIG1ldGhvZCxcbiAgICAgIHVybDogYCR7dGhpcy5zZXJ2ZXJSb290IHx8ICcnfS9fYWpheCR7cGF0aH1gLFxuICAgICAgYm9keSxcbiAgICAgIGhlYWRlcnM6IHRoaXMuZ2V0SGVhZGVycyhib2R5LCBjc3JmVG9rZW4pLFxuICAgICAgd2l0aENyZWRlbnRpYWxzOiAhIXRoaXMuc2VydmVyUm9vdCxcbiAgICAgIC8vIFRoZSBBUEkgZ2F0ZXdheSBoYXMgYW4gaW5mcmFzdHJ1Y3R1cmUtbGV2ZWwgMzBzIHRpbWVvdXQgb24gYWxsIEhUVFAgcmVxdWVzdHMuXG4gICAgICAvLyBIb3dldmVyLCBhIGdhdGV3YXkgdGltZW91dCBpcyBhIFRDUC1sZXZlbCBldmVudCB0aGF0IGNsb3NlcyB0aGUgY29ubmVjdGlvbjsgaXQgZG9lcyBub3RcbiAgICAgIC8vIGdlbmVyYXRlIGFuIEhUVFAgcmVzcG9uc2UuICBJdCBpcyB1bmNsZWFyIHdoYXQgYmVoYXZpb3IgdGhhdCB0cmlnZ2VycyBvbiB0aGUgWEhSLCBzbyBzZXQgYVxuICAgICAgLy8gY2xpZW50LXNpZGUgMzBzIHRpbWVvdXQgdG8ga2ljayBpbiBmaXJzdC5cbiAgICAgIHRpbWVvdXQ6IDMwICogMTAwMCxcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZShyZXMpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRIZWFkZXJzKGJvZHk/OiBzdHJpbmcsIGNzcmZUb2tlbj86IENzcmZUb2tlbik6IHsgW2s6IHN0cmluZ106IHN0cmluZyB8IHVuZGVmaW5lZCB9IHtcbiAgICByZXR1cm4ge1xuICAgICAgWydYLUNhbnZhLUFuYWx5dGljcyddOiB0aGlzLmFuYWx5dGljc0NvbnRleHQsXG4gICAgICBbJ1gtQ2FudmEtQXV0aCddOiB0aGlzLmF1dGhUb2tlbixcbiAgICAgIFsnWC1DYW52YS1BdXRoeiddOiB0aGlzLmF1dGh6VG9rZW4sXG4gICAgICBbJ1gtQ2FudmEtQnJhbmQnXTogdGhpcy5icmFuZFJlc3RyaWN0aW9uLFxuICAgICAgWydYLUNhbnZhLUJ1aWxkLU5hbWUnXTogdGhpcy5idWlsZE5hbWUsXG4gICAgICBbJ1gtQ2FudmEtQnVpbGQtU2hhJ106IHRoaXMuYnVpbGRTaGEsXG4gICAgICBbJ1gtQ3NyZi1Ub2tlbiddOiBjc3JmVG9rZW4gPyBjc3JmVG9rZW4udG9rZW4gOiB1bmRlZmluZWQsXG4gICAgICBbJ0NvbnRlbnQtVHlwZSddOiBib2R5ICE9IG51bGwgPyAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JyA6IGJvZHksXG4gICAgfTtcbiAgfVxuXG4gIHByaXZhdGUgcmVmcmVzaEhlYWRlcnMocmVzOiBIdHRwUmVzcG9uc2U8c3RyaW5nPikge1xuICAgIGNvbnN0IGF1dGhUb2tlbiA9IHJlcy5nZXRSZXNwb25zZUhlYWRlcignWC1DYW52YS1BdXRoJyk7XG4gICAgY29uc3QgYXV0aHpUb2tlbiA9IHJlcy5nZXRSZXNwb25zZUhlYWRlcignWC1DYW52YS1BdXRoeicpO1xuICAgIGlmIChhdXRoVG9rZW4gIT0gbnVsbCkge1xuICAgICAgdGhpcy5hdXRoVG9rZW4gPSBhdXRoVG9rZW4gIT09ICchJyA/IGF1dGhUb2tlbiA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGF1dGh6VG9rZW4gIT0gbnVsbCkge1xuICAgICAgdGhpcy5hdXRoelRva2VuID0gYXV0aHpUb2tlbiAhPT0gJyEnID8gYXV0aHpUb2tlbiA6IHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGhhbmRsZVJlc3BvbnNlKHJlczogSHR0cFJlc3BvbnNlPHN0cmluZz4pOiBvYmplY3Qge1xuICAgIGNvbnN0IHsgc3RhdHVzLCBib2R5OiBib2R5U3RyIH0gPSByZXM7XG4gICAgaWYgKDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwKSB7XG4gICAgICB0aGlzLnJlZnJlc2hIZWFkZXJzKHJlcyk7XG4gICAgICByZXR1cm4gSHR0cENsaWVudC5wYXJzZUJvZHkoYm9keVN0cik7XG4gICAgfVxuICAgIGNvbnN0IHsgbWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkgfSA9IEh0dHBDbGllbnQucGFyc2VFcnJvcihib2R5U3RyKTtcbiAgICB0aHJvdyBwYXJzZUh0dHBFcnJvcihzdGF0dXMsIG1lc3NhZ2UsIGVuZFVzZXJNZXNzYWdlLCBib2R5KTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHBhcnNlQm9keShib2R5OiBzdHJpbmcpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+IHtcbiAgICBpZiAoIWJvZHkuc3RhcnRzV2l0aChYU1NJX1BSRUZJWCkpIHtcbiAgICAgIHRocm93IG5ldyBIdHRwSW50ZXJuYWxTZXJ2ZXJFcnJvcigpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIERlc2VyaWFsaXphdGlvbi5jaGVja09iamVjdChKU09OLnBhcnNlKGJvZHkuc3Vic3RyaW5nKFhTU0lfUFJFRklYLmxlbmd0aCkpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBuZXcgSHR0cEludGVybmFsU2VydmVyRXJyb3IoZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIFBhcnNlcyB0aGUgbG9nZ2FibGUgbWVzc2FnZSBhbmQgdGhlIGVuZC11c2VyIG1lc3NhZ2Ugb3V0IG9mIGFuIGVycm9yIHJlc3BvbnNlLiAqL1xuICBwcml2YXRlIHN0YXRpYyBwYXJzZUVycm9yKGJvZHk6IHN0cmluZyk6IHsgbWVzc2FnZT86IHN0cmluZywgZW5kVXNlck1lc3NhZ2U/OiBzdHJpbmcsIGJvZHk/OiBvYmplY3QgfSB7XG4gICAgbGV0IHJlczogUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICB0cnkge1xuICAgICAgcmVzID0gSHR0cENsaWVudC5wYXJzZUJvZHkoYm9keSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBlbmRVc2VyTWVzc2FnZSA9IHJlc1snZW5kVXNlck1lc3NhZ2UnXTtcbiAgICBjb25zdCBtZXNzYWdlID0gcmVzWydlcnJvciddO1xuICAgIHJldHVybiB7XG4gICAgICBlbmRVc2VyTWVzc2FnZTogdHlwZW9mIGVuZFVzZXJNZXNzYWdlID09PSAnc3RyaW5nJyA/IGVuZFVzZXJNZXNzYWdlIDogdW5kZWZpbmVkLFxuICAgICAgbWVzc2FnZTogdHlwZW9mIG1lc3NhZ2UgPT09ICdzdHJpbmcnID8gbWVzc2FnZSA6IHVuZGVmaW5lZCxcbiAgICAgIGJvZHk6IHJlcyxcbiAgICB9O1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFFQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUVBOzs7OztBQUtBO0FBQ0E7QUFjQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVNBOztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUE3SkE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///14\n");

/***/ }),
/* 15 */
/*!***********************************!*\
  !*** ./src/base/preconditions.ts ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Preconditions\", function() { return Preconditions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UnreachableError\", function() { return UnreachableError; });\n// Copyright 2017 Canva Inc. All Rights Reserved.\r\n/**\r\n * Helpers for checking method preconditions.\r\n * See {@link https://github.com/google/guava/wiki/PreconditionsExplained}\r\n *\r\n * Take care not to confuse precondition checking with other types of checks!\r\n * Precondition failures are used to signal that the *caller* has made an error\r\n * by calling a method at the wrong time ({@link #checkState}), or with invalid\r\n * arguments ({@link #checkArgument} and/or {@link #checkExists}).\r\n */\r\nclass Preconditions {\r\n    static checkArgument(cond, msg, ...args) {\r\n        if (!cond) {\r\n            throw new Error(msg == null\r\n                ? 'invalid argument'\r\n                : Preconditions.format(msg, ...args));\r\n        }\r\n    }\r\n    static checkState(cond, msg, ...args) {\r\n        if (!cond) {\r\n            throw new Error(msg == null\r\n                ? 'invalid state'\r\n                : Preconditions.format(msg, ...args));\r\n        }\r\n    }\r\n    static checkEquals(a, b, msg, ...args) {\r\n        if (a !== b) {\r\n            throw new Error(msg == null\r\n                ? Preconditions.format('{} != {}', Preconditions.stringify(a), Preconditions.stringify(b))\r\n                : Preconditions.format(msg, args));\r\n        }\r\n    }\r\n    /** Stringifies a data value. */\r\n    static stringify(x) {\r\n        if (x == null || typeof x === 'symbol') {\r\n            return String(x);\r\n        }\r\n        else {\r\n            try {\r\n                // `JSON.stringify(o)` can throw if `o` is an object with a circular dependency on itself.\r\n                // Even though `x` has been narrowed to the type `string | number | boolean`, for which\r\n                // `JSON.stringify()` is safe, we take additional caution since `Preconditions` is a base\r\n                // module, and a caller could have lied about the type of `x`.\r\n                return JSON.stringify(x);\r\n            }\r\n            catch (e) {\r\n                return String(x);\r\n            }\r\n        }\r\n    }\r\n    static checkExists(x, msg, ...args) {\r\n        if (x == null) {\r\n            throw new Error(msg == null\r\n                ? 'argument is null'\r\n                : Preconditions.format(msg, ...args));\r\n        }\r\n        return x;\r\n    }\r\n    /**\r\n     * Formats a template by interpolating some arguments for {} placeholders.\r\n     *\r\n     * @param {string} template template\r\n     * @param {...*} args values to substitute for {}s in the template\r\n     * @return {string}\r\n     */\r\n    static format(template, ...args) {\r\n        let i = 0;\r\n        return template.replace(/\\{}/g, () => i < args.length ? args[i++] : '{}');\r\n    }\r\n}\r\n/**\r\n * An error reporting that the given value represents an unreachable case.\r\n *\r\n * It is intended to mark a branch in control flow that should be unreachable, such as\r\n * the default case in an exhaustive switch. For example:\r\n * <pre>\r\n *   const x: 'A' | 'B' | 'C' = ...;\r\n *   switch (x) {\r\n *     case 'A':\r\n *       ...\r\n *       break;\r\n *     case 'B':\r\n *       ...\r\n *       break;\r\n *     case 'C':\r\n *       ...\r\n *       break;\r\n *     default:\r\n *       throw new UnreachableError(x);\r\n *   }\r\n * </pre>\r\n *\r\n * The {@code never} type of the parameter {@code x} is evidence that the surrounding control flow\r\n * has exhausted the possible values of a discriminating expression, proving that the branch is\r\n * unreachable. However, since the statically inferred types are not enforced at runtime, this\r\n * method throws an error, in order to guarantee a diversion of control flow at runtime.\r\n */\r\nclass UnreachableError extends Error {\r\n    /** @param x an unreachable value */\r\n    constructor(x) {\r\n        super(`unhandled case: ${JSON.stringify(x)}`);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS9wcmVjb25kaXRpb25zLnRzP2YyMjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTcgQ2FudmEgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4vKipcbiAqIEhlbHBlcnMgZm9yIGNoZWNraW5nIG1ldGhvZCBwcmVjb25kaXRpb25zLlxuICogU2VlIHtAbGluayBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2d1YXZhL3dpa2kvUHJlY29uZGl0aW9uc0V4cGxhaW5lZH1cbiAqXG4gKiBUYWtlIGNhcmUgbm90IHRvIGNvbmZ1c2UgcHJlY29uZGl0aW9uIGNoZWNraW5nIHdpdGggb3RoZXIgdHlwZXMgb2YgY2hlY2tzIVxuICogUHJlY29uZGl0aW9uIGZhaWx1cmVzIGFyZSB1c2VkIHRvIHNpZ25hbCB0aGF0IHRoZSAqY2FsbGVyKiBoYXMgbWFkZSBhbiBlcnJvclxuICogYnkgY2FsbGluZyBhIG1ldGhvZCBhdCB0aGUgd3JvbmcgdGltZSAoe0BsaW5rICNjaGVja1N0YXRlfSksIG9yIHdpdGggaW52YWxpZFxuICogYXJndW1lbnRzICh7QGxpbmsgI2NoZWNrQXJndW1lbnR9IGFuZC9vciB7QGxpbmsgI2NoZWNrRXhpc3RzfSkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcmVjb25kaXRpb25zIHtcbiAgLyoqXG4gICAqIENoZWNrcyBhIGNvbmRpdGlvbiBvZiBhIG1ldGhvZCBhcmd1bWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtib29sZWFufSBjb25kIGNvbmRpdGlvblxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1zZyBvcHRpb25hbCBtZXNzYWdlIHRlbXBsYXRlXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyBvcHRpb25hbCBhcmd1bWVudHMgZm9yIHRoZSBtZXNzYWdlIHRlbXBsYXRlXG4gICAqIEB0aHJvd3Mge0Vycm9yfSBpZiB7QGNvZGUgY29uZH0gaXMgZmFsc2V5XG4gICAqL1xuICBzdGF0aWMgY2hlY2tBcmd1bWVudChjb25kOiBmYWxzZSwgbXNnPzogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IG5ldmVyO1xuICBzdGF0aWMgY2hlY2tBcmd1bWVudChjb25kOiBib29sZWFuLCBtc2c/OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgc3RhdGljIGNoZWNrQXJndW1lbnQoY29uZDogYm9vbGVhbiwgbXNnPzogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkge1xuICAgIGlmICghY29uZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyA9PSBudWxsXG4gICAgICAgICAgPyAnaW52YWxpZCBhcmd1bWVudCdcbiAgICAgICAgICA6IFByZWNvbmRpdGlvbnMuZm9ybWF0KG1zZywgLi4uYXJncykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgdGhhdCBhbiBvYmplY3QgaXMgaW4gYW4gYXBwcm9wcmlhdGUgc3RhdGUgdG8gcmVjZWl2ZSBhIG1ldGhvZCBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGNvbmQgY29uZGl0aW9uXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbXNnIG1lc3NhZ2UgdGVtcGxhdGVcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzIG9wdGlvbmFsIGFyZ3VtZW50cyBmb3IgdGhlIG1lc3NhZ2UgdGVtcGxhdGVcbiAgICogQHRocm93cyB7RXJyb3J9IGlmIHtAY29kZSBjb25kfSBpcyBmYWxzZXlcbiAgICovXG4gIHN0YXRpYyBjaGVja1N0YXRlKGNvbmQ6IGZhbHNlLCBtc2c/OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogbmV2ZXI7XG4gIHN0YXRpYyBjaGVja1N0YXRlKGNvbmQ6IGJvb2xlYW4sIG1zZz86IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICBzdGF0aWMgY2hlY2tTdGF0ZShjb25kOiBib29sZWFuLCBtc2c/OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgaWYgKCFjb25kKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobXNnID09IG51bGxcbiAgICAgICAgICA/ICdpbnZhbGlkIHN0YXRlJ1xuICAgICAgICAgIDogUHJlY29uZGl0aW9ucy5mb3JtYXQobXNnLCAuLi5hcmdzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrcyB0aGF0IHR3byB2YWx1ZXMgYXJlIGVxdWFsICg9PT0pLlxuICAgKlxuICAgKiBAdGhyb3dzIGFuIGVycm9yIGlmIGBhICE9PSBiYC5cbiAgICovXG4gIHN0YXRpYyBjaGVja0VxdWFscyhcbiAgICAgIGE6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBzeW1ib2wgfCBudWxsIHwgdW5kZWZpbmVkLFxuICAgICAgYjogc3RyaW5nIHwgbnVtYmVyIHwgYm9vbGVhbiB8IHN5bWJvbCB8IG51bGwgfCB1bmRlZmluZWQsXG4gICAgICBtc2c/OiBzdHJpbmcsXG4gICAgICAuLi5hcmdzOiBhbnlbXVxuICApOiB2b2lkO1xuICBzdGF0aWMgY2hlY2tFcXVhbHMoYTogYW55LCBiOiBhbnksIG1zZzogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gIHN0YXRpYyBjaGVja0VxdWFscyhhOiBhbnksIGI6IGFueSwgbXNnPzogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkge1xuICAgIGlmIChhICE9PSBiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IobXNnID09IG51bGxcbiAgICAgICAgICA/IFByZWNvbmRpdGlvbnMuZm9ybWF0KCd7fSAhPSB7fScsIFByZWNvbmRpdGlvbnMuc3RyaW5naWZ5KGEpLCBQcmVjb25kaXRpb25zLnN0cmluZ2lmeShiKSlcbiAgICAgICAgICA6IFByZWNvbmRpdGlvbnMuZm9ybWF0KG1zZywgYXJncykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBTdHJpbmdpZmllcyBhIGRhdGEgdmFsdWUuICovXG4gIHByaXZhdGUgc3RhdGljIHN0cmluZ2lmeSh4OiBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZCB8IHN5bWJvbCkge1xuICAgIGlmICh4ID09IG51bGwgfHwgdHlwZW9mIHggPT09ICdzeW1ib2wnKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKHgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBgSlNPTi5zdHJpbmdpZnkobylgIGNhbiB0aHJvdyBpZiBgb2AgaXMgYW4gb2JqZWN0IHdpdGggYSBjaXJjdWxhciBkZXBlbmRlbmN5IG9uIGl0c2VsZi5cbiAgICAgICAgLy8gRXZlbiB0aG91Z2ggYHhgIGhhcyBiZWVuIG5hcnJvd2VkIHRvIHRoZSB0eXBlIGBzdHJpbmcgfCBudW1iZXIgfCBib29sZWFuYCwgZm9yIHdoaWNoXG4gICAgICAgIC8vIGBKU09OLnN0cmluZ2lmeSgpYCBpcyBzYWZlLCB3ZSB0YWtlIGFkZGl0aW9uYWwgY2F1dGlvbiBzaW5jZSBgUHJlY29uZGl0aW9uc2AgaXMgYSBiYXNlXG4gICAgICAgIC8vIG1vZHVsZSwgYW5kIGEgY2FsbGVyIGNvdWxkIGhhdmUgbGllZCBhYm91dCB0aGUgdHlwZSBvZiBgeGAuXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh4KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyh4KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIHRoYXQgYSB2YWx1ZSBleGlzdHMgKG5vdCBudWxsIGFuZCBub3QgdW5kZWZpbmVkKS5cbiAgICpcbiAgICogQHRlbXBsYXRlIFRcbiAgICogQHBhcmFtIHtUfG51bGx8dW5kZWZpbmVkfSB4IHZhbHVlXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbXNnIG1lc3NhZ2UgdGVtcGxhdGVcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzIG9wdGlvbmFsIGFyZ3VtZW50cyBmb3IgdGhlIG1lc3NhZ2UgdGVtcGxhdGVcbiAgICogQHRocm93cyB7RXJyb3J9IGlmIHtAY29kZSB4fSBpcyBudWxsIG9yIHVuZGVmaW5lZFxuICAgKiBAcmV0dXJuIHtUfVxuICAgKi9cbiAgc3RhdGljIGNoZWNrRXhpc3RzKHg6IG51bGwgfCB1bmRlZmluZWQsIG1zZz86IHN0cmluZywgLi4uYXJnczogYW55W10pOiBuZXZlcjtcbiAgc3RhdGljIGNoZWNrRXhpc3RzPFQ+KHg6IFQgfCBudWxsIHwgdW5kZWZpbmVkLCBtc2c/OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogVDtcbiAgc3RhdGljIGNoZWNrRXhpc3RzPFQ+KHg6IFQgfCBudWxsIHwgdW5kZWZpbmVkLCBtc2c/OiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogVCB7XG4gICAgaWYgKHggPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyA9PSBudWxsXG4gICAgICAgICAgPyAnYXJndW1lbnQgaXMgbnVsbCdcbiAgICAgICAgICA6IFByZWNvbmRpdGlvbnMuZm9ybWF0KG1zZywgLi4uYXJncykpO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXRzIGEgdGVtcGxhdGUgYnkgaW50ZXJwb2xhdGluZyBzb21lIGFyZ3VtZW50cyBmb3Ige30gcGxhY2Vob2xkZXJzLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdGVtcGxhdGUgdGVtcGxhdGVcbiAgICogQHBhcmFtIHsuLi4qfSBhcmdzIHZhbHVlcyB0byBzdWJzdGl0dXRlIGZvciB7fXMgaW4gdGhlIHRlbXBsYXRlXG4gICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICovXG4gIHByaXZhdGUgc3RhdGljIGZvcm1hdCh0ZW1wbGF0ZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHN0cmluZyB7XG4gICAgbGV0IGkgPSAwO1xuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHt9L2csICgpID0+IGkgPCBhcmdzLmxlbmd0aCA/IGFyZ3NbaSsrXSA6ICd7fScpO1xuICB9XG59XG5cbi8qKlxuICogQW4gZXJyb3IgcmVwb3J0aW5nIHRoYXQgdGhlIGdpdmVuIHZhbHVlIHJlcHJlc2VudHMgYW4gdW5yZWFjaGFibGUgY2FzZS5cbiAqXG4gKiBJdCBpcyBpbnRlbmRlZCB0byBtYXJrIGEgYnJhbmNoIGluIGNvbnRyb2wgZmxvdyB0aGF0IHNob3VsZCBiZSB1bnJlYWNoYWJsZSwgc3VjaCBhc1xuICogdGhlIGRlZmF1bHQgY2FzZSBpbiBhbiBleGhhdXN0aXZlIHN3aXRjaC4gRm9yIGV4YW1wbGU6XG4gKiA8cHJlPlxuICogICBjb25zdCB4OiAnQScgfCAnQicgfCAnQycgPSAuLi47XG4gKiAgIHN3aXRjaCAoeCkge1xuICogICAgIGNhc2UgJ0EnOlxuICogICAgICAgLi4uXG4gKiAgICAgICBicmVhaztcbiAqICAgICBjYXNlICdCJzpcbiAqICAgICAgIC4uLlxuICogICAgICAgYnJlYWs7XG4gKiAgICAgY2FzZSAnQyc6XG4gKiAgICAgICAuLi5cbiAqICAgICAgIGJyZWFrO1xuICogICAgIGRlZmF1bHQ6XG4gKiAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih4KTtcbiAqICAgfVxuICogPC9wcmU+XG4gKlxuICogVGhlIHtAY29kZSBuZXZlcn0gdHlwZSBvZiB0aGUgcGFyYW1ldGVyIHtAY29kZSB4fSBpcyBldmlkZW5jZSB0aGF0IHRoZSBzdXJyb3VuZGluZyBjb250cm9sIGZsb3dcbiAqIGhhcyBleGhhdXN0ZWQgdGhlIHBvc3NpYmxlIHZhbHVlcyBvZiBhIGRpc2NyaW1pbmF0aW5nIGV4cHJlc3Npb24sIHByb3ZpbmcgdGhhdCB0aGUgYnJhbmNoIGlzXG4gKiB1bnJlYWNoYWJsZS4gSG93ZXZlciwgc2luY2UgdGhlIHN0YXRpY2FsbHkgaW5mZXJyZWQgdHlwZXMgYXJlIG5vdCBlbmZvcmNlZCBhdCBydW50aW1lLCB0aGlzXG4gKiBtZXRob2QgdGhyb3dzIGFuIGVycm9yLCBpbiBvcmRlciB0byBndWFyYW50ZWUgYSBkaXZlcnNpb24gb2YgY29udHJvbCBmbG93IGF0IHJ1bnRpbWUuXG4gKi9cbmV4cG9ydCBjbGFzcyBVbnJlYWNoYWJsZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKiogQHBhcmFtIHggYW4gdW5yZWFjaGFibGUgdmFsdWUgKi9cbiAgY29uc3RydWN0b3IoeDogbmV2ZXIpIHtcbiAgICBzdXBlcihgdW5oYW5kbGVkIGNhc2U6ICR7SlNPTi5zdHJpbmdpZnkoeCl9YCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUEwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///15\n");

/***/ }),
/* 16 */
/*!***************************************************!*\
  !*** ./src/base/serialization/deserialization.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Deserialization\", function() { return Deserialization; });\n/* harmony import */ var _type_deserializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type_deserializer */ 17);\n// Copyright 2017 Canva Inc. All Rights Reserved.\r\n\r\n/**\r\n * Helpers for de-serializing data objects into an expected schema.\r\n */\r\nclass Deserialization {\r\n    /**\r\n     * Verify that the given value is an object.\r\n     * @throws if {@code val} is not of type object.\r\n     */\r\n    static checkObject(val) {\r\n        if (!Deserialization.isObject(val)) {\r\n            throw new TypeError(`expected an object, found: ${val}`);\r\n        }\r\n        return val;\r\n    }\r\n    static requiredNumber(name, serializedData) {\r\n        // NOTE: While the use of optional may seem strange at first, this is intentional behaviour to\r\n        // deal with the server eliding keys from serialized JSON for primitives\r\n        // with default values (i.e. 0).\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].NUMBER.optional(name, serializedData) || 0;\r\n    }\r\n    static repeatedNumber(name, serializedData) {\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].NUMBER.repeated(name, serializedData);\r\n    }\r\n    static optionalNumber(name, serializedData) {\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].NUMBER.optional(name, serializedData);\r\n    }\r\n    static requiredString(name, serializedData) {\r\n        // NOTE: We intentionally require strings to have a value even if the serialized Java\r\n        // primitives have been elided from the JSON.  Eliding values for number and boolean types\r\n        // is fairly common as defaults of 0 and false; however, we feel that should be quite rare\r\n        // in the case of string values.\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].STRING.required(name, serializedData);\r\n    }\r\n    static optionalString(name, serializedData) {\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].STRING.optional(name, serializedData);\r\n    }\r\n    static repeatedString(name, serializedData) {\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].STRING.repeated(name, serializedData);\r\n    }\r\n    static requiredBoolean(name, serializedData) {\r\n        // see comments regarding eliding serialized number fields if the\r\n        // use of optional strikes you as strange.\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].BOOLEAN.optional(name, serializedData) || false;\r\n    }\r\n    static optionalBoolean(name, serializedData) {\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].BOOLEAN.optional(name, serializedData);\r\n    }\r\n    static repeatedBoolean(name, serializedData) {\r\n        return _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].BOOLEAN.repeated(name, serializedData);\r\n    }\r\n    static requiredObject(deserialize, name, serializedData) {\r\n        return deserialize(_type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].OBJECT.required(name, serializedData));\r\n    }\r\n    static optionalObject(deserialize, name, serializedData) {\r\n        const c = _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].OBJECT.optional(name, serializedData);\r\n        return c ? deserialize(c) : c;\r\n    }\r\n    static repeatedObject(deserialize, name, serializedData) {\r\n        const cs = _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].OBJECT.repeated(name, serializedData);\r\n        return cs ? cs.map(deserialize) : cs;\r\n    }\r\n    static requiredStringEnum(deserialize, name, serializedData) {\r\n        return deserialize(_type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].STRING.required(name, serializedData), name);\r\n    }\r\n    static optionalStringEnum(deserialize, name, serializedData) {\r\n        const s = _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].STRING.optional(name, serializedData);\r\n        return s != null ? deserialize(s, name) : s;\r\n    }\r\n    static repeatedStringEnum(deserialize, name, serializedData) {\r\n        const ss = _type_deserializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeDeserializer\"].STRING.repeated(name, serializedData);\r\n        return ss != null ? ss.map(value => deserialize(value, name)) : ss;\r\n    }\r\n    static numberObjectMap(deserialize, name, serializedData) {\r\n        return Deserialization.map(Deserialization.numberMapKey, (name, key, data) => Deserialization.objectMapValue(deserialize, name, key, data), name, serializedData);\r\n    }\r\n    static stringNumberMap(name, serializedData) {\r\n        return Deserialization.map(Deserialization.stringMapKey, Deserialization.numberMapValue, name, serializedData);\r\n    }\r\n    static stringObjectMap(deserialize, name, serializedData) {\r\n        return Deserialization.map(Deserialization.stringMapKey, (name, key, data) => Deserialization.objectMapValue(deserialize, name, key, data), name, serializedData);\r\n    }\r\n    static stringEnumMap(deserialize, name, serializedData) {\r\n        return Deserialization.map(Deserialization.stringMapKey, (name, key, data) => Deserialization.enumMapValue(deserialize, name, key, data), name, serializedData);\r\n    }\r\n    static stringStringMap(name, serializedData) {\r\n        return Deserialization.map(Deserialization.stringMapKey, Deserialization.stringMapValue, name, serializedData);\r\n    }\r\n    static numberNumberMap(name, serializedData) {\r\n        return Deserialization.map(Deserialization.numberMapKey, Deserialization.numberMapValue, name, serializedData);\r\n    }\r\n    static numberStringMap(name, serializedData) {\r\n        return Deserialization.map(Deserialization.numberMapKey, Deserialization.stringMapValue, name, serializedData);\r\n    }\r\n    static map(deserializeKey, deserializeValue, name, serializedData) {\r\n        const val = serializedData[name];\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        else if (typeof val !== 'object') {\r\n            throw new TypeError(`expected map for property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        else {\r\n            const m = new Map();\r\n            for (const serializedKey of Object.keys(val)) {\r\n                m.set(deserializeKey(name, serializedKey), deserializeValue(name, serializedKey, val));\r\n            }\r\n            return m;\r\n        }\r\n    }\r\n    static numberMapKey(name, serializedKey) {\r\n        const key = Number(serializedKey);\r\n        if (isNaN(key)) {\r\n            throw new TypeError(`expected number key in property \"${name}\", found: ${serializedKey}`);\r\n        }\r\n        return key;\r\n    }\r\n    static stringMapKey(name, serializedKey) {\r\n        return serializedKey;\r\n    }\r\n    static numberMapValue(name, serializedKey, serializedData) {\r\n        const val = serializedData[serializedKey];\r\n        if (typeof val !== 'number') {\r\n            throw new TypeError(`expected number value in property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return val;\r\n    }\r\n    static objectMapValue(deserialize, name, serializedKey, serializedData) {\r\n        const val = serializedData[serializedKey];\r\n        if (!Deserialization.isObject(val)) {\r\n            throw new TypeError(`expected object value in property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return deserialize(val);\r\n    }\r\n    static stringMapValue(name, serializedKey, serializedData) {\r\n        const val = serializedData[serializedKey];\r\n        if (typeof val !== 'string') {\r\n            throw new TypeError(`expected string value in property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return val;\r\n    }\r\n    static enumMapValue(deserialize, name, serializedKey, serializedData) {\r\n        const val = serializedData[serializedKey];\r\n        if (typeof val !== 'string') {\r\n            throw new TypeError(`expected string value in property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return deserialize(val, name);\r\n    }\r\n    /**\r\n     * Object type guard (also guards null)\r\n     */\r\n    static isObject(o) {\r\n        return (o !== null && typeof o === 'object');\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS9zZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvbi50cz8wYmQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE3IENhbnZhIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cblxuaW1wb3J0IHsgVHlwZURlc2VyaWFsaXplciB9IGZyb20gJy4vdHlwZV9kZXNlcmlhbGl6ZXInO1xuaW1wb3J0IHsgT2JqZWN0RGVzZXJpYWxpemVyLCBTdHJpbmdFbnVtRGVzZXJpYWxpemVyIH0gZnJvbSAnLi90eXBlcyc7XG5cbnR5cGUgT3B0aW9uYWw8VD4gPSBUIHwgdW5kZWZpbmVkO1xuXG4vKipcbiAqIEhlbHBlcnMgZm9yIGRlLXNlcmlhbGl6aW5nIGRhdGEgb2JqZWN0cyBpbnRvIGFuIGV4cGVjdGVkIHNjaGVtYS5cbiAqL1xuZXhwb3J0IGNsYXNzIERlc2VyaWFsaXphdGlvbiB7XG5cbiAgLyoqXG4gICAqIFZlcmlmeSB0aGF0IHRoZSBnaXZlbiB2YWx1ZSBpcyBhbiBvYmplY3QuXG4gICAqIEB0aHJvd3MgaWYge0Bjb2RlIHZhbH0gaXMgbm90IG9mIHR5cGUgb2JqZWN0LlxuICAgKi9cbiAgc3RhdGljIGNoZWNrT2JqZWN0KHZhbDogYW55KTogb2JqZWN0IHtcbiAgICBpZiAoIURlc2VyaWFsaXphdGlvbi5pc09iamVjdCh2YWwpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCBhbiBvYmplY3QsIGZvdW5kOiAke3ZhbH1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIHN0YXRpYyByZXF1aXJlZE51bWJlcihuYW1lOiBzdHJpbmcsIHNlcmlhbGl6ZWREYXRhOiBvYmplY3QpOiBudW1iZXIge1xuICAgIC8vIE5PVEU6IFdoaWxlIHRoZSB1c2Ugb2Ygb3B0aW9uYWwgbWF5IHNlZW0gc3RyYW5nZSBhdCBmaXJzdCwgdGhpcyBpcyBpbnRlbnRpb25hbCBiZWhhdmlvdXIgdG9cbiAgICAvLyBkZWFsIHdpdGggdGhlIHNlcnZlciBlbGlkaW5nIGtleXMgZnJvbSBzZXJpYWxpemVkIEpTT04gZm9yIHByaW1pdGl2ZXNcbiAgICAvLyB3aXRoIGRlZmF1bHQgdmFsdWVzIChpLmUuIDApLlxuICAgIHJldHVybiBUeXBlRGVzZXJpYWxpemVyLk5VTUJFUi5vcHRpb25hbChuYW1lLCBzZXJpYWxpemVkRGF0YSkgfHwgMDtcbiAgfVxuXG4gIHN0YXRpYyByZXBlYXRlZE51bWJlcihuYW1lOiBzdHJpbmcsIHNlcmlhbGl6ZWREYXRhOiBvYmplY3QpOiBPcHRpb25hbDxSZWFkb25seUFycmF5PG51bWJlcj4+IHtcbiAgICByZXR1cm4gVHlwZURlc2VyaWFsaXplci5OVU1CRVIucmVwZWF0ZWQobmFtZSwgc2VyaWFsaXplZERhdGEpO1xuICB9XG5cbiAgc3RhdGljIG9wdGlvbmFsTnVtYmVyKG5hbWU6IHN0cmluZywgc2VyaWFsaXplZERhdGE6IG9iamVjdCk6IE9wdGlvbmFsPG51bWJlcj4ge1xuICAgIHJldHVybiBUeXBlRGVzZXJpYWxpemVyLk5VTUJFUi5vcHRpb25hbChuYW1lLCBzZXJpYWxpemVkRGF0YSk7XG4gIH1cblxuICBzdGF0aWMgcmVxdWlyZWRTdHJpbmcobmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogc3RyaW5nIHtcbiAgICAvLyBOT1RFOiBXZSBpbnRlbnRpb25hbGx5IHJlcXVpcmUgc3RyaW5ncyB0byBoYXZlIGEgdmFsdWUgZXZlbiBpZiB0aGUgc2VyaWFsaXplZCBKYXZhXG4gICAgLy8gcHJpbWl0aXZlcyBoYXZlIGJlZW4gZWxpZGVkIGZyb20gdGhlIEpTT04uICBFbGlkaW5nIHZhbHVlcyBmb3IgbnVtYmVyIGFuZCBib29sZWFuIHR5cGVzXG4gICAgLy8gaXMgZmFpcmx5IGNvbW1vbiBhcyBkZWZhdWx0cyBvZiAwIGFuZCBmYWxzZTsgaG93ZXZlciwgd2UgZmVlbCB0aGF0IHNob3VsZCBiZSBxdWl0ZSByYXJlXG4gICAgLy8gaW4gdGhlIGNhc2Ugb2Ygc3RyaW5nIHZhbHVlcy5cbiAgICByZXR1cm4gVHlwZURlc2VyaWFsaXplci5TVFJJTkcucmVxdWlyZWQobmFtZSwgc2VyaWFsaXplZERhdGEpO1xuICB9XG5cbiAgc3RhdGljIG9wdGlvbmFsU3RyaW5nKG5hbWU6IHN0cmluZywgc2VyaWFsaXplZERhdGE6IG9iamVjdCk6IE9wdGlvbmFsPHN0cmluZz4ge1xuICAgIHJldHVybiBUeXBlRGVzZXJpYWxpemVyLlNUUklORy5vcHRpb25hbChuYW1lLCBzZXJpYWxpemVkRGF0YSk7XG4gIH1cblxuICBzdGF0aWMgcmVwZWF0ZWRTdHJpbmcobmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogT3B0aW9uYWw8UmVhZG9ubHlBcnJheTxzdHJpbmc+PiB7XG4gICAgcmV0dXJuIFR5cGVEZXNlcmlhbGl6ZXIuU1RSSU5HLnJlcGVhdGVkKG5hbWUsIHNlcmlhbGl6ZWREYXRhKTtcbiAgfVxuXG4gIHN0YXRpYyByZXF1aXJlZEJvb2xlYW4obmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogYm9vbGVhbiB7XG4gICAgLy8gc2VlIGNvbW1lbnRzIHJlZ2FyZGluZyBlbGlkaW5nIHNlcmlhbGl6ZWQgbnVtYmVyIGZpZWxkcyBpZiB0aGVcbiAgICAvLyB1c2Ugb2Ygb3B0aW9uYWwgc3RyaWtlcyB5b3UgYXMgc3RyYW5nZS5cbiAgICByZXR1cm4gVHlwZURlc2VyaWFsaXplci5CT09MRUFOLm9wdGlvbmFsKG5hbWUsIHNlcmlhbGl6ZWREYXRhKSB8fCBmYWxzZTtcbiAgfVxuXG4gIHN0YXRpYyBvcHRpb25hbEJvb2xlYW4obmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogT3B0aW9uYWw8Ym9vbGVhbj4ge1xuICAgIHJldHVybiBUeXBlRGVzZXJpYWxpemVyLkJPT0xFQU4ub3B0aW9uYWwobmFtZSwgc2VyaWFsaXplZERhdGEpO1xuICB9XG5cbiAgc3RhdGljIHJlcGVhdGVkQm9vbGVhbihuYW1lOiBzdHJpbmcsIHNlcmlhbGl6ZWREYXRhOiBvYmplY3QpOiBPcHRpb25hbDxSZWFkb25seUFycmF5PGJvb2xlYW4+PiB7XG4gICAgcmV0dXJuIFR5cGVEZXNlcmlhbGl6ZXIuQk9PTEVBTi5yZXBlYXRlZChuYW1lLCBzZXJpYWxpemVkRGF0YSk7XG4gIH1cblxuICBzdGF0aWMgcmVxdWlyZWRPYmplY3Q8VD4oZGVzZXJpYWxpemU6IE9iamVjdERlc2VyaWFsaXplcjxUPiwgbmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogVCB7XG4gICAgcmV0dXJuIGRlc2VyaWFsaXplKFR5cGVEZXNlcmlhbGl6ZXIuT0JKRUNULnJlcXVpcmVkKG5hbWUsIHNlcmlhbGl6ZWREYXRhKSk7XG4gIH1cblxuICBzdGF0aWMgb3B0aW9uYWxPYmplY3Q8VD4oZGVzZXJpYWxpemU6IE9iamVjdERlc2VyaWFsaXplcjxUPiwgbmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogT3B0aW9uYWw8VD4ge1xuICAgIGNvbnN0IGMgPSBUeXBlRGVzZXJpYWxpemVyLk9CSkVDVC5vcHRpb25hbChuYW1lLCBzZXJpYWxpemVkRGF0YSk7XG4gICAgcmV0dXJuIGMgPyBkZXNlcmlhbGl6ZShjKSA6IGM7XG4gIH1cblxuICBzdGF0aWMgcmVwZWF0ZWRPYmplY3Q8VD4oZGVzZXJpYWxpemU6IE9iamVjdERlc2VyaWFsaXplcjxUPiwgbmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogT3B0aW9uYWw8UmVhZG9ubHlBcnJheTxUPj4ge1xuICAgIGNvbnN0IGNzID0gVHlwZURlc2VyaWFsaXplci5PQkpFQ1QucmVwZWF0ZWQobmFtZSwgc2VyaWFsaXplZERhdGEpO1xuICAgIHJldHVybiBjcyA/IGNzLm1hcChkZXNlcmlhbGl6ZSkgOiBjcztcbiAgfVxuXG4gIHN0YXRpYyByZXF1aXJlZFN0cmluZ0VudW08VD4oZGVzZXJpYWxpemU6IFN0cmluZ0VudW1EZXNlcmlhbGl6ZXI8VD4sIG5hbWU6IHN0cmluZywgc2VyaWFsaXplZERhdGE6IG9iamVjdCk6IFQge1xuICAgIHJldHVybiBkZXNlcmlhbGl6ZShUeXBlRGVzZXJpYWxpemVyLlNUUklORy5yZXF1aXJlZChuYW1lLCBzZXJpYWxpemVkRGF0YSksIG5hbWUpO1xuICB9XG5cbiAgc3RhdGljIG9wdGlvbmFsU3RyaW5nRW51bTxUPihkZXNlcmlhbGl6ZTogU3RyaW5nRW51bURlc2VyaWFsaXplcjxUPiwgbmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogT3B0aW9uYWw8VD4ge1xuICAgIGNvbnN0IHMgPSBUeXBlRGVzZXJpYWxpemVyLlNUUklORy5vcHRpb25hbChuYW1lLCBzZXJpYWxpemVkRGF0YSk7XG4gICAgcmV0dXJuIHMgIT0gbnVsbCA/IGRlc2VyaWFsaXplKHMsIG5hbWUpIDogcztcbiAgfVxuXG4gIHN0YXRpYyByZXBlYXRlZFN0cmluZ0VudW08VD4oZGVzZXJpYWxpemU6IFN0cmluZ0VudW1EZXNlcmlhbGl6ZXI8VD4sIG5hbWU6IHN0cmluZywgc2VyaWFsaXplZERhdGE6IG9iamVjdCk6IE9wdGlvbmFsPFJlYWRvbmx5QXJyYXk8VD4+IHtcbiAgICBjb25zdCBzcyA9IFR5cGVEZXNlcmlhbGl6ZXIuU1RSSU5HLnJlcGVhdGVkKG5hbWUsIHNlcmlhbGl6ZWREYXRhKTtcbiAgICByZXR1cm4gc3MgIT0gbnVsbCA/IHNzLm1hcCh2YWx1ZSA9PiBkZXNlcmlhbGl6ZSh2YWx1ZSwgbmFtZSkpIDogc3M7XG4gIH1cblxuICBzdGF0aWMgbnVtYmVyT2JqZWN0TWFwPFQ+KGRlc2VyaWFsaXplOiBPYmplY3REZXNlcmlhbGl6ZXI8VD4sIG5hbWU6IHN0cmluZywgc2VyaWFsaXplZERhdGE6IG9iamVjdCk6IE9wdGlvbmFsPE1hcDxudW1iZXIsIFQ+PiB7XG4gICAgcmV0dXJuIERlc2VyaWFsaXphdGlvbi5tYXA8bnVtYmVyLCBUPihcbiAgICAgICAgRGVzZXJpYWxpemF0aW9uLm51bWJlck1hcEtleSxcbiAgICAgICAgKG5hbWUsIGtleSwgZGF0YSkgPT4gRGVzZXJpYWxpemF0aW9uLm9iamVjdE1hcFZhbHVlKGRlc2VyaWFsaXplLCBuYW1lLCBrZXksIGRhdGEpLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzZXJpYWxpemVkRGF0YSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ051bWJlck1hcChuYW1lOiBzdHJpbmcsIHNlcmlhbGl6ZWREYXRhOiBvYmplY3QpOiBPcHRpb25hbDxNYXA8c3RyaW5nLCBudW1iZXI+PiB7XG4gICAgcmV0dXJuIERlc2VyaWFsaXphdGlvbi5tYXAoXG4gICAgICAgIERlc2VyaWFsaXphdGlvbi5zdHJpbmdNYXBLZXksXG4gICAgICAgIERlc2VyaWFsaXphdGlvbi5udW1iZXJNYXBWYWx1ZSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgc2VyaWFsaXplZERhdGEsXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBzdHJpbmdPYmplY3RNYXA8VD4oZGVzZXJpYWxpemU6IE9iamVjdERlc2VyaWFsaXplcjxUPiwgbmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogT3B0aW9uYWw8TWFwPHN0cmluZywgVD4+IHtcbiAgICByZXR1cm4gRGVzZXJpYWxpemF0aW9uLm1hcDxzdHJpbmcsIFQ+KFxuICAgICAgICBEZXNlcmlhbGl6YXRpb24uc3RyaW5nTWFwS2V5LFxuICAgICAgICAobmFtZSwga2V5LCBkYXRhKSA9PiBEZXNlcmlhbGl6YXRpb24ub2JqZWN0TWFwVmFsdWUoZGVzZXJpYWxpemUsIG5hbWUsIGtleSwgZGF0YSksXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNlcmlhbGl6ZWREYXRhLFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgc3RyaW5nRW51bU1hcDxUPihkZXNlcmlhbGl6ZTogU3RyaW5nRW51bURlc2VyaWFsaXplcjxUPiwgbmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogT3B0aW9uYWw8TWFwPHN0cmluZywgVD4+IHtcbiAgICByZXR1cm4gRGVzZXJpYWxpemF0aW9uLm1hcDxzdHJpbmcsIFQ+KFxuICAgICAgICBEZXNlcmlhbGl6YXRpb24uc3RyaW5nTWFwS2V5LFxuICAgICAgICAobmFtZSwga2V5LCBkYXRhKSA9PiBEZXNlcmlhbGl6YXRpb24uZW51bU1hcFZhbHVlKGRlc2VyaWFsaXplLCBuYW1lLCBrZXksIGRhdGEpLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzZXJpYWxpemVkRGF0YSxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ1N0cmluZ01hcChuYW1lOiBzdHJpbmcsIHNlcmlhbGl6ZWREYXRhOiBvYmplY3QpOiBPcHRpb25hbDxNYXA8c3RyaW5nLCBzdHJpbmc+PiB7XG4gICAgcmV0dXJuIERlc2VyaWFsaXphdGlvbi5tYXAoXG4gICAgICAgIERlc2VyaWFsaXphdGlvbi5zdHJpbmdNYXBLZXksXG4gICAgICAgIERlc2VyaWFsaXphdGlvbi5zdHJpbmdNYXBWYWx1ZSxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgc2VyaWFsaXplZERhdGEsXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBudW1iZXJOdW1iZXJNYXAobmFtZTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogT3B0aW9uYWw8TWFwPG51bWJlciwgbnVtYmVyPj4ge1xuICAgIHJldHVybiBEZXNlcmlhbGl6YXRpb24ubWFwKFxuICAgICAgICBEZXNlcmlhbGl6YXRpb24ubnVtYmVyTWFwS2V5LFxuICAgICAgICBEZXNlcmlhbGl6YXRpb24ubnVtYmVyTWFwVmFsdWUsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNlcmlhbGl6ZWREYXRhLFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgbnVtYmVyU3RyaW5nTWFwKG5hbWU6IHN0cmluZywgc2VyaWFsaXplZERhdGE6IG9iamVjdCk6IE9wdGlvbmFsPE1hcDxudW1iZXIsIHN0cmluZz4+IHtcbiAgICByZXR1cm4gRGVzZXJpYWxpemF0aW9uLm1hcChcbiAgICAgICAgRGVzZXJpYWxpemF0aW9uLm51bWJlck1hcEtleSxcbiAgICAgICAgRGVzZXJpYWxpemF0aW9uLnN0cmluZ01hcFZhbHVlLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzZXJpYWxpemVkRGF0YSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgbWFwPEssIFY+KGRlc2VyaWFsaXplS2V5OiAoYTogc3RyaW5nLCBiOiBzdHJpbmcpID0+IEssIGRlc2VyaWFsaXplVmFsdWU6IChhOiBzdHJpbmcsIGI6IHN0cmluZywgYzogb2JqZWN0KSA9PiBWLCBuYW1lOiBzdHJpbmcsIHNlcmlhbGl6ZWREYXRhOiBvYmplY3QpOiBPcHRpb25hbDxNYXA8SywgVj4+IHtcbiAgICBjb25zdCB2YWwgPSAoc2VyaWFsaXplZERhdGEgYXMgYW55KVtuYW1lXTtcbiAgICBpZiAodmFsID09IG51bGwpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsICE9PSAnb2JqZWN0Jykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgbWFwIGZvciBwcm9wZXJ0eSBcIiR7bmFtZX1cIiwgZm91bmQ6ICR7SlNPTi5zdHJpbmdpZnkodmFsKX1gKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbSA9IG5ldyBNYXAoKTtcbiAgICAgIGZvciAoY29uc3Qgc2VyaWFsaXplZEtleSBvZiBPYmplY3Qua2V5cyh2YWwpKSB7XG4gICAgICAgIG0uc2V0KGRlc2VyaWFsaXplS2V5KG5hbWUsIHNlcmlhbGl6ZWRLZXkpLCBkZXNlcmlhbGl6ZVZhbHVlKG5hbWUsIHNlcmlhbGl6ZWRLZXksIHZhbCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG07XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgbnVtYmVyTWFwS2V5KG5hbWU6IHN0cmluZywgc2VyaWFsaXplZEtleTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBjb25zdCBrZXkgPSBOdW1iZXIoc2VyaWFsaXplZEtleSk7XG4gICAgaWYgKGlzTmFOKGtleSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGVkIG51bWJlciBrZXkgaW4gcHJvcGVydHkgXCIke25hbWV9XCIsIGZvdW5kOiAke3NlcmlhbGl6ZWRLZXl9YCk7XG4gICAgfVxuICAgIHJldHVybiBrZXk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBzdHJpbmdNYXBLZXkobmFtZTogc3RyaW5nLCBzZXJpYWxpemVkS2V5OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiBzZXJpYWxpemVkS2V5O1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgbnVtYmVyTWFwVmFsdWUobmFtZTogc3RyaW5nLCBzZXJpYWxpemVkS2V5OiBzdHJpbmcsIHNlcmlhbGl6ZWREYXRhOiBvYmplY3QpIHtcbiAgICBjb25zdCB2YWwgPSAoc2VyaWFsaXplZERhdGEgYXMgYW55KVtzZXJpYWxpemVkS2V5XTtcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGVkIG51bWJlciB2YWx1ZSBpbiBwcm9wZXJ0eSBcIiR7bmFtZX1cIiwgZm91bmQ6ICR7SlNPTi5zdHJpbmdpZnkodmFsKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIG9iamVjdE1hcFZhbHVlPFQ+KGRlc2VyaWFsaXplOiBPYmplY3REZXNlcmlhbGl6ZXI8VD4sIG5hbWU6IHN0cmluZywgc2VyaWFsaXplZEtleTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogVCB7XG4gICAgY29uc3QgdmFsID0gKHNlcmlhbGl6ZWREYXRhIGFzIGFueSlbc2VyaWFsaXplZEtleV07XG4gICAgaWYgKCFEZXNlcmlhbGl6YXRpb24uaXNPYmplY3QodmFsKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgb2JqZWN0IHZhbHVlIGluIHByb3BlcnR5IFwiJHtuYW1lfVwiLCBmb3VuZDogJHtKU09OLnN0cmluZ2lmeSh2YWwpfWApO1xuICAgIH1cbiAgICByZXR1cm4gZGVzZXJpYWxpemUodmFsKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIHN0cmluZ01hcFZhbHVlKG5hbWU6IHN0cmluZywgc2VyaWFsaXplZEtleTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KSB7XG4gICAgY29uc3QgdmFsID0gKHNlcmlhbGl6ZWREYXRhIGFzIGFueSlbc2VyaWFsaXplZEtleV07XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCBzdHJpbmcgdmFsdWUgaW4gcHJvcGVydHkgXCIke25hbWV9XCIsIGZvdW5kOiAke0pTT04uc3RyaW5naWZ5KHZhbCl9YCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBlbnVtTWFwVmFsdWU8VD4oZGVzZXJpYWxpemU6IFN0cmluZ0VudW1EZXNlcmlhbGl6ZXI8VD4sIG5hbWU6IHN0cmluZywgc2VyaWFsaXplZEtleTogc3RyaW5nLCBzZXJpYWxpemVkRGF0YTogb2JqZWN0KTogVCB7XG4gICAgY29uc3QgdmFsID0gKHNlcmlhbGl6ZWREYXRhIGFzIGFueSlbc2VyaWFsaXplZEtleV07XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCBzdHJpbmcgdmFsdWUgaW4gcHJvcGVydHkgXCIke25hbWV9XCIsIGZvdW5kOiAke0pTT04uc3RyaW5naWZ5KHZhbCl9YCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2VyaWFsaXplKHZhbCwgbmFtZSk7XG4gIH1cblxuICAvKipcbiAgICogT2JqZWN0IHR5cGUgZ3VhcmQgKGFsc28gZ3VhcmRzIG51bGwpXG4gICAqL1xuICBwcml2YXRlIHN0YXRpYyBpc09iamVjdChvOiBhbnkpOiBvIGlzIG9iamVjdCB7XG4gICAgcmV0dXJuIChvICE9PSBudWxsICYmIHR5cGVvZiBvID09PSAnb2JqZWN0Jyk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUtBOztBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFNQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///16\n");

/***/ }),
/* 17 */
/*!*****************************************************!*\
  !*** ./src/base/serialization/type_deserializer.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeDeserializer\", function() { return TypeDeserializer; });\n/* harmony import */ var _type_xialiser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type_xialiser */ 18);\n// Copyright 2017 Canva Inc. All Rights Reserved.\r\n\r\n/**\r\n * Represents a JavaScript type.\r\n */\r\nclass TypeDeserializer extends _type_xialiser__WEBPACK_IMPORTED_MODULE_0__[\"TypeXializer\"] {\r\n    /**\r\n     * Reads a required property of this type from an object.\r\n     */\r\n    required(name, o) {\r\n        const val = o[name];\r\n        if (!this.isT(val)) {\r\n            throw new TypeError(`expected ${this.type} for property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return val;\r\n    }\r\n    /**\r\n     * Reads an optional property from an object.\r\n     */\r\n    optional(name, o) {\r\n        const val = o[name];\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        else if (typeof val != this.type) {\r\n            throw new TypeError(`expected optional ${this.type} for property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return val;\r\n    }\r\n    /**\r\n     * Reads a repeated property from an object.\r\n     */\r\n    repeated(name, o) {\r\n        const val = o[name];\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        else if (!this.isTs(val)) {\r\n            throw new TypeError(`expected repeated ${this.type} for property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return val;\r\n    }\r\n}\r\nTypeDeserializer.STRING = new TypeDeserializer('string');\r\nTypeDeserializer.BOOLEAN = new TypeDeserializer('boolean');\r\nTypeDeserializer.NUMBER = new TypeDeserializer('number');\r\nTypeDeserializer.OBJECT = new TypeDeserializer('object');\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS9zZXJpYWxpemF0aW9uL3R5cGVfZGVzZXJpYWxpemVyLnRzP2Y2YTkiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTcgQ2FudmEgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuaW1wb3J0IHsgVHlwZVhpYWxpemVyIH0gZnJvbSAnLi90eXBlX3hpYWxpc2VyJztcbmltcG9ydCB7IFNlcmlhbGl6YWJsZSB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBKYXZhU2NyaXB0IHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBUeXBlRGVzZXJpYWxpemVyPFQgZXh0ZW5kcyBTZXJpYWxpemFibGU+IGV4dGVuZHMgVHlwZVhpYWxpemVyPFQ+IHtcblxuICBzdGF0aWMgU1RSSU5HID0gbmV3IFR5cGVEZXNlcmlhbGl6ZXI8c3RyaW5nPignc3RyaW5nJyk7XG4gIHN0YXRpYyBCT09MRUFOID0gbmV3IFR5cGVEZXNlcmlhbGl6ZXI8Ym9vbGVhbj4oJ2Jvb2xlYW4nKTtcbiAgc3RhdGljIE5VTUJFUiA9IG5ldyBUeXBlRGVzZXJpYWxpemVyPG51bWJlcj4oJ251bWJlcicpO1xuICBzdGF0aWMgT0JKRUNUID0gbmV3IFR5cGVEZXNlcmlhbGl6ZXI8b2JqZWN0Pignb2JqZWN0Jyk7XG5cbiAgLyoqXG4gICAqIFJlYWRzIGEgcmVxdWlyZWQgcHJvcGVydHkgb2YgdGhpcyB0eXBlIGZyb20gYW4gb2JqZWN0LlxuICAgKi9cbiAgcmVxdWlyZWQobmFtZTogc3RyaW5nLCBvOiBvYmplY3QpOiBUIHtcbiAgICBjb25zdCB2YWwgPSAobyBhcyBhbnkpW25hbWVdO1xuICAgIGlmICghdGhpcy5pc1QodmFsKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgJHt0aGlzLnR5cGV9IGZvciBwcm9wZXJ0eSBcIiR7bmFtZX1cIiwgZm91bmQ6ICR7SlNPTi5zdHJpbmdpZnkodmFsKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyBhbiBvcHRpb25hbCBwcm9wZXJ0eSBmcm9tIGFuIG9iamVjdC5cbiAgICovXG4gIG9wdGlvbmFsKG5hbWU6IHN0cmluZywgbzogb2JqZWN0KTogVCB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgdmFsID0gKG8gYXMgYW55KVtuYW1lXTtcbiAgICBpZiAodmFsID09IG51bGwpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsICE9IHRoaXMudHlwZSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgb3B0aW9uYWwgJHt0aGlzLnR5cGV9IGZvciBwcm9wZXJ0eSBcIiR7bmFtZX1cIiwgZm91bmQ6ICR7SlNPTi5zdHJpbmdpZnkodmFsKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbCBhcyBUO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWRzIGEgcmVwZWF0ZWQgcHJvcGVydHkgZnJvbSBhbiBvYmplY3QuXG4gICAqL1xuICByZXBlYXRlZChuYW1lOiBzdHJpbmcsIG86IG9iamVjdCk6IFJlYWRvbmx5QXJyYXk8VD4gfCB1bmRlZmluZWQge1xuICAgIGNvbnN0IHZhbCA9IChvIGFzIGFueSlbbmFtZV07XG4gICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNUcyh2YWwpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCByZXBlYXRlZCAke3RoaXMudHlwZX0gZm9yIHByb3BlcnR5IFwiJHtuYW1lfVwiLCBmb3VuZDogJHtKU09OLnN0cmluZ2lmeSh2YWwpfWApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBT0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQXhDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///17\n");

/***/ }),
/* 18 */
/*!*************************************************!*\
  !*** ./src/base/serialization/type_xialiser.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeXializer\", function() { return TypeXializer; });\n// Copyright 2017 Canva Inc. All Rights Reserved.\r\n/**\r\n * Represents a JavaScript type.\r\n */\r\nclass TypeXializer {\r\n    /**\r\n     * @param type JavaScript type name\r\n     */\r\n    constructor(type) {\r\n        this.type = type;\r\n    }\r\n    isT(val) {\r\n        return val != null && typeof val === this.type;\r\n    }\r\n    isTs(val) {\r\n        return Array.isArray(val) && val.every(x => this.isT(x));\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS9zZXJpYWxpemF0aW9uL3R5cGVfeGlhbGlzZXIudHM/NTdjYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNyBDYW52YSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIEphdmFTY3JpcHQgdHlwZS5cbiAqL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFR5cGVYaWFsaXplcjxUPiB7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB0eXBlIEphdmFTY3JpcHQgdHlwZSBuYW1lXG4gICAqL1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgdHlwZTogc3RyaW5nKSB7XG4gIH1cblxuICBwcm90ZWN0ZWQgaXNUKHZhbDogYW55KTogdmFsIGlzIFQge1xuICAgIHJldHVybiB2YWwgIT0gbnVsbCAmJiB0eXBlb2YgdmFsID09PSB0aGlzLnR5cGU7XG4gIH1cblxuICBwcm90ZWN0ZWQgaXNUcyh2YWw6IGFueSk6IHZhbCBpcyBUW10ge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHZhbCkgJiYgdmFsLmV2ZXJ5KHggPT4gdGhpcy5pc1QoeCkpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUVBOztBQUVBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///18\n");

/***/ }),
/* 19 */
/*!***************************************!*\
  !*** ./src/base/time/system_clock.ts ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"systemClock\", function() { return systemClock; });\nconst systemClock = {\r\n    now() {\r\n        return Date.now();\r\n    },\r\n};\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS90aW1lL3N5c3RlbV9jbG9jay50cz9lOTMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENsb2NrIH0gZnJvbSAnLi9jbG9jayc7XG5cbmV4cG9ydCBjb25zdCBzeXN0ZW1DbG9jazogQ2xvY2sgPSB7XG4gIG5vdygpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfSxcbn07XG4iXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///19\n");

/***/ }),
/* 20 */
/*!*******************************************!*\
  !*** ./src/services/http/http_service.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpServiceError\", function() { return HttpServiceError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpClientError\", function() { return HttpClientError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpServerError\", function() { return HttpServerError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpBadRequestError\", function() { return HttpBadRequestError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpUnauthorizedError\", function() { return HttpUnauthorizedError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpForbiddenError\", function() { return HttpForbiddenError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpNotFoundError\", function() { return HttpNotFoundError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpConflictError\", function() { return HttpConflictError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CsrfTokenExpiredError\", function() { return CsrfTokenExpiredError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpTooManyRequestsError\", function() { return HttpTooManyRequestsError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UnknownClientError\", function() { return UnknownClientError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpServiceUnavailableError\", function() { return HttpServiceUnavailableError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpGatewayTimeout\", function() { return HttpGatewayTimeout; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpInternalServerError\", function() { return HttpInternalServerError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UnknownServerError\", function() { return UnknownServerError; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UnknownHttpError\", function() { return UnknownHttpError; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n// Copyright 2017 Canva Inc. All Rights Reserved.\r\n\r\n//\r\n// HTTP error hierarchy.\r\n//\r\nclass HttpServiceError extends Error {\r\n    constructor(statusCode, message, endUserMessage, body) {\r\n        super(message);\r\n        this.statusCode = statusCode;\r\n        this.endUserMessage = endUserMessage;\r\n        this.body = body;\r\n        Object.setPrototypeOf(this, HttpServiceError.prototype);\r\n    }\r\n}\r\nclass HttpClientError extends HttpServiceError {\r\n    constructor(statusCode, message, endUserMessage, body) {\r\n        super(statusCode, message, endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpClientError.prototype);\r\n    }\r\n}\r\nclass HttpServerError extends HttpServiceError {\r\n    constructor(statusCode, message, endUserMessage, body) {\r\n        super(statusCode, message, endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpServerError.prototype);\r\n    }\r\n}\r\nclass HttpBadRequestError extends HttpClientError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(400, message != null ? message : 'HTTP bad request', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpBadRequestError.prototype);\r\n    }\r\n}\r\nclass HttpUnauthorizedError extends HttpClientError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(401, message != null ? message : 'HTTP unauthorized', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpUnauthorizedError.prototype);\r\n    }\r\n}\r\nclass HttpForbiddenError extends HttpClientError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(403, message != null ? message : 'HTTP forbidden', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpForbiddenError.prototype);\r\n    }\r\n}\r\nclass HttpNotFoundError extends HttpClientError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(404, message != null ? message : 'HTTP not found', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpNotFoundError.prototype);\r\n    }\r\n}\r\nclass HttpConflictError extends HttpClientError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(409, message != null ? message : 'HTTP version conflict', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpConflictError.prototype);\r\n    }\r\n}\r\nclass CsrfTokenExpiredError extends HttpClientError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(418, message != null ? message : 'HTTP CSRF token expired', endUserMessage, body);\r\n        Object.setPrototypeOf(this, CsrfTokenExpiredError.prototype);\r\n    }\r\n}\r\nclass HttpTooManyRequestsError extends HttpClientError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(429, message != null ? message : 'HTTP too many requests', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpTooManyRequestsError.prototype);\r\n    }\r\n}\r\nclass UnknownClientError extends HttpClientError {\r\n    constructor(statusCode, message, endUserMessage, body) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(400 <= statusCode && statusCode < 500);\r\n        super(statusCode, message != null ? message : 'HTTP unknown client error', endUserMessage, body);\r\n        Object.setPrototypeOf(this, UnknownClientError.prototype);\r\n    }\r\n}\r\nclass HttpServiceUnavailableError extends HttpServerError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(503, message != null ? message : 'HTTP service unavailable', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpServiceUnavailableError.prototype);\r\n    }\r\n}\r\nclass HttpGatewayTimeout extends HttpServerError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(504, message != null ? message : 'HTTP gateway timeout', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpGatewayTimeout.prototype);\r\n    }\r\n}\r\nclass HttpInternalServerError extends HttpServerError {\r\n    constructor(message, endUserMessage, body) {\r\n        super(500, message != null ? message : 'HTTP internal server error', endUserMessage, body);\r\n        Object.setPrototypeOf(this, HttpInternalServerError.prototype);\r\n    }\r\n}\r\nclass UnknownServerError extends HttpServerError {\r\n    constructor(statusCode, message, endUserMessage, body) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(500 <= statusCode && statusCode < 600);\r\n        super(statusCode, message != null ? message : 'HTTP unknown server error', endUserMessage, body);\r\n        Object.setPrototypeOf(this, UnknownServerError.prototype);\r\n    }\r\n}\r\nclass UnknownHttpError extends HttpServiceError {\r\n    constructor(statusCode, message, endUserMessage, body) {\r\n        super(statusCode, message != null ? message : 'HTTP unknown error', endUserMessage, body);\r\n        Object.setPrototypeOf(this, UnknownHttpError.prototype);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvaHR0cC9odHRwX3NlcnZpY2UudHM/ZTZhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNyBDYW52YSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbmltcG9ydCB7IFByZWNvbmRpdGlvbnMgfSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIEh0dHBTZXJ2aWNlIHtcbiAgZ2V0KHBhdGg6IHN0cmluZyk6IFByb21pc2U8b2JqZWN0PjtcblxuICBwb3N0KHBhdGg6IHN0cmluZywgYm9keT86IG9iamVjdCk6IFByb21pc2U8b2JqZWN0PjtcblxuICBkZWxldGUocGF0aDogc3RyaW5nKTogUHJvbWlzZTxvYmplY3Q+O1xufVxuXG4vL1xuLy8gSFRUUCBlcnJvciBoaWVyYXJjaHkuXG4vL1xuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEh0dHBTZXJ2aWNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcmVhZG9ubHkgc3RhdHVzQ29kZTogbnVtYmVyLFxuICAgICAgbWVzc2FnZTogc3RyaW5nLFxuICAgICAgcmVhZG9ubHkgZW5kVXNlck1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICByZWFkb25seSBib2R5Pzogb2JqZWN0LFxuICApIHtcbiAgICBzdXBlcihtZXNzYWdlKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSHR0cFNlcnZpY2VFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBIdHRwQ2xpZW50RXJyb3IgZXh0ZW5kcyBIdHRwU2VydmljZUVycm9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBzdGF0dXNDb2RlOiBudW1iZXIsXG4gICAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgICBlbmRVc2VyTWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGJvZHk/OiBvYmplY3QsXG4gICkge1xuICAgIHN1cGVyKHN0YXR1c0NvZGUsIG1lc3NhZ2UsIGVuZFVzZXJNZXNzYWdlLCBib2R5KTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSHR0cENsaWVudEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEh0dHBTZXJ2ZXJFcnJvciBleHRlbmRzIEh0dHBTZXJ2aWNlRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHN0YXR1c0NvZGU6IG51bWJlcixcbiAgICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICAgIGVuZFVzZXJNZXNzYWdlPzogc3RyaW5nLFxuICAgICAgYm9keT86IG9iamVjdCxcbiAgKSB7XG4gICAgc3VwZXIoc3RhdHVzQ29kZSwgbWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkpO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBIdHRwU2VydmVyRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSHR0cEJhZFJlcXVlc3RFcnJvciBleHRlbmRzIEh0dHBDbGllbnRFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICAgbWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGVuZFVzZXJNZXNzYWdlPzogc3RyaW5nLFxuICAgICAgYm9keT86IG9iamVjdCxcbiAgKSB7XG4gICAgc3VwZXIoXG4gICAgICAgIDQwMCxcbiAgICAgICAgbWVzc2FnZSAhPSBudWxsID8gbWVzc2FnZSA6ICdIVFRQIGJhZCByZXF1ZXN0JyxcbiAgICAgICAgZW5kVXNlck1lc3NhZ2UsXG4gICAgICAgIGJvZHksXG4gICAgKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSHR0cEJhZFJlcXVlc3RFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIdHRwVW5hdXRob3JpemVkRXJyb3IgZXh0ZW5kcyBIdHRwQ2xpZW50RXJyb3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIG1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBlbmRVc2VyTWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGJvZHk/OiBvYmplY3QsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgICA0MDEsXG4gICAgICAgIG1lc3NhZ2UgIT0gbnVsbCA/IG1lc3NhZ2UgOiAnSFRUUCB1bmF1dGhvcml6ZWQnLFxuICAgICAgICBlbmRVc2VyTWVzc2FnZSxcbiAgICAgICAgYm9keSxcbiAgICApO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBIdHRwVW5hdXRob3JpemVkRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSHR0cEZvcmJpZGRlbkVycm9yIGV4dGVuZHMgSHR0cENsaWVudEVycm9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBtZXNzYWdlPzogc3RyaW5nLFxuICAgICAgZW5kVXNlck1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBib2R5Pzogb2JqZWN0LFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgICAgNDAzLFxuICAgICAgICBtZXNzYWdlICE9IG51bGwgPyBtZXNzYWdlIDogJ0hUVFAgZm9yYmlkZGVuJyxcbiAgICAgICAgZW5kVXNlck1lc3NhZ2UsXG4gICAgICAgIGJvZHksXG4gICAgKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSHR0cEZvcmJpZGRlbkVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0dHBOb3RGb3VuZEVycm9yIGV4dGVuZHMgSHR0cENsaWVudEVycm9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBtZXNzYWdlPzogc3RyaW5nLFxuICAgICAgZW5kVXNlck1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBib2R5Pzogb2JqZWN0LFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgICAgNDA0LFxuICAgICAgICBtZXNzYWdlICE9IG51bGwgPyBtZXNzYWdlIDogJ0hUVFAgbm90IGZvdW5kJyxcbiAgICAgICAgZW5kVXNlck1lc3NhZ2UsXG4gICAgICAgIGJvZHksXG4gICAgKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSHR0cE5vdEZvdW5kRXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSHR0cENvbmZsaWN0RXJyb3IgZXh0ZW5kcyBIdHRwQ2xpZW50RXJyb3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIG1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBlbmRVc2VyTWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGJvZHk/OiBvYmplY3QsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgICA0MDksXG4gICAgICAgIG1lc3NhZ2UgIT0gbnVsbCA/IG1lc3NhZ2UgOiAnSFRUUCB2ZXJzaW9uIGNvbmZsaWN0JyxcbiAgICAgICAgZW5kVXNlck1lc3NhZ2UsXG4gICAgICAgIGJvZHksXG4gICAgKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSHR0cENvbmZsaWN0RXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3NyZlRva2VuRXhwaXJlZEVycm9yIGV4dGVuZHMgSHR0cENsaWVudEVycm9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBtZXNzYWdlPzogc3RyaW5nLFxuICAgICAgZW5kVXNlck1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBib2R5Pzogb2JqZWN0LFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgICAgNDE4LFxuICAgICAgICBtZXNzYWdlICE9IG51bGwgPyBtZXNzYWdlIDogJ0hUVFAgQ1NSRiB0b2tlbiBleHBpcmVkJyxcbiAgICAgICAgZW5kVXNlck1lc3NhZ2UsXG4gICAgICAgIGJvZHksXG4gICAgKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ3NyZlRva2VuRXhwaXJlZEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0dHBUb29NYW55UmVxdWVzdHNFcnJvciBleHRlbmRzIEh0dHBDbGllbnRFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICAgbWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGVuZFVzZXJNZXNzYWdlPzogc3RyaW5nLFxuICAgICAgYm9keT86IG9iamVjdCxcbiAgKSB7XG4gICAgc3VwZXIoXG4gICAgICAgIDQyOSxcbiAgICAgICAgbWVzc2FnZSAhPSBudWxsID8gbWVzc2FnZSA6ICdIVFRQIHRvbyBtYW55IHJlcXVlc3RzJyxcbiAgICAgICAgZW5kVXNlck1lc3NhZ2UsXG4gICAgICAgIGJvZHksXG4gICAgKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSHR0cFRvb01hbnlSZXF1ZXN0c0Vycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVua25vd25DbGllbnRFcnJvciBleHRlbmRzIEh0dHBDbGllbnRFcnJvciB7XG4gIGNvbnN0cnVjdG9yKFxuICAgICAgc3RhdHVzQ29kZTogbnVtYmVyLFxuICAgICAgbWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGVuZFVzZXJNZXNzYWdlPzogc3RyaW5nLFxuICAgICAgYm9keT86IG9iamVjdCxcbiAgKSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KDQwMCA8PSBzdGF0dXNDb2RlICYmIHN0YXR1c0NvZGUgPCA1MDApO1xuICAgIHN1cGVyKFxuICAgICAgICBzdGF0dXNDb2RlLFxuICAgICAgICBtZXNzYWdlICE9IG51bGwgPyBtZXNzYWdlIDogJ0hUVFAgdW5rbm93biBjbGllbnQgZXJyb3InLFxuICAgICAgICBlbmRVc2VyTWVzc2FnZSxcbiAgICAgICAgYm9keSxcbiAgICApO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmtub3duQ2xpZW50RXJyb3IucHJvdG90eXBlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSHR0cFNlcnZpY2VVbmF2YWlsYWJsZUVycm9yIGV4dGVuZHMgSHR0cFNlcnZlckVycm9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBtZXNzYWdlPzogc3RyaW5nLFxuICAgICAgZW5kVXNlck1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBib2R5Pzogb2JqZWN0LFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgICAgNTAzLFxuICAgICAgICBtZXNzYWdlICE9IG51bGwgPyBtZXNzYWdlIDogJ0hUVFAgc2VydmljZSB1bmF2YWlsYWJsZScsXG4gICAgICAgIGVuZFVzZXJNZXNzYWdlLFxuICAgICAgICBib2R5LFxuICAgICk7XG4gICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEh0dHBTZXJ2aWNlVW5hdmFpbGFibGVFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBIdHRwR2F0ZXdheVRpbWVvdXQgZXh0ZW5kcyBIdHRwU2VydmVyRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIG1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBlbmRVc2VyTWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGJvZHk/OiBvYmplY3QsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgICA1MDQsXG4gICAgICAgIG1lc3NhZ2UgIT0gbnVsbCA/IG1lc3NhZ2UgOiAnSFRUUCBnYXRld2F5IHRpbWVvdXQnLFxuICAgICAgICBlbmRVc2VyTWVzc2FnZSxcbiAgICAgICAgYm9keSxcbiAgICApO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBIdHRwR2F0ZXdheVRpbWVvdXQucHJvdG90eXBlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgSHR0cEludGVybmFsU2VydmVyRXJyb3IgZXh0ZW5kcyBIdHRwU2VydmVyRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIG1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBlbmRVc2VyTWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGJvZHk/OiBvYmplY3QsXG4gICkge1xuICAgIHN1cGVyKFxuICAgICAgICA1MDAsXG4gICAgICAgIG1lc3NhZ2UgIT0gbnVsbCA/IG1lc3NhZ2UgOiAnSFRUUCBpbnRlcm5hbCBzZXJ2ZXIgZXJyb3InLFxuICAgICAgICBlbmRVc2VyTWVzc2FnZSxcbiAgICAgICAgYm9keSxcbiAgICApO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBIdHRwSW50ZXJuYWxTZXJ2ZXJFcnJvci5wcm90b3R5cGUpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmtub3duU2VydmVyRXJyb3IgZXh0ZW5kcyBIdHRwU2VydmVyRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHN0YXR1c0NvZGU6IG51bWJlcixcbiAgICAgIG1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBlbmRVc2VyTWVzc2FnZT86IHN0cmluZyxcbiAgICAgIGJvZHk/OiBvYmplY3QsXG4gICkge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCg1MDAgPD0gc3RhdHVzQ29kZSAmJiBzdGF0dXNDb2RlIDwgNjAwKTtcbiAgICBzdXBlcihcbiAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgbWVzc2FnZSAhPSBudWxsID8gbWVzc2FnZSA6ICdIVFRQIHVua25vd24gc2VydmVyIGVycm9yJyxcbiAgICAgICAgZW5kVXNlck1lc3NhZ2UsXG4gICAgICAgIGJvZHksXG4gICAgKTtcbiAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgVW5rbm93blNlcnZlckVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVua25vd25IdHRwRXJyb3IgZXh0ZW5kcyBIdHRwU2VydmljZUVycm9yIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBzdGF0dXNDb2RlOiBudW1iZXIsXG4gICAgICBtZXNzYWdlPzogc3RyaW5nLFxuICAgICAgZW5kVXNlck1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgICBib2R5Pzogb2JqZWN0LFxuICApIHtcbiAgICBzdXBlcihcbiAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgbWVzc2FnZSAhPSBudWxsID8gbWVzc2FnZSA6ICdIVFRQIHVua25vd24gZXJyb3InLFxuICAgICAgICBlbmRVc2VyTWVzc2FnZSxcbiAgICAgICAgYm9keSxcbiAgICApO1xuICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBVbmtub3duSHR0cEVycm9yLnByb3RvdHlwZSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUxBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQU1BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBTUE7QUFNQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///20\n");

/***/ }),
/* 21 */
/*!*****************************************!*\
  !*** ./src/services/http/http_proto.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CsrfToken\", function() { return CsrfToken; });\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from services/http/http.proto.\r\n\r\n\r\nclass CsrfToken {\r\n    constructor(opts) {\r\n        this.token = opts.token;\r\n        this.expiry = opts.expiry;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'A': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredString('token', m.token),\r\n            'B': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredNumber('expiry', m.expiry),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CsrfToken({\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredString('A', o),\r\n            expiry: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredNumber('B', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvaHR0cC9odHRwX3Byb3RvLnRzP2JmMTEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZvcm1hdHRlcjpvZmZcbi8vIENvcHlyaWdodCBDYW52YSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBHZW5lcmF0ZWQgZnJvbSBzZXJ2aWNlcy9odHRwL2h0dHAucHJvdG8uXG5cbmltcG9ydCB7XG4gIERlc2VyaWFsaXphdGlvbixcbn0gZnJvbSAnYmFzZS9zZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvbic7XG5pbXBvcnQge1xuICBTZXJpYWxpemF0aW9uLFxufSBmcm9tICdiYXNlL3NlcmlhbGl6YXRpb24vc2VyaWFsaXphdGlvbic7XG5cbmV4cG9ydCBjbGFzcyBDc3JmVG9rZW4ge1xuICByZWFkb25seSB0b2tlbjogc3RyaW5nO1xuICByZWFkb25seSBleHBpcnk6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdG9rZW46IHN0cmluZyxcbiAgICBleHBpcnk6IG51bWJlcixcbiAgfSkge1xuICAgIHRoaXMudG9rZW4gPSBvcHRzLnRva2VuO1xuICAgIHRoaXMuZXhwaXJ5ID0gb3B0cy5leHBpcnk7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENzcmZUb2tlbik6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdBJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndG9rZW4nLCBtLnRva2VuKSxcbiAgICAgICdCJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignZXhwaXJ5JywgbS5leHBpcnkpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3NyZlRva2VuIHtcbiAgICByZXR1cm4gbmV3IENzcmZUb2tlbih7XG4gICAgICB0b2tlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdBJywgbyksXG4gICAgICBleHBpcnk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignQicsIG8pLFxuICAgIH0pO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUlBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///21\n");

/***/ }),
/* 22 */
/*!*************************************************!*\
  !*** ./src/base/serialization/serialization.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Serialization\", function() { return Serialization; });\n/* harmony import */ var _type_serializer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type_serializer */ 23);\n// Copyright 2017 Canva Inc. All Rights Reserved.\r\n\r\nclass Serialization {\r\n    static requiredNumber(propertyName, x) {\r\n        return x !== 0 ? _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].NUMBER.required(propertyName, x) : undefined;\r\n    }\r\n    static optionalNumber(propertyName, x) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].NUMBER.optional(propertyName, x);\r\n    }\r\n    static repeatedNumber(propertyName, xs) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].NUMBER.repeated(propertyName, xs);\r\n    }\r\n    static requiredBoolean(propertyName, x) {\r\n        return x !== false ? _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].BOOLEAN.required(propertyName, x) : undefined;\r\n    }\r\n    static optionalBoolean(propertyName, x) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].BOOLEAN.optional(propertyName, x);\r\n    }\r\n    static repeatedBoolean(propertyName, xs) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].BOOLEAN.repeated(propertyName, xs);\r\n    }\r\n    static requiredString(propertyName, x) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].STRING.required(propertyName, x);\r\n    }\r\n    static optionalString(propertyName, x) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].STRING.optional(propertyName, x);\r\n    }\r\n    static repeatedString(propertyName, xs) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].STRING.repeated(propertyName, xs);\r\n    }\r\n    static requiredObject(serialize, propertyName, o) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].OBJECT.required(propertyName, serialize(o));\r\n    }\r\n    static optionalObject(serialize, propertyName, o) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].OBJECT.optional(propertyName, o ? serialize(o) : null);\r\n    }\r\n    static repeatedObject(serialize, propertyName, os) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].OBJECT.repeated(propertyName, os.map(serialize));\r\n    }\r\n    static requiredStringEnum(serialize, propertyName, x) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].STRING.required(propertyName, serialize(x));\r\n    }\r\n    static optionalStringEnum(serialize, propertyName, x) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].STRING.optional(propertyName, x ? serialize(x) : null);\r\n    }\r\n    static repeatedStringEnum(serialize, propertyName, xs) {\r\n        return _type_serializer__WEBPACK_IMPORTED_MODULE_0__[\"TypeSerializer\"].STRING.repeated(propertyName, xs.map(value => serialize(value)));\r\n    }\r\n    static numberObjectMap(serialize, propertyName, x) {\r\n        return Serialization.map(Serialization.numberMapKey, (name, data) => Serialization.objectMapValue(serialize, name, data), propertyName, x);\r\n    }\r\n    static numberNumberMap(propertyName, x) {\r\n        return Serialization.map(Serialization.numberMapKey, Serialization.numberMapValue, propertyName, x);\r\n    }\r\n    static numberStringMap(propertyName, x) {\r\n        return Serialization.map(Serialization.numberMapKey, Serialization.stringMapValue, propertyName, x);\r\n    }\r\n    static stringNumberMap(propertyName, x) {\r\n        return Serialization.map(Serialization.stringMapKey, Serialization.numberMapValue, propertyName, x);\r\n    }\r\n    static stringObjectMap(serialize, propertyName, x) {\r\n        return Serialization.map(Serialization.stringMapKey, (name, x) => Serialization.objectMapValue(serialize, name, x), propertyName, x);\r\n    }\r\n    static stringEnumMap(serialize, propertyName, x) {\r\n        return Serialization.map(Serialization.stringMapKey, (name, x) => Serialization.enumMapValue(serialize, name, x), propertyName, x);\r\n    }\r\n    static stringStringMap(propertyName, x) {\r\n        return Serialization.map(Serialization.stringMapKey, Serialization.stringMapValue, propertyName, x);\r\n    }\r\n    static map(serializeKey, serializeValue, name, x) {\r\n        if (!(x instanceof Map)) {\r\n            throw new TypeError(`expected Map for property \"${name}\", found: ${JSON.stringify(x)}`);\r\n        }\r\n        const o = {};\r\n        x.forEach((v, k) => {\r\n            o[serializeKey(name, k)] = serializeValue(name, v);\r\n        });\r\n        return o;\r\n    }\r\n    static numberMapKey(name, x) {\r\n        if (typeof x !== 'number') {\r\n            throw new TypeError(`expected number key in property \"${name}\", found: ${JSON.stringify(x)}`);\r\n        }\r\n        return String(x);\r\n    }\r\n    static stringMapKey(name, x) {\r\n        if (typeof x !== 'string') {\r\n            throw new TypeError(`expected string key in property \"${name}\", found: ${JSON.stringify(x)}`);\r\n        }\r\n        return x;\r\n    }\r\n    static numberMapValue(name, x) {\r\n        if (typeof x !== 'number') {\r\n            throw new TypeError(`expected number value in property \"${name}\", found: ${JSON.stringify(x)}`);\r\n        }\r\n        return x;\r\n    }\r\n    static objectMapValue(serialize, name, x) {\r\n        if (x == null || typeof x !== 'object') {\r\n            throw new TypeError(`expected object value in property \"${name}\", found: ${JSON.stringify(x)}`);\r\n        }\r\n        return serialize(x);\r\n    }\r\n    static stringMapValue(name, x) {\r\n        if (typeof x !== 'string') {\r\n            throw new TypeError(`expected string value in property \"${name}\", found: ${JSON.stringify(x)}`);\r\n        }\r\n        return x;\r\n    }\r\n    static enumMapValue(serialize, name, x) {\r\n        if (typeof x !== 'number') {\r\n            throw new TypeError(`expected number value in property \"${name}\", found: ${JSON.stringify(x)}`);\r\n        }\r\n        return serialize(x);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS9zZXJpYWxpemF0aW9uL3NlcmlhbGl6YXRpb24udHM/M2E3MSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgMjAxNyBDYW52YSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG5cbmltcG9ydCB7IFR5cGVTZXJpYWxpemVyIH0gZnJvbSAnLi90eXBlX3NlcmlhbGl6ZXInO1xuaW1wb3J0IHsgT2JqZWN0U2VyaWFsaXplciwgU2VyaWFsaXphYmxlLCBTdHJpbmdFbnVtU2VyaWFsaXplciB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgU2VyaWFsaXphdGlvbiB7XG4gIHN0YXRpYyByZXF1aXJlZE51bWJlcihwcm9wZXJ0eU5hbWU6IHN0cmluZywgeDogbnVtYmVyKTogU2VyaWFsaXphYmxlIHtcbiAgICByZXR1cm4geCAhPT0gMCA/IFR5cGVTZXJpYWxpemVyLk5VTUJFUi5yZXF1aXJlZChwcm9wZXJ0eU5hbWUsIHgpIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgc3RhdGljIG9wdGlvbmFsTnVtYmVyKHByb3BlcnR5TmFtZTogc3RyaW5nLCB4PzogbnVtYmVyIHwgbnVsbCk6IFNlcmlhbGl6YWJsZSB7XG4gICAgcmV0dXJuIFR5cGVTZXJpYWxpemVyLk5VTUJFUi5vcHRpb25hbChwcm9wZXJ0eU5hbWUsIHgpO1xuICB9XG5cbiAgc3RhdGljIHJlcGVhdGVkTnVtYmVyKHByb3BlcnR5TmFtZTogc3RyaW5nLCB4czogUmVhZG9ubHlBcnJheTxudW1iZXI+KTogU2VyaWFsaXphYmxlIHtcbiAgICByZXR1cm4gVHlwZVNlcmlhbGl6ZXIuTlVNQkVSLnJlcGVhdGVkKHByb3BlcnR5TmFtZSwgeHMpO1xuICB9XG5cbiAgc3RhdGljIHJlcXVpcmVkQm9vbGVhbihwcm9wZXJ0eU5hbWU6IHN0cmluZywgeDogYm9vbGVhbik6IFNlcmlhbGl6YWJsZSB7XG4gICAgcmV0dXJuIHggIT09IGZhbHNlID8gVHlwZVNlcmlhbGl6ZXIuQk9PTEVBTi5yZXF1aXJlZChwcm9wZXJ0eU5hbWUsIHgpIDogdW5kZWZpbmVkO1xuICB9XG5cbiAgc3RhdGljIG9wdGlvbmFsQm9vbGVhbihwcm9wZXJ0eU5hbWU6IHN0cmluZywgeD86IGJvb2xlYW4gfCBudWxsKTogU2VyaWFsaXphYmxlIHtcbiAgICByZXR1cm4gVHlwZVNlcmlhbGl6ZXIuQk9PTEVBTi5vcHRpb25hbChwcm9wZXJ0eU5hbWUsIHgpO1xuICB9XG5cbiAgc3RhdGljIHJlcGVhdGVkQm9vbGVhbihwcm9wZXJ0eU5hbWU6IHN0cmluZywgeHM6IFJlYWRvbmx5QXJyYXk8Ym9vbGVhbj4pOiBTZXJpYWxpemFibGUge1xuICAgIHJldHVybiBUeXBlU2VyaWFsaXplci5CT09MRUFOLnJlcGVhdGVkKHByb3BlcnR5TmFtZSwgeHMpO1xuICB9XG5cbiAgc3RhdGljIHJlcXVpcmVkU3RyaW5nKHByb3BlcnR5TmFtZTogc3RyaW5nLCB4OiBzdHJpbmcpOiBTZXJpYWxpemFibGUge1xuICAgIHJldHVybiBUeXBlU2VyaWFsaXplci5TVFJJTkcucmVxdWlyZWQocHJvcGVydHlOYW1lLCB4KTtcbiAgfVxuXG4gIHN0YXRpYyBvcHRpb25hbFN0cmluZyhwcm9wZXJ0eU5hbWU6IHN0cmluZywgeD86IHN0cmluZyB8IG51bGwpOiBTZXJpYWxpemFibGUge1xuICAgIHJldHVybiBUeXBlU2VyaWFsaXplci5TVFJJTkcub3B0aW9uYWwocHJvcGVydHlOYW1lLCB4KTtcbiAgfVxuXG4gIHN0YXRpYyByZXBlYXRlZFN0cmluZyhwcm9wZXJ0eU5hbWU6IHN0cmluZywgeHM6IFJlYWRvbmx5QXJyYXk8c3RyaW5nPik6IFNlcmlhbGl6YWJsZSB7XG4gICAgcmV0dXJuIFR5cGVTZXJpYWxpemVyLlNUUklORy5yZXBlYXRlZChwcm9wZXJ0eU5hbWUsIHhzKTtcbiAgfVxuXG4gIHN0YXRpYyByZXF1aXJlZE9iamVjdDxUPihzZXJpYWxpemU6IE9iamVjdFNlcmlhbGl6ZXI8VD4sIHByb3BlcnR5TmFtZTogc3RyaW5nLCBvOiBUKTogU2VyaWFsaXphYmxlIHtcbiAgICByZXR1cm4gVHlwZVNlcmlhbGl6ZXIuT0JKRUNULnJlcXVpcmVkKHByb3BlcnR5TmFtZSwgc2VyaWFsaXplKG8pKTtcbiAgfVxuXG4gIHN0YXRpYyBvcHRpb25hbE9iamVjdDxUPihzZXJpYWxpemU6IE9iamVjdFNlcmlhbGl6ZXI8VD4sIHByb3BlcnR5TmFtZTogc3RyaW5nLCBvPzogVCB8IG51bGwpOiBTZXJpYWxpemFibGUge1xuICAgIHJldHVybiBUeXBlU2VyaWFsaXplci5PQkpFQ1Qub3B0aW9uYWwocHJvcGVydHlOYW1lLCBvID8gc2VyaWFsaXplKG8pIDogbnVsbCk7XG4gIH1cblxuICBzdGF0aWMgcmVwZWF0ZWRPYmplY3Q8VD4oc2VyaWFsaXplOiBPYmplY3RTZXJpYWxpemVyPFQ+LCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgb3M6IFJlYWRvbmx5QXJyYXk8VD4pOiBTZXJpYWxpemFibGUge1xuICAgIHJldHVybiBUeXBlU2VyaWFsaXplci5PQkpFQ1QucmVwZWF0ZWQocHJvcGVydHlOYW1lLCBvcy5tYXAoc2VyaWFsaXplKSk7XG4gIH1cblxuICBzdGF0aWMgcmVxdWlyZWRTdHJpbmdFbnVtPFQ+KHNlcmlhbGl6ZTogU3RyaW5nRW51bVNlcmlhbGl6ZXI8VD4sIHByb3BlcnR5TmFtZTogc3RyaW5nLCB4OiBUKTogU2VyaWFsaXphYmxlIHtcbiAgICByZXR1cm4gVHlwZVNlcmlhbGl6ZXIuU1RSSU5HLnJlcXVpcmVkKHByb3BlcnR5TmFtZSwgc2VyaWFsaXplKHgpKTtcbiAgfVxuXG4gIHN0YXRpYyBvcHRpb25hbFN0cmluZ0VudW08VD4oc2VyaWFsaXplOiBTdHJpbmdFbnVtU2VyaWFsaXplcjxUPiwgcHJvcGVydHlOYW1lOiBzdHJpbmcsIHg/OiBUIHwgbnVsbCk6IFNlcmlhbGl6YWJsZSB7XG4gICAgcmV0dXJuIFR5cGVTZXJpYWxpemVyLlNUUklORy5vcHRpb25hbChwcm9wZXJ0eU5hbWUsIHggPyBzZXJpYWxpemUoeCkgOiBudWxsKTtcbiAgfVxuXG4gIHN0YXRpYyByZXBlYXRlZFN0cmluZ0VudW08VD4oc2VyaWFsaXplOiBTdHJpbmdFbnVtU2VyaWFsaXplcjxUPiwgcHJvcGVydHlOYW1lOiBzdHJpbmcsIHhzOiBSZWFkb25seUFycmF5PFQ+KTogU2VyaWFsaXphYmxlIHtcbiAgICByZXR1cm4gVHlwZVNlcmlhbGl6ZXIuU1RSSU5HLnJlcGVhdGVkKHByb3BlcnR5TmFtZSwgeHMubWFwKHZhbHVlID0+IHNlcmlhbGl6ZSh2YWx1ZSkpKTtcbiAgfVxuXG4gIHN0YXRpYyBudW1iZXJPYmplY3RNYXA8VD4oc2VyaWFsaXplOiBPYmplY3RTZXJpYWxpemVyPFQ+LCBwcm9wZXJ0eU5hbWU6IHN0cmluZywgeDogUmVhZG9ubHlNYXA8bnVtYmVyLCBUPik6IG9iamVjdCB7XG4gICAgcmV0dXJuIFNlcmlhbGl6YXRpb24ubWFwKFxuICAgICAgICBTZXJpYWxpemF0aW9uLm51bWJlck1hcEtleSxcbiAgICAgICAgKG5hbWUsIGRhdGE6IFQpID0+IFNlcmlhbGl6YXRpb24ub2JqZWN0TWFwVmFsdWUoc2VyaWFsaXplLCBuYW1lLCBkYXRhKSxcbiAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICB4LFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgbnVtYmVyTnVtYmVyTWFwPFQ+KHByb3BlcnR5TmFtZTogc3RyaW5nLCB4OiBSZWFkb25seU1hcDxudW1iZXIsIG51bWJlcj4pOiBvYmplY3Qge1xuICAgIHJldHVybiBTZXJpYWxpemF0aW9uLm1hcChcbiAgICAgICAgU2VyaWFsaXphdGlvbi5udW1iZXJNYXBLZXksXG4gICAgICAgIFNlcmlhbGl6YXRpb24ubnVtYmVyTWFwVmFsdWUsXG4gICAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgICAgeCxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIG51bWJlclN0cmluZ01hcDxUPihwcm9wZXJ0eU5hbWU6IHN0cmluZywgeDogUmVhZG9ubHlNYXA8bnVtYmVyLCBzdHJpbmc+KTogb2JqZWN0IHtcbiAgICByZXR1cm4gU2VyaWFsaXphdGlvbi5tYXAoXG4gICAgICAgIFNlcmlhbGl6YXRpb24ubnVtYmVyTWFwS2V5LFxuICAgICAgICBTZXJpYWxpemF0aW9uLnN0cmluZ01hcFZhbHVlLFxuICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgIHgsXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBzdHJpbmdOdW1iZXJNYXAocHJvcGVydHlOYW1lOiBzdHJpbmcsIHg6IFJlYWRvbmx5TWFwPHN0cmluZywgbnVtYmVyPik6IG9iamVjdCB7XG4gICAgcmV0dXJuIFNlcmlhbGl6YXRpb24ubWFwKFxuICAgICAgICBTZXJpYWxpemF0aW9uLnN0cmluZ01hcEtleSxcbiAgICAgICAgU2VyaWFsaXphdGlvbi5udW1iZXJNYXBWYWx1ZSxcbiAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICB4LFxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgc3RyaW5nT2JqZWN0TWFwPFQ+KHNlcmlhbGl6ZTogT2JqZWN0U2VyaWFsaXplcjxUPiwgcHJvcGVydHlOYW1lOiBzdHJpbmcsIHg6IFJlYWRvbmx5TWFwPHN0cmluZywgVD4pOiBvYmplY3Qge1xuICAgIHJldHVybiBTZXJpYWxpemF0aW9uLm1hcChcbiAgICAgICAgU2VyaWFsaXphdGlvbi5zdHJpbmdNYXBLZXksXG4gICAgICAgIChuYW1lLCB4OiBUKSA9PiBTZXJpYWxpemF0aW9uLm9iamVjdE1hcFZhbHVlKHNlcmlhbGl6ZSwgbmFtZSwgeCksXG4gICAgICAgIHByb3BlcnR5TmFtZSxcbiAgICAgICAgeCxcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIHN0cmluZ0VudW1NYXA8VD4oc2VyaWFsaXplOiBTdHJpbmdFbnVtU2VyaWFsaXplcjxUPiwgcHJvcGVydHlOYW1lOiBzdHJpbmcsIHg6IFJlYWRvbmx5TWFwPHN0cmluZywgVD4pOiBvYmplY3Qge1xuICAgIHJldHVybiBTZXJpYWxpemF0aW9uLm1hcChcbiAgICAgICAgU2VyaWFsaXphdGlvbi5zdHJpbmdNYXBLZXksXG4gICAgICAgIChuYW1lLCB4OiBUKSA9PiBTZXJpYWxpemF0aW9uLmVudW1NYXBWYWx1ZShzZXJpYWxpemUsIG5hbWUsIHgpLFxuICAgICAgICBwcm9wZXJ0eU5hbWUsXG4gICAgICAgIHgsXG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBzdHJpbmdTdHJpbmdNYXAocHJvcGVydHlOYW1lOiBzdHJpbmcsIHg6IFJlYWRvbmx5TWFwPHN0cmluZywgc3RyaW5nPik6IG9iamVjdCB7XG4gICAgcmV0dXJuIFNlcmlhbGl6YXRpb24ubWFwKFxuICAgICAgICBTZXJpYWxpemF0aW9uLnN0cmluZ01hcEtleSxcbiAgICAgICAgU2VyaWFsaXphdGlvbi5zdHJpbmdNYXBWYWx1ZSxcbiAgICAgICAgcHJvcGVydHlOYW1lLFxuICAgICAgICB4LFxuICAgICk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBtYXA8SywgVj4oc2VyaWFsaXplS2V5OiAoYTogc3RyaW5nLCBiOiBLKSA9PiBzdHJpbmcsIHNlcmlhbGl6ZVZhbHVlOiAoYTogc3RyaW5nLCBiOiBWKSA9PiBTZXJpYWxpemFibGUsIG5hbWU6IHN0cmluZywgeDogUmVhZG9ubHlNYXA8YW55LCBhbnk+KTogb2JqZWN0IHtcbiAgICBpZiAoISh4IGluc3RhbmNlb2YgTWFwKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgTWFwIGZvciBwcm9wZXJ0eSBcIiR7bmFtZX1cIiwgZm91bmQ6ICR7SlNPTi5zdHJpbmdpZnkoeCl9YCk7XG4gICAgfVxuICAgIGNvbnN0IG86IGFueSA9IHt9O1xuICAgIHguZm9yRWFjaCgodiwgaykgPT4ge1xuICAgICAgb1tzZXJpYWxpemVLZXkobmFtZSwgayldID0gc2VyaWFsaXplVmFsdWUobmFtZSwgdik7XG4gICAgfSk7XG4gICAgcmV0dXJuIG87XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBudW1iZXJNYXBLZXkobmFtZTogc3RyaW5nLCB4OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIGlmICh0eXBlb2YgeCAhPT0gJ251bWJlcicpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGVkIG51bWJlciBrZXkgaW4gcHJvcGVydHkgXCIke25hbWV9XCIsIGZvdW5kOiAke0pTT04uc3RyaW5naWZ5KHgpfWApO1xuICAgIH1cbiAgICByZXR1cm4gU3RyaW5nKHgpO1xuICB9XG5cbiAgcHJpdmF0ZSBzdGF0aWMgc3RyaW5nTWFwS2V5KG5hbWU6IHN0cmluZywgeDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBpZiAodHlwZW9mIHggIT09ICdzdHJpbmcnKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCBzdHJpbmcga2V5IGluIHByb3BlcnR5IFwiJHtuYW1lfVwiLCBmb3VuZDogJHtKU09OLnN0cmluZ2lmeSh4KX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBudW1iZXJNYXBWYWx1ZShuYW1lOiBzdHJpbmcsIHg6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKHR5cGVvZiB4ICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgbnVtYmVyIHZhbHVlIGluIHByb3BlcnR5IFwiJHtuYW1lfVwiLCBmb3VuZDogJHtKU09OLnN0cmluZ2lmeSh4KX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBvYmplY3RNYXBWYWx1ZTxUPihzZXJpYWxpemU6IE9iamVjdFNlcmlhbGl6ZXI8VD4sIG5hbWU6IHN0cmluZywgeDogVCk6IG9iamVjdCB7XG4gICAgaWYgKHggPT0gbnVsbCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGVkIG9iamVjdCB2YWx1ZSBpbiBwcm9wZXJ0eSBcIiR7bmFtZX1cIiwgZm91bmQ6ICR7SlNPTi5zdHJpbmdpZnkoeCl9YCk7XG4gICAgfVxuICAgIHJldHVybiBzZXJpYWxpemUoeCk7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBzdHJpbmdNYXBWYWx1ZShuYW1lOiBzdHJpbmcsIHg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKHR5cGVvZiB4ICE9PSAnc3RyaW5nJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgZXhwZWN0ZWQgc3RyaW5nIHZhbHVlIGluIHByb3BlcnR5IFwiJHtuYW1lfVwiLCBmb3VuZDogJHtKU09OLnN0cmluZ2lmeSh4KX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHg7XG4gIH1cblxuICBwcml2YXRlIHN0YXRpYyBlbnVtTWFwVmFsdWU8VD4oc2VyaWFsaXplOiBTdHJpbmdFbnVtU2VyaWFsaXplcjxUPiwgbmFtZTogc3RyaW5nLCB4OiBUKTogc3RyaW5nIHtcbiAgICBpZiAodHlwZW9mIHggIT09ICdudW1iZXInKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCBudW1iZXIgdmFsdWUgaW4gcHJvcGVydHkgXCIke25hbWV9XCIsIGZvdW5kOiAke0pTT04uc3RyaW5naWZ5KHgpfWApO1xuICAgIH1cblxuICAgIHJldHVybiBzZXJpYWxpemUoeCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQU1BO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n");

/***/ }),
/* 23 */
/*!***************************************************!*\
  !*** ./src/base/serialization/type_serializer.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TypeSerializer\", function() { return TypeSerializer; });\n/* harmony import */ var _type_xialiser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./type_xialiser */ 18);\n// Copyright 2017 Canva Inc. All Rights Reserved.\r\n\r\n/**\r\n * Represents a JavaScript type.\r\n */\r\nclass TypeSerializer extends _type_xialiser__WEBPACK_IMPORTED_MODULE_0__[\"TypeXializer\"] {\r\n    /**\r\n     * Writes a required property.\r\n     */\r\n    required(name, val) {\r\n        if (!this.isT(val)) {\r\n            throw new TypeError(`expected ${this.type} for property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return val;\r\n    }\r\n    /**\r\n     * Writes an optional property.  Null and undefined are treated as equivalent, and both coerced to\r\n     * undefined, in order that the output is elided by JSON.stringify().\r\n     */\r\n    optional(name, val) {\r\n        if (val == null) {\r\n            return undefined;\r\n        }\r\n        else if (!this.isT(val)) {\r\n            throw new TypeError(`expected optional ${this.type} for property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        return val;\r\n    }\r\n    /**\r\n     * Writes a repeated property.  0-length properties are coerced to undefined, in order that the\r\n     * output is elided by JSON.stringify().\r\n     */\r\n    repeated(name, val) {\r\n        if (!this.isTs(val)) {\r\n            throw new TypeError(`expected repeated ${this.type} for property \"${name}\", found: ${JSON.stringify(val)}`);\r\n        }\r\n        else if (val.length == 0) {\r\n            return undefined;\r\n        }\r\n        return val;\r\n    }\r\n}\r\nTypeSerializer.STRING = new TypeSerializer('string');\r\nTypeSerializer.BOOLEAN = new TypeSerializer('boolean');\r\nTypeSerializer.NUMBER = new TypeSerializer('number');\r\nTypeSerializer.OBJECT = new TypeSerializer('object');\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS9zZXJpYWxpemF0aW9uL3R5cGVfc2VyaWFsaXplci50cz9jNmM3Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAyMDE3IENhbnZhIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbmltcG9ydCB7IFR5cGVYaWFsaXplciB9IGZyb20gJy4vdHlwZV94aWFsaXNlcic7XG5pbXBvcnQgeyBTZXJpYWxpemFibGUgfSBmcm9tICcuL3R5cGVzJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgSmF2YVNjcmlwdCB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgVHlwZVNlcmlhbGl6ZXI8VCBleHRlbmRzIFNlcmlhbGl6YWJsZT4gZXh0ZW5kcyBUeXBlWGlhbGl6ZXI8VD4ge1xuXG4gIHN0YXRpYyBTVFJJTkcgPSBuZXcgVHlwZVNlcmlhbGl6ZXI8c3RyaW5nPignc3RyaW5nJyk7XG4gIHN0YXRpYyBCT09MRUFOID0gbmV3IFR5cGVTZXJpYWxpemVyPGJvb2xlYW4+KCdib29sZWFuJyk7XG4gIHN0YXRpYyBOVU1CRVIgPSBuZXcgVHlwZVNlcmlhbGl6ZXI8bnVtYmVyPignbnVtYmVyJyk7XG4gIHN0YXRpYyBPQkpFQ1QgPSBuZXcgVHlwZVNlcmlhbGl6ZXI8b2JqZWN0Pignb2JqZWN0Jyk7XG5cbiAgLyoqXG4gICAqIFdyaXRlcyBhIHJlcXVpcmVkIHByb3BlcnR5LlxuICAgKi9cbiAgcmVxdWlyZWQobmFtZTogc3RyaW5nLCB2YWw6IFQpOiBUIHtcbiAgICBpZiAoIXRoaXMuaXNUKHZhbCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGVkICR7dGhpcy50eXBlfSBmb3IgcHJvcGVydHkgXCIke25hbWV9XCIsIGZvdW5kOiAke0pTT04uc3RyaW5naWZ5KHZhbCl9YCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICAvKipcbiAgICogV3JpdGVzIGFuIG9wdGlvbmFsIHByb3BlcnR5LiAgTnVsbCBhbmQgdW5kZWZpbmVkIGFyZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQsIGFuZCBib3RoIGNvZXJjZWQgdG9cbiAgICogdW5kZWZpbmVkLCBpbiBvcmRlciB0aGF0IHRoZSBvdXRwdXQgaXMgZWxpZGVkIGJ5IEpTT04uc3RyaW5naWZ5KCkuXG4gICAqL1xuICBvcHRpb25hbChuYW1lOiBzdHJpbmcsIHZhbD86IFQgfCBudWxsKTogVCB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNUKHZhbCkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGVkIG9wdGlvbmFsICR7dGhpcy50eXBlfSBmb3IgcHJvcGVydHkgXCIke25hbWV9XCIsIGZvdW5kOiAke0pTT04uc3RyaW5naWZ5KHZhbCl9YCk7XG4gICAgfVxuICAgIHJldHVybiB2YWw7XG4gIH1cblxuICAvKipcbiAgICogV3JpdGVzIGEgcmVwZWF0ZWQgcHJvcGVydHkuICAwLWxlbmd0aCBwcm9wZXJ0aWVzIGFyZSBjb2VyY2VkIHRvIHVuZGVmaW5lZCwgaW4gb3JkZXIgdGhhdCB0aGVcbiAgICogb3V0cHV0IGlzIGVsaWRlZCBieSBKU09OLnN0cmluZ2lmeSgpLlxuICAgKi9cbiAgcmVwZWF0ZWQobmFtZTogc3RyaW5nLCB2YWw6IFJlYWRvbmx5QXJyYXk8VD4pOiBSZWFkb25seUFycmF5PFQ+IHwgdW5kZWZpbmVkIHtcbiAgICBpZiAoIXRoaXMuaXNUcyh2YWwpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBleHBlY3RlZCByZXBlYXRlZCAke3RoaXMudHlwZX0gZm9yIHByb3BlcnR5IFwiJHtuYW1lfVwiLCBmb3VuZDogJHtKU09OLnN0cmluZ2lmeSh2YWwpfWApO1xuICAgIH0gZWxzZSBpZiAodmFsLmxlbmd0aCA9PSAwKSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBO0FBT0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBdkNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///23\n");

/***/ }),
/* 24 */
/*!***********************************************!*\
  !*** ./src/services/http/parse_http_error.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"parseHttpError\", function() { return parseHttpError; });\n/* harmony import */ var services_http_http_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! services/http/http_service */ 20);\n// Copyright 2018 Canva Inc. All Rights Reserved.\r\n\r\nfunction parseHttpError(status, message, endUserMessage, body) {\r\n    switch (status) {\r\n        case 400:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpBadRequestError\"](message, endUserMessage, body);\r\n        case 401:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpUnauthorizedError\"](message, endUserMessage, body);\r\n        case 403:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpForbiddenError\"](message, endUserMessage, body);\r\n        case 404:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpNotFoundError\"](message, endUserMessage, body);\r\n        case 409:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpConflictError\"](message, endUserMessage, body);\r\n        case 418:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"CsrfTokenExpiredError\"](message, endUserMessage, body);\r\n        case 429:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpTooManyRequestsError\"](message, endUserMessage, body);\r\n        case 500:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpInternalServerError\"](message, endUserMessage, body);\r\n        case 503:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpServiceUnavailableError\"](message, endUserMessage, body);\r\n        case 504:\r\n            return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"HttpGatewayTimeout\"](message, endUserMessage, body);\r\n        default:\r\n            if (400 <= status && status < 500) {\r\n                return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"UnknownClientError\"](status, message, endUserMessage, body);\r\n            }\r\n            else if (500 <= status && status < 600) {\r\n                return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"UnknownServerError\"](status, message, endUserMessage, body);\r\n            }\r\n            else {\r\n                return new services_http_http_service__WEBPACK_IMPORTED_MODULE_0__[\"UnknownHttpError\"](status, message);\r\n            }\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvaHR0cC9wYXJzZV9odHRwX2Vycm9yLnRzPzc2NTIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTggQ2FudmEgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG5pbXBvcnQge1xuICBDc3JmVG9rZW5FeHBpcmVkRXJyb3IsXG4gIEh0dHBCYWRSZXF1ZXN0RXJyb3IsXG4gIEh0dHBDb25mbGljdEVycm9yLFxuICBIdHRwRm9yYmlkZGVuRXJyb3IsXG4gIEh0dHBHYXRld2F5VGltZW91dCxcbiAgSHR0cEludGVybmFsU2VydmVyRXJyb3IsXG4gIEh0dHBOb3RGb3VuZEVycm9yLFxuICBIdHRwU2VydmljZUVycm9yLFxuICBIdHRwU2VydmljZVVuYXZhaWxhYmxlRXJyb3IsXG4gIEh0dHBUb29NYW55UmVxdWVzdHNFcnJvcixcbiAgSHR0cFVuYXV0aG9yaXplZEVycm9yLFxuICBVbmtub3duQ2xpZW50RXJyb3IsXG4gIFVua25vd25IdHRwRXJyb3IsXG4gIFVua25vd25TZXJ2ZXJFcnJvcixcbn0gZnJvbSAnc2VydmljZXMvaHR0cC9odHRwX3NlcnZpY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VIdHRwRXJyb3IoXG4gICAgc3RhdHVzOiBudW1iZXIsXG4gICAgbWVzc2FnZT86IHN0cmluZyxcbiAgICBlbmRVc2VyTWVzc2FnZT86IHN0cmluZyxcbiAgICBib2R5Pzogb2JqZWN0LFxuKTogSHR0cFNlcnZpY2VFcnJvciB7XG4gIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgY2FzZSA0MDA6XG4gICAgICByZXR1cm4gbmV3IEh0dHBCYWRSZXF1ZXN0RXJyb3IobWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkpO1xuICAgIGNhc2UgNDAxOlxuICAgICAgcmV0dXJuIG5ldyBIdHRwVW5hdXRob3JpemVkRXJyb3IobWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkpO1xuICAgIGNhc2UgNDAzOlxuICAgICAgcmV0dXJuIG5ldyBIdHRwRm9yYmlkZGVuRXJyb3IobWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkpO1xuICAgIGNhc2UgNDA0OlxuICAgICAgcmV0dXJuIG5ldyBIdHRwTm90Rm91bmRFcnJvcihtZXNzYWdlLCBlbmRVc2VyTWVzc2FnZSwgYm9keSk7XG4gICAgY2FzZSA0MDk6XG4gICAgICByZXR1cm4gbmV3IEh0dHBDb25mbGljdEVycm9yKG1lc3NhZ2UsIGVuZFVzZXJNZXNzYWdlLCBib2R5KTtcbiAgICBjYXNlIDQxODpcbiAgICAgIHJldHVybiBuZXcgQ3NyZlRva2VuRXhwaXJlZEVycm9yKG1lc3NhZ2UsIGVuZFVzZXJNZXNzYWdlLCBib2R5KTtcbiAgICBjYXNlIDQyOTpcbiAgICAgIHJldHVybiBuZXcgSHR0cFRvb01hbnlSZXF1ZXN0c0Vycm9yKG1lc3NhZ2UsIGVuZFVzZXJNZXNzYWdlLCBib2R5KTtcbiAgICBjYXNlIDUwMDpcbiAgICAgIHJldHVybiBuZXcgSHR0cEludGVybmFsU2VydmVyRXJyb3IobWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkpO1xuICAgIGNhc2UgNTAzOlxuICAgICAgcmV0dXJuIG5ldyBIdHRwU2VydmljZVVuYXZhaWxhYmxlRXJyb3IobWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkpO1xuICAgIGNhc2UgNTA0OlxuICAgICAgcmV0dXJuIG5ldyBIdHRwR2F0ZXdheVRpbWVvdXQobWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAoNDAwIDw9IHN0YXR1cyAmJiBzdGF0dXMgPCA1MDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbmtub3duQ2xpZW50RXJyb3Ioc3RhdHVzLCBtZXNzYWdlLCBlbmRVc2VyTWVzc2FnZSwgYm9keSk7XG4gICAgICB9IGVsc2UgaWYgKDUwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgNjAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5rbm93blNlcnZlckVycm9yKHN0YXR1cywgbWVzc2FnZSwgZW5kVXNlck1lc3NhZ2UsIGJvZHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVbmtub3duSHR0cEVycm9yKHN0YXR1cywgbWVzc2FnZSk7XG4gICAgICB9XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQWlCQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///24\n");

/***/ }),
/* 25 */
/*!*****************************************!*\
  !*** ./src/services/http/xhr_engine.ts ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"XHREngine\", function() { return XHREngine; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n\r\nclass XHRResponse {\r\n    constructor(xhr) {\r\n        this.xhr = xhr;\r\n    }\r\n    get status() {\r\n        return this.xhr.status;\r\n    }\r\n    getResponseHeader(n) {\r\n        return this.xhr.getResponseHeader(n);\r\n    }\r\n}\r\nclass XHRTextResponse extends XHRResponse {\r\n    get body() {\r\n        return this.xhr.responseText;\r\n    }\r\n}\r\nclass XHRBlobResponse extends XHRResponse {\r\n    get body() {\r\n        return this.xhr.response;\r\n    }\r\n}\r\nclass XHREngine {\r\n    requestBlob(req) {\r\n        return this.sendRequest(Object.assign({}, req, { responseType: 'blob' }));\r\n    }\r\n    requestText(req) {\r\n        return this.sendRequest(Object.assign({}, req, { responseType: 'text' }));\r\n    }\r\n    sendRequest(req) {\r\n        return new Promise((res, rej) => {\r\n            const xhr = new XMLHttpRequest();\r\n            xhr.responseType = req.responseType;\r\n            xhr.timeout = req.timeout || 0;\r\n            xhr.onload = () => {\r\n                if (req.responseType === 'blob') {\r\n                    return res(new XHRBlobResponse(xhr));\r\n                }\r\n                else if (req.responseType === 'text') {\r\n                    return res(new XHRTextResponse(xhr));\r\n                }\r\n                else {\r\n                    throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](req.responseType);\r\n                }\r\n            };\r\n            xhr.onerror = rej;\r\n            xhr.ontimeout = rej;\r\n            if (req.uploadProgress) {\r\n                xhr.upload.addEventListener('progress', req.uploadProgress);\r\n            }\r\n            xhr.open(req.method, req.url, true);\r\n            if (req.headers) {\r\n                for (const k in req.headers) {\r\n                    const header = req.headers[k];\r\n                    if (header != null) {\r\n                        xhr.setRequestHeader(k, header);\r\n                    }\r\n                }\r\n            }\r\n            xhr.withCredentials = !!req.withCredentials;\r\n            xhr.send(req.body);\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvaHR0cC94aHJfZW5naW5lLnRzPzY1N2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVW5yZWFjaGFibGVFcnJvciB9IGZyb20gJ2Jhc2UvcHJlY29uZGl0aW9ucyc7XG5pbXBvcnQge1xuICBIdHRwRW5naW5lLFxuICBIdHRwUmVxdWVzdCxcbiAgSHR0cFJlc3BvbnNlLFxuICBSZXNwb25zZVR5cGUsXG4gIFR5cGVkSHR0cFJlcXVlc3QsXG59IGZyb20gJy4vaHR0cF9lbmdpbmUnO1xuXG5hYnN0cmFjdCBjbGFzcyBYSFJSZXNwb25zZTxUIGV4dGVuZHMgc3RyaW5nIHwgQmxvYj4gaW1wbGVtZW50cyBIdHRwUmVzcG9uc2U8VD4ge1xuICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgcmVhZG9ubHkgeGhyOiBYTUxIdHRwUmVxdWVzdCkge1xuICB9XG5cbiAgZ2V0IHN0YXR1cygpIHtcbiAgICByZXR1cm4gdGhpcy54aHIuc3RhdHVzO1xuICB9XG5cbiAgYWJzdHJhY3QgZ2V0IGJvZHkoKTogVDtcblxuICBnZXRSZXNwb25zZUhlYWRlcihuOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gdGhpcy54aHIuZ2V0UmVzcG9uc2VIZWFkZXIobik7XG4gIH1cbn1cblxuY2xhc3MgWEhSVGV4dFJlc3BvbnNlIGV4dGVuZHMgWEhSUmVzcG9uc2U8c3RyaW5nPiB7XG4gIGdldCBib2R5KCkge1xuICAgIHJldHVybiB0aGlzLnhoci5yZXNwb25zZVRleHQ7XG4gIH1cbn1cblxuY2xhc3MgWEhSQmxvYlJlc3BvbnNlIGV4dGVuZHMgWEhSUmVzcG9uc2U8QmxvYj4ge1xuICBnZXQgYm9keSgpIHtcbiAgICByZXR1cm4gdGhpcy54aHIucmVzcG9uc2U7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFhIUkVuZ2luZSBpbXBsZW1lbnRzIEh0dHBFbmdpbmUge1xuXG4gIHJlcXVlc3RCbG9iKHJlcTogSHR0cFJlcXVlc3QpOiBQcm9taXNlPEh0dHBSZXNwb25zZTxCbG9iPj4ge1xuICAgIHJldHVybiB0aGlzLnNlbmRSZXF1ZXN0KHsgLi4ucmVxLCByZXNwb25zZVR5cGU6ICdibG9iJyB9KTtcbiAgfVxuXG4gIHJlcXVlc3RUZXh0KHJlcTogSHR0cFJlcXVlc3QpOiBQcm9taXNlPEh0dHBSZXNwb25zZTxzdHJpbmc+PiB7XG4gICAgcmV0dXJuIHRoaXMuc2VuZFJlcXVlc3QoeyAuLi5yZXEsIHJlc3BvbnNlVHlwZTogJ3RleHQnIH0pO1xuICB9XG5cbiAgc2VuZFJlcXVlc3QocmVxOiBUeXBlZEh0dHBSZXF1ZXN0PCd0ZXh0Jz4pOiBQcm9taXNlPEh0dHBSZXNwb25zZTxzdHJpbmc+PjtcbiAgc2VuZFJlcXVlc3QocmVxOiBUeXBlZEh0dHBSZXF1ZXN0PCdibG9iJz4pOiBQcm9taXNlPEh0dHBSZXNwb25zZTxCbG9iPj47XG4gIHNlbmRSZXF1ZXN0KHJlcTogVHlwZWRIdHRwUmVxdWVzdDxSZXNwb25zZVR5cGU+KTogUHJvbWlzZTxIdHRwUmVzcG9uc2U8c3RyaW5nIHwgQmxvYj4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2U8WEhSVGV4dFJlc3BvbnNlIHwgWEhSQmxvYlJlc3BvbnNlPigocmVzLCByZWopID0+IHtcbiAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlcS5yZXNwb25zZVR5cGU7XG4gICAgICB4aHIudGltZW91dCA9IHJlcS50aW1lb3V0IHx8IDA7XG4gICAgICB4aHIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICBpZiAocmVxLnJlc3BvbnNlVHlwZSA9PT0gJ2Jsb2InKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcyhuZXcgWEhSQmxvYlJlc3BvbnNlKHhocikpO1xuICAgICAgICB9IGVsc2UgaWYgKHJlcS5yZXNwb25zZVR5cGUgPT09ICd0ZXh0Jykge1xuICAgICAgICAgIHJldHVybiByZXMobmV3IFhIUlRleHRSZXNwb25zZSh4aHIpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcihyZXEucmVzcG9uc2VUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHhoci5vbmVycm9yID0gcmVqO1xuICAgICAgeGhyLm9udGltZW91dCA9IHJlajtcbiAgICAgIGlmIChyZXEudXBsb2FkUHJvZ3Jlc3MpIHtcbiAgICAgICAgeGhyLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHJlcS51cGxvYWRQcm9ncmVzcyk7XG4gICAgICB9XG4gICAgICB4aHIub3BlbihyZXEubWV0aG9kLCByZXEudXJsLCB0cnVlKTtcbiAgICAgIGlmIChyZXEuaGVhZGVycykge1xuICAgICAgICBmb3IgKGNvbnN0IGsgaW4gcmVxLmhlYWRlcnMpIHtcbiAgICAgICAgICBjb25zdCBoZWFkZXIgPSByZXEuaGVhZGVyc1trXTtcbiAgICAgICAgICBpZiAoaGVhZGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGssIGhlYWRlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gISFyZXEud2l0aENyZWRlbnRpYWxzO1xuICAgICAgeGhyLnNlbmQocmVxLmJvZHkpO1xuICAgIH0pO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///25\n");

/***/ }),
/* 26 */
/*!***********************************************************!*\
  !*** ./src/services/http/http_service_bootstrap_proto.ts ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpServiceBootstrap\", function() { return HttpServiceBootstrap; });\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n/* harmony import */ var _http_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http_proto */ 21);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from services/http/http_service_bootstrap.proto.\r\n\r\n\r\n\r\nclass HttpServiceBootstrap {\r\n    constructor(opts) {\r\n        /** Opaque context properties that a client is expected to send on every request. */\r\n        this.analyticsContext = opts.analyticsContext;\r\n        this.authToken = opts.authToken;\r\n        this.authzToken = opts.authzToken;\r\n        this.brandRestriction = opts.brandRestriction;\r\n        this.buildName = opts.buildName;\r\n        this.buildSha = opts.buildSha;\r\n        /**\r\n         * Not needed to be sent by clients, but once AFE and CFE are completely separated, this must\r\n         * be sent by server in order for clients to derive the request url.\r\n         */\r\n        this.serverRoot = opts.serverRoot;\r\n        /** An optional set of tokens, to bootstrap a client's CSRF token suite. */\r\n        this.csrfTokens = opts.csrfTokens || new Map();\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'A': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('analyticsContext', m.analyticsContext),\r\n            'B': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('authToken', m.authToken),\r\n            'C': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('authzToken', m.authzToken),\r\n            'D': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('brandRestriction', m.brandRestriction),\r\n            'E': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('buildName', m.buildName),\r\n            'F': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('buildSha', m.buildSha),\r\n            'G': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('serverRoot', m.serverRoot),\r\n            'H': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].stringObjectMap(_http_proto__WEBPACK_IMPORTED_MODULE_2__[\"CsrfToken\"].serialize, 'csrfTokens', m.csrfTokens),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new HttpServiceBootstrap({\r\n            analyticsContext: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('A', o),\r\n            authToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('B', o),\r\n            authzToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('C', o),\r\n            brandRestriction: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('D', o),\r\n            buildName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('E', o),\r\n            buildSha: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('F', o),\r\n            serverRoot: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('G', o),\r\n            csrfTokens: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].stringObjectMap(_http_proto__WEBPACK_IMPORTED_MODULE_2__[\"CsrfToken\"].deserialize, 'H', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvaHR0cC9odHRwX3NlcnZpY2VfYm9vdHN0cmFwX3Byb3RvLnRzPzNlY2UiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZvcm1hdHRlcjpvZmZcbi8vIENvcHlyaWdodCBDYW52YSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBHZW5lcmF0ZWQgZnJvbSBzZXJ2aWNlcy9odHRwL2h0dHBfc2VydmljZV9ib290c3RyYXAucHJvdG8uXG5cbmltcG9ydCB7XG4gIERlc2VyaWFsaXphdGlvbixcbn0gZnJvbSAnYmFzZS9zZXJpYWxpemF0aW9uL2Rlc2VyaWFsaXphdGlvbic7XG5pbXBvcnQge1xuICBTZXJpYWxpemF0aW9uLFxufSBmcm9tICdiYXNlL3NlcmlhbGl6YXRpb24vc2VyaWFsaXphdGlvbic7XG5pbXBvcnQge1xuICBDc3JmVG9rZW4sXG59IGZyb20gJy4vaHR0cF9wcm90byc7XG5cbmV4cG9ydCBjbGFzcyBIdHRwU2VydmljZUJvb3RzdHJhcCB7XG4gIC8qKiBPcGFxdWUgY29udGV4dCBwcm9wZXJ0aWVzIHRoYXQgYSBjbGllbnQgaXMgZXhwZWN0ZWQgdG8gc2VuZCBvbiBldmVyeSByZXF1ZXN0LiAqL1xuICByZWFkb25seSBhbmFseXRpY3NDb250ZXh0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGF1dGhUb2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBhdXRoelRva2VuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGJyYW5kUmVzdHJpY3Rpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYnVpbGROYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGJ1aWxkU2hhOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBOb3QgbmVlZGVkIHRvIGJlIHNlbnQgYnkgY2xpZW50cywgYnV0IG9uY2UgQUZFIGFuZCBDRkUgYXJlIGNvbXBsZXRlbHkgc2VwYXJhdGVkLCB0aGlzIG11c3RcbiAgICogYmUgc2VudCBieSBzZXJ2ZXIgaW4gb3JkZXIgZm9yIGNsaWVudHMgdG8gZGVyaXZlIHRoZSByZXF1ZXN0IHVybC5cbiAgICovXG4gIHJlYWRvbmx5IHNlcnZlclJvb3Q6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIEFuIG9wdGlvbmFsIHNldCBvZiB0b2tlbnMsIHRvIGJvb3RzdHJhcCBhIGNsaWVudCdzIENTUkYgdG9rZW4gc3VpdGUuICovXG4gIHJlYWRvbmx5IGNzcmZUb2tlbnM6IFJlYWRvbmx5TWFwPHN0cmluZywgQ3NyZlRva2VuPjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIE9wYXF1ZSBjb250ZXh0IHByb3BlcnRpZXMgdGhhdCBhIGNsaWVudCBpcyBleHBlY3RlZCB0byBzZW5kIG9uIGV2ZXJ5IHJlcXVlc3QuICovXG4gICAgYW5hbHl0aWNzQ29udGV4dD86IHN0cmluZyxcbiAgICBhdXRoVG9rZW4/OiBzdHJpbmcsXG4gICAgYXV0aHpUb2tlbj86IHN0cmluZyxcbiAgICBicmFuZFJlc3RyaWN0aW9uPzogc3RyaW5nLFxuICAgIGJ1aWxkTmFtZT86IHN0cmluZyxcbiAgICBidWlsZFNoYT86IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBOb3QgbmVlZGVkIHRvIGJlIHNlbnQgYnkgY2xpZW50cywgYnV0IG9uY2UgQUZFIGFuZCBDRkUgYXJlIGNvbXBsZXRlbHkgc2VwYXJhdGVkLCB0aGlzIG11c3RcbiAgICAgKiBiZSBzZW50IGJ5IHNlcnZlciBpbiBvcmRlciBmb3IgY2xpZW50cyB0byBkZXJpdmUgdGhlIHJlcXVlc3QgdXJsLlxuICAgICAqL1xuICAgIHNlcnZlclJvb3Q/OiBzdHJpbmcsXG4gICAgLyoqIEFuIG9wdGlvbmFsIHNldCBvZiB0b2tlbnMsIHRvIGJvb3RzdHJhcCBhIGNsaWVudCdzIENTUkYgdG9rZW4gc3VpdGUuICovXG4gICAgY3NyZlRva2Vucz86IFJlYWRvbmx5TWFwPHN0cmluZywgQ3NyZlRva2VuPixcbiAgfSkge1xuICAgIC8qKiBPcGFxdWUgY29udGV4dCBwcm9wZXJ0aWVzIHRoYXQgYSBjbGllbnQgaXMgZXhwZWN0ZWQgdG8gc2VuZCBvbiBldmVyeSByZXF1ZXN0LiAqL1xuICAgIHRoaXMuYW5hbHl0aWNzQ29udGV4dCA9IG9wdHMuYW5hbHl0aWNzQ29udGV4dDtcbiAgICB0aGlzLmF1dGhUb2tlbiA9IG9wdHMuYXV0aFRva2VuO1xuICAgIHRoaXMuYXV0aHpUb2tlbiA9IG9wdHMuYXV0aHpUb2tlbjtcbiAgICB0aGlzLmJyYW5kUmVzdHJpY3Rpb24gPSBvcHRzLmJyYW5kUmVzdHJpY3Rpb247XG4gICAgdGhpcy5idWlsZE5hbWUgPSBvcHRzLmJ1aWxkTmFtZTtcbiAgICB0aGlzLmJ1aWxkU2hhID0gb3B0cy5idWlsZFNoYTtcbiAgICAvKipcbiAgICAgKiBOb3QgbmVlZGVkIHRvIGJlIHNlbnQgYnkgY2xpZW50cywgYnV0IG9uY2UgQUZFIGFuZCBDRkUgYXJlIGNvbXBsZXRlbHkgc2VwYXJhdGVkLCB0aGlzIG11c3RcbiAgICAgKiBiZSBzZW50IGJ5IHNlcnZlciBpbiBvcmRlciBmb3IgY2xpZW50cyB0byBkZXJpdmUgdGhlIHJlcXVlc3QgdXJsLlxuICAgICAqL1xuICAgIHRoaXMuc2VydmVyUm9vdCA9IG9wdHMuc2VydmVyUm9vdDtcbiAgICAvKiogQW4gb3B0aW9uYWwgc2V0IG9mIHRva2VucywgdG8gYm9vdHN0cmFwIGEgY2xpZW50J3MgQ1NSRiB0b2tlbiBzdWl0ZS4gKi9cbiAgICB0aGlzLmNzcmZUb2tlbnMgPSBvcHRzLmNzcmZUb2tlbnMgfHwgbmV3IE1hcCgpO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBIdHRwU2VydmljZUJvb3RzdHJhcCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdBJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYW5hbHl0aWNzQ29udGV4dCcsIG0uYW5hbHl0aWNzQ29udGV4dCksXG4gICAgICAnQic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2F1dGhUb2tlbicsIG0uYXV0aFRva2VuKSxcbiAgICAgICdDJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYXV0aHpUb2tlbicsIG0uYXV0aHpUb2tlbiksXG4gICAgICAnRCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kUmVzdHJpY3Rpb24nLCBtLmJyYW5kUmVzdHJpY3Rpb24pLFxuICAgICAgJ0UnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdidWlsZE5hbWUnLCBtLmJ1aWxkTmFtZSksXG4gICAgICAnRic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J1aWxkU2hhJywgbS5idWlsZFNoYSksXG4gICAgICAnRyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3NlcnZlclJvb3QnLCBtLnNlcnZlclJvb3QpLFxuICAgICAgJ0gnOiBTZXJpYWxpemF0aW9uLnN0cmluZ09iamVjdE1hcChDc3JmVG9rZW4uc2VyaWFsaXplLCAnY3NyZlRva2VucycsIG0uY3NyZlRva2VucyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBIdHRwU2VydmljZUJvb3RzdHJhcCB7XG4gICAgcmV0dXJuIG5ldyBIdHRwU2VydmljZUJvb3RzdHJhcCh7XG4gICAgICBhbmFseXRpY3NDb250ZXh0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ0EnLCBvKSxcbiAgICAgIGF1dGhUb2tlbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdCJywgbyksXG4gICAgICBhdXRoelRva2VuOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ0MnLCBvKSxcbiAgICAgIGJyYW5kUmVzdHJpY3Rpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnRCcsIG8pLFxuICAgICAgYnVpbGROYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ0UnLCBvKSxcbiAgICAgIGJ1aWxkU2hhOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ0YnLCBvKSxcbiAgICAgIHNlcnZlclJvb3Q6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnRycsIG8pLFxuICAgICAgY3NyZlRva2VuczogRGVzZXJpYWxpemF0aW9uLnN0cmluZ09iamVjdE1hcChDc3JmVG9rZW4uZGVzZXJpYWxpemUsICdIJywgbyksXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUlBO0FBZ0JBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///26\n");

/***/ }),
/* 27 */
/*!*************************************************!*\
  !*** ./src/services/login/http_login_client.ts ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpLoginClient\", function() { return HttpLoginClient; });\n/* harmony import */ var base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/url_builder/url_builder */ 28);\n/* harmony import */ var services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! services/profile/profile_proto */ 29);\n/* harmony import */ var _login_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./login_proto */ 33);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\nclass HttpLoginClient {\r\n    constructor(httpService) {\r\n        this.httpService = httpService;\r\n    }\r\n    login(credentials, useFixedPersistence = false) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpLoginClient.BASE,\r\n            ]).withParams({\r\n                // This parameter is used in canva button mode for header mode authentication\r\n                ['_fixedPersistence']: useFixedPersistence || undefined,\r\n            }).toURI();\r\n            const response = yield this.httpService.post(url, services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_1__[\"Credentials\"].serialize(credentials));\r\n            return _login_proto__WEBPACK_IMPORTED_MODULE_2__[\"LoginResponse\"].deserialize(response);\r\n        });\r\n    }\r\n    oauthLogin(credentials) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpLoginClient.BASE,\r\n                HttpLoginClient.OAUTH,\r\n            ]).toURI();\r\n            const response = yield this.httpService.post(url, services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_1__[\"Credentials\"].serialize(credentials));\r\n            return _login_proto__WEBPACK_IMPORTED_MODULE_2__[\"LoginResponse\"].deserialize(response);\r\n        });\r\n    }\r\n}\r\nHttpLoginClient.BASE = 'login';\r\nHttpLoginClient.OAUTH = 'oauth';\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvbG9naW4vaHR0cF9sb2dpbl9jbGllbnQudHM/OGM0YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVcmxCdWlsZGVyIH0gZnJvbSAnYmFzZS91cmxfYnVpbGRlci91cmxfYnVpbGRlcic7XG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gJ3NlcnZpY2VzL2h0dHAvaHR0cF9zZXJ2aWNlJztcbmltcG9ydCB7IENyZWRlbnRpYWxzIH0gZnJvbSAnc2VydmljZXMvcHJvZmlsZS9wcm9maWxlX3Byb3RvJztcblxuaW1wb3J0IHsgTG9naW5SZXNwb25zZSB9IGZyb20gJy4vbG9naW5fcHJvdG8nO1xuaW1wb3J0IHsgTG9naW5TZXJ2aWNlIH0gZnJvbSAnLi9sb2dpbl9zZXJ2aWNlJztcblxuZXhwb3J0IGNsYXNzIEh0dHBMb2dpbkNsaWVudCBpbXBsZW1lbnRzIExvZ2luU2VydmljZSB7XG4gIHByaXZhdGUgc3RhdGljIEJBU0UgPSAnbG9naW4nO1xuICBwcml2YXRlIHN0YXRpYyBPQVVUSCA9ICdvYXV0aCc7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBodHRwU2VydmljZTogSHR0cFNlcnZpY2UpIHtcbiAgfVxuXG4gIGFzeW5jIGxvZ2luKFxuICAgICAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzLFxuICAgICAgdXNlRml4ZWRQZXJzaXN0ZW5jZTogYm9vbGVhbiA9IGZhbHNlLFxuICApOiBQcm9taXNlPExvZ2luUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwTG9naW5DbGllbnQuQkFTRSxcbiAgICBdKS53aXRoUGFyYW1zKHtcbiAgICAgIC8vIFRoaXMgcGFyYW1ldGVyIGlzIHVzZWQgaW4gY2FudmEgYnV0dG9uIG1vZGUgZm9yIGhlYWRlciBtb2RlIGF1dGhlbnRpY2F0aW9uXG4gICAgICBbJ19maXhlZFBlcnNpc3RlbmNlJ106IHVzZUZpeGVkUGVyc2lzdGVuY2UgfHwgdW5kZWZpbmVkLFxuICAgIH0pLnRvVVJJKCk7XG5cbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBDcmVkZW50aWFscy5zZXJpYWxpemUoY3JlZGVudGlhbHMpLFxuICAgICk7XG4gICAgcmV0dXJuIExvZ2luUmVzcG9uc2UuZGVzZXJpYWxpemUocmVzcG9uc2UpO1xuICB9XG5cbiAgYXN5bmMgb2F1dGhMb2dpbihjcmVkZW50aWFsczogQ3JlZGVudGlhbHMpOiBQcm9taXNlPExvZ2luUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwTG9naW5DbGllbnQuQkFTRSxcbiAgICAgIEh0dHBMb2dpbkNsaWVudC5PQVVUSCxcbiAgICBdKS50b1VSSSgpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QoXG4gICAgICAgIHVybCxcbiAgICAgICAgQ3JlZGVudGlhbHMuc2VyaWFsaXplKGNyZWRlbnRpYWxzKSxcbiAgICApO1xuICAgIHJldHVybiBMb2dpblJlc3BvbnNlLmRlc2VyaWFsaXplKHJlc3BvbnNlKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQTtBQUVBO0FBR0E7QUFJQTtBQUFBO0FBQ0E7QUFFQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQUE7O0FBbkNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///27\n");

/***/ }),
/* 28 */
/*!*********************************************!*\
  !*** ./src/base/url_builder/url_builder.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UrlBuilder\", function() { return UrlBuilder; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n\r\n/**\r\n * Builds a hostless URI from a path and a collection of query parameters.\r\n *\r\n * Each query parameter can be:\r\n * <ul>\r\n *   <li>no-valued: this will be encoded as just a key, with no =value;\r\n *   <li>single-valued: this will be encoded as a single key=value pair;\r\n *   <li>multi-valued: this will be encoded as a set of key=value pairs, using the same key.\r\n * </ul>\r\n *\r\n * Query strings have no formal definition in HTTP, but services generally do not guarantee that\r\n * the ordering of multi-valued parameters will be meaningful.  If you need a list, then encode it\r\n * yourself as a single value using an encoding appropriate for your domain of list values, such as\r\n * csv, or, as a last resort, JSON.\r\n *\r\n * Modelled after /services/request/src/main/java/com/canva/http/RequestUriEncoder.java\r\n */\r\nclass UrlBuilder {\r\n    constructor(path) {\r\n        this.path = path;\r\n        // Each param is either present (with no value), has a single value, or has multiple values.\r\n        // The values in this map are not URI-encoded.  URI-encoding is done during #toURI().\r\n        this.params = new Map();\r\n    }\r\n    /**\r\n     * Constructs a builder with a complete path.\r\n     * The path is used as-is, you must ensure this is appropriately encoded.\r\n     *\r\n     * Examples:\r\n     * <pre>\r\n     *   UrlBuilder.forPath('/')\r\n     *   UrlBuilder.forPath('/foo/bar')\r\n     * </pre>\r\n     */\r\n    static forPath(path, params) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(path.indexOf('?') < 0);\r\n        return new UrlBuilder(path).withParams(params);\r\n    }\r\n    /**\r\n     * Constructs a builder with a list of segments to encode as an absolute path (prefixed with /).\r\n     *\r\n     *\r\n     * Example:\r\n     * <pre>\r\n     *   UrlBuilder.joinAndEncodeSegments(['foo', 'bar'])\r\n     * </ore>\r\n     */\r\n    static joinAndEncodeSegments(segments, params) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(segments.length > 0);\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(segments.every(s => s.indexOf('?') < 0));\r\n        return new UrlBuilder(['', ...segments.map(encodeURIComponent)].join('/')).withParams(params);\r\n    }\r\n    /** Adds a set of parameters. */\r\n    withParams(params) {\r\n        if (params) {\r\n            for (const p in params) {\r\n                this.withParam(p, params[p]);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Adds a parameter.\r\n     *\r\n     * The parameter name will be URI-encoded in the final URI. The parameter can be no-valued,\r\n     * single-valued, or multi-valued.\r\n     *\r\n     * Boolean values are encoded as follows:\r\n     *  - <code>true</code> is encoded as a parameter with no values (i.e. <code>&foo</code>)\r\n     *  - <code>false</code> is encoded as a parameter with its value set to <code>false</code>\r\n     *    (i.e. <code>&foo=false</code>)\r\n     *\r\n     * String values are URI-encoded.  Any string value, including the empty string, is permitted.\r\n     *\r\n     * Numbers are encoded as (URI-encoded) numeral strings.\r\n     *\r\n     * @throws an error if a parameter named <code>p</code> has already been added.\r\n     */\r\n    withParam(p, v) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(p.length > 0);\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(!this.params.has(p));\r\n        if (v == null) {\r\n            return this;\r\n        }\r\n        else if (Array.isArray(v)) {\r\n            const vs = v.filter(v => v != null);\r\n            if (vs.length === 0) {\r\n                return this;\r\n            }\r\n            base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(vs.every(v => typeof v === 'number' || typeof v === 'string'));\r\n            this.params.set(p, vs);\r\n        }\r\n        else if (typeof v === 'boolean') {\r\n            this.params.set(p, v || String(v));\r\n        }\r\n        else if (typeof v === 'number' || typeof v === 'string') {\r\n            this.params.set(p, String(v));\r\n        }\r\n        else {\r\n            throw new Error(`invalid param value type: ${typeof v}`);\r\n        }\r\n        return this;\r\n    }\r\n    /**\r\n     * Builds the URI.\r\n     */\r\n    toURI() {\r\n        if (this.params.size === 0) {\r\n            return this.path;\r\n        }\r\n        const query = Array.from(this.params.entries())\r\n            .map(([p, v]) => {\r\n            if (v === true) { // no-valued\r\n                return `${encodeURIComponent(p)}`;\r\n            }\r\n            else if (!Array.isArray(v)) { // single-valued\r\n                return `${encodeURIComponent(p)}=${encodeURIComponent(v)}`;\r\n            }\r\n            else { // multi-valued\r\n                return v.map(v => `${encodeURIComponent(p)}=${encodeURIComponent(v)}`).join('&');\r\n            }\r\n        })\r\n            .join('&');\r\n        return `${this.path}?${query}`;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS91cmxfYnVpbGRlci91cmxfYnVpbGRlci50cz8wMDAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByZWNvbmRpdGlvbnMgfSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuXG50eXBlIFZhbHVlVHlwZSA9IGJvb2xlYW4gfCBudW1iZXIgfCBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkXG4gICAgfCBSZWFkb25seUFycmF5PG51bWJlciB8IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQ+IC8vIE5vIGJvb2xlYW5zXG4gICAgO1xuZXhwb3J0IHR5cGUgUGFyYW1ldGVyTWFwID0geyBbazogc3RyaW5nXTogVmFsdWVUeXBlIH07XG5cbi8qKlxuICogQnVpbGRzIGEgaG9zdGxlc3MgVVJJIGZyb20gYSBwYXRoIGFuZCBhIGNvbGxlY3Rpb24gb2YgcXVlcnkgcGFyYW1ldGVycy5cbiAqXG4gKiBFYWNoIHF1ZXJ5IHBhcmFtZXRlciBjYW4gYmU6XG4gKiA8dWw+XG4gKiAgIDxsaT5uby12YWx1ZWQ6IHRoaXMgd2lsbCBiZSBlbmNvZGVkIGFzIGp1c3QgYSBrZXksIHdpdGggbm8gPXZhbHVlO1xuICogICA8bGk+c2luZ2xlLXZhbHVlZDogdGhpcyB3aWxsIGJlIGVuY29kZWQgYXMgYSBzaW5nbGUga2V5PXZhbHVlIHBhaXI7XG4gKiAgIDxsaT5tdWx0aS12YWx1ZWQ6IHRoaXMgd2lsbCBiZSBlbmNvZGVkIGFzIGEgc2V0IG9mIGtleT12YWx1ZSBwYWlycywgdXNpbmcgdGhlIHNhbWUga2V5LlxuICogPC91bD5cbiAqXG4gKiBRdWVyeSBzdHJpbmdzIGhhdmUgbm8gZm9ybWFsIGRlZmluaXRpb24gaW4gSFRUUCwgYnV0IHNlcnZpY2VzIGdlbmVyYWxseSBkbyBub3QgZ3VhcmFudGVlIHRoYXRcbiAqIHRoZSBvcmRlcmluZyBvZiBtdWx0aS12YWx1ZWQgcGFyYW1ldGVycyB3aWxsIGJlIG1lYW5pbmdmdWwuICBJZiB5b3UgbmVlZCBhIGxpc3QsIHRoZW4gZW5jb2RlIGl0XG4gKiB5b3Vyc2VsZiBhcyBhIHNpbmdsZSB2YWx1ZSB1c2luZyBhbiBlbmNvZGluZyBhcHByb3ByaWF0ZSBmb3IgeW91ciBkb21haW4gb2YgbGlzdCB2YWx1ZXMsIHN1Y2ggYXNcbiAqIGNzdiwgb3IsIGFzIGEgbGFzdCByZXNvcnQsIEpTT04uXG4gKlxuICogTW9kZWxsZWQgYWZ0ZXIgL3NlcnZpY2VzL3JlcXVlc3Qvc3JjL21haW4vamF2YS9jb20vY2FudmEvaHR0cC9SZXF1ZXN0VXJpRW5jb2Rlci5qYXZhXG4gKi9cbmV4cG9ydCBjbGFzcyBVcmxCdWlsZGVyIHtcbiAgLy8gRWFjaCBwYXJhbSBpcyBlaXRoZXIgcHJlc2VudCAod2l0aCBubyB2YWx1ZSksIGhhcyBhIHNpbmdsZSB2YWx1ZSwgb3IgaGFzIG11bHRpcGxlIHZhbHVlcy5cbiAgLy8gVGhlIHZhbHVlcyBpbiB0aGlzIG1hcCBhcmUgbm90IFVSSS1lbmNvZGVkLiAgVVJJLWVuY29kaW5nIGlzIGRvbmUgZHVyaW5nICN0b1VSSSgpLlxuICBwcml2YXRlIHJlYWRvbmx5IHBhcmFtcyA9IG5ldyBNYXA8c3RyaW5nLCB0cnVlIHwgc3RyaW5nIHwgc3RyaW5nW10+KCk7XG5cbiAgcHJpdmF0ZSBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHBhdGg6IHN0cmluZykge1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBidWlsZGVyIHdpdGggYSBjb21wbGV0ZSBwYXRoLlxuICAgKiBUaGUgcGF0aCBpcyB1c2VkIGFzLWlzLCB5b3UgbXVzdCBlbnN1cmUgdGhpcyBpcyBhcHByb3ByaWF0ZWx5IGVuY29kZWQuXG4gICAqXG4gICAqIEV4YW1wbGVzOlxuICAgKiA8cHJlPlxuICAgKiAgIFVybEJ1aWxkZXIuZm9yUGF0aCgnLycpXG4gICAqICAgVXJsQnVpbGRlci5mb3JQYXRoKCcvZm9vL2JhcicpXG4gICAqIDwvcHJlPlxuICAgKi9cbiAgc3RhdGljIGZvclBhdGgocGF0aDogc3RyaW5nLCBwYXJhbXM/OiBQYXJhbWV0ZXJNYXApIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQocGF0aC5pbmRleE9mKCc/JykgPCAwKTtcbiAgICByZXR1cm4gbmV3IFVybEJ1aWxkZXIocGF0aCkud2l0aFBhcmFtcyhwYXJhbXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBidWlsZGVyIHdpdGggYSBsaXN0IG9mIHNlZ21lbnRzIHRvIGVuY29kZSBhcyBhbiBhYnNvbHV0ZSBwYXRoIChwcmVmaXhlZCB3aXRoIC8pLlxuICAgKlxuICAgKlxuICAgKiBFeGFtcGxlOlxuICAgKiA8cHJlPlxuICAgKiAgIFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFsnZm9vJywgJ2JhciddKVxuICAgKiA8L29yZT5cbiAgICovXG4gIHN0YXRpYyBqb2luQW5kRW5jb2RlU2VnbWVudHMoc2VnbWVudHM6IHN0cmluZ1tdLCBwYXJhbXM/OiBQYXJhbWV0ZXJNYXApIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoc2VnbWVudHMubGVuZ3RoID4gMCk7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KHNlZ21lbnRzLmV2ZXJ5KHMgPT4gcy5pbmRleE9mKCc/JykgPCAwKSk7XG4gICAgcmV0dXJuIG5ldyBVcmxCdWlsZGVyKFsnJywgLi4uc2VnbWVudHMubWFwKGVuY29kZVVSSUNvbXBvbmVudCldLmpvaW4oJy8nKSkud2l0aFBhcmFtcyhwYXJhbXMpO1xuICB9XG5cbiAgLyoqIEFkZHMgYSBzZXQgb2YgcGFyYW1ldGVycy4gKi9cbiAgd2l0aFBhcmFtcyhwYXJhbXM/OiBQYXJhbWV0ZXJNYXApOiB0aGlzIHtcbiAgICBpZiAocGFyYW1zKSB7XG4gICAgICBmb3IgKGNvbnN0IHAgaW4gcGFyYW1zKSB7XG4gICAgICAgIHRoaXMud2l0aFBhcmFtKHAsIHBhcmFtc1twXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIFRoZSBwYXJhbWV0ZXIgbmFtZSB3aWxsIGJlIFVSSS1lbmNvZGVkIGluIHRoZSBmaW5hbCBVUkkuIFRoZSBwYXJhbWV0ZXIgY2FuIGJlIG5vLXZhbHVlZCxcbiAgICogc2luZ2xlLXZhbHVlZCwgb3IgbXVsdGktdmFsdWVkLlxuICAgKlxuICAgKiBCb29sZWFuIHZhbHVlcyBhcmUgZW5jb2RlZCBhcyBmb2xsb3dzOlxuICAgKiAgLSA8Y29kZT50cnVlPC9jb2RlPiBpcyBlbmNvZGVkIGFzIGEgcGFyYW1ldGVyIHdpdGggbm8gdmFsdWVzIChpLmUuIDxjb2RlPiZmb288L2NvZGU+KVxuICAgKiAgLSA8Y29kZT5mYWxzZTwvY29kZT4gaXMgZW5jb2RlZCBhcyBhIHBhcmFtZXRlciB3aXRoIGl0cyB2YWx1ZSBzZXQgdG8gPGNvZGU+ZmFsc2U8L2NvZGU+XG4gICAqICAgIChpLmUuIDxjb2RlPiZmb289ZmFsc2U8L2NvZGU+KVxuICAgKlxuICAgKiBTdHJpbmcgdmFsdWVzIGFyZSBVUkktZW5jb2RlZC4gIEFueSBzdHJpbmcgdmFsdWUsIGluY2x1ZGluZyB0aGUgZW1wdHkgc3RyaW5nLCBpcyBwZXJtaXR0ZWQuXG4gICAqXG4gICAqIE51bWJlcnMgYXJlIGVuY29kZWQgYXMgKFVSSS1lbmNvZGVkKSBudW1lcmFsIHN0cmluZ3MuXG4gICAqXG4gICAqIEB0aHJvd3MgYW4gZXJyb3IgaWYgYSBwYXJhbWV0ZXIgbmFtZWQgPGNvZGU+cDwvY29kZT4gaGFzIGFscmVhZHkgYmVlbiBhZGRlZC5cbiAgICovXG4gIHdpdGhQYXJhbShwOiBzdHJpbmcsIHY6IFZhbHVlVHlwZSk6IHRoaXMge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudChwLmxlbmd0aCA+IDApO1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCghdGhpcy5wYXJhbXMuaGFzKHApKTtcbiAgICBpZiAodiA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodikpIHtcbiAgICAgIGNvbnN0IHZzID0gdi5maWx0ZXIodiA9PiB2ICE9IG51bGwpO1xuICAgICAgaWYgKHZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCh2cy5ldmVyeSh2ID0+IHR5cGVvZiB2ID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgdiA9PT0gJ3N0cmluZycpKTtcbiAgICAgIHRoaXMucGFyYW1zLnNldChwLCB2cyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICB0aGlzLnBhcmFtcy5zZXQocCwgdiB8fCBTdHJpbmcodikpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHYgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5wYXJhbXMuc2V0KHAsIFN0cmluZyh2KSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBwYXJhbSB2YWx1ZSB0eXBlOiAke3R5cGVvZiB2fWApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBCdWlsZHMgdGhlIFVSSS5cbiAgICovXG4gIHRvVVJJKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMucGFyYW1zLnNpemUgPT09IDApIHtcbiAgICAgIHJldHVybiB0aGlzLnBhdGg7XG4gICAgfVxuICAgIGNvbnN0IHF1ZXJ5ID0gQXJyYXkuZnJvbSh0aGlzLnBhcmFtcy5lbnRyaWVzKCkpXG4gICAgICAgIC5tYXAoKFtwLCB2XSkgPT4ge1xuICAgICAgICAgIGlmICh2ID09PSB0cnVlKSB7IC8vIG5vLXZhbHVlZFxuICAgICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChwKX1gO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkodikpIHsgLy8gc2luZ2xlLXZhbHVlZFxuICAgICAgICAgICAgcmV0dXJuIGAke2VuY29kZVVSSUNvbXBvbmVudChwKX09JHtlbmNvZGVVUklDb21wb25lbnQodil9YDtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBtdWx0aS12YWx1ZWRcbiAgICAgICAgICAgIHJldHVybiB2Lm1hcCh2ID0+IGAke2VuY29kZVVSSUNvbXBvbmVudChwKX09JHtlbmNvZGVVUklDb21wb25lbnQodil9YCkuam9pbignJicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgLmpvaW4oJyYnKTtcbiAgICByZXR1cm4gYCR7dGhpcy5wYXRofT8ke3F1ZXJ5fWA7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFPQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTtBQUNBO0FBS0E7QUFBQTtBQUpBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7Ozs7Ozs7OztBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///28\n");

/***/ }),
/* 29 */
/*!***********************************************!*\
  !*** ./src/services/profile/profile_proto.ts ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CredentialsTypeUtil\", function() { return CredentialsTypeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandRoleUtil\", function() { return BrandRoleUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandUserRoleUtil\", function() { return BrandUserRoleUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AvatarBundleStatusUtil\", function() { return AvatarBundleStatusUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CountryCodeUtil\", function() { return CountryCodeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserDetailsComponentUtil\", function() { return UserDetailsComponentUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserRoleUtil\", function() { return UserRoleUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandMemberEventTypeUtil\", function() { return BrandMemberEventTypeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EmailStatusUtil\", function() { return EmailStatusUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VerificationModeUtil\", function() { return VerificationModeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupComponentUtil\", function() { return GroupComponentUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Credentials\", function() { return Credentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UsernamePasswordCredentials\", function() { return UsernamePasswordCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"EmailPasswordCredentials\", function() { return EmailPasswordCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PhonePasswordCredentials\", function() { return PhonePasswordCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UnverifiedPhonePasswordCredentials\", function() { return UnverifiedPhonePasswordCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FacebookCredentials\", function() { return FacebookCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GoogleCredentials\", function() { return GoogleCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApiCredentials\", function() { return ApiCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OauthCodeCredentials\", function() { return OauthCodeCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OauthLinkTokenCredentials\", function() { return OauthLinkTokenCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OauthExchangeCredentials\", function() { return OauthExchangeCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OauthAccessTokenCredentials\", function() { return OauthAccessTokenCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PartnerAuthTokenCredentials\", function() { return PartnerAuthTokenCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MiniAppCodeCredentials\", function() { return MiniAppCodeCredentials; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FacebookDetails\", function() { return FacebookDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GoogleDetails\", function() { return GoogleDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApiDetails\", function() { return ApiDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OauthAccount\", function() { return OauthAccount; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoginDetails\", function() { return LoginDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OauthSummary\", function() { return OauthSummary; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetOauthSummaryRequest\", function() { return GetOauthSummaryRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetOauthSummaryResponse\", function() { return GetOauthSummaryResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateOauthLinkTokenRequest\", function() { return CreateOauthLinkTokenRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateOauthLinkTokenResponse\", function() { return CreateOauthLinkTokenResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetPasswordResetGrantRequest\", function() { return GetPasswordResetGrantRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetPasswordResetGrantResponse\", function() { return GetPasswordResetGrantResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AvatarBundle\", function() { return AvatarBundle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AvatarImage\", function() { return AvatarImage; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NamedColor\", function() { return NamedColor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ColorPalette\", function() { return ColorPalette; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandKitFont\", function() { return BrandKitFont; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextStyle\", function() { return TextStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TextStylePalette\", function() { return TextStylePalette; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandKit\", function() { return BrandKit; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateUserRequest\", function() { return CreateUserRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateUserResponse\", function() { return CreateUserResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateUserSuccessResponse\", function() { return CreateUserSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateUserErrorResponse\", function() { return CreateUserErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetUserRequest\", function() { return GetUserRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetUserResponse\", function() { return GetUserResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindUsersRequest\", function() { return FindUsersRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindUsersResponse\", function() { return FindUsersResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetUserDetailsRequest\", function() { return GetUserDetailsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetUserDetailsResponse\", function() { return GetUserDetailsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserCapabilities\", function() { return UserCapabilities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"User\", function() { return User; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandMember\", function() { return BrandMember; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandMembersMode\", function() { return FindBrandMembersMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandMembersByName\", function() { return FindBrandMembersByName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandMembersByNameOrEmail\", function() { return FindBrandMembersByNameOrEmail; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandMembersRequest\", function() { return FindBrandMembersRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandMembersResponse\", function() { return FindBrandMembersResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Brand\", function() { return Brand; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandCapabilities\", function() { return BrandCapabilities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandInvitee\", function() { return BrandInvitee; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandInvitation\", function() { return BrandInvitation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SingleUseInvitation\", function() { return SingleUseInvitation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MultiUseInvitation\", function() { return MultiUseInvitation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateBrandInvitationRequest\", function() { return CreateBrandInvitationRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateBrandInvitationResponse\", function() { return CreateBrandInvitationResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendBrandInvitationsRequest\", function() { return SendBrandInvitationsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendBrandInvitationsResponse\", function() { return SendBrandInvitationsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandInvitationRequest\", function() { return UpdateBrandInvitationRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandInvitationResponse\", function() { return UpdateBrandInvitationResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandInvitationsRequest\", function() { return FindBrandInvitationsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandInvitationsResponse\", function() { return FindBrandInvitationsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandApiSettings\", function() { return BrandApiSettings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandBillingInfo\", function() { return BrandBillingInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandDetails\", function() { return BrandDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetBrandDetailsRequest\", function() { return GetBrandDetailsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetBrandDetailsResponse\", function() { return GetBrandDetailsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandSettings\", function() { return BrandSettings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CollectionModificationOpUtil\", function() { return CollectionModificationOpUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CollectionModification\", function() { return CollectionModification; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AbandonBrandRequest\", function() { return AbandonBrandRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AbandonBrandResponse\", function() { return AbandonBrandResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateBrandRequest\", function() { return CreateBrandRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateBrandResponse\", function() { return CreateBrandResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandComponentUtil\", function() { return BrandComponentUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetBrandRequest\", function() { return GetBrandRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetBrandResponse\", function() { return GetBrandResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandsRequest\", function() { return FindBrandsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandsResponse\", function() { return FindBrandsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandRequest\", function() { return UpdateBrandRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandResponse\", function() { return UpdateBrandResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateUserRequest\", function() { return UpdateUserRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateUserResponse\", function() { return UpdateUserResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateUserSuccessResponse\", function() { return UpdateUserSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateUserErrorResponse\", function() { return UpdateUserErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetApiStatusRequest\", function() { return GetApiStatusRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetApiStatusResponse\", function() { return GetApiStatusResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetBrandMembershipRequest\", function() { return GetBrandMembershipRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetBrandMembershipResponse\", function() { return GetBrandMembershipResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetBrandMembershipBatchRequest\", function() { return GetBrandMembershipBatchRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetBrandMembershipBatchResponse\", function() { return GetBrandMembershipBatchResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandMembershipEventsRequest\", function() { return FindBrandMembershipEventsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserWithToken\", function() { return UserWithToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandMembersRequest\", function() { return UpdateBrandMembersRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandMembersResponse\", function() { return UpdateBrandMembersResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandMembersSuccessResponse\", function() { return UpdateBrandMembersSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandMembersErrorResponse\", function() { return UpdateBrandMembersErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandMembershipEvent\", function() { return BrandMembershipEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandMembershipEventsResponse\", function() { return FindBrandMembershipEventsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserNotificationSettings\", function() { return UserNotificationSettings; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserDetails\", function() { return UserDetails; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NormalizePhoneNumberRequest\", function() { return NormalizePhoneNumberRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NormalizePhoneNumberResponse\", function() { return NormalizePhoneNumberResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AuthenticateUserRequest\", function() { return AuthenticateUserRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AuthenticateUserResponse\", function() { return AuthenticateUserResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AuthenticateUserSuccessResponse\", function() { return AuthenticateUserSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AuthenticateUserErrorResponse\", function() { return AuthenticateUserErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendVerificationEmailRequest\", function() { return SendVerificationEmailRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendVerificationEmailResponse\", function() { return SendVerificationEmailResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VerifyEmailRequest\", function() { return VerifyEmailRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"VerifyEmailResponse\", function() { return VerifyEmailResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendPasswordResetCodeRequest\", function() { return SendPasswordResetCodeRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendPasswordResetCodeResponse\", function() { return SendPasswordResetCodeResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendPasswordResetEmailRequest\", function() { return SendPasswordResetEmailRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendPasswordResetEmailResponse\", function() { return SendPasswordResetEmailResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckPasswordResetCodeRequest\", function() { return CheckPasswordResetCodeRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckPasswordResetCodeResponse\", function() { return CheckPasswordResetCodeResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResetPasswordWithCodeRequest\", function() { return ResetPasswordWithCodeRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResetPasswordWithCodeResponse\", function() { return ResetPasswordWithCodeResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResetPasswordRequest\", function() { return ResetPasswordRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ResetPasswordResponse\", function() { return ResetPasswordResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Group\", function() { return Group; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupCapabilities\", function() { return GroupCapabilities; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateGroupRequest\", function() { return CreateGroupRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateGroupResponse\", function() { return CreateGroupResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateGroupSuccessResponse\", function() { return CreateGroupSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateGroupErrorResponse\", function() { return CreateGroupErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetGroupRequest\", function() { return GetGroupRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetGroupResponse\", function() { return GetGroupResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateGroupRequest\", function() { return UpdateGroupRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateGroupResponse\", function() { return UpdateGroupResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateGroupSuccessResponse\", function() { return UpdateGroupSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateGroupErrorResponse\", function() { return UpdateGroupErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupsMode\", function() { return FindGroupsMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupsByName\", function() { return FindGroupsByName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupsById\", function() { return FindGroupsById; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupsRequest\", function() { return FindGroupsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupsResponse\", function() { return FindGroupsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteGroupRequest\", function() { return DeleteGroupRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteGroupResponse\", function() { return DeleteGroupResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteGroupSuccessResponse\", function() { return DeleteGroupSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteGroupErrorResponse\", function() { return DeleteGroupErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateGroupMembershipsRequest\", function() { return CreateGroupMembershipsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupMembershipAddition\", function() { return GroupMembershipAddition; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupRoleUtil\", function() { return GroupRoleUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupMembership\", function() { return GroupMembership; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateGroupMembershipsResponse\", function() { return CreateGroupMembershipsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateGroupMembershipsSuccessResponse\", function() { return CreateGroupMembershipsSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateGroupMembershipsErrorResponse\", function() { return CreateGroupMembershipsErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateGroupMembershipRequest\", function() { return UpdateGroupMembershipRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateGroupMembershipResponse\", function() { return UpdateGroupMembershipResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateGroupMembershipSuccessResponse\", function() { return UpdateGroupMembershipSuccessResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateGroupMembershipErrorResponse\", function() { return UpdateGroupMembershipErrorResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupMembershipsRequest\", function() { return FindGroupMembershipsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupMembershipsByUserRequest\", function() { return FindGroupMembershipsByUserRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GroupMembershipComponentUtil\", function() { return GroupMembershipComponentUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupMembershipsByGroupRequest\", function() { return FindGroupMembershipsByGroupRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindGroupMembershipsResponse\", function() { return FindGroupMembershipsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteUserRequest\", function() { return DeleteUserRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteUserResponse\", function() { return DeleteUserResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeactivateUserRequest\", function() { return DeactivateUserRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeactivateUserResponse\", function() { return DeactivateUserResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReactivateUserRequest\", function() { return ReactivateUserRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReactivateUserResponse\", function() { return ReactivateUserResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateUserAvatarRequest\", function() { return CreateUserAvatarRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateUserAvatarResponse\", function() { return CreateUserAvatarResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetUserAvatarRequest\", function() { return GetUserAvatarRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetUserAvatarResponse\", function() { return GetUserAvatarResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImportUserAvatarRequest\", function() { return ImportUserAvatarRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ImportUserAvatarResponse\", function() { return ImportUserAvatarResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetAvailabilityRequest\", function() { return GetAvailabilityRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandReservationTypeUtil\", function() { return BrandReservationTypeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BrandReservation\", function() { return BrandReservation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetAvailabilityResponse\", function() { return GetAvailabilityResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateBrandReservationRequest\", function() { return CreateBrandReservationRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateBrandReservationResponse\", function() { return CreateBrandReservationResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandReservationRequest\", function() { return UpdateBrandReservationRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateBrandReservationResponse\", function() { return UpdateBrandReservationResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandReservationsRequest\", function() { return FindBrandReservationsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindBrandReservationsResponse\", function() { return FindBrandReservationsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AttributeNameUtil\", function() { return AttributeNameUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserAttribute\", function() { return UserAttribute; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AttributeValue\", function() { return AttributeValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BooleanValue\", function() { return BooleanValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"StringValue\", function() { return StringValue; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateUserAttributeRequest\", function() { return UpdateUserAttributeRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateUserAttributeResponse\", function() { return UpdateUserAttributeResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindUserAttributesRequest\", function() { return FindUserAttributesRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindUserAttributesResponse\", function() { return FindUserAttributesResponse; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n/* harmony import */ var services_api_api_key_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! services/api/api_key_proto */ 30);\n/* harmony import */ var services_media_media_proto__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! services/media/media_proto */ 31);\n/* harmony import */ var services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! services/oauth/oauth_proto */ 32);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from services/profile/profile.proto.\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst CredentialsTypeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* USERNAME_PASSWORD */,\r\n            2 /* EMAIL_PASSWORD */,\r\n            3 /* PHONE_PASSWORD */,\r\n            4 /* UNVERIFIED_PHONE_PASSWORD */,\r\n            5 /* FACEBOOK */,\r\n            6 /* GOOGLE */,\r\n            7 /* API */,\r\n            8 /* OAUTH_CODE */,\r\n            9 /* OAUTH_LINK_TOKEN */,\r\n            10 /* OAUTH_ACCESS_TOKEN */,\r\n            11 /* PARTNER_AUTH_TOKEN */,\r\n            12 /* MINI_APP_CODE */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* USERNAME_PASSWORD */: return 'USERNAME_PASSWORD';\r\n            case 2 /* EMAIL_PASSWORD */: return 'EMAIL_PASSWORD';\r\n            case 3 /* PHONE_PASSWORD */: return 'PHONE_PASSWORD';\r\n            case 4 /* UNVERIFIED_PHONE_PASSWORD */: return 'UNVERIFIED_PHONE_PASSWORD';\r\n            case 5 /* FACEBOOK */: return 'FACEBOOK';\r\n            case 6 /* GOOGLE */: return 'GOOGLE';\r\n            case 7 /* API */: return 'API';\r\n            case 8 /* OAUTH_CODE */: return 'OAUTH_CODE';\r\n            case 9 /* OAUTH_LINK_TOKEN */: return 'OAUTH_LINK_TOKEN';\r\n            case 10 /* OAUTH_ACCESS_TOKEN */: return 'OAUTH_ACCESS_TOKEN';\r\n            case 11 /* PARTNER_AUTH_TOKEN */: return 'PARTNER_AUTH_TOKEN';\r\n            case 12 /* MINI_APP_CODE */: return 'MINI_APP_CODE';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'USERNAME_PASSWORD': return 1 /* USERNAME_PASSWORD */;\r\n            case 'EMAIL_PASSWORD': return 2 /* EMAIL_PASSWORD */;\r\n            case 'PHONE_PASSWORD': return 3 /* PHONE_PASSWORD */;\r\n            case 'UNVERIFIED_PHONE_PASSWORD': return 4 /* UNVERIFIED_PHONE_PASSWORD */;\r\n            case 'FACEBOOK': return 5 /* FACEBOOK */;\r\n            case 'GOOGLE': return 6 /* GOOGLE */;\r\n            case 'API': return 7 /* API */;\r\n            case 'OAUTH_CODE': return 8 /* OAUTH_CODE */;\r\n            case 'OAUTH_LINK_TOKEN': return 9 /* OAUTH_LINK_TOKEN */;\r\n            case 'OAUTH_ACCESS_TOKEN': return 10 /* OAUTH_ACCESS_TOKEN */;\r\n            case 'PARTNER_AUTH_TOKEN': return 11 /* PARTNER_AUTH_TOKEN */;\r\n            case 'MINI_APP_CODE': return 12 /* MINI_APP_CODE */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'CredentialsType'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst BrandRoleUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* PERSONAL */,\r\n            2 /* THIRD_PARTY_BRAND */,\r\n            3 /* CONTRIBUTOR */,\r\n            4 /* LAYOUT_CONTRIBUTOR */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* PERSONAL */: return 'PERSONAL';\r\n            case 2 /* THIRD_PARTY_BRAND */: return 'THIRD_PARTY_BRAND';\r\n            case 3 /* CONTRIBUTOR */: return 'CONTRIBUTOR';\r\n            case 4 /* LAYOUT_CONTRIBUTOR */: return 'LAYOUT_CONTRIBUTOR';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'PERSONAL': return 1 /* PERSONAL */;\r\n            case 'THIRD_PARTY_BRAND': return 2 /* THIRD_PARTY_BRAND */;\r\n            case 'CONTRIBUTOR': return 3 /* CONTRIBUTOR */;\r\n            case 'LAYOUT_CONTRIBUTOR': return 4 /* LAYOUT_CONTRIBUTOR */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'BrandRole'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst BrandUserRoleUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* MEMBER */,\r\n            2 /* DESIGNER */,\r\n            3 /* ADMIN */,\r\n            4 /* OWNER */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* MEMBER */: return 'MEMBER';\r\n            case 2 /* DESIGNER */: return 'DESIGNER';\r\n            case 3 /* ADMIN */: return 'ADMIN';\r\n            case 4 /* OWNER */: return 'OWNER';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'MEMBER': return 1 /* MEMBER */;\r\n            case 'DESIGNER': return 2 /* DESIGNER */;\r\n            case 'ADMIN': return 3 /* ADMIN */;\r\n            case 'OWNER': return 4 /* OWNER */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'BrandUserRole'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst AvatarBundleStatusUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* PENDING */,\r\n            2 /* SUCCEEDED */,\r\n            3 /* FAILED */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* PENDING */: return 'PENDING';\r\n            case 2 /* SUCCEEDED */: return 'SUCCEEDED';\r\n            case 3 /* FAILED */: return 'FAILED';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'PENDING': return 1 /* PENDING */;\r\n            case 'SUCCEEDED': return 2 /* SUCCEEDED */;\r\n            case 'FAILED': return 3 /* FAILED */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'AvatarBundleStatus'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst CountryCodeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* AD */,\r\n            2 /* AE */,\r\n            3 /* AF */,\r\n            4 /* AG */,\r\n            5 /* AI */,\r\n            6 /* AL */,\r\n            7 /* AM */,\r\n            8 /* AO */,\r\n            9 /* AQ */,\r\n            10 /* AR */,\r\n            11 /* AS */,\r\n            12 /* AT */,\r\n            13 /* AU */,\r\n            14 /* AW */,\r\n            15 /* AX */,\r\n            16 /* AZ */,\r\n            17 /* BA */,\r\n            18 /* BB */,\r\n            19 /* BD */,\r\n            20 /* BE */,\r\n            21 /* BF */,\r\n            22 /* BG */,\r\n            23 /* BH */,\r\n            24 /* BI */,\r\n            25 /* BJ */,\r\n            26 /* BL */,\r\n            27 /* BM */,\r\n            28 /* BN */,\r\n            29 /* BO */,\r\n            30 /* BQ */,\r\n            31 /* BR */,\r\n            32 /* BS */,\r\n            33 /* BT */,\r\n            34 /* BV */,\r\n            35 /* BW */,\r\n            36 /* BY */,\r\n            37 /* BZ */,\r\n            38 /* CA */,\r\n            39 /* CC */,\r\n            40 /* CD */,\r\n            41 /* CF */,\r\n            42 /* CG */,\r\n            43 /* CH */,\r\n            44 /* CI */,\r\n            45 /* CK */,\r\n            46 /* CL */,\r\n            47 /* CM */,\r\n            48 /* CN */,\r\n            49 /* CO */,\r\n            50 /* CR */,\r\n            51 /* CU */,\r\n            52 /* CV */,\r\n            53 /* CW */,\r\n            54 /* CX */,\r\n            55 /* CY */,\r\n            56 /* CZ */,\r\n            57 /* DE */,\r\n            58 /* DJ */,\r\n            59 /* DK */,\r\n            60 /* DM */,\r\n            61 /* DO */,\r\n            62 /* DZ */,\r\n            63 /* EC */,\r\n            64 /* EE */,\r\n            65 /* EG */,\r\n            66 /* EH */,\r\n            67 /* ER */,\r\n            68 /* ES */,\r\n            69 /* ET */,\r\n            70 /* FI */,\r\n            71 /* FJ */,\r\n            72 /* FK */,\r\n            73 /* FM */,\r\n            74 /* FO */,\r\n            75 /* FR */,\r\n            76 /* GA */,\r\n            77 /* GB */,\r\n            78 /* GD */,\r\n            79 /* GE */,\r\n            80 /* GF */,\r\n            81 /* GG */,\r\n            82 /* GH */,\r\n            83 /* GI */,\r\n            84 /* GL */,\r\n            85 /* GM */,\r\n            86 /* GN */,\r\n            87 /* GP */,\r\n            88 /* GQ */,\r\n            89 /* GR */,\r\n            90 /* GS */,\r\n            91 /* GT */,\r\n            92 /* GU */,\r\n            93 /* GW */,\r\n            94 /* GY */,\r\n            95 /* HK */,\r\n            96 /* HM */,\r\n            97 /* HN */,\r\n            98 /* HR */,\r\n            99 /* HT */,\r\n            100 /* HU */,\r\n            101 /* ID */,\r\n            102 /* IE */,\r\n            103 /* IL */,\r\n            104 /* IM */,\r\n            105 /* IN */,\r\n            106 /* IO */,\r\n            107 /* IQ */,\r\n            108 /* IR */,\r\n            109 /* IS */,\r\n            110 /* IT */,\r\n            111 /* JE */,\r\n            112 /* JM */,\r\n            113 /* JO */,\r\n            114 /* JP */,\r\n            115 /* KE */,\r\n            116 /* KG */,\r\n            117 /* KH */,\r\n            118 /* KI */,\r\n            119 /* KM */,\r\n            120 /* KN */,\r\n            121 /* KP */,\r\n            122 /* KR */,\r\n            123 /* KW */,\r\n            124 /* KY */,\r\n            125 /* KZ */,\r\n            126 /* LA */,\r\n            127 /* LB */,\r\n            128 /* LC */,\r\n            129 /* LI */,\r\n            130 /* LK */,\r\n            131 /* LR */,\r\n            132 /* LS */,\r\n            133 /* LT */,\r\n            134 /* LU */,\r\n            135 /* LV */,\r\n            136 /* LY */,\r\n            137 /* MA */,\r\n            138 /* MC */,\r\n            139 /* MD */,\r\n            140 /* ME */,\r\n            141 /* MF */,\r\n            142 /* MG */,\r\n            143 /* MH */,\r\n            144 /* MK */,\r\n            145 /* ML */,\r\n            146 /* MM */,\r\n            147 /* MN */,\r\n            148 /* MO */,\r\n            149 /* MP */,\r\n            150 /* MQ */,\r\n            151 /* MR */,\r\n            152 /* MS */,\r\n            153 /* MT */,\r\n            154 /* MU */,\r\n            155 /* MV */,\r\n            156 /* MW */,\r\n            157 /* MX */,\r\n            158 /* MY */,\r\n            159 /* MZ */,\r\n            160 /* NA */,\r\n            161 /* NC */,\r\n            162 /* NE */,\r\n            163 /* NF */,\r\n            164 /* NG */,\r\n            165 /* NI */,\r\n            166 /* NL */,\r\n            167 /* NO */,\r\n            168 /* NP */,\r\n            169 /* NR */,\r\n            170 /* NU */,\r\n            171 /* NZ */,\r\n            172 /* OM */,\r\n            173 /* PA */,\r\n            174 /* PE */,\r\n            175 /* PF */,\r\n            176 /* PG */,\r\n            177 /* PH */,\r\n            178 /* PK */,\r\n            179 /* PL */,\r\n            180 /* PM */,\r\n            181 /* PN */,\r\n            182 /* PR */,\r\n            183 /* PS */,\r\n            184 /* PT */,\r\n            185 /* PW */,\r\n            186 /* PY */,\r\n            187 /* QA */,\r\n            188 /* RE */,\r\n            189 /* RO */,\r\n            190 /* RS */,\r\n            191 /* RU */,\r\n            192 /* RW */,\r\n            193 /* SA */,\r\n            194 /* SB */,\r\n            195 /* SC */,\r\n            196 /* SD */,\r\n            197 /* SE */,\r\n            198 /* SG */,\r\n            199 /* SH */,\r\n            200 /* SI */,\r\n            201 /* SJ */,\r\n            202 /* SK */,\r\n            203 /* SL */,\r\n            204 /* SM */,\r\n            205 /* SN */,\r\n            206 /* SO */,\r\n            207 /* SR */,\r\n            208 /* SS */,\r\n            209 /* ST */,\r\n            210 /* SV */,\r\n            211 /* SX */,\r\n            212 /* SY */,\r\n            213 /* SZ */,\r\n            214 /* TC */,\r\n            215 /* TD */,\r\n            216 /* TF */,\r\n            217 /* TG */,\r\n            218 /* TH */,\r\n            219 /* TJ */,\r\n            220 /* TK */,\r\n            221 /* TL */,\r\n            222 /* TM */,\r\n            223 /* TN */,\r\n            224 /* TO */,\r\n            225 /* TR */,\r\n            226 /* TT */,\r\n            227 /* TV */,\r\n            228 /* TW */,\r\n            229 /* TZ */,\r\n            230 /* UA */,\r\n            231 /* UG */,\r\n            232 /* UM */,\r\n            233 /* US */,\r\n            234 /* UY */,\r\n            235 /* UZ */,\r\n            236 /* VA */,\r\n            237 /* VC */,\r\n            238 /* VE */,\r\n            239 /* VG */,\r\n            240 /* VI */,\r\n            241 /* VN */,\r\n            242 /* VU */,\r\n            243 /* WF */,\r\n            244 /* WS */,\r\n            245 /* YE */,\r\n            246 /* YT */,\r\n            247 /* ZA */,\r\n            248 /* ZM */,\r\n            249 /* ZW */,\r\n            250 /* ZZ */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* AD */: return 'AD';\r\n            case 2 /* AE */: return 'AE';\r\n            case 3 /* AF */: return 'AF';\r\n            case 4 /* AG */: return 'AG';\r\n            case 5 /* AI */: return 'AI';\r\n            case 6 /* AL */: return 'AL';\r\n            case 7 /* AM */: return 'AM';\r\n            case 8 /* AO */: return 'AO';\r\n            case 9 /* AQ */: return 'AQ';\r\n            case 10 /* AR */: return 'AR';\r\n            case 11 /* AS */: return 'AS';\r\n            case 12 /* AT */: return 'AT';\r\n            case 13 /* AU */: return 'AU';\r\n            case 14 /* AW */: return 'AW';\r\n            case 15 /* AX */: return 'AX';\r\n            case 16 /* AZ */: return 'AZ';\r\n            case 17 /* BA */: return 'BA';\r\n            case 18 /* BB */: return 'BB';\r\n            case 19 /* BD */: return 'BD';\r\n            case 20 /* BE */: return 'BE';\r\n            case 21 /* BF */: return 'BF';\r\n            case 22 /* BG */: return 'BG';\r\n            case 23 /* BH */: return 'BH';\r\n            case 24 /* BI */: return 'BI';\r\n            case 25 /* BJ */: return 'BJ';\r\n            case 26 /* BL */: return 'BL';\r\n            case 27 /* BM */: return 'BM';\r\n            case 28 /* BN */: return 'BN';\r\n            case 29 /* BO */: return 'BO';\r\n            case 30 /* BQ */: return 'BQ';\r\n            case 31 /* BR */: return 'BR';\r\n            case 32 /* BS */: return 'BS';\r\n            case 33 /* BT */: return 'BT';\r\n            case 34 /* BV */: return 'BV';\r\n            case 35 /* BW */: return 'BW';\r\n            case 36 /* BY */: return 'BY';\r\n            case 37 /* BZ */: return 'BZ';\r\n            case 38 /* CA */: return 'CA';\r\n            case 39 /* CC */: return 'CC';\r\n            case 40 /* CD */: return 'CD';\r\n            case 41 /* CF */: return 'CF';\r\n            case 42 /* CG */: return 'CG';\r\n            case 43 /* CH */: return 'CH';\r\n            case 44 /* CI */: return 'CI';\r\n            case 45 /* CK */: return 'CK';\r\n            case 46 /* CL */: return 'CL';\r\n            case 47 /* CM */: return 'CM';\r\n            case 48 /* CN */: return 'CN';\r\n            case 49 /* CO */: return 'CO';\r\n            case 50 /* CR */: return 'CR';\r\n            case 51 /* CU */: return 'CU';\r\n            case 52 /* CV */: return 'CV';\r\n            case 53 /* CW */: return 'CW';\r\n            case 54 /* CX */: return 'CX';\r\n            case 55 /* CY */: return 'CY';\r\n            case 56 /* CZ */: return 'CZ';\r\n            case 57 /* DE */: return 'DE';\r\n            case 58 /* DJ */: return 'DJ';\r\n            case 59 /* DK */: return 'DK';\r\n            case 60 /* DM */: return 'DM';\r\n            case 61 /* DO */: return 'DO';\r\n            case 62 /* DZ */: return 'DZ';\r\n            case 63 /* EC */: return 'EC';\r\n            case 64 /* EE */: return 'EE';\r\n            case 65 /* EG */: return 'EG';\r\n            case 66 /* EH */: return 'EH';\r\n            case 67 /* ER */: return 'ER';\r\n            case 68 /* ES */: return 'ES';\r\n            case 69 /* ET */: return 'ET';\r\n            case 70 /* FI */: return 'FI';\r\n            case 71 /* FJ */: return 'FJ';\r\n            case 72 /* FK */: return 'FK';\r\n            case 73 /* FM */: return 'FM';\r\n            case 74 /* FO */: return 'FO';\r\n            case 75 /* FR */: return 'FR';\r\n            case 76 /* GA */: return 'GA';\r\n            case 77 /* GB */: return 'GB';\r\n            case 78 /* GD */: return 'GD';\r\n            case 79 /* GE */: return 'GE';\r\n            case 80 /* GF */: return 'GF';\r\n            case 81 /* GG */: return 'GG';\r\n            case 82 /* GH */: return 'GH';\r\n            case 83 /* GI */: return 'GI';\r\n            case 84 /* GL */: return 'GL';\r\n            case 85 /* GM */: return 'GM';\r\n            case 86 /* GN */: return 'GN';\r\n            case 87 /* GP */: return 'GP';\r\n            case 88 /* GQ */: return 'GQ';\r\n            case 89 /* GR */: return 'GR';\r\n            case 90 /* GS */: return 'GS';\r\n            case 91 /* GT */: return 'GT';\r\n            case 92 /* GU */: return 'GU';\r\n            case 93 /* GW */: return 'GW';\r\n            case 94 /* GY */: return 'GY';\r\n            case 95 /* HK */: return 'HK';\r\n            case 96 /* HM */: return 'HM';\r\n            case 97 /* HN */: return 'HN';\r\n            case 98 /* HR */: return 'HR';\r\n            case 99 /* HT */: return 'HT';\r\n            case 100 /* HU */: return 'HU';\r\n            case 101 /* ID */: return 'ID';\r\n            case 102 /* IE */: return 'IE';\r\n            case 103 /* IL */: return 'IL';\r\n            case 104 /* IM */: return 'IM';\r\n            case 105 /* IN */: return 'IN';\r\n            case 106 /* IO */: return 'IO';\r\n            case 107 /* IQ */: return 'IQ';\r\n            case 108 /* IR */: return 'IR';\r\n            case 109 /* IS */: return 'IS';\r\n            case 110 /* IT */: return 'IT';\r\n            case 111 /* JE */: return 'JE';\r\n            case 112 /* JM */: return 'JM';\r\n            case 113 /* JO */: return 'JO';\r\n            case 114 /* JP */: return 'JP';\r\n            case 115 /* KE */: return 'KE';\r\n            case 116 /* KG */: return 'KG';\r\n            case 117 /* KH */: return 'KH';\r\n            case 118 /* KI */: return 'KI';\r\n            case 119 /* KM */: return 'KM';\r\n            case 120 /* KN */: return 'KN';\r\n            case 121 /* KP */: return 'KP';\r\n            case 122 /* KR */: return 'KR';\r\n            case 123 /* KW */: return 'KW';\r\n            case 124 /* KY */: return 'KY';\r\n            case 125 /* KZ */: return 'KZ';\r\n            case 126 /* LA */: return 'LA';\r\n            case 127 /* LB */: return 'LB';\r\n            case 128 /* LC */: return 'LC';\r\n            case 129 /* LI */: return 'LI';\r\n            case 130 /* LK */: return 'LK';\r\n            case 131 /* LR */: return 'LR';\r\n            case 132 /* LS */: return 'LS';\r\n            case 133 /* LT */: return 'LT';\r\n            case 134 /* LU */: return 'LU';\r\n            case 135 /* LV */: return 'LV';\r\n            case 136 /* LY */: return 'LY';\r\n            case 137 /* MA */: return 'MA';\r\n            case 138 /* MC */: return 'MC';\r\n            case 139 /* MD */: return 'MD';\r\n            case 140 /* ME */: return 'ME';\r\n            case 141 /* MF */: return 'MF';\r\n            case 142 /* MG */: return 'MG';\r\n            case 143 /* MH */: return 'MH';\r\n            case 144 /* MK */: return 'MK';\r\n            case 145 /* ML */: return 'ML';\r\n            case 146 /* MM */: return 'MM';\r\n            case 147 /* MN */: return 'MN';\r\n            case 148 /* MO */: return 'MO';\r\n            case 149 /* MP */: return 'MP';\r\n            case 150 /* MQ */: return 'MQ';\r\n            case 151 /* MR */: return 'MR';\r\n            case 152 /* MS */: return 'MS';\r\n            case 153 /* MT */: return 'MT';\r\n            case 154 /* MU */: return 'MU';\r\n            case 155 /* MV */: return 'MV';\r\n            case 156 /* MW */: return 'MW';\r\n            case 157 /* MX */: return 'MX';\r\n            case 158 /* MY */: return 'MY';\r\n            case 159 /* MZ */: return 'MZ';\r\n            case 160 /* NA */: return 'NA';\r\n            case 161 /* NC */: return 'NC';\r\n            case 162 /* NE */: return 'NE';\r\n            case 163 /* NF */: return 'NF';\r\n            case 164 /* NG */: return 'NG';\r\n            case 165 /* NI */: return 'NI';\r\n            case 166 /* NL */: return 'NL';\r\n            case 167 /* NO */: return 'NO';\r\n            case 168 /* NP */: return 'NP';\r\n            case 169 /* NR */: return 'NR';\r\n            case 170 /* NU */: return 'NU';\r\n            case 171 /* NZ */: return 'NZ';\r\n            case 172 /* OM */: return 'OM';\r\n            case 173 /* PA */: return 'PA';\r\n            case 174 /* PE */: return 'PE';\r\n            case 175 /* PF */: return 'PF';\r\n            case 176 /* PG */: return 'PG';\r\n            case 177 /* PH */: return 'PH';\r\n            case 178 /* PK */: return 'PK';\r\n            case 179 /* PL */: return 'PL';\r\n            case 180 /* PM */: return 'PM';\r\n            case 181 /* PN */: return 'PN';\r\n            case 182 /* PR */: return 'PR';\r\n            case 183 /* PS */: return 'PS';\r\n            case 184 /* PT */: return 'PT';\r\n            case 185 /* PW */: return 'PW';\r\n            case 186 /* PY */: return 'PY';\r\n            case 187 /* QA */: return 'QA';\r\n            case 188 /* RE */: return 'RE';\r\n            case 189 /* RO */: return 'RO';\r\n            case 190 /* RS */: return 'RS';\r\n            case 191 /* RU */: return 'RU';\r\n            case 192 /* RW */: return 'RW';\r\n            case 193 /* SA */: return 'SA';\r\n            case 194 /* SB */: return 'SB';\r\n            case 195 /* SC */: return 'SC';\r\n            case 196 /* SD */: return 'SD';\r\n            case 197 /* SE */: return 'SE';\r\n            case 198 /* SG */: return 'SG';\r\n            case 199 /* SH */: return 'SH';\r\n            case 200 /* SI */: return 'SI';\r\n            case 201 /* SJ */: return 'SJ';\r\n            case 202 /* SK */: return 'SK';\r\n            case 203 /* SL */: return 'SL';\r\n            case 204 /* SM */: return 'SM';\r\n            case 205 /* SN */: return 'SN';\r\n            case 206 /* SO */: return 'SO';\r\n            case 207 /* SR */: return 'SR';\r\n            case 208 /* SS */: return 'SS';\r\n            case 209 /* ST */: return 'ST';\r\n            case 210 /* SV */: return 'SV';\r\n            case 211 /* SX */: return 'SX';\r\n            case 212 /* SY */: return 'SY';\r\n            case 213 /* SZ */: return 'SZ';\r\n            case 214 /* TC */: return 'TC';\r\n            case 215 /* TD */: return 'TD';\r\n            case 216 /* TF */: return 'TF';\r\n            case 217 /* TG */: return 'TG';\r\n            case 218 /* TH */: return 'TH';\r\n            case 219 /* TJ */: return 'TJ';\r\n            case 220 /* TK */: return 'TK';\r\n            case 221 /* TL */: return 'TL';\r\n            case 222 /* TM */: return 'TM';\r\n            case 223 /* TN */: return 'TN';\r\n            case 224 /* TO */: return 'TO';\r\n            case 225 /* TR */: return 'TR';\r\n            case 226 /* TT */: return 'TT';\r\n            case 227 /* TV */: return 'TV';\r\n            case 228 /* TW */: return 'TW';\r\n            case 229 /* TZ */: return 'TZ';\r\n            case 230 /* UA */: return 'UA';\r\n            case 231 /* UG */: return 'UG';\r\n            case 232 /* UM */: return 'UM';\r\n            case 233 /* US */: return 'US';\r\n            case 234 /* UY */: return 'UY';\r\n            case 235 /* UZ */: return 'UZ';\r\n            case 236 /* VA */: return 'VA';\r\n            case 237 /* VC */: return 'VC';\r\n            case 238 /* VE */: return 'VE';\r\n            case 239 /* VG */: return 'VG';\r\n            case 240 /* VI */: return 'VI';\r\n            case 241 /* VN */: return 'VN';\r\n            case 242 /* VU */: return 'VU';\r\n            case 243 /* WF */: return 'WF';\r\n            case 244 /* WS */: return 'WS';\r\n            case 245 /* YE */: return 'YE';\r\n            case 246 /* YT */: return 'YT';\r\n            case 247 /* ZA */: return 'ZA';\r\n            case 248 /* ZM */: return 'ZM';\r\n            case 249 /* ZW */: return 'ZW';\r\n            case 250 /* ZZ */: return 'ZZ';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'AD': return 1 /* AD */;\r\n            case 'AE': return 2 /* AE */;\r\n            case 'AF': return 3 /* AF */;\r\n            case 'AG': return 4 /* AG */;\r\n            case 'AI': return 5 /* AI */;\r\n            case 'AL': return 6 /* AL */;\r\n            case 'AM': return 7 /* AM */;\r\n            case 'AO': return 8 /* AO */;\r\n            case 'AQ': return 9 /* AQ */;\r\n            case 'AR': return 10 /* AR */;\r\n            case 'AS': return 11 /* AS */;\r\n            case 'AT': return 12 /* AT */;\r\n            case 'AU': return 13 /* AU */;\r\n            case 'AW': return 14 /* AW */;\r\n            case 'AX': return 15 /* AX */;\r\n            case 'AZ': return 16 /* AZ */;\r\n            case 'BA': return 17 /* BA */;\r\n            case 'BB': return 18 /* BB */;\r\n            case 'BD': return 19 /* BD */;\r\n            case 'BE': return 20 /* BE */;\r\n            case 'BF': return 21 /* BF */;\r\n            case 'BG': return 22 /* BG */;\r\n            case 'BH': return 23 /* BH */;\r\n            case 'BI': return 24 /* BI */;\r\n            case 'BJ': return 25 /* BJ */;\r\n            case 'BL': return 26 /* BL */;\r\n            case 'BM': return 27 /* BM */;\r\n            case 'BN': return 28 /* BN */;\r\n            case 'BO': return 29 /* BO */;\r\n            case 'BQ': return 30 /* BQ */;\r\n            case 'BR': return 31 /* BR */;\r\n            case 'BS': return 32 /* BS */;\r\n            case 'BT': return 33 /* BT */;\r\n            case 'BV': return 34 /* BV */;\r\n            case 'BW': return 35 /* BW */;\r\n            case 'BY': return 36 /* BY */;\r\n            case 'BZ': return 37 /* BZ */;\r\n            case 'CA': return 38 /* CA */;\r\n            case 'CC': return 39 /* CC */;\r\n            case 'CD': return 40 /* CD */;\r\n            case 'CF': return 41 /* CF */;\r\n            case 'CG': return 42 /* CG */;\r\n            case 'CH': return 43 /* CH */;\r\n            case 'CI': return 44 /* CI */;\r\n            case 'CK': return 45 /* CK */;\r\n            case 'CL': return 46 /* CL */;\r\n            case 'CM': return 47 /* CM */;\r\n            case 'CN': return 48 /* CN */;\r\n            case 'CO': return 49 /* CO */;\r\n            case 'CR': return 50 /* CR */;\r\n            case 'CU': return 51 /* CU */;\r\n            case 'CV': return 52 /* CV */;\r\n            case 'CW': return 53 /* CW */;\r\n            case 'CX': return 54 /* CX */;\r\n            case 'CY': return 55 /* CY */;\r\n            case 'CZ': return 56 /* CZ */;\r\n            case 'DE': return 57 /* DE */;\r\n            case 'DJ': return 58 /* DJ */;\r\n            case 'DK': return 59 /* DK */;\r\n            case 'DM': return 60 /* DM */;\r\n            case 'DO': return 61 /* DO */;\r\n            case 'DZ': return 62 /* DZ */;\r\n            case 'EC': return 63 /* EC */;\r\n            case 'EE': return 64 /* EE */;\r\n            case 'EG': return 65 /* EG */;\r\n            case 'EH': return 66 /* EH */;\r\n            case 'ER': return 67 /* ER */;\r\n            case 'ES': return 68 /* ES */;\r\n            case 'ET': return 69 /* ET */;\r\n            case 'FI': return 70 /* FI */;\r\n            case 'FJ': return 71 /* FJ */;\r\n            case 'FK': return 72 /* FK */;\r\n            case 'FM': return 73 /* FM */;\r\n            case 'FO': return 74 /* FO */;\r\n            case 'FR': return 75 /* FR */;\r\n            case 'GA': return 76 /* GA */;\r\n            case 'GB': return 77 /* GB */;\r\n            case 'GD': return 78 /* GD */;\r\n            case 'GE': return 79 /* GE */;\r\n            case 'GF': return 80 /* GF */;\r\n            case 'GG': return 81 /* GG */;\r\n            case 'GH': return 82 /* GH */;\r\n            case 'GI': return 83 /* GI */;\r\n            case 'GL': return 84 /* GL */;\r\n            case 'GM': return 85 /* GM */;\r\n            case 'GN': return 86 /* GN */;\r\n            case 'GP': return 87 /* GP */;\r\n            case 'GQ': return 88 /* GQ */;\r\n            case 'GR': return 89 /* GR */;\r\n            case 'GS': return 90 /* GS */;\r\n            case 'GT': return 91 /* GT */;\r\n            case 'GU': return 92 /* GU */;\r\n            case 'GW': return 93 /* GW */;\r\n            case 'GY': return 94 /* GY */;\r\n            case 'HK': return 95 /* HK */;\r\n            case 'HM': return 96 /* HM */;\r\n            case 'HN': return 97 /* HN */;\r\n            case 'HR': return 98 /* HR */;\r\n            case 'HT': return 99 /* HT */;\r\n            case 'HU': return 100 /* HU */;\r\n            case 'ID': return 101 /* ID */;\r\n            case 'IE': return 102 /* IE */;\r\n            case 'IL': return 103 /* IL */;\r\n            case 'IM': return 104 /* IM */;\r\n            case 'IN': return 105 /* IN */;\r\n            case 'IO': return 106 /* IO */;\r\n            case 'IQ': return 107 /* IQ */;\r\n            case 'IR': return 108 /* IR */;\r\n            case 'IS': return 109 /* IS */;\r\n            case 'IT': return 110 /* IT */;\r\n            case 'JE': return 111 /* JE */;\r\n            case 'JM': return 112 /* JM */;\r\n            case 'JO': return 113 /* JO */;\r\n            case 'JP': return 114 /* JP */;\r\n            case 'KE': return 115 /* KE */;\r\n            case 'KG': return 116 /* KG */;\r\n            case 'KH': return 117 /* KH */;\r\n            case 'KI': return 118 /* KI */;\r\n            case 'KM': return 119 /* KM */;\r\n            case 'KN': return 120 /* KN */;\r\n            case 'KP': return 121 /* KP */;\r\n            case 'KR': return 122 /* KR */;\r\n            case 'KW': return 123 /* KW */;\r\n            case 'KY': return 124 /* KY */;\r\n            case 'KZ': return 125 /* KZ */;\r\n            case 'LA': return 126 /* LA */;\r\n            case 'LB': return 127 /* LB */;\r\n            case 'LC': return 128 /* LC */;\r\n            case 'LI': return 129 /* LI */;\r\n            case 'LK': return 130 /* LK */;\r\n            case 'LR': return 131 /* LR */;\r\n            case 'LS': return 132 /* LS */;\r\n            case 'LT': return 133 /* LT */;\r\n            case 'LU': return 134 /* LU */;\r\n            case 'LV': return 135 /* LV */;\r\n            case 'LY': return 136 /* LY */;\r\n            case 'MA': return 137 /* MA */;\r\n            case 'MC': return 138 /* MC */;\r\n            case 'MD': return 139 /* MD */;\r\n            case 'ME': return 140 /* ME */;\r\n            case 'MF': return 141 /* MF */;\r\n            case 'MG': return 142 /* MG */;\r\n            case 'MH': return 143 /* MH */;\r\n            case 'MK': return 144 /* MK */;\r\n            case 'ML': return 145 /* ML */;\r\n            case 'MM': return 146 /* MM */;\r\n            case 'MN': return 147 /* MN */;\r\n            case 'MO': return 148 /* MO */;\r\n            case 'MP': return 149 /* MP */;\r\n            case 'MQ': return 150 /* MQ */;\r\n            case 'MR': return 151 /* MR */;\r\n            case 'MS': return 152 /* MS */;\r\n            case 'MT': return 153 /* MT */;\r\n            case 'MU': return 154 /* MU */;\r\n            case 'MV': return 155 /* MV */;\r\n            case 'MW': return 156 /* MW */;\r\n            case 'MX': return 157 /* MX */;\r\n            case 'MY': return 158 /* MY */;\r\n            case 'MZ': return 159 /* MZ */;\r\n            case 'NA': return 160 /* NA */;\r\n            case 'NC': return 161 /* NC */;\r\n            case 'NE': return 162 /* NE */;\r\n            case 'NF': return 163 /* NF */;\r\n            case 'NG': return 164 /* NG */;\r\n            case 'NI': return 165 /* NI */;\r\n            case 'NL': return 166 /* NL */;\r\n            case 'NO': return 167 /* NO */;\r\n            case 'NP': return 168 /* NP */;\r\n            case 'NR': return 169 /* NR */;\r\n            case 'NU': return 170 /* NU */;\r\n            case 'NZ': return 171 /* NZ */;\r\n            case 'OM': return 172 /* OM */;\r\n            case 'PA': return 173 /* PA */;\r\n            case 'PE': return 174 /* PE */;\r\n            case 'PF': return 175 /* PF */;\r\n            case 'PG': return 176 /* PG */;\r\n            case 'PH': return 177 /* PH */;\r\n            case 'PK': return 178 /* PK */;\r\n            case 'PL': return 179 /* PL */;\r\n            case 'PM': return 180 /* PM */;\r\n            case 'PN': return 181 /* PN */;\r\n            case 'PR': return 182 /* PR */;\r\n            case 'PS': return 183 /* PS */;\r\n            case 'PT': return 184 /* PT */;\r\n            case 'PW': return 185 /* PW */;\r\n            case 'PY': return 186 /* PY */;\r\n            case 'QA': return 187 /* QA */;\r\n            case 'RE': return 188 /* RE */;\r\n            case 'RO': return 189 /* RO */;\r\n            case 'RS': return 190 /* RS */;\r\n            case 'RU': return 191 /* RU */;\r\n            case 'RW': return 192 /* RW */;\r\n            case 'SA': return 193 /* SA */;\r\n            case 'SB': return 194 /* SB */;\r\n            case 'SC': return 195 /* SC */;\r\n            case 'SD': return 196 /* SD */;\r\n            case 'SE': return 197 /* SE */;\r\n            case 'SG': return 198 /* SG */;\r\n            case 'SH': return 199 /* SH */;\r\n            case 'SI': return 200 /* SI */;\r\n            case 'SJ': return 201 /* SJ */;\r\n            case 'SK': return 202 /* SK */;\r\n            case 'SL': return 203 /* SL */;\r\n            case 'SM': return 204 /* SM */;\r\n            case 'SN': return 205 /* SN */;\r\n            case 'SO': return 206 /* SO */;\r\n            case 'SR': return 207 /* SR */;\r\n            case 'SS': return 208 /* SS */;\r\n            case 'ST': return 209 /* ST */;\r\n            case 'SV': return 210 /* SV */;\r\n            case 'SX': return 211 /* SX */;\r\n            case 'SY': return 212 /* SY */;\r\n            case 'SZ': return 213 /* SZ */;\r\n            case 'TC': return 214 /* TC */;\r\n            case 'TD': return 215 /* TD */;\r\n            case 'TF': return 216 /* TF */;\r\n            case 'TG': return 217 /* TG */;\r\n            case 'TH': return 218 /* TH */;\r\n            case 'TJ': return 219 /* TJ */;\r\n            case 'TK': return 220 /* TK */;\r\n            case 'TL': return 221 /* TL */;\r\n            case 'TM': return 222 /* TM */;\r\n            case 'TN': return 223 /* TN */;\r\n            case 'TO': return 224 /* TO */;\r\n            case 'TR': return 225 /* TR */;\r\n            case 'TT': return 226 /* TT */;\r\n            case 'TV': return 227 /* TV */;\r\n            case 'TW': return 228 /* TW */;\r\n            case 'TZ': return 229 /* TZ */;\r\n            case 'UA': return 230 /* UA */;\r\n            case 'UG': return 231 /* UG */;\r\n            case 'UM': return 232 /* UM */;\r\n            case 'US': return 233 /* US */;\r\n            case 'UY': return 234 /* UY */;\r\n            case 'UZ': return 235 /* UZ */;\r\n            case 'VA': return 236 /* VA */;\r\n            case 'VC': return 237 /* VC */;\r\n            case 'VE': return 238 /* VE */;\r\n            case 'VG': return 239 /* VG */;\r\n            case 'VI': return 240 /* VI */;\r\n            case 'VN': return 241 /* VN */;\r\n            case 'VU': return 242 /* VU */;\r\n            case 'WF': return 243 /* WF */;\r\n            case 'WS': return 244 /* WS */;\r\n            case 'YE': return 245 /* YE */;\r\n            case 'YT': return 246 /* YT */;\r\n            case 'ZA': return 247 /* ZA */;\r\n            case 'ZM': return 248 /* ZM */;\r\n            case 'ZW': return 249 /* ZW */;\r\n            case 'ZZ': return 250 /* ZZ */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'CountryCode'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst UserDetailsComponentUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* NOTIFICATION_SETTINGS */,\r\n            2 /* OAUTH_ACCOUNTS */,\r\n            3 /* USER_CAPABILITIES */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* NOTIFICATION_SETTINGS */: return 'NOTIFICATION_SETTINGS';\r\n            case 2 /* OAUTH_ACCOUNTS */: return 'OAUTH_ACCOUNTS';\r\n            case 3 /* USER_CAPABILITIES */: return 'USER_CAPABILITIES';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'NOTIFICATION_SETTINGS': return 1 /* NOTIFICATION_SETTINGS */;\r\n            case 'OAUTH_ACCOUNTS': return 2 /* OAUTH_ACCOUNTS */;\r\n            case 'USER_CAPABILITIES': return 3 /* USER_CAPABILITIES */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'UserDetailsComponent'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst UserRoleUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* ROOT */,\r\n            2 /* USER */,\r\n            3 /* REVIEWER */,\r\n            4 /* SUPPORT */,\r\n            5 /* THIRD_PARTY */,\r\n            6 /* FUSION */,\r\n            7 /* MARKETPLACE_ADMIN */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* ROOT */: return 'ROOT';\r\n            case 2 /* USER */: return 'USER';\r\n            case 3 /* REVIEWER */: return 'REVIEWER';\r\n            case 4 /* SUPPORT */: return 'SUPPORT';\r\n            case 5 /* THIRD_PARTY */: return 'THIRD_PARTY';\r\n            case 6 /* FUSION */: return 'FUSION';\r\n            case 7 /* MARKETPLACE_ADMIN */: return 'MARKETPLACE_ADMIN';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'ROOT': return 1 /* ROOT */;\r\n            case 'USER': return 2 /* USER */;\r\n            case 'REVIEWER': return 3 /* REVIEWER */;\r\n            case 'SUPPORT': return 4 /* SUPPORT */;\r\n            case 'THIRD_PARTY': return 5 /* THIRD_PARTY */;\r\n            case 'FUSION': return 6 /* FUSION */;\r\n            case 'MARKETPLACE_ADMIN': return 7 /* MARKETPLACE_ADMIN */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'UserRole'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst BrandMemberEventTypeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* ADD */,\r\n            2 /* REMOVE */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* ADD */: return 'ADD';\r\n            case 2 /* REMOVE */: return 'REMOVE';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'ADD': return 1 /* ADD */;\r\n            case 'REMOVE': return 2 /* REMOVE */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'BrandMemberEventType'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst EmailStatusUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* UNKNOWN */,\r\n            2 /* INVALID */,\r\n            3 /* VALID */,\r\n            4 /* VERIFIED */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* UNKNOWN */: return 'UNKNOWN';\r\n            case 2 /* INVALID */: return 'INVALID';\r\n            case 3 /* VALID */: return 'VALID';\r\n            case 4 /* VERIFIED */: return 'VERIFIED';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'UNKNOWN': return 1 /* UNKNOWN */;\r\n            case 'INVALID': return 2 /* INVALID */;\r\n            case 'VALID': return 3 /* VALID */;\r\n            case 'VERIFIED': return 4 /* VERIFIED */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'EmailStatus'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst VerificationModeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* SMS */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* SMS */: return 'SMS';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'SMS': return 1 /* SMS */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'VerificationMode'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst GroupComponentUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* CAPABILITIES */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* CAPABILITIES */: return 'CAPABILITIES';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'CAPABILITIES': return 1 /* CAPABILITIES */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'GroupComponent'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst Credentials = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'USERNAME_PASSWORD': return UsernamePasswordCredentials.serialize(u);\r\n            case 'EMAIL_PASSWORD': return EmailPasswordCredentials.serialize(u);\r\n            case 'PHONE_PASSWORD': return PhonePasswordCredentials.serialize(u);\r\n            case 'UNVERIFIED_PHONE_PASSWORD': return UnverifiedPhonePasswordCredentials.serialize(u);\r\n            case 'FACEBOOK': return FacebookCredentials.serialize(u);\r\n            case 'GOOGLE': return GoogleCredentials.serialize(u);\r\n            case 'API': return ApiCredentials.serialize(u);\r\n            case 'OAUTH_CODE': return OauthCodeCredentials.serialize(u);\r\n            case 'OAUTH_LINK_TOKEN': return OauthLinkTokenCredentials.serialize(u);\r\n            case 'OAUTH_EXCHANGE': return OauthExchangeCredentials.serialize(u);\r\n            case 'OAUTH_ACCESS_TOKEN': return OauthAccessTokenCredentials.serialize(u);\r\n            case 'PARTNER_AUTH_TOKEN': return PartnerAuthTokenCredentials.serialize(u);\r\n            case 'MINI_APP_CODE': return MiniAppCodeCredentials.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'USERNAME_PASSWORD': return UsernamePasswordCredentials.deserialize(o);\r\n            case 'EMAIL_PASSWORD': return EmailPasswordCredentials.deserialize(o);\r\n            case 'PHONE_PASSWORD': return PhonePasswordCredentials.deserialize(o);\r\n            case 'UNVERIFIED_PHONE_PASSWORD': return UnverifiedPhonePasswordCredentials.deserialize(o);\r\n            case 'FACEBOOK': return FacebookCredentials.deserialize(o);\r\n            case 'GOOGLE': return GoogleCredentials.deserialize(o);\r\n            case 'API': return ApiCredentials.deserialize(o);\r\n            case 'OAUTH_CODE': return OauthCodeCredentials.deserialize(o);\r\n            case 'OAUTH_LINK_TOKEN': return OauthLinkTokenCredentials.deserialize(o);\r\n            case 'OAUTH_EXCHANGE': return OauthExchangeCredentials.deserialize(o);\r\n            case 'OAUTH_ACCESS_TOKEN': return OauthAccessTokenCredentials.deserialize(o);\r\n            case 'PARTNER_AUTH_TOKEN': return PartnerAuthTokenCredentials.deserialize(o);\r\n            case 'MINI_APP_CODE': return MiniAppCodeCredentials.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass UsernamePasswordCredentials {\r\n    constructor(opts) {\r\n        this.type = 'USERNAME_PASSWORD';\r\n        this.username = opts.username;\r\n        this.password = opts.password;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'USERNAME_PASSWORD',\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('username', m.username),\r\n            'password': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('password', m.password),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'USERNAME_PASSWORD');\r\n        return new UsernamePasswordCredentials({\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('username', o),\r\n            password: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('password', o),\r\n        });\r\n    }\r\n}\r\nclass EmailPasswordCredentials {\r\n    constructor(opts) {\r\n        this.type = 'EMAIL_PASSWORD';\r\n        this.email = opts.email;\r\n        this.password = opts.password;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'EMAIL_PASSWORD',\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('email', m.email),\r\n            'password': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('password', m.password),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'EMAIL_PASSWORD');\r\n        return new EmailPasswordCredentials({\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('email', o),\r\n            password: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('password', o),\r\n        });\r\n    }\r\n}\r\nclass PhonePasswordCredentials {\r\n    constructor(opts) {\r\n        this.type = 'PHONE_PASSWORD';\r\n        this.phoneNumber = opts.phoneNumber;\r\n        this.password = opts.password;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'PHONE_PASSWORD',\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('phoneNumber', m.phoneNumber),\r\n            'password': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('password', m.password),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'PHONE_PASSWORD');\r\n        return new PhonePasswordCredentials({\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('phoneNumber', o),\r\n            password: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('password', o),\r\n        });\r\n    }\r\n}\r\nclass UnverifiedPhonePasswordCredentials {\r\n    constructor(opts) {\r\n        this.type = 'UNVERIFIED_PHONE_PASSWORD';\r\n        this.phoneNumber = opts.phoneNumber;\r\n        this.password = opts.password;\r\n        this.code = opts.code;\r\n        this.state = opts.state;\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'UNVERIFIED_PHONE_PASSWORD',\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('phoneNumber', m.phoneNumber),\r\n            'password': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('password', m.password),\r\n            'code': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('code', m.code),\r\n            'state': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('state', m.state),\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'UNVERIFIED_PHONE_PASSWORD');\r\n        return new UnverifiedPhonePasswordCredentials({\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('phoneNumber', o),\r\n            password: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('password', o),\r\n            code: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('code', o),\r\n            state: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('state', o),\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\nclass FacebookCredentials {\r\n    constructor(opts) {\r\n        this.type = 'FACEBOOK';\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'FACEBOOK',\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'FACEBOOK');\r\n        return new FacebookCredentials({\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\nclass GoogleCredentials {\r\n    constructor(opts) {\r\n        this.type = 'GOOGLE';\r\n        this.accessToken = opts.accessToken;\r\n        this.refreshToken = opts.refreshToken;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'GOOGLE',\r\n            'accessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('accessToken', m.accessToken),\r\n            'refreshToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('refreshToken', m.refreshToken),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'GOOGLE');\r\n        return new GoogleCredentials({\r\n            accessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('accessToken', o),\r\n            refreshToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('refreshToken', o),\r\n        });\r\n    }\r\n}\r\nclass ApiCredentials {\r\n    constructor(opts) {\r\n        this.type = 'API';\r\n        this.apiKey = opts.apiKey;\r\n        this.secret = opts.secret;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'API',\r\n            'apiKey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('apiKey', m.apiKey),\r\n            'secret': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('secret', m.secret),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'API');\r\n        return new ApiCredentials({\r\n            apiKey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('apiKey', o),\r\n            secret: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('secret', o),\r\n        });\r\n    }\r\n}\r\n/** for mobile clients only. */\r\nclass OauthCodeCredentials {\r\n    constructor(opts) {\r\n        this.type = 'OAUTH_CODE';\r\n        this.code = opts.code;\r\n        this.platform = opts.platform;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'OAUTH_CODE',\r\n            'code': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('code', m.code),\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'platform', m.platform),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'OAUTH_CODE');\r\n        return new OauthCodeCredentials({\r\n            code: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('code', o),\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'platform', o),\r\n        });\r\n    }\r\n}\r\nclass OauthLinkTokenCredentials {\r\n    constructor(opts) {\r\n        this.type = 'OAUTH_LINK_TOKEN';\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'OAUTH_LINK_TOKEN',\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'OAUTH_LINK_TOKEN');\r\n        return new OauthLinkTokenCredentials({\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\n/** for internal use only, never accepted via RPC */\r\nclass OauthExchangeCredentials {\r\n    constructor(opts) {\r\n        this.type = 'OAUTH_EXCHANGE';\r\n        this.platform = opts.platform;\r\n        this.accessToken = opts.accessToken;\r\n        this.refreshToken = opts.refreshToken;\r\n        this.secret = opts.secret;\r\n        this.externalUserId = opts.externalUserId;\r\n        this.allowAuthentication = opts.allowAuthentication;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'OAUTH_EXCHANGE',\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'platform', m.platform),\r\n            'accessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('accessToken', m.accessToken),\r\n            'refreshToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('refreshToken', m.refreshToken),\r\n            'secret': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('secret', m.secret),\r\n            'externalUserId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('externalUserId', m.externalUserId),\r\n            'allowAuthentication': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('allowAuthentication', m.allowAuthentication),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'OAUTH_EXCHANGE');\r\n        return new OauthExchangeCredentials({\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'platform', o),\r\n            accessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('accessToken', o),\r\n            refreshToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('refreshToken', o),\r\n            secret: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('secret', o),\r\n            externalUserId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('externalUserId', o),\r\n            allowAuthentication: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('allowAuthentication', o),\r\n        });\r\n    }\r\n}\r\n/** for mobile clients only. */\r\nclass OauthAccessTokenCredentials {\r\n    constructor(opts) {\r\n        this.type = 'OAUTH_ACCESS_TOKEN';\r\n        this.platform = opts.platform;\r\n        this.accessToken = opts.accessToken;\r\n        this.refreshToken = opts.refreshToken;\r\n        this.externalUserId = opts.externalUserId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'OAUTH_ACCESS_TOKEN',\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'platform', m.platform),\r\n            'accessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('accessToken', m.accessToken),\r\n            'refreshToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('refreshToken', m.refreshToken),\r\n            'externalUserId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('externalUserId', m.externalUserId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'OAUTH_ACCESS_TOKEN');\r\n        return new OauthAccessTokenCredentials({\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'platform', o),\r\n            accessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('accessToken', o),\r\n            refreshToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('refreshToken', o),\r\n            externalUserId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('externalUserId', o),\r\n        });\r\n    }\r\n}\r\nclass PartnerAuthTokenCredentials {\r\n    constructor(opts) {\r\n        this.type = 'PARTNER_AUTH_TOKEN';\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'PARTNER_AUTH_TOKEN',\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'PARTNER_AUTH_TOKEN');\r\n        return new PartnerAuthTokenCredentials({\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\n/** for mini apps only. */\r\nclass MiniAppCodeCredentials {\r\n    constructor(opts) {\r\n        this.type = 'MINI_APP_CODE';\r\n        this.code = opts.code;\r\n        this.platform = opts.platform;\r\n        this.appId = opts.appId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'MINI_APP_CODE',\r\n            'code': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('code', m.code),\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'platform', m.platform),\r\n            'appId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('appId', m.appId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'MINI_APP_CODE');\r\n        return new MiniAppCodeCredentials({\r\n            code: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('code', o),\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'platform', o),\r\n            appId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('appId', o),\r\n        });\r\n    }\r\n}\r\n/** Facebook account details. */\r\nclass FacebookDetails {\r\n    constructor(opts) {\r\n        this.facebookId = opts.facebookId;\r\n        this.accessToken = opts.accessToken;\r\n        /** Ignore this value, it will be removed. */\r\n        this.tokenExpires = opts.tokenExpires;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'facebookId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('facebookId', m.facebookId),\r\n            'accessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('accessToken', m.accessToken),\r\n            'tokenExpires': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('tokenExpires', m.tokenExpires),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FacebookDetails({\r\n            facebookId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('facebookId', o),\r\n            accessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('accessToken', o),\r\n            tokenExpires: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('tokenExpires', o),\r\n        });\r\n    }\r\n}\r\n/** Google account details. */\r\nclass GoogleDetails {\r\n    constructor(opts) {\r\n        this.googleId = opts.googleId;\r\n        /**\r\n         * Optional Google refresh token. We don't always get the refresh token back\r\n         * from Google. Will will get it with signup but not necessarily with login.\r\n         */\r\n        this.refreshToken = opts.refreshToken;\r\n        /** Optional Google Apps domain. Null if non-apps acount. */\r\n        this.hostedDomain = opts.hostedDomain;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'googleId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('googleId', m.googleId),\r\n            'refreshToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('refreshToken', m.refreshToken),\r\n            'hostedDomain': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('hostedDomain', m.hostedDomain),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GoogleDetails({\r\n            googleId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('googleId', o),\r\n            refreshToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('refreshToken', o),\r\n            hostedDomain: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('hostedDomain', o),\r\n        });\r\n    }\r\n}\r\n/** Api account details. */\r\nclass ApiDetails {\r\n    constructor(opts) {\r\n        this.apiKey = opts.apiKey;\r\n        this.apiSecret = opts.apiSecret;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'apiKey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('apiKey', m.apiKey),\r\n            'apiSecret': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('apiSecret', m.apiSecret),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ApiDetails({\r\n            apiKey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('apiKey', o),\r\n            apiSecret: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('apiSecret', o),\r\n        });\r\n    }\r\n}\r\n/** Oauth account details. */\r\nclass OauthAccount {\r\n    constructor(opts) {\r\n        /** The Platform this details belong to. */\r\n        this.platform = opts.platform;\r\n        /**\r\n         * The user id on the external platform.\r\n         * TODO(sschwieb): Make required when E1 legacy flow is no longer needed.\r\n         */\r\n        this.externalUserId = opts.externalUserId;\r\n        /** The user's name on the platform, if available. */\r\n        this.username = opts.username;\r\n        /** The OAuth 1 or 2 access token. */\r\n        this.accessToken = opts.accessToken;\r\n        /** The Oauth 2 refresh token, if available. */\r\n        this.refreshToken = opts.refreshToken;\r\n        /** OAuth 1 only: The token secret. */\r\n        this.secret = opts.secret;\r\n        /** Whether this account allows logging in. */\r\n        this.loginEnabled = opts.loginEnabled;\r\n        /** The user's avatarUrl if available. */\r\n        this.avatarUrl = opts.avatarUrl;\r\n        /** Optional domain of the user. */\r\n        this.domain = opts.domain;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'platform', m.platform),\r\n            'externalUserId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('externalUserId', m.externalUserId),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('username', m.username),\r\n            'accessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('accessToken', m.accessToken),\r\n            'refreshToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('refreshToken', m.refreshToken),\r\n            'secret': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('secret', m.secret),\r\n            'loginEnabled': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('loginEnabled', m.loginEnabled),\r\n            'avatarUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('avatarUrl', m.avatarUrl),\r\n            'domain': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('domain', m.domain),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new OauthAccount({\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'platform', o),\r\n            externalUserId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('externalUserId', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('username', o),\r\n            accessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('accessToken', o),\r\n            refreshToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('refreshToken', o),\r\n            secret: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('secret', o),\r\n            loginEnabled: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('loginEnabled', o),\r\n            avatarUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('avatarUrl', o),\r\n            domain: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('domain', o),\r\n        });\r\n    }\r\n}\r\n/**\r\n * Canva login account details.\r\n *\r\n * This used to contain the hashed password, but sending the hashed password in\r\n * responses wasn't good so we removed it. This is still serialized as an empty\r\n * object because some client side code checks for the presence of it to\r\n * determine what kind of login mechanism the user is using.\r\n */\r\nclass LoginDetails {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new LoginDetails();\r\n    }\r\n}\r\nclass OauthSummary {\r\n    constructor(opts) {\r\n        this.platform = opts.platform;\r\n        this.valid = opts.valid;\r\n        this.grantedPermissions = opts.grantedPermissions || [];\r\n        this.deniedPermissions = opts.deniedPermissions || [];\r\n        this.username = opts.username;\r\n        this.avatarUrl = opts.avatarUrl;\r\n        /**\r\n         * If true, the access token might become invalid 'soon', and a refresh is recommended. Only\r\n         * relevant in the context of the scheduler. 'Soon' is intentionally vague, and depends on\r\n         * the platform.\r\n         */\r\n        this.refreshRecommended = opts.refreshRecommended;\r\n        /**\r\n         * For instagram, the access token. For all other platforms, null. Note that it is a security\r\n         * risk to expose the access token to a client, especially if it is long-living.\r\n         * Because of this, note that this property will be removed 1st day of the Summer Season 2018.\r\n         */\r\n        this.accessToken = opts.accessToken;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'platform', m.platform),\r\n            'valid': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('valid', m.valid),\r\n            'grantedPermissions': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PermissionUtil\"].serialize, 'grantedPermissions', m.grantedPermissions),\r\n            'deniedPermissions': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PermissionUtil\"].serialize, 'deniedPermissions', m.deniedPermissions),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('username', m.username),\r\n            'avatarUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('avatarUrl', m.avatarUrl),\r\n            'refreshRecommended': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('refreshRecommended', m.refreshRecommended),\r\n            'accessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('accessToken', m.accessToken),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new OauthSummary({\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'platform', o),\r\n            valid: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('valid', o),\r\n            grantedPermissions: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PermissionUtil\"].deserialize, 'grantedPermissions', o),\r\n            deniedPermissions: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PermissionUtil\"].deserialize, 'deniedPermissions', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('username', o),\r\n            avatarUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('avatarUrl', o),\r\n            refreshRecommended: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('refreshRecommended', o),\r\n            accessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('accessToken', o),\r\n        });\r\n    }\r\n}\r\nclass GetOauthSummaryRequest {\r\n    constructor(opts) {\r\n        this.user = opts.user;\r\n        this.platform = opts.platform;\r\n        this.fetchAvatar = opts.fetchAvatar;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'platform', m.platform),\r\n            'fetchAvatar': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('fetchAvatar', m.fetchAvatar),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetOauthSummaryRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'platform', o),\r\n            fetchAvatar: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('fetchAvatar', o),\r\n        });\r\n    }\r\n}\r\nclass GetOauthSummaryResponse {\r\n    constructor(opts) {\r\n        this.summary = opts.summary;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'summary': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(OauthSummary.serialize, 'summary', m.summary),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetOauthSummaryResponse({\r\n            summary: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(OauthSummary.deserialize, 'summary', o),\r\n        });\r\n    }\r\n}\r\nclass CreateOauthLinkTokenRequest {\r\n    constructor(opts) {\r\n        this.credentials = opts.credentials;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'credentials': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Credentials.serialize, 'credentials', m.credentials),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateOauthLinkTokenRequest({\r\n            credentials: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Credentials.deserialize, 'credentials', o),\r\n        });\r\n    }\r\n}\r\nclass CreateOauthLinkTokenResponse {\r\n    constructor(opts) {\r\n        this.credentials = opts.credentials;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'credentials': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Credentials.serialize, 'credentials', m.credentials),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateOauthLinkTokenResponse({\r\n            credentials: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Credentials.deserialize, 'credentials', o),\r\n        });\r\n    }\r\n}\r\nclass GetPasswordResetGrantRequest {\r\n    constructor(opts) {\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetPasswordResetGrantRequest({\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\nclass GetPasswordResetGrantResponse {\r\n    constructor(opts) {\r\n        this.expirationDate = opts.expirationDate;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'expirationDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('expirationDate', m.expirationDate),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetPasswordResetGrantResponse({\r\n            expirationDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('expirationDate', o),\r\n        });\r\n    }\r\n}\r\nclass AvatarBundle {\r\n    constructor(opts) {\r\n        this.version = opts.version;\r\n        this.sizes = opts.sizes || new Map();\r\n        this.status = opts.status;\r\n        this.isDefault = opts.isDefault != null\r\n            ? opts.isDefault\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'version': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('version', m.version),\r\n            'sizes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringObjectMap(AvatarImage.serialize, 'sizes', m.sizes),\r\n            'status': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(AvatarBundleStatusUtil.serialize, 'status', m.status),\r\n            'isDefault': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('isDefault', m.isDefault),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new AvatarBundle({\r\n            version: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('version', o),\r\n            sizes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringObjectMap(AvatarImage.deserialize, 'sizes', o),\r\n            status: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(AvatarBundleStatusUtil.deserialize, 'status', o),\r\n            isDefault: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('isDefault', o),\r\n        });\r\n    }\r\n}\r\nclass AvatarImage {\r\n    constructor(opts) {\r\n        this.size = opts.size;\r\n        this.width = opts.width;\r\n        this.height = opts.height;\r\n        this.url = opts.url;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'size': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('size', m.size),\r\n            'width': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('width', m.width),\r\n            'height': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('height', m.height),\r\n            'url': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('url', m.url),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new AvatarImage({\r\n            size: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('size', o),\r\n            width: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('width', o),\r\n            height: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('height', o),\r\n            url: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('url', o),\r\n        });\r\n    }\r\n}\r\nclass NamedColor {\r\n    constructor(opts) {\r\n        this.hexString = opts.hexString;\r\n        this.name = opts.name;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'hexString': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('hexString', m.hexString),\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('name', m.name),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new NamedColor({\r\n            hexString: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('hexString', o),\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('name', o),\r\n        });\r\n    }\r\n}\r\nclass ColorPalette {\r\n    constructor(opts) {\r\n        this.colors = opts.colors || [];\r\n        this.name = opts.name;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'colors': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(NamedColor.serialize, 'colors', m.colors),\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('name', m.name),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ColorPalette({\r\n            colors: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(NamedColor.deserialize, 'colors', o),\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('name', o),\r\n        });\r\n    }\r\n}\r\nclass BrandKitFont {\r\n    constructor(opts) {\r\n        /** Note: Exactly one of 'family' and 'media' should be non-null. */\r\n        this.family = opts.family;\r\n        this.size = opts.size;\r\n        /** Note: 'bold' and 'italic' are only meaningful if 'family' is set. */\r\n        this.bold = opts.bold;\r\n        this.italic = opts.italic;\r\n        /** Note: Exactly one of 'family' and 'media' should be non-null. */\r\n        this.media = opts.media;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'family': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('family', m.family),\r\n            'size': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('size', m.size),\r\n            'bold': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('bold', m.bold),\r\n            'italic': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('italic', m.italic),\r\n            'media': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(services_media_media_proto__WEBPACK_IMPORTED_MODULE_4__[\"MediaRef\"].serialize, 'media', m.media),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandKitFont({\r\n            family: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('family', o),\r\n            size: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('size', o),\r\n            bold: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('bold', o),\r\n            italic: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('italic', o),\r\n            media: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(services_media_media_proto__WEBPACK_IMPORTED_MODULE_4__[\"MediaRef\"].deserialize, 'media', o),\r\n        });\r\n    }\r\n}\r\nclass TextStyle {\r\n    constructor(opts) {\r\n        /**\r\n         * NOTE(Mitchell): It is hoped that both of these fields could be safely\r\n         * changed to 'required', but this change cannot be made until it is proven to\r\n         * be safe. This comment will be removed, and the fields updated, once an\r\n         * experiment has been run to determine whether the change would be safe.\r\n         */\r\n        this.name = opts.name;\r\n        this.font = opts.font;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('name', m.name),\r\n            'font': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandKitFont.serialize, 'font', m.font),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new TextStyle({\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('name', o),\r\n            font: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandKitFont.deserialize, 'font', o),\r\n        });\r\n    }\r\n}\r\nclass TextStylePalette {\r\n    constructor(opts) {\r\n        /**\r\n         * NOTE(Mitchell): It is hoped that both of these fields could be safely\r\n         * changed to 'required', but this change cannot be made until it is proven to\r\n         * be safe. This comment will be removed, and the fields updated, once an\r\n         * experiment has been run to determine whether the change would be safe.\r\n         */\r\n        this.name = opts.name;\r\n        this.textStyles = opts.textStyles || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('name', m.name),\r\n            'textStyles': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(TextStyle.serialize, 'textStyles', m.textStyles),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new TextStylePalette({\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('name', o),\r\n            textStyles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(TextStyle.deserialize, 'textStyles', o),\r\n        });\r\n    }\r\n}\r\nclass BrandKit {\r\n    constructor(opts) {\r\n        this.brandColor = opts.brandColor;\r\n        this.colorPalettes = opts.colorPalettes || [];\r\n        this.textStylePalettes = opts.textStylePalettes || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brandColor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(NamedColor.serialize, 'brandColor', m.brandColor),\r\n            'colorPalettes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(ColorPalette.serialize, 'colorPalettes', m.colorPalettes),\r\n            'textStylePalettes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(TextStylePalette.serialize, 'textStylePalettes', m.textStylePalettes),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandKit({\r\n            brandColor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(NamedColor.deserialize, 'brandColor', o),\r\n            colorPalettes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(ColorPalette.deserialize, 'colorPalettes', o),\r\n            textStylePalettes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(TextStylePalette.deserialize, 'textStylePalettes', o),\r\n        });\r\n    }\r\n}\r\nclass CreateUserRequest {\r\n    constructor(opts) {\r\n        this.analyticsId = opts.analyticsId;\r\n        this.email = opts.email;\r\n        this.emailVerified = opts.emailVerified;\r\n        this.username = opts.username;\r\n        this.usernameSeed = opts.usernameSeed;\r\n        this.password = opts.password;\r\n        this.displayName = opts.displayName;\r\n        this.temporary = opts.temporary;\r\n        this.roles = opts.roles || [];\r\n        /** If brandAssociations are present then no personal brand is created for the new user */\r\n        this.brandAssociations = opts.brandAssociations || new Map();\r\n        this.homepage = opts.homepage;\r\n        this.city = opts.city;\r\n        this.countryCode = opts.countryCode;\r\n        /** Optional supported locale for this user. Defaults to ENGLISH if not supplied. */\r\n        this.locale = opts.locale;\r\n        this.credentials = opts.credentials;\r\n        /** brand id of the API requester. */\r\n        this.apiBrand = opts.apiBrand;\r\n        /** design type that the user was directed to signup to use. */\r\n        this.initialDesignTypeName = opts.initialDesignTypeName;\r\n        /** token to be exchanged for access to a brand. If present no personal brand is created. */\r\n        this.brandAccessToken = opts.brandAccessToken;\r\n        /** identifier for a signup referral page. */\r\n        this.signupReferrer = opts.signupReferrer;\r\n        /** Optional user journey option the user selected during signup */\r\n        this.journey = opts.journey;\r\n        /** list of UserAttributes which can be set on user creation */\r\n        this.userAttributes = opts.userAttributes || [];\r\n        /** Referral code belonging to the user (referrer) who referred this new user (referee). */\r\n        this.referrerCode = opts.referrerCode;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'analyticsId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('analyticsId', m.analyticsId),\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('email', m.email),\r\n            'emailVerified': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('emailVerified', m.emailVerified),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('username', m.username),\r\n            'usernameSeed': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('usernameSeed', m.usernameSeed),\r\n            'password': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('password', m.password),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'temporary': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('temporary', m.temporary),\r\n            'roles': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(UserRoleUtil.serialize, 'roles', m.roles),\r\n            'brandAssociations': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringEnumMap(BrandUserRoleUtil.serialize, 'brandAssociations', m.brandAssociations),\r\n            'homepage': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('homepage', m.homepage),\r\n            'city': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('city', m.city),\r\n            'countryCode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('countryCode', m.countryCode),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('locale', m.locale),\r\n            'credentials': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(Credentials.serialize, 'credentials', m.credentials),\r\n            'apiBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('apiBrand', m.apiBrand),\r\n            'initialDesignTypeName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('initialDesignTypeName', m.initialDesignTypeName),\r\n            'brandAccessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandAccessToken', m.brandAccessToken),\r\n            'signupReferrer': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('signupReferrer', m.signupReferrer),\r\n            'journey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('journey', m.journey),\r\n            'userAttributes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(UserAttribute.serialize, 'userAttributes', m.userAttributes),\r\n            'referrerCode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('referrerCode', m.referrerCode),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateUserRequest({\r\n            analyticsId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('analyticsId', o),\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('email', o),\r\n            emailVerified: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('emailVerified', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('username', o),\r\n            usernameSeed: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('usernameSeed', o),\r\n            password: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('password', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            temporary: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('temporary', o),\r\n            roles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(UserRoleUtil.deserialize, 'roles', o),\r\n            brandAssociations: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringEnumMap(BrandUserRoleUtil.deserialize, 'brandAssociations', o),\r\n            homepage: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('homepage', o),\r\n            city: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('city', o),\r\n            countryCode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('countryCode', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('locale', o),\r\n            credentials: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(Credentials.deserialize, 'credentials', o),\r\n            apiBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('apiBrand', o),\r\n            initialDesignTypeName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('initialDesignTypeName', o),\r\n            brandAccessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandAccessToken', o),\r\n            signupReferrer: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('signupReferrer', o),\r\n            journey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('journey', o),\r\n            userAttributes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(UserAttribute.deserialize, 'userAttributes', o),\r\n            referrerCode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('referrerCode', o),\r\n        });\r\n    }\r\n}\r\nconst CreateUserResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return CreateUserSuccessResponse.serialize(u);\r\n            case 'ERROR': return CreateUserErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return CreateUserSuccessResponse.deserialize(o);\r\n            case 'ERROR': return CreateUserErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass CreateUserSuccessResponse {\r\n    constructor(opts) {\r\n        this.type = 'SUCCESS';\r\n        this.user = opts.user;\r\n        this.personalBrand = opts.personalBrand;\r\n        this.signupDate = opts.signupDate;\r\n        /** Analytic IDs that were associated with removed reservations */\r\n        this.analyticsIds = opts.analyticsIds || [];\r\n        this.associatedBrands = opts.associatedBrands || [];\r\n        /** The brand that was created or joined as part of the signup */\r\n        this.brand = opts.brand;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(UserDetails.serialize, 'user', m.user),\r\n            'personalBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(Brand.serialize, 'personalBrand', m.personalBrand),\r\n            'signupDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('signupDate', m.signupDate),\r\n            'analyticsIds': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('analyticsIds', m.analyticsIds),\r\n            'associatedBrands': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(Brand.serialize, 'associatedBrands', m.associatedBrands),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Brand.serialize, 'brand', m.brand),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new CreateUserSuccessResponse({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(UserDetails.deserialize, 'user', o),\r\n            personalBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(Brand.deserialize, 'personalBrand', o),\r\n            signupDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('signupDate', o),\r\n            analyticsIds: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('analyticsIds', o),\r\n            associatedBrands: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(Brand.deserialize, 'associatedBrands', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Brand.deserialize, 'brand', o),\r\n        });\r\n    }\r\n}\r\nclass CreateUserErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /**\r\n         * A localized message to display to the user to help inform the user what went\r\n         * wrong.\r\n         */\r\n        this.message = opts.message;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new CreateUserErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n        });\r\n    }\r\n}\r\nclass GetUserRequest {\r\n    constructor(opts) {\r\n        /** Get user by id. */\r\n        this.byId = opts.byId;\r\n        /** Get user by username. */\r\n        this.byUsername = opts.byUsername;\r\n        /** Get user by email. */\r\n        this.byEmail = opts.byEmail;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'byId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byId', m.byId),\r\n            'byUsername': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byUsername', m.byUsername),\r\n            'byEmail': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byEmail', m.byEmail),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetUserRequest({\r\n            byId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byId', o),\r\n            byUsername: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byUsername', o),\r\n            byEmail: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byEmail', o),\r\n        });\r\n    }\r\n}\r\nclass GetUserResponse {\r\n    constructor(opts) {\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(User.serialize, 'user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetUserResponse({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(User.deserialize, 'user', o),\r\n        });\r\n    }\r\n}\r\nclass FindUsersRequest {\r\n    constructor(opts) {\r\n        /** Optional restriction to ids in a collection. */\r\n        this.ids = opts.ids || [];\r\n        /** Optional restriction to emails in a collection */\r\n        this.emails = opts.emails || [];\r\n        /** Optional string to match against id, name or email. Case-insensitive prefix matching. */\r\n        this.nameEmailQuery = opts.nameEmailQuery;\r\n        /** Optional restriction to users who belong to this brand. */\r\n        this.brand = opts.brand;\r\n        /** Optional restriction to users with exactly this role. */\r\n        this.role = opts.role;\r\n        /** Optional restriction to users whose deactivated status matches. */\r\n        this.deactivated = opts.deactivated;\r\n        /** Optional projection to include avatars. */\r\n        this.includeAvatars = opts.includeAvatars;\r\n        /** Optional continuation. */\r\n        this.continuation = opts.continuation;\r\n        this.limit = opts.limit != null\r\n            ? opts.limit\r\n            : 100;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'ids': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('ids', m.ids),\r\n            'emails': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('emails', m.emails),\r\n            'nameEmailQuery': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('nameEmailQuery', m.nameEmailQuery),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brand', m.brand),\r\n            'role': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(UserRoleUtil.serialize, 'role', m.role),\r\n            'deactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('deactivated', m.deactivated),\r\n            'includeAvatars': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('includeAvatars', m.includeAvatars),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindUsersRequest({\r\n            ids: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('ids', o),\r\n            emails: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('emails', o),\r\n            nameEmailQuery: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('nameEmailQuery', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brand', o),\r\n            role: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(UserRoleUtil.deserialize, 'role', o),\r\n            deactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('deactivated', o),\r\n            includeAvatars: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('includeAvatars', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n        });\r\n    }\r\n}\r\nclass FindUsersResponse {\r\n    constructor(opts) {\r\n        /**\r\n         * If an email list was provided in the request, the subset of those emails that matched users.\r\n         * The order matches the order of {@link #users}.\r\n         */\r\n        this.emails = opts.emails || [];\r\n        /** Users, indexed by user id. */\r\n        this.users = opts.users || [];\r\n        this.continuation = opts.continuation;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'emails': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('emails', m.emails),\r\n            'users': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(User.serialize, 'users', m.users),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindUsersResponse({\r\n            emails: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('emails', o),\r\n            users: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(User.deserialize, 'users', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n        });\r\n    }\r\n}\r\nclass GetUserDetailsRequest {\r\n    constructor(opts) {\r\n        this.byId = opts.byId;\r\n        this.byPersonalBrand = opts.byPersonalBrand;\r\n        this.byEmail = opts.byEmail;\r\n        this.byPhoneNumber = opts.byPhoneNumber;\r\n        this.byUsername = opts.byUsername;\r\n        this.byApiKey = opts.byApiKey;\r\n        this.byFacebookId = opts.byFacebookId;\r\n        this.platform = opts.platform;\r\n        this.externalId = opts.externalId;\r\n        /** Set of user projections to include in response. */\r\n        this.projection = opts.projection || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'byId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byId', m.byId),\r\n            'byPersonalBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byPersonalBrand', m.byPersonalBrand),\r\n            'byEmail': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byEmail', m.byEmail),\r\n            'byPhoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byPhoneNumber', m.byPhoneNumber),\r\n            'byUsername': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byUsername', m.byUsername),\r\n            'byApiKey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byApiKey', m.byApiKey),\r\n            'byFacebookId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byFacebookId', m.byFacebookId),\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'platform', m.platform),\r\n            'externalId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('externalId', m.externalId),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(UserDetailsComponentUtil.serialize, 'projection', m.projection),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetUserDetailsRequest({\r\n            byId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byId', o),\r\n            byPersonalBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byPersonalBrand', o),\r\n            byEmail: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byEmail', o),\r\n            byPhoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byPhoneNumber', o),\r\n            byUsername: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byUsername', o),\r\n            byApiKey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byApiKey', o),\r\n            byFacebookId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byFacebookId', o),\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'platform', o),\r\n            externalId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('externalId', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(UserDetailsComponentUtil.deserialize, 'projection', o),\r\n        });\r\n    }\r\n}\r\nclass GetUserDetailsResponse {\r\n    constructor(opts) {\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(UserDetails.serialize, 'user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetUserDetailsResponse({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(UserDetails.deserialize, 'user', o),\r\n        });\r\n    }\r\n}\r\n/** Answers \"Can the calling context do foo to this User?\" */\r\nclass UserCapabilities {\r\n    constructor(opts) {\r\n        /** True if the calling context can change this user's password */\r\n        this.canUpdatePassword = opts.canUpdatePassword != null\r\n            ? opts.canUpdatePassword\r\n            : false;\r\n        /** True if the calling context can add or remove the SUPPORT role from this user. */\r\n        this.canUpdateSupportRole = opts.canUpdateSupportRole != null\r\n            ? opts.canUpdateSupportRole\r\n            : false;\r\n        /** True if the calling context can add or remove the MARKETPLACE_ADMIN role from this user. */\r\n        this.canUpdateMarketplaceAdminRole = opts.canUpdateMarketplaceAdminRole != null\r\n            ? opts.canUpdateMarketplaceAdminRole\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'A': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canUpdatePassword', m.canUpdatePassword),\r\n            'B': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canUpdateSupportRole', m.canUpdateSupportRole),\r\n            'C': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canUpdateMarketplaceAdminRole', m.canUpdateMarketplaceAdminRole),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UserCapabilities({\r\n            canUpdatePassword: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('A', o),\r\n            canUpdateSupportRole: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('B', o),\r\n            canUpdateMarketplaceAdminRole: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('C', o),\r\n        });\r\n    }\r\n}\r\nclass User {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        this.username = opts.username;\r\n        this.personalBrand = opts.personalBrand;\r\n        this.displayName = opts.displayName;\r\n        this.homepage = opts.homepage;\r\n        this.city = opts.city;\r\n        this.countryCode = opts.countryCode;\r\n        this.avatar = opts.avatar;\r\n        this.locale = opts.locale;\r\n        this.deactivated = opts.deactivated;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('username', m.username),\r\n            'personalBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('personalBrand', m.personalBrand),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'homepage': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('homepage', m.homepage),\r\n            'city': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('city', m.city),\r\n            'countryCode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('countryCode', m.countryCode),\r\n            'avatar': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(AvatarBundle.serialize, 'avatar', m.avatar),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('locale', m.locale),\r\n            'deactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('deactivated', m.deactivated),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new User({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('username', o),\r\n            personalBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('personalBrand', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            homepage: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('homepage', o),\r\n            city: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('city', o),\r\n            countryCode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('countryCode', o),\r\n            avatar: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(AvatarBundle.deserialize, 'avatar', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('locale', o),\r\n            deactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('deactivated', o),\r\n        });\r\n    }\r\n}\r\nclass BrandMember {\r\n    constructor(opts) {\r\n        this.user = opts.user;\r\n        this.email = opts.email;\r\n        this.locale = opts.locale;\r\n        this.role = opts.role;\r\n        /**\r\n         * The list of groups within the brand that this user is a member of.\r\n         * Only present if include_groups was true in the FindBrandMembersRequest\r\n         */\r\n        this.groups = opts.groups || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(User.serialize, 'user', m.user),\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('email', m.email),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('locale', m.locale),\r\n            'role': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(BrandUserRoleUtil.serialize, 'role', m.role),\r\n            'groups': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('groups', m.groups),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandMember({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(User.deserialize, 'user', o),\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('email', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('locale', o),\r\n            role: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(BrandUserRoleUtil.deserialize, 'role', o),\r\n            groups: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('groups', o),\r\n        });\r\n    }\r\n}\r\nconst FindBrandMembersMode = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'BY_NAME': return FindBrandMembersByName.serialize(u);\r\n            case 'BY_NAME_OR_EMAIL': return FindBrandMembersByNameOrEmail.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'BY_NAME': return FindBrandMembersByName.deserialize(o);\r\n            case 'BY_NAME_OR_EMAIL': return FindBrandMembersByNameOrEmail.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass FindBrandMembersByName {\r\n    constructor(opts) {\r\n        this.type = 'BY_NAME';\r\n        /**\r\n         * A partial name to match brand members by.\r\n         * Will match on any of displayName, firstName, lastName.\r\n         */\r\n        this.query = opts.query;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'BY_NAME',\r\n            'query': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('query', m.query),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'BY_NAME');\r\n        return new FindBrandMembersByName({\r\n            query: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('query', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandMembersByNameOrEmail {\r\n    constructor(opts) {\r\n        this.type = 'BY_NAME_OR_EMAIL';\r\n        /**\r\n         * A partial name to match brand members by.\r\n         * Will match on any of displayName, firstName, lastName or email.\r\n         */\r\n        this.query = opts.query;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'BY_NAME_OR_EMAIL',\r\n            'query': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('query', m.query),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'BY_NAME_OR_EMAIL');\r\n        return new FindBrandMembersByNameOrEmail({\r\n            query: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('query', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandMembersRequest {\r\n    constructor(opts) {\r\n        /** Brand to find members of. */\r\n        this.brand = opts.brand;\r\n        /** If provided, the set of roles to filter on. */\r\n        this.roles = opts.roles || [];\r\n        /**\r\n         * Filter for brand members.\r\n         * Currently can only be set if both roles and users are empty.\r\n         */\r\n        this.mode = opts.mode;\r\n        /** If provided, the set of user ids to filter on. */\r\n        this.users = opts.users || [];\r\n        /** If set, returned user objects will include avatars. */\r\n        this.includeAvatars = opts.includeAvatars != null\r\n            ? opts.includeAvatars\r\n            : false;\r\n        /** If set, only a count of the members in the brand is returned. */\r\n        this.countOnly = opts.countOnly != null\r\n            ? opts.countOnly\r\n            : false;\r\n        /**\r\n         * If set, controls whether member emails will be returned. If unset, emails will be returned\r\n         * if the caller is a brand admin.\r\n         */\r\n        this.includeEmails = opts.includeEmails;\r\n        /** If true, the list of groups for each user will be included in the response. */\r\n        this.includeGroups = opts.includeGroups;\r\n        /** Continuation token, used for pagination. */\r\n        this.continuation = opts.continuation;\r\n        /** The maximum number of results to return. */\r\n        this.limit = opts.limit != null\r\n            ? opts.limit\r\n            : 100;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'roles': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(BrandUserRoleUtil.serialize, 'roles', m.roles),\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(FindBrandMembersMode.serialize, 'mode', m.mode),\r\n            'users': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('users', m.users),\r\n            'includeAvatars': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('includeAvatars', m.includeAvatars),\r\n            'countOnly': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('countOnly', m.countOnly),\r\n            'includeEmails': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('includeEmails', m.includeEmails),\r\n            'includeGroups': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('includeGroups', m.includeGroups),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandMembersRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            roles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(BrandUserRoleUtil.deserialize, 'roles', o),\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(FindBrandMembersMode.deserialize, 'mode', o),\r\n            users: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('users', o),\r\n            includeAvatars: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('includeAvatars', o),\r\n            countOnly: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('countOnly', o),\r\n            includeEmails: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('includeEmails', o),\r\n            includeGroups: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('includeGroups', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandMembersResponse {\r\n    constructor(opts) {\r\n        this.members = opts.members || [];\r\n        this.continuation = opts.continuation;\r\n        this.count = opts.count;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'members': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(BrandMember.serialize, 'members', m.members),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'count': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('count', m.count),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandMembersResponse({\r\n            members: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(BrandMember.deserialize, 'members', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            count: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('count', o),\r\n        });\r\n    }\r\n}\r\nclass Brand {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        this.brandname = opts.brandname;\r\n        /** display name, optional for personal brands */\r\n        this.displayName = opts.displayName;\r\n        this.personal = opts.personal;\r\n        this.contributor = opts.contributor;\r\n        this.layoutContributor = opts.layoutContributor;\r\n        this.thirdParty = opts.thirdParty;\r\n        /** optional brand color, as a hex string */\r\n        this.brandColor = opts.brandColor;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandname', m.brandname),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'personal': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('personal', m.personal),\r\n            'contributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('contributor', m.contributor),\r\n            'layoutContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('layoutContributor', m.layoutContributor),\r\n            'thirdParty': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('thirdParty', m.thirdParty),\r\n            'brandColor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandColor', m.brandColor),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new Brand({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandname', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            personal: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('personal', o),\r\n            contributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('contributor', o),\r\n            layoutContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('layoutContributor', o),\r\n            thirdParty: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('thirdParty', o),\r\n            brandColor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandColor', o),\r\n        });\r\n    }\r\n}\r\n/** Answers \"Can the calling user do foo to this Brand?\" */\r\nclass BrandCapabilities {\r\n    constructor(opts) {\r\n        /** True if the user can create groups within the brand. Otherwise, false. */\r\n        this.canCreateGroup = opts.canCreateGroup != null\r\n            ? opts.canCreateGroup\r\n            : false;\r\n        /**\r\n         * True if the user can create private group. Otherwise, false.\r\n         * Will only be true if can_create_group is also true.\r\n         */\r\n        this.canCreatePrivateGroup = opts.canCreatePrivateGroup != null\r\n            ? opts.canCreatePrivateGroup\r\n            : false;\r\n        /** True if the user can update the brand name. Otherwise, false. */\r\n        this.canEditBrandName = opts.canEditBrandName != null\r\n            ? opts.canEditBrandName\r\n            : false;\r\n        /**\r\n         * True if the user can invite other users to join the brand. See allowed_invite_roles.\r\n         * Otherwise, false.\r\n         */\r\n        this.canInviteMembers = opts.canInviteMembers != null\r\n            ? opts.canInviteMembers\r\n            : false;\r\n        /**\r\n         * If the user can invite other users to join the brand or modify existing member roles, the\r\n         * permitted roles for the invitee or modified member. Otherwise, empty.\r\n         */\r\n        this.allowedMemberRoles = opts.allowedMemberRoles || [];\r\n        /** True if the user can modify the role of other brand members. Otherwise, false. */\r\n        this.canModifyMemberRoles = opts.canModifyMemberRoles != null\r\n            ? opts.canModifyMemberRoles\r\n            : false;\r\n        /** True if the user can modify the review_workflow brand setting. Otherwise, false. */\r\n        this.canEditReviewWorkflow = opts.canEditReviewWorkflow != null\r\n            ? opts.canEditReviewWorkflow\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'A': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canCreateGroup', m.canCreateGroup),\r\n            'F': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canCreatePrivateGroup', m.canCreatePrivateGroup),\r\n            'B': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canEditBrandName', m.canEditBrandName),\r\n            'C': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canInviteMembers', m.canInviteMembers),\r\n            'D': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(BrandUserRoleUtil.serialize, 'allowedMemberRoles', m.allowedMemberRoles),\r\n            'E': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canModifyMemberRoles', m.canModifyMemberRoles),\r\n            'G': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canEditReviewWorkflow', m.canEditReviewWorkflow),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandCapabilities({\r\n            canCreateGroup: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('A', o),\r\n            canCreatePrivateGroup: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('F', o),\r\n            canEditBrandName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('B', o),\r\n            canInviteMembers: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('C', o),\r\n            allowedMemberRoles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(BrandUserRoleUtil.deserialize, 'D', o),\r\n            canModifyMemberRoles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('E', o),\r\n            canEditReviewWorkflow: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('G', o),\r\n        });\r\n    }\r\n}\r\nclass BrandInvitee {\r\n    constructor(opts) {\r\n        this.email = opts.email;\r\n        this.role = opts.role;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('email', m.email),\r\n            'role': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(BrandUserRoleUtil.serialize, 'role', m.role),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandInvitee({\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('email', o),\r\n            role: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(BrandUserRoleUtil.deserialize, 'role', o),\r\n        });\r\n    }\r\n}\r\nconst BrandInvitation = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SINGLE_USE': return SingleUseInvitation.serialize(u);\r\n            case 'MULTI_USE': return MultiUseInvitation.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SINGLE_USE': return SingleUseInvitation.deserialize(o);\r\n            case 'MULTI_USE': return MultiUseInvitation.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass SingleUseInvitation {\r\n    constructor(opts) {\r\n        this.type = 'SINGLE_USE';\r\n        this.brand = opts.brand;\r\n        this.email = opts.email;\r\n        this.role = opts.role;\r\n        /** An optional set of groups that the user will be added to upon accepting the invitation. */\r\n        this.groups = opts.groups || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SINGLE_USE',\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('email', m.email),\r\n            'role': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(BrandUserRoleUtil.serialize, 'role', m.role),\r\n            'groups': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('groups', m.groups),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SINGLE_USE');\r\n        return new SingleUseInvitation({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('email', o),\r\n            role: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(BrandUserRoleUtil.deserialize, 'role', o),\r\n            groups: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('groups', o),\r\n        });\r\n    }\r\n}\r\nclass MultiUseInvitation {\r\n    constructor(opts) {\r\n        this.type = 'MULTI_USE';\r\n        this.brand = opts.brand;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'MULTI_USE',\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'MULTI_USE');\r\n        return new MultiUseInvitation({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n        });\r\n    }\r\n}\r\n/**\r\n * Currently only supports creation of multi-use invite links. Use a\r\n * SendBrandInvitationsRequest to create and send single-use email\r\n * invitations.\r\n */\r\nclass CreateBrandInvitationRequest {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n        this.joinPath = opts.joinPath;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'joinPath': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('joinPath', m.joinPath),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateBrandInvitationRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            joinPath: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('joinPath', o),\r\n        });\r\n    }\r\n}\r\nclass CreateBrandInvitationResponse {\r\n    constructor(opts) {\r\n        this.joinUrl = opts.joinUrl;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'joinUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('joinUrl', m.joinUrl),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateBrandInvitationResponse({\r\n            joinUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('joinUrl', o),\r\n        });\r\n    }\r\n}\r\nclass SendBrandInvitationsRequest {\r\n    constructor(opts) {\r\n        /** Brand of sending user. */\r\n        this.brand = opts.brand;\r\n        /**\r\n         * Optional group within the brand. On accepting the invitation each invitee will be added to\r\n         * this group with role GroupRole.MEMBER.\r\n         */\r\n        this.group = opts.group;\r\n        /**\r\n         * Id of sending user. Required by service. Optional for rpc handler (non service clients).\r\n         * If not supplied, defaults to the calling user in rpc handler.\r\n         */\r\n        this.inviter = opts.inviter;\r\n        this.invitees = opts.invitees || [];\r\n        /** If true, any existing unused invitations will be resent. Otherwise, they will be skipped. */\r\n        this.resend = opts.resend;\r\n        /**\r\n         * CFE path to direct email recipient to.  Should accept a \"token\" param.\r\n         * TODO(profile-team) Make this param required when all clients are passing it in.\r\n         */\r\n        this.joinPath = opts.joinPath;\r\n        /** utm_content parameter value to set in joinPath. */\r\n        this.utmContent = opts.utmContent;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('group', m.group),\r\n            'inviter': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('inviter', m.inviter),\r\n            'invitees': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(BrandInvitee.serialize, 'invitees', m.invitees),\r\n            'resend': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('resend', m.resend),\r\n            'joinPath': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('joinPath', m.joinPath),\r\n            'utmContent': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('utmContent', m.utmContent),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SendBrandInvitationsRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('group', o),\r\n            inviter: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('inviter', o),\r\n            invitees: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(BrandInvitee.deserialize, 'invitees', o),\r\n            resend: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('resend', o),\r\n            joinPath: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('joinPath', o),\r\n            utmContent: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('utmContent', o),\r\n        });\r\n    }\r\n}\r\nclass SendBrandInvitationsResponse {\r\n    constructor(opts) {\r\n        /** Sent invitations. */\r\n        this.invitations = opts.invitations || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'invitations': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(BrandInvitation.serialize, 'invitations', m.invitations),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SendBrandInvitationsResponse({\r\n            invitations: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(BrandInvitation.deserialize, 'invitations', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateBrandInvitationRequest {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n        /** Invitation with this email is removed/invalidated. */\r\n        this.removeEmail = opts.removeEmail;\r\n        /** Multi-use invitation for this brand is removed/invalidated. */\r\n        this.removeInviteLink = opts.removeInviteLink;\r\n        /**\r\n         * The email for the invite to be modified. Required for group_to_add or group_to_remove.\r\n         * Ignored for other modes.\r\n         */\r\n        this.email = opts.email;\r\n        /** The group to add to the brand invitation. */\r\n        this.groupToAdd = opts.groupToAdd;\r\n        /** The group to remove from the brand invitation. */\r\n        this.groupToRemove = opts.groupToRemove;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'removeEmail': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('removeEmail', m.removeEmail),\r\n            'removeInviteLink': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('removeInviteLink', m.removeInviteLink),\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('email', m.email),\r\n            'groupToAdd': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('groupToAdd', m.groupToAdd),\r\n            'groupToRemove': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('groupToRemove', m.groupToRemove),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateBrandInvitationRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            removeEmail: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('removeEmail', o),\r\n            removeInviteLink: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('removeInviteLink', o),\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('email', o),\r\n            groupToAdd: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('groupToAdd', o),\r\n            groupToRemove: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('groupToRemove', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateBrandInvitationResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateBrandInvitationResponse();\r\n    }\r\n}\r\nclass FindBrandInvitationsRequest {\r\n    constructor(opts) {\r\n        /** Brand the invitation invites users to join. */\r\n        this.brand = opts.brand;\r\n        /** If true, only a count of the unexpired, outstanding invitations for the brand is returned. */\r\n        this.countOnly = opts.countOnly != null\r\n            ? opts.countOnly\r\n            : false;\r\n        /** If true, also include multi-use invites in the response. */\r\n        this.includeMultiUseInvite = opts.includeMultiUseInvite != null\r\n            ? opts.includeMultiUseInvite\r\n            : false;\r\n        this.continuation = opts.continuation;\r\n        this.limit = opts.limit != null\r\n            ? opts.limit\r\n            : 100;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'countOnly': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('countOnly', m.countOnly),\r\n            'includeMultiUseInvite': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('includeMultiUseInvite', m.includeMultiUseInvite),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandInvitationsRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            countOnly: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('countOnly', o),\r\n            includeMultiUseInvite: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('includeMultiUseInvite', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandInvitationsResponse {\r\n    constructor(opts) {\r\n        /** Invitations sorted by email. */\r\n        this.invitations = opts.invitations || [];\r\n        /** If the request was countOnly, the count of invitations in the brand. */\r\n        this.count = opts.count;\r\n        this.continuation = opts.continuation;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'invitations': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(BrandInvitation.serialize, 'invitations', m.invitations),\r\n            'count': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('count', m.count),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandInvitationsResponse({\r\n            invitations: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(BrandInvitation.deserialize, 'invitations', o),\r\n            count: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('count', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n        });\r\n    }\r\n}\r\nclass BrandApiSettings {\r\n    constructor(opts) {\r\n        /** todo(bph) - negate this field to match schema */\r\n        this.enabled = opts.enabled;\r\n        this.allowedReferrers = opts.allowedReferrers || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'enabled': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('enabled', m.enabled),\r\n            'allowedReferrers': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('allowedReferrers', m.allowedReferrers),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandApiSettings({\r\n            enabled: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('enabled', o),\r\n            allowedReferrers: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('allowedReferrers', o),\r\n        });\r\n    }\r\n}\r\nclass BrandBillingInfo {\r\n    constructor(opts) {\r\n        /** Name of the company for billing purposes */\r\n        this.companyName = opts.companyName;\r\n        /** Address and other details */\r\n        this.companyAddress = opts.companyAddress;\r\n        /** List of email addresses to send billing notifications, in addition to the brand-owner */\r\n        this.billingContacts = opts.billingContacts || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'companyName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('companyName', m.companyName),\r\n            'companyAddress': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('companyAddress', m.companyAddress),\r\n            'billingContacts': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('billingContacts', m.billingContacts),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandBillingInfo({\r\n            companyName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('companyName', o),\r\n            companyAddress: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('companyAddress', o),\r\n            billingContacts: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('billingContacts', o),\r\n        });\r\n    }\r\n}\r\nclass BrandDetails {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        this.creationDate = opts.creationDate;\r\n        this.brandname = opts.brandname;\r\n        this.displayName = opts.displayName;\r\n        this.industry = opts.industry;\r\n        this.personal = opts.personal;\r\n        this.contributor = opts.contributor;\r\n        this.layoutContributor = opts.layoutContributor;\r\n        /**\r\n         * If requested for a contributor brand: Whether or not the brand's media is discounted for\r\n         * eligible users. Always null for non-contributing brands.\r\n         */\r\n        this.discountContributor = opts.discountContributor;\r\n        this.contributorAutoapprove = opts.contributorAutoapprove;\r\n        this.thirdParty = opts.thirdParty;\r\n        this.brandKit = opts.brandKit;\r\n        this.apiSettings = opts.apiSettings;\r\n        this.billingInfo = opts.billingInfo;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'creationDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('creationDate', m.creationDate),\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandname', m.brandname),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'industry': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('industry', m.industry),\r\n            'personal': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('personal', m.personal),\r\n            'contributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('contributor', m.contributor),\r\n            'layoutContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('layoutContributor', m.layoutContributor),\r\n            'discountContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('discountContributor', m.discountContributor),\r\n            'contributorAutoapprove': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('contributorAutoapprove', m.contributorAutoapprove),\r\n            'thirdParty': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('thirdParty', m.thirdParty),\r\n            'brandKit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandKit.serialize, 'brandKit', m.brandKit),\r\n            'apiSettings': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandApiSettings.serialize, 'apiSettings', m.apiSettings),\r\n            'billingInfo': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandBillingInfo.serialize, 'billingInfo', m.billingInfo),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandDetails({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            creationDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('creationDate', o),\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandname', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            industry: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('industry', o),\r\n            personal: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('personal', o),\r\n            contributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('contributor', o),\r\n            layoutContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('layoutContributor', o),\r\n            discountContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('discountContributor', o),\r\n            contributorAutoapprove: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('contributorAutoapprove', o),\r\n            thirdParty: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('thirdParty', o),\r\n            brandKit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandKit.deserialize, 'brandKit', o),\r\n            apiSettings: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandApiSettings.deserialize, 'apiSettings', o),\r\n            billingInfo: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandBillingInfo.deserialize, 'billingInfo', o),\r\n        });\r\n    }\r\n}\r\nclass GetBrandDetailsRequest {\r\n    constructor(opts) {\r\n        this.byId = opts.byId;\r\n        this.includeBillingInfo = opts.includeBillingInfo != null\r\n            ? opts.includeBillingInfo\r\n            : false;\r\n        /**\r\n         * Whether or not to check if the brand's media is discounted for eligible users. Ignored for\r\n         * non-contributing brands.\r\n         */\r\n        this.includeDiscountContributor = opts.includeDiscountContributor != null\r\n            ? opts.includeDiscountContributor\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'byId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('byId', m.byId),\r\n            'includeBillingInfo': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('includeBillingInfo', m.includeBillingInfo),\r\n            'includeDiscountContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('includeDiscountContributor', m.includeDiscountContributor),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetBrandDetailsRequest({\r\n            byId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('byId', o),\r\n            includeBillingInfo: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('includeBillingInfo', o),\r\n            includeDiscountContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('includeDiscountContributor', o),\r\n        });\r\n    }\r\n}\r\nclass GetBrandDetailsResponse {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(BrandDetails.serialize, 'brand', m.brand),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetBrandDetailsResponse({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(BrandDetails.deserialize, 'brand', o),\r\n        });\r\n    }\r\n}\r\n/** Configuration data accessible to members of the brand */\r\nclass BrandSettings {\r\n    constructor(opts) {\r\n        this.brandKit = opts.brandKit;\r\n        this.homepageUrl = opts.homepageUrl;\r\n        this.hiddenMagicTemplates = opts.hiddenMagicTemplates || [];\r\n        this.brandKitCreationDate = opts.brandKitCreationDate;\r\n        this.contributorDisabled = opts.contributorDisabled != null\r\n            ? opts.contributorDisabled\r\n            : false;\r\n        this.contributorAutoapprove = opts.contributorAutoapprove != null\r\n            ? opts.contributorAutoapprove\r\n            : false;\r\n        this.restrictedGroupCreation = opts.restrictedGroupCreation != null\r\n            ? opts.restrictedGroupCreation\r\n            : false;\r\n        this.privateEmails = opts.privateEmails != null\r\n            ? opts.privateEmails\r\n            : false;\r\n        this.strictInvites = opts.strictInvites != null\r\n            ? opts.strictInvites\r\n            : false;\r\n        this.reviewWorkflow = opts.reviewWorkflow != null\r\n            ? opts.reviewWorkflow\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brandKit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandKit.serialize, 'brandKit', m.brandKit),\r\n            'homepageUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('homepageUrl', m.homepageUrl),\r\n            'hiddenMagicTemplates': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('hiddenMagicTemplates', m.hiddenMagicTemplates),\r\n            'brandKitCreationDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('brandKitCreationDate', m.brandKitCreationDate),\r\n            'contributorDisabled': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('contributorDisabled', m.contributorDisabled),\r\n            'contributorAutoapprove': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('contributorAutoapprove', m.contributorAutoapprove),\r\n            'restrictedGroupCreation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('restrictedGroupCreation', m.restrictedGroupCreation),\r\n            'privateEmails': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('privateEmails', m.privateEmails),\r\n            'strictInvites': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('strictInvites', m.strictInvites),\r\n            'reviewWorkflow': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('reviewWorkflow', m.reviewWorkflow),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandSettings({\r\n            brandKit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandKit.deserialize, 'brandKit', o),\r\n            homepageUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('homepageUrl', o),\r\n            hiddenMagicTemplates: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('hiddenMagicTemplates', o),\r\n            brandKitCreationDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('brandKitCreationDate', o),\r\n            contributorDisabled: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('contributorDisabled', o),\r\n            contributorAutoapprove: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('contributorAutoapprove', o),\r\n            restrictedGroupCreation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('restrictedGroupCreation', o),\r\n            privateEmails: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('privateEmails', o),\r\n            strictInvites: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('strictInvites', o),\r\n            reviewWorkflow: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('reviewWorkflow', o),\r\n        });\r\n    }\r\n}\r\nconst CollectionModificationOpUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* ADD */,\r\n            2 /* REMOVE */,\r\n            3 /* SET */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* ADD */: return 'ADD';\r\n            case 2 /* REMOVE */: return 'REMOVE';\r\n            case 3 /* SET */: return 'SET';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'ADD': return 1 /* ADD */;\r\n            case 'REMOVE': return 2 /* REMOVE */;\r\n            case 'SET': return 3 /* SET */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'CollectionModificationOp'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nclass CollectionModification {\r\n    constructor(opts) {\r\n        this.op = opts.op;\r\n        this.value = opts.value || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'op': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(CollectionModificationOpUtil.serialize, 'op', m.op),\r\n            'value': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('value', m.value),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CollectionModification({\r\n            op: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(CollectionModificationOpUtil.deserialize, 'op', o),\r\n            value: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('value', o),\r\n        });\r\n    }\r\n}\r\nclass AbandonBrandRequest {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new AbandonBrandRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n        });\r\n    }\r\n}\r\nclass AbandonBrandResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new AbandonBrandResponse();\r\n    }\r\n}\r\nclass CreateBrandRequest {\r\n    constructor(opts) {\r\n        /** Optional brandname. If not supplied a brandname will be generated from the display name. */\r\n        this.brandname = opts.brandname;\r\n        this.displayName = opts.displayName;\r\n        this.personal = opts.personal != null\r\n            ? opts.personal\r\n            : false;\r\n        this.contributor = opts.contributor != null\r\n            ? opts.contributor\r\n            : false;\r\n        this.layoutContributor = opts.layoutContributor != null\r\n            ? opts.layoutContributor\r\n            : false;\r\n        /**\r\n         * If true, the brand's media is discounted for eligible users.\r\n         * Must be false for non-contributing brands.\r\n         */\r\n        this.discountContributor = opts.discountContributor != null\r\n            ? opts.discountContributor\r\n            : false;\r\n        this.contributorAutoapprove = opts.contributorAutoapprove;\r\n        this.thirdParty = opts.thirdParty;\r\n        this.brandKit = opts.brandKit;\r\n        this.owner = opts.owner;\r\n        this.admins = opts.admins || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandname', m.brandname),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('displayName', m.displayName),\r\n            'personal': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('personal', m.personal),\r\n            'contributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('contributor', m.contributor),\r\n            'layoutContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('layoutContributor', m.layoutContributor),\r\n            'discountContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('discountContributor', m.discountContributor),\r\n            'contributorAutoapprove': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('contributorAutoapprove', m.contributorAutoapprove),\r\n            'thirdParty': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('thirdParty', m.thirdParty),\r\n            'brandKit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandKit.serialize, 'brandKit', m.brandKit),\r\n            'owner': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('owner', m.owner),\r\n            'admins': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('admins', m.admins),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateBrandRequest({\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandname', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('displayName', o),\r\n            personal: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('personal', o),\r\n            contributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('contributor', o),\r\n            layoutContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('layoutContributor', o),\r\n            discountContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('discountContributor', o),\r\n            contributorAutoapprove: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('contributorAutoapprove', o),\r\n            thirdParty: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('thirdParty', o),\r\n            brandKit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandKit.deserialize, 'brandKit', o),\r\n            owner: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('owner', o),\r\n            admins: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('admins', o),\r\n        });\r\n    }\r\n}\r\nclass CreateBrandResponse {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(BrandDetails.serialize, 'brand', m.brand),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateBrandResponse({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(BrandDetails.deserialize, 'brand', o),\r\n        });\r\n    }\r\n}\r\nconst BrandComponentUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* SETTINGS */,\r\n            2 /* BILLING_INFO */,\r\n            3 /* CAPABILITIES */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* SETTINGS */: return 'SETTINGS';\r\n            case 2 /* BILLING_INFO */: return 'BILLING_INFO';\r\n            case 3 /* CAPABILITIES */: return 'CAPABILITIES';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'SETTINGS': return 1 /* SETTINGS */;\r\n            case 'BILLING_INFO': return 2 /* BILLING_INFO */;\r\n            case 'CAPABILITIES': return 3 /* CAPABILITIES */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'BrandComponent'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\n/** Retrieves a specific Brand by brand ID, brand name, user (by personal brand) or brand access token */\r\nclass GetBrandRequest {\r\n    constructor(opts) {\r\n        this.byId = opts.byId;\r\n        this.byBrandname = opts.byBrandname;\r\n        this.byUser = opts.byUser;\r\n        this.byBrandAccessToken = opts.byBrandAccessToken;\r\n        /** Set of additional brand components to provide in the response. */\r\n        this.projection = opts.projection || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'byId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byId', m.byId),\r\n            'byBrandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byBrandname', m.byBrandname),\r\n            'byUser': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byUser', m.byUser),\r\n            'byBrandAccessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('byBrandAccessToken', m.byBrandAccessToken),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(BrandComponentUtil.serialize, 'projection', m.projection),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetBrandRequest({\r\n            byId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byId', o),\r\n            byBrandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byBrandname', o),\r\n            byUser: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byUser', o),\r\n            byBrandAccessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('byBrandAccessToken', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(BrandComponentUtil.deserialize, 'projection', o),\r\n        });\r\n    }\r\n}\r\nclass GetBrandResponse {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n        /**\r\n         * The brand settings for this brand. Will only be populated if the SETTINGS component was\r\n         * provided in the projection and they exist.\r\n         */\r\n        this.settings = opts.settings;\r\n        /**\r\n         * The billing information for this brand. Will only be populated if the BILLING_INFO component\r\n         * was provided in the projection and it exists.\r\n         */\r\n        this.billingInfo = opts.billingInfo;\r\n        /**\r\n         * The set of actions the calling user is allowed to perform within this brand.\r\n         * Will only be populated if the CAPABILITIES component was provided in the projection.\r\n         */\r\n        this.capabilities = opts.capabilities;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Brand.serialize, 'brand', m.brand),\r\n            'settings': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandSettings.serialize, 'settings', m.settings),\r\n            'billingInfo': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandBillingInfo.serialize, 'billingInfo', m.billingInfo),\r\n            'capabilities': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandCapabilities.serialize, 'capabilities', m.capabilities),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetBrandResponse({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Brand.deserialize, 'brand', o),\r\n            settings: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandSettings.deserialize, 'settings', o),\r\n            billingInfo: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandBillingInfo.deserialize, 'billingInfo', o),\r\n            capabilities: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandCapabilities.deserialize, 'capabilities', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandsRequest {\r\n    constructor(opts) {\r\n        /** Optional brandname or id query. */\r\n        this.query = opts.query;\r\n        this.user = opts.user;\r\n        this.contributor = opts.contributor;\r\n        /** If set, only return contributor brands with or without contributor discount. */\r\n        this.discountContributor = opts.discountContributor;\r\n        this.ids = opts.ids || [];\r\n        this.continuation = opts.continuation;\r\n        this.limit = opts.limit != null\r\n            ? opts.limit\r\n            : 100;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'query': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('query', m.query),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'contributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('contributor', m.contributor),\r\n            'discountContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('discountContributor', m.discountContributor),\r\n            'ids': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('ids', m.ids),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandsRequest({\r\n            query: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('query', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            contributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('contributor', o),\r\n            discountContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('discountContributor', o),\r\n            ids: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('ids', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandsResponse {\r\n    constructor(opts) {\r\n        this.brands = opts.brands || [];\r\n        this.continuation = opts.continuation;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brands': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(Brand.serialize, 'brands', m.brands),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandsResponse({\r\n            brands: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(Brand.deserialize, 'brands', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateBrandRequest {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n        this.brandname = opts.brandname;\r\n        this.displayName = opts.displayName;\r\n        this.owner = opts.owner;\r\n        /** If set, update the company's industry. */\r\n        this.industry = opts.industry;\r\n        /** Once a personal brand has been converted to a team it cannot be made personal again. */\r\n        this.personal = opts.personal;\r\n        this.contributor = opts.contributor;\r\n        this.layoutContributor = opts.layoutContributor;\r\n        this.thirdParty = opts.thirdParty;\r\n        this.apiSettings = opts.apiSettings;\r\n        this.brandKit = opts.brandKit;\r\n        this.hiddenMagicTemplates = opts.hiddenMagicTemplates;\r\n        this.billingInfo = opts.billingInfo;\r\n        this.contributorDisabled = opts.contributorDisabled;\r\n        this.contributorAutoapprove = opts.contributorAutoapprove;\r\n        this.discountContributor = opts.discountContributor;\r\n        this.restrictedGroupCreation = opts.restrictedGroupCreation;\r\n        this.privateEmails = opts.privateEmails;\r\n        this.strictInvites = opts.strictInvites;\r\n        this.reviewWorkflow = opts.reviewWorkflow;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandname', m.brandname),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'owner': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('owner', m.owner),\r\n            'industry': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('industry', m.industry),\r\n            'personal': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('personal', m.personal),\r\n            'contributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('contributor', m.contributor),\r\n            'layoutContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('layoutContributor', m.layoutContributor),\r\n            'thirdParty': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('thirdParty', m.thirdParty),\r\n            'apiSettings': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandApiSettings.serialize, 'apiSettings', m.apiSettings),\r\n            'brandKit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandKit.serialize, 'brandKit', m.brandKit),\r\n            'hiddenMagicTemplates': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(CollectionModification.serialize, 'hiddenMagicTemplates', m.hiddenMagicTemplates),\r\n            'billingInfo': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BrandBillingInfo.serialize, 'billingInfo', m.billingInfo),\r\n            'contributorDisabled': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('contributorDisabled', m.contributorDisabled),\r\n            'contributorAutoapprove': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('contributorAutoapprove', m.contributorAutoapprove),\r\n            'discountContributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('discountContributor', m.discountContributor),\r\n            'restrictedGroupCreation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('restrictedGroupCreation', m.restrictedGroupCreation),\r\n            'privateEmails': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('privateEmails', m.privateEmails),\r\n            'strictInvites': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('strictInvites', m.strictInvites),\r\n            'reviewWorkflow': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('reviewWorkflow', m.reviewWorkflow),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateBrandRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandname', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            owner: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('owner', o),\r\n            industry: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('industry', o),\r\n            personal: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('personal', o),\r\n            contributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('contributor', o),\r\n            layoutContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('layoutContributor', o),\r\n            thirdParty: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('thirdParty', o),\r\n            apiSettings: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandApiSettings.deserialize, 'apiSettings', o),\r\n            brandKit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandKit.deserialize, 'brandKit', o),\r\n            hiddenMagicTemplates: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(CollectionModification.deserialize, 'hiddenMagicTemplates', o),\r\n            billingInfo: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BrandBillingInfo.deserialize, 'billingInfo', o),\r\n            contributorDisabled: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('contributorDisabled', o),\r\n            contributorAutoapprove: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('contributorAutoapprove', o),\r\n            discountContributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('discountContributor', o),\r\n            restrictedGroupCreation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('restrictedGroupCreation', o),\r\n            privateEmails: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('privateEmails', o),\r\n            strictInvites: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('strictInvites', o),\r\n            reviewWorkflow: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('reviewWorkflow', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateBrandResponse {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n        /** TODO(saf) remove after J release when adding different types */\r\n        this.type = opts.type;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(BrandDetails.serialize, 'brand', m.brand),\r\n            'type': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('type', m.type),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateBrandResponse({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(BrandDetails.deserialize, 'brand', o),\r\n            type: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('type', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateUserRequest {\r\n    constructor(opts) {\r\n        /** the id of the user to be updated. */\r\n        this.user = opts.user;\r\n        /** If set, update the user's email. */\r\n        this.email = opts.email;\r\n        /** If set, update the user's username. */\r\n        this.username = opts.username;\r\n        /** If set, update the user's display name. */\r\n        this.displayName = opts.displayName;\r\n        /** If set, update the user's first name. */\r\n        this.firstName = opts.firstName;\r\n        /** If set, update the user's last name. */\r\n        this.lastName = opts.lastName;\r\n        /**\r\n         * If set, update the user's roles.\r\n         * deprecated, use UpdateUserRequest#roleToAdd and UpdateUserRequest#roleToRemove instead\r\n         */\r\n        this.roles = opts.roles || [];\r\n        /** if set, add the given role to the given users list of roles */\r\n        this.roleToAdd = opts.roleToAdd;\r\n        /** if set, remove the given role from the given users list of roles */\r\n        this.roleToRemove = opts.roleToRemove;\r\n        /** An optional avatar bundle id. If set, update the user's avatar. */\r\n        this.avatar = opts.avatar;\r\n        /** If set, update the user's homepage. */\r\n        this.homepage = opts.homepage;\r\n        /** If set, update the user's city. */\r\n        this.city = opts.city;\r\n        /** If set, update the user's country code. A 2-letter ISO 3166-1 country code. Use ZZ to clear. */\r\n        this.countryCode = opts.countryCode;\r\n        /** If set, update the user's locale. */\r\n        this.locale = opts.locale;\r\n        /** If set, update the user's password. */\r\n        this.password = opts.password;\r\n        /** Required if password or email is not null. Unless the request is made by ROOT. */\r\n        this.currentPassword = opts.currentPassword;\r\n        /** If set, update the user's facebook details. */\r\n        this.facebook = opts.facebook;\r\n        /** If set, update the user's google details. */\r\n        this.google = opts.google;\r\n        /** If set, update the user's Oauth details. */\r\n        this.oauthAccount = opts.oauthAccount;\r\n        /** If set, update the user's credentials. */\r\n        this.credentials = opts.credentials;\r\n        /** If set, remove the relevant oauth account from the user. */\r\n        this.oauthPlatformToDelete = opts.oauthPlatformToDelete;\r\n        /** If set, generate an API key for this user. */\r\n        this.generateApiKeyWithType = opts.generateApiKeyWithType;\r\n        /**\r\n         * If set, update the uiInfo JSON blob for this user.\r\n         * Deprecated, use user attributes instead. See UserAttribute below.\r\n         * If that doesn't fit your requirements speak to profile team.\r\n         */\r\n        this.uiInfoJson = opts.uiInfoJson;\r\n        /** If set, update the user's notification settings. */\r\n        this.userNotificationSettings = opts.userNotificationSettings;\r\n        /** If set, update the user's profession. */\r\n        this.profession = opts.profession;\r\n        /** If set, update the user's professional role. */\r\n        this.professionalRole = opts.professionalRole;\r\n        /** Optional user journey option the user selected after signup */\r\n        this.journey = opts.journey;\r\n        /** If set, update the GDPR compliance privacy policy flag. */\r\n        this.privacyPolicyNotified = opts.privacyPolicyNotified;\r\n        /** H2 is fully rolled out, no need to update this anymore. */\r\n        this.preferredHomepage = opts.preferredHomepage;\r\n        /**\r\n         * If set and true, return an UpdateUserErrorResponse instead of throwing an exception\r\n         * when an expected error (i.e., an error supported by the backend) occurs.\r\n         */\r\n        this.supportErrorResponse = opts.supportErrorResponse != null\r\n            ? opts.supportErrorResponse\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('email', m.email),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('username', m.username),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'firstName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('firstName', m.firstName),\r\n            'lastName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('lastName', m.lastName),\r\n            'roles': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(UserRoleUtil.serialize, 'roles', m.roles),\r\n            'roleToAdd': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(UserRoleUtil.serialize, 'roleToAdd', m.roleToAdd),\r\n            'roleToRemove': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(UserRoleUtil.serialize, 'roleToRemove', m.roleToRemove),\r\n            'avatar': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('avatar', m.avatar),\r\n            'homepage': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('homepage', m.homepage),\r\n            'city': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('city', m.city),\r\n            'countryCode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(CountryCodeUtil.serialize, 'countryCode', m.countryCode),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('locale', m.locale),\r\n            'password': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('password', m.password),\r\n            'currentPassword': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('currentPassword', m.currentPassword),\r\n            'facebook': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(FacebookDetails.serialize, 'facebook', m.facebook),\r\n            'google': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(GoogleDetails.serialize, 'google', m.google),\r\n            'oauthAccount': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(OauthAccount.serialize, 'oauthAccount', m.oauthAccount),\r\n            'credentials': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(Credentials.serialize, 'credentials', m.credentials),\r\n            'oauthPlatformToDelete': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].serialize, 'oauthPlatformToDelete', m.oauthPlatformToDelete),\r\n            'generateApiKeyWithType': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(services_api_api_key_proto__WEBPACK_IMPORTED_MODULE_3__[\"KeyTypeUtil\"].serialize, 'generateApiKeyWithType', m.generateApiKeyWithType),\r\n            'uiInfoJson': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('uiInfoJson', m.uiInfoJson),\r\n            'userNotificationSettings': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(UserNotificationSettings.serialize, 'userNotificationSettings', m.userNotificationSettings),\r\n            'profession': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('profession', m.profession),\r\n            'professionalRole': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('professionalRole', m.professionalRole),\r\n            'journey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('journey', m.journey),\r\n            'privacyPolicyNotified': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('privacyPolicyNotified', m.privacyPolicyNotified),\r\n            'preferredHomepage': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('preferredHomepage', m.preferredHomepage),\r\n            'supportErrorResponse': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('supportErrorResponse', m.supportErrorResponse),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateUserRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('email', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('username', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            firstName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('firstName', o),\r\n            lastName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('lastName', o),\r\n            roles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(UserRoleUtil.deserialize, 'roles', o),\r\n            roleToAdd: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(UserRoleUtil.deserialize, 'roleToAdd', o),\r\n            roleToRemove: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(UserRoleUtil.deserialize, 'roleToRemove', o),\r\n            avatar: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('avatar', o),\r\n            homepage: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('homepage', o),\r\n            city: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('city', o),\r\n            countryCode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(CountryCodeUtil.deserialize, 'countryCode', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('locale', o),\r\n            password: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('password', o),\r\n            currentPassword: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('currentPassword', o),\r\n            facebook: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(FacebookDetails.deserialize, 'facebook', o),\r\n            google: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(GoogleDetails.deserialize, 'google', o),\r\n            oauthAccount: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(OauthAccount.deserialize, 'oauthAccount', o),\r\n            credentials: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(Credentials.deserialize, 'credentials', o),\r\n            oauthPlatformToDelete: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_5__[\"PlatformUtil\"].deserialize, 'oauthPlatformToDelete', o),\r\n            generateApiKeyWithType: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(services_api_api_key_proto__WEBPACK_IMPORTED_MODULE_3__[\"KeyTypeUtil\"].deserialize, 'generateApiKeyWithType', o),\r\n            uiInfoJson: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('uiInfoJson', o),\r\n            userNotificationSettings: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(UserNotificationSettings.deserialize, 'userNotificationSettings', o),\r\n            profession: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('profession', o),\r\n            professionalRole: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('professionalRole', o),\r\n            journey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('journey', o),\r\n            privacyPolicyNotified: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('privacyPolicyNotified', o),\r\n            preferredHomepage: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('preferredHomepage', o),\r\n            supportErrorResponse: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('supportErrorResponse', o),\r\n        });\r\n    }\r\n}\r\nconst UpdateUserResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return UpdateUserSuccessResponse.serialize(u);\r\n            case 'ERROR': return UpdateUserErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return UpdateUserSuccessResponse.deserialize(o);\r\n            case 'ERROR': return UpdateUserErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass UpdateUserSuccessResponse {\r\n    constructor(opts) {\r\n        this.type = 'SUCCESS';\r\n        this.user = opts.user;\r\n        /**\r\n         * Indicates that the server decided to verify the email address specified\r\n         * in the request rather than accept it immediately.\r\n         */\r\n        this.verificationEmailSent = opts.verificationEmailSent != null\r\n            ? opts.verificationEmailSent\r\n            : false;\r\n        /** The account was linked with facebook in this request. */\r\n        this.linkedWithFacebook = opts.linkedWithFacebook != null\r\n            ? opts.linkedWithFacebook\r\n            : false;\r\n        /** The account was linked with google in this request. */\r\n        this.linkedWithGoogle = opts.linkedWithGoogle != null\r\n            ? opts.linkedWithGoogle\r\n            : false;\r\n        /** The user name was updated. */\r\n        this.usernameUpdated = opts.usernameUpdated != null\r\n            ? opts.usernameUpdated\r\n            : false;\r\n        /** The display name was updated. */\r\n        this.displayNameUpdated = opts.displayNameUpdated != null\r\n            ? opts.displayNameUpdated\r\n            : false;\r\n        /** The first name was updated. */\r\n        this.firstNameUpdated = opts.firstNameUpdated != null\r\n            ? opts.firstNameUpdated\r\n            : false;\r\n        /** The last name was updated. */\r\n        this.lastNameUpdated = opts.lastNameUpdated != null\r\n            ? opts.lastNameUpdated\r\n            : false;\r\n        /** The locale was updated. */\r\n        this.localeUpdated = opts.localeUpdated != null\r\n            ? opts.localeUpdated\r\n            : false;\r\n        /** The user profession was updated. */\r\n        this.professionUpdated = opts.professionUpdated != null\r\n            ? opts.professionUpdated\r\n            : false;\r\n        /** The user professional role was updated. */\r\n        this.professionalRoleUpdated = opts.professionalRoleUpdated != null\r\n            ? opts.professionalRoleUpdated\r\n            : false;\r\n        /** The user journey role was updated. */\r\n        this.journeyRoleUpdated = opts.journeyRoleUpdated != null\r\n            ? opts.journeyRoleUpdated\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(UserDetails.serialize, 'user', m.user),\r\n            'verificationEmailSent': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('verificationEmailSent', m.verificationEmailSent),\r\n            'linkedWithFacebook': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('linkedWithFacebook', m.linkedWithFacebook),\r\n            'linkedWithGoogle': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('linkedWithGoogle', m.linkedWithGoogle),\r\n            'usernameUpdated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('usernameUpdated', m.usernameUpdated),\r\n            'displayNameUpdated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('displayNameUpdated', m.displayNameUpdated),\r\n            'firstNameUpdated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('firstNameUpdated', m.firstNameUpdated),\r\n            'lastNameUpdated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('lastNameUpdated', m.lastNameUpdated),\r\n            'localeUpdated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('localeUpdated', m.localeUpdated),\r\n            'professionUpdated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('professionUpdated', m.professionUpdated),\r\n            'professionalRoleUpdated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('professionalRoleUpdated', m.professionalRoleUpdated),\r\n            'journeyRoleUpdated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('journeyRoleUpdated', m.journeyRoleUpdated),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new UpdateUserSuccessResponse({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(UserDetails.deserialize, 'user', o),\r\n            verificationEmailSent: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('verificationEmailSent', o),\r\n            linkedWithFacebook: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('linkedWithFacebook', o),\r\n            linkedWithGoogle: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('linkedWithGoogle', o),\r\n            usernameUpdated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('usernameUpdated', o),\r\n            displayNameUpdated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('displayNameUpdated', o),\r\n            firstNameUpdated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('firstNameUpdated', o),\r\n            lastNameUpdated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('lastNameUpdated', o),\r\n            localeUpdated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('localeUpdated', o),\r\n            professionUpdated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('professionUpdated', o),\r\n            professionalRoleUpdated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('professionalRoleUpdated', o),\r\n            journeyRoleUpdated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('journeyRoleUpdated', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateUserErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /** A localized message to display to the user to help inform the user what went wrong. */\r\n        this.message = opts.message;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new UpdateUserErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n        });\r\n    }\r\n}\r\nclass GetApiStatusRequest {\r\n    constructor(opts) {\r\n        this.key = opts.key;\r\n        this.referrer = opts.referrer;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'key': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('key', m.key),\r\n            'referrer': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('referrer', m.referrer),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetApiStatusRequest({\r\n            key: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('key', o),\r\n            referrer: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('referrer', o),\r\n        });\r\n    }\r\n}\r\nclass GetApiStatusResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new GetApiStatusResponse();\r\n    }\r\n}\r\nclass GetBrandMembershipRequest {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n        /** If present, retrieves the brand membership as it was at the given time. */\r\n        this.beforeTime = opts.beforeTime;\r\n        /** If present, then retrieve the brand membership for this user, within the brand. */\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'beforeTime': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('beforeTime', m.beforeTime),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetBrandMembershipRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            beforeTime: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('beforeTime', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n        });\r\n    }\r\n}\r\nclass GetBrandMembershipResponse {\r\n    constructor(opts) {\r\n        /**\r\n         * The brand. This field is provided to distinguish responses when using\r\n         * GetBrandMembershipBatchRequest.\r\n         */\r\n        this.brand = opts.brand;\r\n        /**\r\n         * If present the user, within the brand. This field is provided to distinguish responses when\r\n         * using GetBrandMembershipBatchRequest.\r\n         */\r\n        this.user = opts.user;\r\n        /**\r\n         * The quantity of users in the brand. If a user was specified, then this will either be 1 if the\r\n         * user is in the brand, otherwise 0.\r\n         */\r\n        this.quantity = opts.quantity;\r\n        /**\r\n         * The most recent brand member event, for the requested brand, at the time this quantity\r\n         * snapshot was retrieved.\r\n         */\r\n        this.latestBrandMembershipEvent = opts.latestBrandMembershipEvent;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'quantity': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('quantity', m.quantity),\r\n            'latestBrandMembershipEvent': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('latestBrandMembershipEvent', m.latestBrandMembershipEvent),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetBrandMembershipResponse({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            quantity: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('quantity', o),\r\n            latestBrandMembershipEvent: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('latestBrandMembershipEvent', o),\r\n        });\r\n    }\r\n}\r\nclass GetBrandMembershipBatchRequest {\r\n    constructor(opts) {\r\n        /** The getBrandMembership requests to perform. */\r\n        this.requests = opts.requests || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'requests': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(GetBrandMembershipRequest.serialize, 'requests', m.requests),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetBrandMembershipBatchRequest({\r\n            requests: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(GetBrandMembershipRequest.deserialize, 'requests', o),\r\n        });\r\n    }\r\n}\r\nclass GetBrandMembershipBatchResponse {\r\n    constructor(opts) {\r\n        /** The getBrandMembership responses. */\r\n        this.responses = opts.responses || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'responses': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(GetBrandMembershipResponse.serialize, 'responses', m.responses),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetBrandMembershipBatchResponse({\r\n            responses: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(GetBrandMembershipResponse.deserialize, 'responses', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandMembershipEventsRequest {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n        /** Filter brand member events by user, if available. */\r\n        this.user = opts.user;\r\n        /** Find all brand member events which have ID not smaller than this. If null, start from the start. */\r\n        this.minBrandMembershipEvent = opts.minBrandMembershipEvent;\r\n        /** The continuation token, used for pagination. */\r\n        this.continuation = opts.continuation;\r\n        /** maximum number of records to return */\r\n        this.limit = opts.limit;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'minBrandMembershipEvent': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('minBrandMembershipEvent', m.minBrandMembershipEvent),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandMembershipEventsRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            minBrandMembershipEvent: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('minBrandMembershipEvent', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n        });\r\n    }\r\n}\r\nclass UserWithToken {\r\n    constructor(opts) {\r\n        this.user = opts.user;\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UserWithToken({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateBrandMembersRequest {\r\n    constructor(opts) {\r\n        /** Brand to update, required for all updates except {@link #addByToken}. */\r\n        this.brand = opts.brand;\r\n        /** If not empty, these members are added to the brand. */\r\n        this.add = opts.add || new Map();\r\n        /** If set, this user is added to the brand with role as specified by the token. */\r\n        this.addByToken = opts.addByToken;\r\n        /** If not empty, assigns these roles to existing members. */\r\n        this.update = opts.update || new Map();\r\n        /** If not empty, these members are removed from the brand. */\r\n        this.remove = opts.remove || [];\r\n        /** If true, returned user objects include avatars */\r\n        this.includeAvatars = opts.includeAvatars != null\r\n            ? opts.includeAvatars\r\n            : false;\r\n        /** If true return an UpdateBrandMembersErrorResponse instead of throwing an error where sane */\r\n        this.supportErrorResponse = opts.supportErrorResponse != null\r\n            ? opts.supportErrorResponse\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brand', m.brand),\r\n            'add': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringEnumMap(BrandUserRoleUtil.serialize, 'add', m.add),\r\n            'addByToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(UserWithToken.serialize, 'addByToken', m.addByToken),\r\n            'update': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringEnumMap(BrandUserRoleUtil.serialize, 'update', m.update),\r\n            'remove': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('remove', m.remove),\r\n            'includeAvatars': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('includeAvatars', m.includeAvatars),\r\n            'supportErrorResponse': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('supportErrorResponse', m.supportErrorResponse),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateBrandMembersRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brand', o),\r\n            add: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringEnumMap(BrandUserRoleUtil.deserialize, 'add', o),\r\n            addByToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(UserWithToken.deserialize, 'addByToken', o),\r\n            update: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringEnumMap(BrandUserRoleUtil.deserialize, 'update', o),\r\n            remove: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('remove', o),\r\n            includeAvatars: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('includeAvatars', o),\r\n            supportErrorResponse: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('supportErrorResponse', o),\r\n        });\r\n    }\r\n}\r\nconst UpdateBrandMembersResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return UpdateBrandMembersSuccessResponse.serialize(u);\r\n            case 'ERROR': return UpdateBrandMembersErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return UpdateBrandMembersSuccessResponse.deserialize(o);\r\n            case 'ERROR': return UpdateBrandMembersErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass UpdateBrandMembersSuccessResponse {\r\n    constructor(opts) {\r\n        this.type = 'SUCCESS';\r\n        /** Brand that was updated. */\r\n        this.updatedBrand = opts.updatedBrand;\r\n        /** List of created/updated members. Empty list for removes. */\r\n        this.members = opts.members || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n            'updatedBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Brand.serialize, 'updatedBrand', m.updatedBrand),\r\n            'members': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(BrandMember.serialize, 'members', m.members),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new UpdateBrandMembersSuccessResponse({\r\n            updatedBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Brand.deserialize, 'updatedBrand', o),\r\n            members: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(BrandMember.deserialize, 'members', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateBrandMembersErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /** A localized message to display to the user to help inform the user what went wrong. */\r\n        this.message = opts.message;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new UpdateBrandMembersErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n        });\r\n    }\r\n}\r\nclass BrandMembershipEvent {\r\n    constructor(opts) {\r\n        /**\r\n         * This field breaks with the convention of string ids as it is intended to be stored and then\r\n         * used as min_brand_membership_event=id+1 when calling FindBrandMembershipEventsRequest.\r\n         */\r\n        this.id = opts.id;\r\n        this.brand = opts.brand;\r\n        this.user = opts.user;\r\n        /** The type of event, either addition or removal. */\r\n        this.type = opts.type;\r\n        /** The date the change occurred. */\r\n        this.changeDate = opts.changeDate;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('id', m.id),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'type': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(BrandMemberEventTypeUtil.serialize, 'type', m.type),\r\n            'changeDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('changeDate', m.changeDate),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandMembershipEvent({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('id', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            type: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(BrandMemberEventTypeUtil.deserialize, 'type', o),\r\n            changeDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('changeDate', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandMembershipEventsResponse {\r\n    constructor(opts) {\r\n        this.events = opts.events || [];\r\n        /** The continuation token. If not null, there are more records that need to be requested. */\r\n        this.continuation = opts.continuation;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'events': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(BrandMembershipEvent.serialize, 'events', m.events),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandMembershipEventsResponse({\r\n            events: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(BrandMembershipEvent.deserialize, 'events', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n        });\r\n    }\r\n}\r\nclass UserNotificationSettings {\r\n    constructor(opts) {\r\n        this.receiveSocialEmails = opts.receiveSocialEmails;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'receiveSocialEmails': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('receiveSocialEmails', m.receiveSocialEmails),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UserNotificationSettings({\r\n            receiveSocialEmails: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('receiveSocialEmails', o),\r\n        });\r\n    }\r\n}\r\nclass UserDetails {\r\n    constructor(opts) {\r\n        /** User id */\r\n        this.id = opts.id;\r\n        /** Date this user was created. */\r\n        this.creationDate = opts.creationDate;\r\n        /** True if this is a deactivated user. */\r\n        this.deactivated = opts.deactivated != null\r\n            ? opts.deactivated\r\n            : false;\r\n        /** True if this is a temporary user. */\r\n        this.temporary = opts.temporary != null\r\n            ? opts.temporary\r\n            : false;\r\n        /** User's display name, used to represent this user with text in a UI. */\r\n        this.displayName = opts.displayName;\r\n        /** Optional user first name. */\r\n        this.firstName = opts.firstName;\r\n        /** Optional user last name. */\r\n        this.lastName = opts.lastName;\r\n        /** User's email address. */\r\n        this.email = opts.email;\r\n        /** User's email status. Non-null if email is non-null. */\r\n        this.emailStatus = opts.emailStatus;\r\n        /** Optional user's phone number. */\r\n        this.phoneNumber = opts.phoneNumber;\r\n        /** Optional username on Canva, used in URL paths. */\r\n        this.username = opts.username;\r\n        /** Optional homepage, shown on user's public profile page */\r\n        this.homepage = opts.homepage;\r\n        /** Optional city, shown on user's public profile page */\r\n        this.city = opts.city;\r\n        /** Optional countryCode, shown on user's public profile page */\r\n        this.countryCode = opts.countryCode;\r\n        /** The supported locale for this user. */\r\n        this.locale = opts.locale;\r\n        /** Optional Canva login details. */\r\n        this.credentials = opts.credentials;\r\n        /** Optional Facebook details. */\r\n        this.facebook = opts.facebook;\r\n        /** Optional Google details. */\r\n        this.google = opts.google;\r\n        /** Optional OAuth accounts. */\r\n        this.oauthAccounts = opts.oauthAccounts || [];\r\n        /** User's api details, if present. */\r\n        this.apiDetails = opts.apiDetails;\r\n        /** Canva roles granted to this user. */\r\n        this.roles = opts.roles || [];\r\n        this.userCapabilities = opts.userCapabilities;\r\n        /** User's personal brand, which is a member of {@link #brands}. */\r\n        this.personalBrand = opts.personalBrand;\r\n        /** All the brands to which this user belongs, and their role in the brand. */\r\n        this.brands = opts.brands || new Map();\r\n        /**\r\n         * UI information for this user. JSON encoded as a string for .proto.\r\n         * Deprecated, use user atttributes or speak to profile team.\r\n         */\r\n        this.uiInfoJson = opts.uiInfoJson;\r\n        /** Optional avatar. */\r\n        this.avatar = opts.avatar;\r\n        /** Optional identifier marking signups flowing from, eg, the design school or through an ad. */\r\n        this.signupReferrer = opts.signupReferrer;\r\n        /** Notification settings for the user. */\r\n        this.userNotificationSettings = opts.userNotificationSettings;\r\n        /** User profession selected during signup */\r\n        this.profession = opts.profession;\r\n        /** User professional role selected during onboarding wizard */\r\n        this.professionalRole = opts.professionalRole;\r\n        /** Has the user acknowledged the GDPR compliant privacy policy */\r\n        this.privacyPolicyNotified = opts.privacyPolicyNotified;\r\n        /** User journey selected during signup */\r\n        this.journey = opts.journey;\r\n        /**\r\n         * User selection of E1 vs E2 homepage\r\n         * H2 is fully rolled out, this flag should be unused now.\r\n         */\r\n        this.preferredHomepage = opts.preferredHomepage;\r\n        /**\r\n         * Optional flag to indicate whether a user is 'verified'. A user is verified when one of the\r\n         * following is true:\r\n         * - the email has been verified\r\n         * - the phone number has been verified\r\n         * - the user logged in via oauth\r\n         *\r\n         * This flag will be <code>null</code> unless UserDetailsComponent.OAUTH_ACCOUNTS has been\r\n         * specified in the GetUserDetailsRequest.\r\n         */\r\n        this.verified = opts.verified;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'creationDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('creationDate', m.creationDate),\r\n            'deactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('deactivated', m.deactivated),\r\n            'temporary': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('temporary', m.temporary),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'firstName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('firstName', m.firstName),\r\n            'lastName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('lastName', m.lastName),\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('email', m.email),\r\n            'emailStatus': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(EmailStatusUtil.serialize, 'emailStatus', m.emailStatus),\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('phoneNumber', m.phoneNumber),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('username', m.username),\r\n            'homepage': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('homepage', m.homepage),\r\n            'city': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('city', m.city),\r\n            'countryCode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('countryCode', m.countryCode),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('locale', m.locale),\r\n            'credentials': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(LoginDetails.serialize, 'credentials', m.credentials),\r\n            'facebook': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(FacebookDetails.serialize, 'facebook', m.facebook),\r\n            'google': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(GoogleDetails.serialize, 'google', m.google),\r\n            'oauthAccounts': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(OauthAccount.serialize, 'oauthAccounts', m.oauthAccounts),\r\n            'apiDetails': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(ApiDetails.serialize, 'apiDetails', m.apiDetails),\r\n            'roles': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(UserRoleUtil.serialize, 'roles', m.roles),\r\n            'userCapabilities': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(UserCapabilities.serialize, 'userCapabilities', m.userCapabilities),\r\n            'personalBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('personalBrand', m.personalBrand),\r\n            'brands': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringEnumMap(BrandUserRoleUtil.serialize, 'brands', m.brands),\r\n            'uiInfoJson': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('uiInfoJson', m.uiInfoJson),\r\n            'avatar': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(AvatarBundle.serialize, 'avatar', m.avatar),\r\n            'signupReferrer': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('signupReferrer', m.signupReferrer),\r\n            'userNotificationSettings': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(UserNotificationSettings.serialize, 'userNotificationSettings', m.userNotificationSettings),\r\n            'profession': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('profession', m.profession),\r\n            'professionalRole': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('professionalRole', m.professionalRole),\r\n            'privacyPolicyNotified': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('privacyPolicyNotified', m.privacyPolicyNotified),\r\n            'journey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('journey', m.journey),\r\n            'preferredHomepage': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('preferredHomepage', m.preferredHomepage),\r\n            'verified': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('verified', m.verified),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UserDetails({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            creationDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('creationDate', o),\r\n            deactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('deactivated', o),\r\n            temporary: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('temporary', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            firstName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('firstName', o),\r\n            lastName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('lastName', o),\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('email', o),\r\n            emailStatus: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(EmailStatusUtil.deserialize, 'emailStatus', o),\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('phoneNumber', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('username', o),\r\n            homepage: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('homepage', o),\r\n            city: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('city', o),\r\n            countryCode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('countryCode', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('locale', o),\r\n            credentials: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(LoginDetails.deserialize, 'credentials', o),\r\n            facebook: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(FacebookDetails.deserialize, 'facebook', o),\r\n            google: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(GoogleDetails.deserialize, 'google', o),\r\n            oauthAccounts: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(OauthAccount.deserialize, 'oauthAccounts', o),\r\n            apiDetails: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(ApiDetails.deserialize, 'apiDetails', o),\r\n            roles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(UserRoleUtil.deserialize, 'roles', o),\r\n            userCapabilities: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(UserCapabilities.deserialize, 'userCapabilities', o),\r\n            personalBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('personalBrand', o),\r\n            brands: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringEnumMap(BrandUserRoleUtil.deserialize, 'brands', o),\r\n            uiInfoJson: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('uiInfoJson', o),\r\n            avatar: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(AvatarBundle.deserialize, 'avatar', o),\r\n            signupReferrer: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('signupReferrer', o),\r\n            userNotificationSettings: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(UserNotificationSettings.deserialize, 'userNotificationSettings', o),\r\n            profession: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('profession', o),\r\n            professionalRole: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('professionalRole', o),\r\n            privacyPolicyNotified: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('privacyPolicyNotified', o),\r\n            journey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('journey', o),\r\n            preferredHomepage: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('preferredHomepage', o),\r\n            verified: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('verified', o),\r\n        });\r\n    }\r\n}\r\nclass NormalizePhoneNumberRequest {\r\n    constructor(opts) {\r\n        /**\r\n         * If a local number (e.g. \"0400 123 456\") the country code must be provided, otherwise for an\r\n         * international number (e.g. \"+61 400 123 456\") the country code is optional and if one is\r\n         * provided it is ignored, as it is inferred from the dialling code provided in the phone number.\r\n         */\r\n        this.phoneNumber = opts.phoneNumber;\r\n        /** The country code associated with the phone number (e.g. \"AU\"). */\r\n        this.countryCode = opts.countryCode;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('phoneNumber', m.phoneNumber),\r\n            'countryCode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('countryCode', m.countryCode),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new NormalizePhoneNumberRequest({\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('phoneNumber', o),\r\n            countryCode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('countryCode', o),\r\n        });\r\n    }\r\n}\r\nclass NormalizePhoneNumberResponse {\r\n    constructor(opts) {\r\n        /** An internationalized phone number, normalized according to E164 format (e.g. +61400123456). */\r\n        this.phoneNumber = opts.phoneNumber;\r\n        /** The country code associated with the phone number (e.g. \"AU\"). */\r\n        this.countryCode = opts.countryCode;\r\n        /**\r\n         * The dialing code associated with the phone number (e.g. 61). A client may use this value to\r\n         * separate the phone number from the dialing code as not all codes are the same length and manual\r\n         * extraction of the code from the phone number is error-prone.\r\n         */\r\n        this.dialingCode = opts.dialingCode;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('phoneNumber', m.phoneNumber),\r\n            'countryCode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('countryCode', m.countryCode),\r\n            'dialingCode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('dialingCode', m.dialingCode),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new NormalizePhoneNumberResponse({\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('phoneNumber', o),\r\n            countryCode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('countryCode', o),\r\n            dialingCode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('dialingCode', o),\r\n        });\r\n    }\r\n}\r\nclass AuthenticateUserRequest {\r\n    constructor(opts) {\r\n        this.credentials = opts.credentials;\r\n        /**\r\n         * Optional brandname.  If supplied, authenticates the user under this brand,\r\n         * requiring them to be a member.\r\n         */\r\n        this.brandname = opts.brandname;\r\n        /** If specified, requires the personal status of the selected brand to match. */\r\n        this.personal = opts.personal;\r\n        /**\r\n         * If specified, requires the contributor status of the selected brand to match, and if true\r\n         * that the brand be an active contributor.\r\n         */\r\n        this.contributor = opts.contributor;\r\n        /** If specified, requires the third-party status of the selected brand to match. */\r\n        this.thirdParty = opts.thirdParty;\r\n        /**\r\n         * If set and true, return an AuthenticateUserErrorResponse instead of throwing\r\n         * an exception when an expected error (i.e., an error supported by the\r\n         * backend) occurs.\r\n         */\r\n        this.supportErrorResponse = opts.supportErrorResponse != null\r\n            ? opts.supportErrorResponse\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'credentials': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Credentials.serialize, 'credentials', m.credentials),\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandname', m.brandname),\r\n            'personal': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('personal', m.personal),\r\n            'contributor': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('contributor', m.contributor),\r\n            'thirdParty': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('thirdParty', m.thirdParty),\r\n            'supportErrorResponse': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('supportErrorResponse', m.supportErrorResponse),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new AuthenticateUserRequest({\r\n            credentials: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Credentials.deserialize, 'credentials', o),\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandname', o),\r\n            personal: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('personal', o),\r\n            contributor: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('contributor', o),\r\n            thirdParty: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('thirdParty', o),\r\n            supportErrorResponse: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('supportErrorResponse', o),\r\n        });\r\n    }\r\n}\r\nconst AuthenticateUserResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return AuthenticateUserSuccessResponse.serialize(u);\r\n            case 'ERROR': return AuthenticateUserErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return AuthenticateUserSuccessResponse.deserialize(o);\r\n            case 'ERROR': return AuthenticateUserErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass AuthenticateUserSuccessResponse {\r\n    constructor(opts) {\r\n        this.type = 'SUCCESS';\r\n        this.user = opts.user;\r\n        this.brand = opts.brand;\r\n        this.userReactivated = opts.userReactivated != null\r\n            ? opts.userReactivated\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(UserDetails.serialize, 'user', m.user),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Brand.serialize, 'brand', m.brand),\r\n            'userReactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('userReactivated', m.userReactivated),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new AuthenticateUserSuccessResponse({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(UserDetails.deserialize, 'user', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Brand.deserialize, 'brand', o),\r\n            userReactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('userReactivated', o),\r\n        });\r\n    }\r\n}\r\nclass AuthenticateUserErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /**\r\n         * A localized message to display to the user to help inform the user what went\r\n         * wrong.\r\n         */\r\n        this.message = opts.message;\r\n        /**\r\n         * If true, authentication via oAuth failed because a Canva account associated with the same email\r\n         * address as the oAuth account already exists but the email address is not verified.\r\n         * Once the email address is verified, a subsequent attempt to authenticate via oAuth will\r\n         * successfully attach the oAuth credentials to the existing account.\r\n         * For security, this oAuth auto-attach behaviour is blocked until email address is verified.\r\n         */\r\n        this.unverifiedEmail = opts.unverifiedEmail != null\r\n            ? opts.unverifiedEmail\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n            'unverifiedEmail': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('unverifiedEmail', m.unverifiedEmail),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new AuthenticateUserErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n            unverifiedEmail: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('unverifiedEmail', o),\r\n        });\r\n    }\r\n}\r\nclass SendVerificationEmailRequest {\r\n    constructor(opts) {\r\n        /** If of the user who will receive a verification email. */\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SendVerificationEmailRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n        });\r\n    }\r\n}\r\nclass SendVerificationEmailResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new SendVerificationEmailResponse();\r\n    }\r\n}\r\nclass VerifyEmailRequest {\r\n    constructor(opts) {\r\n        /** Email verification token from link sent to user's email address. */\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new VerifyEmailRequest({\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\nclass VerifyEmailResponse {\r\n    constructor(opts) {\r\n        /** Id of the verified user. */\r\n        this.userId = opts.userId;\r\n        /** Verified email address. */\r\n        this.email = opts.email;\r\n        /** For anonymous email verification, the brand the caller should be logged into. Otherwise, null. */\r\n        this.brandId = opts.brandId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'userId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('userId', m.userId),\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('email', m.email),\r\n            'brandId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandId', m.brandId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new VerifyEmailResponse({\r\n            userId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('userId', o),\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('email', o),\r\n            brandId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandId', o),\r\n        });\r\n    }\r\n}\r\n/** Sends a password reset message. Currently only supports SMS password reset. */\r\nclass SendPasswordResetCodeRequest {\r\n    constructor(opts) {\r\n        this.mode = opts.mode;\r\n        /** The users phone number, required for SMS password reset. */\r\n        this.phoneNumber = opts.phoneNumber;\r\n        /**\r\n         * Client defined state to be used in all subsequent calls. This state is provided when the\r\n         * verification code is checked and ensures that the client that sent the verification code is\r\n         * same client to check it.\r\n         */\r\n        this.state = opts.state;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(VerificationModeUtil.serialize, 'mode', m.mode),\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('phoneNumber', m.phoneNumber),\r\n            'state': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('state', m.state),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SendPasswordResetCodeRequest({\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(VerificationModeUtil.deserialize, 'mode', o),\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('phoneNumber', o),\r\n            state: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('state', o),\r\n        });\r\n    }\r\n}\r\nclass SendPasswordResetCodeResponse {\r\n    constructor(opts) {\r\n        /**\r\n         * Encrypted verification token to be included in subsequent calls to check and perform the\r\n         * password reset.\r\n         */\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SendPasswordResetCodeResponse({\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\n/** Sends a password reset email to the specified user (either by email address or user id) */\r\nclass SendPasswordResetEmailRequest {\r\n    constructor(opts) {\r\n        this.email = opts.email;\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('email', m.email),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SendPasswordResetEmailRequest({\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('email', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n        });\r\n    }\r\n}\r\nclass SendPasswordResetEmailResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new SendPasswordResetEmailResponse();\r\n    }\r\n}\r\n/** Checks a password reset verification code. Currently only supports SMS password reset. */\r\nclass CheckPasswordResetCodeRequest {\r\n    constructor(opts) {\r\n        this.mode = opts.mode;\r\n        /** The users phone number, required for SMS password reset. */\r\n        this.phoneNumber = opts.phoneNumber;\r\n        /** User entered verification code; */\r\n        this.code = opts.code;\r\n        /**\r\n         * Client defined state that was used when the verification code was sent. Ensures that the\r\n         * client checking the the verification code is the same client that sent the verification code.\r\n         */\r\n        this.state = opts.state;\r\n        /** Encrypted verification token provided when the password reset was initiated. */\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(VerificationModeUtil.serialize, 'mode', m.mode),\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('phoneNumber', m.phoneNumber),\r\n            'code': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('code', m.code),\r\n            'state': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('state', m.state),\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CheckPasswordResetCodeRequest({\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(VerificationModeUtil.deserialize, 'mode', o),\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('phoneNumber', o),\r\n            code: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('code', o),\r\n            state: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('state', o),\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\nclass CheckPasswordResetCodeResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new CheckPasswordResetCodeResponse();\r\n    }\r\n}\r\n/**\r\n * Checks a password reset verification code and performs the reset. Currently only supports SMS\r\n * password reset.\r\n */\r\nclass ResetPasswordWithCodeRequest {\r\n    constructor(opts) {\r\n        this.mode = opts.mode;\r\n        /** Only supports UnverifiedPhonePasswordCredentials. */\r\n        this.credentials = opts.credentials;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(VerificationModeUtil.serialize, 'mode', m.mode),\r\n            'credentials': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Credentials.serialize, 'credentials', m.credentials),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ResetPasswordWithCodeRequest({\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(VerificationModeUtil.deserialize, 'mode', o),\r\n            credentials: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Credentials.deserialize, 'credentials', o),\r\n        });\r\n    }\r\n}\r\nclass ResetPasswordWithCodeResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new ResetPasswordWithCodeResponse();\r\n    }\r\n}\r\n/** Reset password. Only supports resetting passwords for users with an email address. */\r\nclass ResetPasswordRequest {\r\n    constructor(opts) {\r\n        this.password = opts.password;\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'password': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('password', m.password),\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ResetPasswordRequest({\r\n            password: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('password', o),\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\nclass ResetPasswordResponse {\r\n    constructor(opts) {\r\n        this.email = opts.email;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('email', m.email),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ResetPasswordResponse({\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('email', o),\r\n        });\r\n    }\r\n}\r\n/** A group of users, within a brand */\r\nclass Group {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        /** The brand that owns this group. */\r\n        this.brand = opts.brand;\r\n        /** The display name of the group. */\r\n        this.displayName = opts.displayName;\r\n        /** Optional description of the group. */\r\n        this.description = opts.description;\r\n        /** Whether the group is private. */\r\n        this.private = opts.private != null\r\n            ? opts.private\r\n            : false;\r\n        /**\r\n         * The set of actions the calling user is allowed to perform within this group.\r\n         * Will only be populated if the CAPABILITIES component was provided in the projection.\r\n         */\r\n        this.capabilities = opts.capabilities;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('displayName', m.displayName),\r\n            'description': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('description', m.description),\r\n            'private': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('private', m.private),\r\n            'capabilities': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(GroupCapabilities.serialize, 'capabilities', m.capabilities),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new Group({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('displayName', o),\r\n            description: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('description', o),\r\n            private: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('private', o),\r\n            capabilities: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(GroupCapabilities.deserialize, 'capabilities', o),\r\n        });\r\n    }\r\n}\r\n/** Answers \"Can the calling user do foo to this Group?\" */\r\nclass GroupCapabilities {\r\n    constructor(opts) {\r\n        /** True if the user can update the group name. Otherwise, false. */\r\n        this.canEditGroupName = opts.canEditGroupName != null\r\n            ? opts.canEditGroupName\r\n            : false;\r\n        /** True if the user can add other users to the group as regular members. Otherwise, false. */\r\n        this.canAddMembers = opts.canAddMembers != null\r\n            ? opts.canAddMembers\r\n            : false;\r\n        /**\r\n         * If the user can add users to the group or modify the role of other users, the permitted roles.\r\n         * Otherwise, empty.\r\n         */\r\n        this.allowedMemberRoles = opts.allowedMemberRoles || [];\r\n        /** True if the user can modify the role of other group members. Otherwise, false. */\r\n        this.canModifyMemberRoles = opts.canModifyMemberRoles != null\r\n            ? opts.canModifyMemberRoles\r\n            : false;\r\n        /** True if the user can delete the group. Otherwise, false. */\r\n        this.canDeleteGroup = opts.canDeleteGroup != null\r\n            ? opts.canDeleteGroup\r\n            : false;\r\n        /** True if the user can change group private setting. Otherwise, false. */\r\n        this.canChangePrivateSetting = opts.canChangePrivateSetting != null\r\n            ? opts.canChangePrivateSetting\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'A': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canEditGroupName', m.canEditGroupName),\r\n            'C': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canAddMembers', m.canAddMembers),\r\n            'D': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(GroupRoleUtil.serialize, 'allowedMemberRoles', m.allowedMemberRoles),\r\n            'E': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canModifyMemberRoles', m.canModifyMemberRoles),\r\n            'F': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canDeleteGroup', m.canDeleteGroup),\r\n            'G': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('canChangePrivateSetting', m.canChangePrivateSetting),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GroupCapabilities({\r\n            canEditGroupName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('A', o),\r\n            canAddMembers: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('C', o),\r\n            allowedMemberRoles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(GroupRoleUtil.deserialize, 'D', o),\r\n            canModifyMemberRoles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('E', o),\r\n            canDeleteGroup: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('F', o),\r\n            canChangePrivateSetting: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('G', o),\r\n        });\r\n    }\r\n}\r\nclass CreateGroupRequest {\r\n    constructor(opts) {\r\n        /** The brand that owns this group. */\r\n        this.brand = opts.brand;\r\n        /** The display name of the group. */\r\n        this.displayName = opts.displayName;\r\n        /** Optional description of the group. */\r\n        this.description = opts.description;\r\n        /**\r\n         * Optional user id. If set, make this user an admin of the group.\r\n         * For regular users, the only allowable value is their own user id.\r\n         * For support this can be any member of the group's brand.\r\n         */\r\n        this.groupAdmin = opts.groupAdmin;\r\n        /** Optional. A list of users and their role in the new group. */\r\n        this.memberships = opts.memberships || [];\r\n        /**\r\n         * If true, set the group to be private.\r\n         * If false, set the group to be visible to all brand members.\r\n         */\r\n        this.private = opts.private != null\r\n            ? opts.private\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('displayName', m.displayName),\r\n            'description': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('description', m.description),\r\n            'groupAdmin': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('groupAdmin', m.groupAdmin),\r\n            'memberships': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(GroupMembershipAddition.serialize, 'memberships', m.memberships),\r\n            'private': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('private', m.private),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateGroupRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('displayName', o),\r\n            description: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('description', o),\r\n            groupAdmin: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('groupAdmin', o),\r\n            memberships: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(GroupMembershipAddition.deserialize, 'memberships', o),\r\n            private: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('private', o),\r\n        });\r\n    }\r\n}\r\nconst CreateGroupResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return CreateGroupSuccessResponse.serialize(u);\r\n            case 'ERROR': return CreateGroupErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return CreateGroupSuccessResponse.deserialize(o);\r\n            case 'ERROR': return CreateGroupErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass CreateGroupSuccessResponse {\r\n    constructor(opts) {\r\n        this.type = 'SUCCESS';\r\n        this.group = opts.group;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Group.serialize, 'group', m.group),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new CreateGroupSuccessResponse({\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Group.deserialize, 'group', o),\r\n        });\r\n    }\r\n}\r\nclass CreateGroupErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /** A localized message to display to the user to help inform the user what went wrong. */\r\n        this.message = opts.message;\r\n        /** A group already exists in the brand with the display_name. */\r\n        this.displayNameUnavailable = opts.displayNameUnavailable != null\r\n            ? opts.displayNameUnavailable\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n            'displayNameUnavailable': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('displayNameUnavailable', m.displayNameUnavailable),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new CreateGroupErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n            displayNameUnavailable: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('displayNameUnavailable', o),\r\n        });\r\n    }\r\n}\r\nclass GetGroupRequest {\r\n    constructor(opts) {\r\n        this.group = opts.group;\r\n        /** Set of additional group components to provide in the response. */\r\n        this.projection = opts.projection || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('group', m.group),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(GroupComponentUtil.serialize, 'projection', m.projection),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetGroupRequest({\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('group', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(GroupComponentUtil.deserialize, 'projection', o),\r\n        });\r\n    }\r\n}\r\nclass GetGroupResponse {\r\n    constructor(opts) {\r\n        this.group = opts.group;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Group.serialize, 'group', m.group),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetGroupResponse({\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Group.deserialize, 'group', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateGroupRequest {\r\n    constructor(opts) {\r\n        /** The group to update. */\r\n        this.id = opts.id;\r\n        /** If set, update the display name. */\r\n        this.displayName = opts.displayName;\r\n        /** If set, update the description. */\r\n        this.description = opts.description;\r\n        /**\r\n         * If true, set the group to be private.\r\n         * If false, set the group to be visible to all brand members.\r\n         */\r\n        this.private = opts.private;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'description': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('description', m.description),\r\n            'private': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('private', m.private),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateGroupRequest({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            description: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('description', o),\r\n            private: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('private', o),\r\n        });\r\n    }\r\n}\r\nconst UpdateGroupResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return UpdateGroupSuccessResponse.serialize(u);\r\n            case 'ERROR': return UpdateGroupErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return UpdateGroupSuccessResponse.deserialize(o);\r\n            case 'ERROR': return UpdateGroupErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass UpdateGroupSuccessResponse {\r\n    constructor(opts) {\r\n        this.type = 'SUCCESS';\r\n        this.group = opts.group;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Group.serialize, 'group', m.group),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new UpdateGroupSuccessResponse({\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Group.deserialize, 'group', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateGroupErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /** A localized message to display to the user to help inform the user what went wrong. */\r\n        this.message = opts.message;\r\n        /** A group already exists in the brand with the display_name. */\r\n        this.displayNameUnavailable = opts.displayNameUnavailable != null\r\n            ? opts.displayNameUnavailable\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n            'displayNameUnavailable': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('displayNameUnavailable', m.displayNameUnavailable),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new UpdateGroupErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n            displayNameUnavailable: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('displayNameUnavailable', o),\r\n        });\r\n    }\r\n}\r\nconst FindGroupsMode = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'BY_NAME': return FindGroupsByName.serialize(u);\r\n            case 'BY_ID': return FindGroupsById.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'BY_NAME': return FindGroupsByName.deserialize(o);\r\n            case 'BY_ID': return FindGroupsById.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass FindGroupsByName {\r\n    constructor(opts) {\r\n        this.type = 'BY_NAME';\r\n        /** A partial name to match groups by */\r\n        this.query = opts.query;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'BY_NAME',\r\n            'query': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('query', m.query),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'BY_NAME');\r\n        return new FindGroupsByName({\r\n            query: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('query', o),\r\n        });\r\n    }\r\n}\r\n/** NOTE: not yet supported, please use `FindGroupsRequest.groups` for now */\r\nclass FindGroupsById {\r\n    constructor(opts) {\r\n        this.type = 'BY_ID';\r\n        /** Only return the groups with these ids */\r\n        this.ids = opts.ids || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'BY_ID',\r\n            'ids': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('ids', m.ids),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'BY_ID');\r\n        return new FindGroupsById({\r\n            ids: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('ids', o),\r\n        });\r\n    }\r\n}\r\nclass FindGroupsRequest {\r\n    constructor(opts) {\r\n        /** Find groups that are owned by this brand. */\r\n        this.brand = opts.brand;\r\n        /** Filter for groups */\r\n        this.mode = opts.mode;\r\n        /** Optional list of group ids. If included, only return these groups. */\r\n        this.groups = opts.groups || [];\r\n        /** The continuation token, used for pagination. */\r\n        this.continuation = opts.continuation;\r\n        /** The maximum number of results to return. */\r\n        this.limit = opts.limit != null\r\n            ? opts.limit\r\n            : 100;\r\n        /** Set of additional group components to provide in the response. */\r\n        this.projection = opts.projection || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(FindGroupsMode.serialize, 'mode', m.mode),\r\n            'groups': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('groups', m.groups),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(GroupComponentUtil.serialize, 'projection', m.projection),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindGroupsRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(FindGroupsMode.deserialize, 'mode', o),\r\n            groups: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('groups', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(GroupComponentUtil.deserialize, 'projection', o),\r\n        });\r\n    }\r\n}\r\nclass FindGroupsResponse {\r\n    constructor(opts) {\r\n        this.groups = opts.groups || [];\r\n        /** The continuation token, used for pagination. */\r\n        this.continuation = opts.continuation;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'groups': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(Group.serialize, 'groups', m.groups),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindGroupsResponse({\r\n            groups: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(Group.deserialize, 'groups', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n        });\r\n    }\r\n}\r\nclass DeleteGroupRequest {\r\n    constructor(opts) {\r\n        /** The id of the group */\r\n        this.group = opts.group;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('group', m.group),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new DeleteGroupRequest({\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('group', o),\r\n        });\r\n    }\r\n}\r\nconst DeleteGroupResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return DeleteGroupSuccessResponse.serialize(u);\r\n            case 'ERROR': return DeleteGroupErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return DeleteGroupSuccessResponse.deserialize(o);\r\n            case 'ERROR': return DeleteGroupErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass DeleteGroupSuccessResponse {\r\n    constructor() {\r\n        this.type = 'SUCCESS';\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new DeleteGroupSuccessResponse();\r\n    }\r\n}\r\nclass DeleteGroupErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /** A localized message to display to the user to help inform the user what went wrong. */\r\n        this.message = opts.message;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new DeleteGroupErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n        });\r\n    }\r\n}\r\nclass CreateGroupMembershipsRequest {\r\n    constructor(opts) {\r\n        /** The id of the group */\r\n        this.group = opts.group;\r\n        /** A list of users and their role in the group */\r\n        this.memberships = opts.memberships || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('group', m.group),\r\n            'memberships': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(GroupMembershipAddition.serialize, 'memberships', m.memberships),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateGroupMembershipsRequest({\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('group', o),\r\n            memberships: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(GroupMembershipAddition.deserialize, 'memberships', o),\r\n        });\r\n    }\r\n}\r\nclass GroupMembershipAddition {\r\n    constructor(opts) {\r\n        /** The id of the user */\r\n        this.user = opts.user;\r\n        /** The role of the user within the group */\r\n        this.role = opts.role;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'role': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(GroupRoleUtil.serialize, 'role', m.role),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GroupMembershipAddition({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            role: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(GroupRoleUtil.deserialize, 'role', o),\r\n        });\r\n    }\r\n}\r\nconst GroupRoleUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* ADMIN */,\r\n            2 /* MEMBER */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* ADMIN */: return 'ADMIN';\r\n            case 2 /* MEMBER */: return 'MEMBER';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'ADMIN': return 1 /* ADMIN */;\r\n            case 'MEMBER': return 2 /* MEMBER */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'GroupRole'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nclass GroupMembership {\r\n    constructor(opts) {\r\n        /** The id of the owning brand of this group. */\r\n        this.brand = opts.brand;\r\n        /** The id of the group */\r\n        this.group = opts.group;\r\n        /** The id of the user */\r\n        this.user = opts.user;\r\n        /** The role of the user within the group */\r\n        this.role = opts.role;\r\n        /** User information, returned as required by the projection */\r\n        this.userProjection = opts.userProjection;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('group', m.group),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'role': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(GroupRoleUtil.serialize, 'role', m.role),\r\n            'userProjection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(User.serialize, 'userProjection', m.userProjection),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GroupMembership({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('group', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            role: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(GroupRoleUtil.deserialize, 'role', o),\r\n            userProjection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(User.deserialize, 'userProjection', o),\r\n        });\r\n    }\r\n}\r\nconst CreateGroupMembershipsResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return CreateGroupMembershipsSuccessResponse.serialize(u);\r\n            case 'ERROR': return CreateGroupMembershipsErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return CreateGroupMembershipsSuccessResponse.deserialize(o);\r\n            case 'ERROR': return CreateGroupMembershipsErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass CreateGroupMembershipsSuccessResponse {\r\n    constructor() {\r\n        this.type = 'SUCCESS';\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new CreateGroupMembershipsSuccessResponse();\r\n    }\r\n}\r\nclass CreateGroupMembershipsErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /** A localized message to display to the user to help inform the user what went wrong. */\r\n        this.message = opts.message;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new CreateGroupMembershipsErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateGroupMembershipRequest {\r\n    constructor(opts) {\r\n        /** The id of the group */\r\n        this.group = opts.group;\r\n        /** The id of the user */\r\n        this.user = opts.user;\r\n        /** If set, update the user's role within the group. */\r\n        this.role = opts.role;\r\n        /** If true, remove the user from the group. */\r\n        this.remove = opts.remove != null\r\n            ? opts.remove\r\n            : false;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('group', m.group),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'role': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(GroupRoleUtil.serialize, 'role', m.role),\r\n            'remove': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('remove', m.remove),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateGroupMembershipRequest({\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('group', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            role: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(GroupRoleUtil.deserialize, 'role', o),\r\n            remove: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('remove', o),\r\n        });\r\n    }\r\n}\r\nconst UpdateGroupMembershipResponse = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'SUCCESS': return UpdateGroupMembershipSuccessResponse.serialize(u);\r\n            case 'ERROR': return UpdateGroupMembershipErrorResponse.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'SUCCESS': return UpdateGroupMembershipSuccessResponse.deserialize(o);\r\n            case 'ERROR': return UpdateGroupMembershipErrorResponse.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass UpdateGroupMembershipSuccessResponse {\r\n    constructor(opts) {\r\n        this.type = 'SUCCESS';\r\n        /** The updated group membership, unless the request was to remove the user from the group. */\r\n        this.updatedMembership = opts.updatedMembership;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SUCCESS',\r\n            'updatedMembership': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(GroupMembership.serialize, 'updatedMembership', m.updatedMembership),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SUCCESS');\r\n        return new UpdateGroupMembershipSuccessResponse({\r\n            updatedMembership: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(GroupMembership.deserialize, 'updatedMembership', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateGroupMembershipErrorResponse {\r\n    constructor(opts) {\r\n        this.type = 'ERROR';\r\n        /** A localized message to display to the user to help inform the user what went wrong. */\r\n        this.message = opts.message;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'ERROR',\r\n            'message': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('message', m.message),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'ERROR');\r\n        return new UpdateGroupMembershipErrorResponse({\r\n            message: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('message', o),\r\n        });\r\n    }\r\n}\r\nconst FindGroupMembershipsRequest = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'BY_USER': return FindGroupMembershipsByUserRequest.serialize(u);\r\n            case 'BY_GROUP': return FindGroupMembershipsByGroupRequest.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'BY_USER': return FindGroupMembershipsByUserRequest.deserialize(o);\r\n            case 'BY_GROUP': return FindGroupMembershipsByGroupRequest.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass FindGroupMembershipsByUserRequest {\r\n    constructor(opts) {\r\n        this.type = 'BY_USER';\r\n        /** The continuation token, used for pagination. */\r\n        this.continuation = opts.continuation;\r\n        /** The maximum number of results to return. */\r\n        this.limit = opts.limit != null\r\n            ? opts.limit\r\n            : 100;\r\n        /**\r\n         * Optional. If set, only find memberships within this brand.\r\n         * Otherwise, find group memberships for all brands the user is a member of.\r\n         */\r\n        this.brand = opts.brand;\r\n        /** Find memberships for this user@brand or this user. */\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'BY_USER',\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'BY_USER');\r\n        return new FindGroupMembershipsByUserRequest({\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n        });\r\n    }\r\n}\r\nconst GroupMembershipComponentUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* USER */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* USER */: return 'USER';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'USER': return 1 /* USER */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'GroupMembershipComponent'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nclass FindGroupMembershipsByGroupRequest {\r\n    constructor(opts) {\r\n        this.type = 'BY_GROUP';\r\n        /** The continuation token, used for pagination. */\r\n        this.continuation = opts.continuation;\r\n        /** The maximum number of results to return. */\r\n        this.limit = opts.limit != null\r\n            ? opts.limit\r\n            : 100;\r\n        /** Find memberships within this group. */\r\n        this.group = opts.group;\r\n        /** Set of group membership projections to include in the response. */\r\n        this.projection = opts.projection || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'BY_GROUP',\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n            'group': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('group', m.group),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(GroupMembershipComponentUtil.serialize, 'projection', m.projection),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'BY_GROUP');\r\n        return new FindGroupMembershipsByGroupRequest({\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n            group: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('group', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(GroupMembershipComponentUtil.deserialize, 'projection', o),\r\n        });\r\n    }\r\n}\r\nclass FindGroupMembershipsResponse {\r\n    constructor(opts) {\r\n        this.memberships = opts.memberships || [];\r\n        /** The continuation token, used for pagination. */\r\n        this.continuation = opts.continuation;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'memberships': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(GroupMembership.serialize, 'memberships', m.memberships),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindGroupMembershipsResponse({\r\n            memberships: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(GroupMembership.deserialize, 'memberships', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n        });\r\n    }\r\n}\r\nclass DeleteUserRequest {\r\n    constructor(opts) {\r\n        /** User to delete. */\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new DeleteUserRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n        });\r\n    }\r\n}\r\nclass DeleteUserResponse {\r\n    constructor(opts) {\r\n        /** Id of the user that was deleted. */\r\n        this.analyticsId = opts.analyticsId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'analyticsId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('analyticsId', m.analyticsId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new DeleteUserResponse({\r\n            analyticsId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('analyticsId', o),\r\n        });\r\n    }\r\n}\r\nclass DeactivateUserRequest {\r\n    constructor(opts) {\r\n        /** User to deactivate. */\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new DeactivateUserRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n        });\r\n    }\r\n}\r\nclass DeactivateUserResponse {\r\n    constructor(opts) {\r\n        /** Id of the user that was deactivated. */\r\n        this.analyticsId = opts.analyticsId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'analyticsId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('analyticsId', m.analyticsId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new DeactivateUserResponse({\r\n            analyticsId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('analyticsId', o),\r\n        });\r\n    }\r\n}\r\nclass ReactivateUserRequest {\r\n    constructor(opts) {\r\n        /** User to reactivate. */\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ReactivateUserRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n        });\r\n    }\r\n}\r\nclass ReactivateUserResponse {\r\n    constructor(opts) {\r\n        /** Id of the user that was reactivated. */\r\n        this.analyticsId = opts.analyticsId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'analyticsId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('analyticsId', m.analyticsId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ReactivateUserResponse({\r\n            analyticsId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('analyticsId', o),\r\n        });\r\n    }\r\n}\r\nclass CreateUserAvatarRequest {\r\n    constructor(opts) {\r\n        /**\r\n         * Id of the user. Optional between client and afe. Required by profile service.\r\n         * Populated by afe with user id from the request path.\r\n         */\r\n        this.user = opts.user;\r\n        this.mimeType = opts.mimeType;\r\n        this.signatureV4 = opts.signatureV4;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'mimeType': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('mimeType', m.mimeType),\r\n            'signatureV4': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('signatureV4', m.signatureV4),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateUserAvatarRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            mimeType: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('mimeType', o),\r\n            signatureV4: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('signatureV4', o),\r\n        });\r\n    }\r\n}\r\nclass CreateUserAvatarResponse {\r\n    constructor(opts) {\r\n        this.version = opts.version;\r\n        /**\r\n         * URL to which a new avatar image can be POSTed.\r\n         * Only set for a {@link CreateUserAvatarRequest} request.\r\n         */\r\n        this.formPostUrl = opts.formPostUrl;\r\n        this.formFields = opts.formFields || new Map();\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'version': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('version', m.version),\r\n            'formPostUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('formPostUrl', m.formPostUrl),\r\n            'formFields': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringStringMap('formFields', m.formFields),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateUserAvatarResponse({\r\n            version: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('version', o),\r\n            formPostUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('formPostUrl', o),\r\n            formFields: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringStringMap('formFields', o),\r\n        });\r\n    }\r\n}\r\nclass GetUserAvatarRequest {\r\n    constructor(opts) {\r\n        /** Id of the user. */\r\n        this.user = opts.user;\r\n        /** Version of the user's avatar. */\r\n        this.version = opts.version;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'version': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('version', m.version),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetUserAvatarRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            version: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('version', o),\r\n        });\r\n    }\r\n}\r\nclass GetUserAvatarResponse {\r\n    constructor(opts) {\r\n        this.avatar = opts.avatar;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'avatar': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(AvatarBundle.serialize, 'avatar', m.avatar),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetUserAvatarResponse({\r\n            avatar: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(AvatarBundle.deserialize, 'avatar', o),\r\n        });\r\n    }\r\n}\r\nclass ImportUserAvatarRequest {\r\n    constructor(opts) {\r\n        /**\r\n         * Id of the user. Optional between client and afe. Required by profile service.\r\n         * Populated by afe with user id from the request path.\r\n         */\r\n        this.user = opts.user;\r\n        /**\r\n         * Version of the user's avatar. Optional between client and afe. Required by profile service.\r\n         * Populated by afe with a version from the request path.\r\n         */\r\n        this.version = opts.version;\r\n        /** Mime type of the image to be imported. */\r\n        this.mimeType = opts.mimeType;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'version': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('version', m.version),\r\n            'mimeType': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('mimeType', m.mimeType),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ImportUserAvatarRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            version: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('version', o),\r\n            mimeType: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('mimeType', o),\r\n        });\r\n    }\r\n}\r\nclass ImportUserAvatarResponse {\r\n    constructor(opts) {\r\n        this.ok = opts.ok;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'ok': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('ok', m.ok),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ImportUserAvatarResponse({\r\n            ok: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('ok', o),\r\n        });\r\n    }\r\n}\r\nclass GetAvailabilityRequest {\r\n    constructor(opts) {\r\n        /** If set, check if this email is available. */\r\n        this.email = opts.email;\r\n        /** If set, check if this username is available. */\r\n        this.username = opts.username;\r\n        /** If set, check if this brandname is available. */\r\n        this.brandname = opts.brandname;\r\n        /**\r\n         * An optional brand or user. If set, the query is asking if this particular\r\n         * assignee can adopt the properties above, meaning that they are generally\r\n         * available or already assigned to that assignee.\r\n         */\r\n        this.assignee = opts.assignee;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('email', m.email),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('username', m.username),\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandname', m.brandname),\r\n            'assignee': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('assignee', m.assignee),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetAvailabilityRequest({\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('email', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('username', o),\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandname', o),\r\n            assignee: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('assignee', o),\r\n        });\r\n    }\r\n}\r\nconst BrandReservationTypeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* THIRD_PARTY */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* THIRD_PARTY */: return 'THIRD_PARTY';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'THIRD_PARTY': return 1 /* THIRD_PARTY */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'BrandReservationType'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nclass BrandReservation {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        this.email = opts.email;\r\n        this.website = opts.website;\r\n        this.creationDate = opts.creationDate;\r\n        this.trafficEstimate = opts.trafficEstimate;\r\n        this.brandname = opts.brandname;\r\n        this.type = opts.type;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('id', m.id),\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('email', m.email),\r\n            'website': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('website', m.website),\r\n            'creationDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('creationDate', m.creationDate),\r\n            'trafficEstimate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('trafficEstimate', m.trafficEstimate),\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brandname', m.brandname),\r\n            'type': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(BrandReservationTypeUtil.serialize, 'type', m.type),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BrandReservation({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('id', o),\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('email', o),\r\n            website: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('website', o),\r\n            creationDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('creationDate', o),\r\n            trafficEstimate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('trafficEstimate', o),\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brandname', o),\r\n            type: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(BrandReservationTypeUtil.deserialize, 'type', o),\r\n        });\r\n    }\r\n}\r\nclass GetAvailabilityResponse {\r\n    constructor(opts) {\r\n        this.email = opts.email;\r\n        this.username = opts.username;\r\n        this.brandname = opts.brandname;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('email', m.email),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('username', m.username),\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('brandname', m.brandname),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetAvailabilityResponse({\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('email', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('username', o),\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('brandname', o),\r\n        });\r\n    }\r\n}\r\nclass CreateBrandReservationRequest {\r\n    constructor(opts) {\r\n        this.email = opts.email;\r\n        this.website = opts.website;\r\n        this.brandname = opts.brandname;\r\n        this.brandnameSeed = opts.brandnameSeed;\r\n        this.trafficEstimate = opts.trafficEstimate;\r\n        this.type = opts.type;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('email', m.email),\r\n            'website': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('website', m.website),\r\n            'brandname': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandname', m.brandname),\r\n            'brandnameSeed': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brandnameSeed', m.brandnameSeed),\r\n            'trafficEstimate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('trafficEstimate', m.trafficEstimate),\r\n            'type': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(BrandReservationTypeUtil.serialize, 'type', m.type),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateBrandReservationRequest({\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('email', o),\r\n            website: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('website', o),\r\n            brandname: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandname', o),\r\n            brandnameSeed: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brandnameSeed', o),\r\n            trafficEstimate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('trafficEstimate', o),\r\n            type: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(BrandReservationTypeUtil.deserialize, 'type', o),\r\n        });\r\n    }\r\n}\r\nclass CreateBrandReservationResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateBrandReservationResponse();\r\n    }\r\n}\r\nclass UpdateBrandReservationRequest {\r\n    constructor(opts) {\r\n        /** Reservation id. */\r\n        this.reservation = opts.reservation;\r\n        /** If true, approve the reservation. */\r\n        this.approve = opts.approve;\r\n        /** If true, reject the reservation. */\r\n        this.reject = opts.reject;\r\n        /** If approved, CFE path to direct email recipient to. Should accept a \"token\" param. */\r\n        this.joinPath = opts.joinPath;\r\n        /** Optional extra url params to add to {@link #joinPath}. */\r\n        this.joinParams = opts.joinParams || new Map();\r\n        /** If reject, Short rejection message to be sent to the user. */\r\n        this.rejectionReason = opts.rejectionReason;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'reservation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('reservation', m.reservation),\r\n            'approve': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('approve', m.approve),\r\n            'reject': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('reject', m.reject),\r\n            'joinPath': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('joinPath', m.joinPath),\r\n            'joinParams': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringStringMap('joinParams', m.joinParams),\r\n            'rejectionReason': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('rejectionReason', m.rejectionReason),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateBrandReservationRequest({\r\n            reservation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('reservation', o),\r\n            approve: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('approve', o),\r\n            reject: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('reject', o),\r\n            joinPath: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('joinPath', o),\r\n            joinParams: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringStringMap('joinParams', o),\r\n            rejectionReason: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('rejectionReason', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateBrandReservationResponse {\r\n    constructor(opts) {\r\n        /** If non-null, the brand that was created from the reservation */\r\n        this.brand = opts.brand;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(Brand.serialize, 'brand', m.brand),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateBrandReservationResponse({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(Brand.deserialize, 'brand', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandReservationsRequest {\r\n    constructor(opts) {\r\n        this.skip = opts.skip;\r\n        this.limit = opts.limit;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'skip': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('skip', m.skip),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandReservationsRequest({\r\n            skip: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('skip', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n        });\r\n    }\r\n}\r\nclass FindBrandReservationsResponse {\r\n    constructor(opts) {\r\n        this.reservations = opts.reservations || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'reservations': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(BrandReservation.serialize, 'reservations', m.reservations),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindBrandReservationsResponse({\r\n            reservations: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(BrandReservation.deserialize, 'reservations', o),\r\n        });\r\n    }\r\n}\r\nconst AttributeNameUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* SEEN_ONBOARDING */,\r\n            2 /* SEEN_FORCED_E2_DIALOG */,\r\n            3 /* SEEN_PROMO_CANVA_2_OPT_IN_DIALOG */,\r\n            4 /* SEEN_CANVA_2_BROWSER_DEPRECATION_NOTICE_DIALOG */,\r\n            5 /* SEEN_CANVA_2_FORCED_SWITCH_NOTICE_DIALOG */,\r\n            6 /* SEEN_ONBOARDING_TEAMS_INVITER */,\r\n            7 /* SEEN_ONBOARDING_DESIGN_STARTER */,\r\n            8 /* SEEN_ONBOARDING_FAVORITES_SELECTOR */,\r\n            9 /* SEEN_PRICE_BADGE_UPDATE */,\r\n            10 /* SEEN_ONBOARDING_TSHIRTS */,\r\n            11 /* SEEN_REFERRALS_PUBLISH_DIALOG */,\r\n            12 /* SEEN_SEPARATE_PHOTOS_TAB_MESSAGE */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* SEEN_ONBOARDING */: return 'A';\r\n            case 2 /* SEEN_FORCED_E2_DIALOG */: return 'B';\r\n            case 3 /* SEEN_PROMO_CANVA_2_OPT_IN_DIALOG */: return 'C';\r\n            case 4 /* SEEN_CANVA_2_BROWSER_DEPRECATION_NOTICE_DIALOG */: return 'D';\r\n            case 5 /* SEEN_CANVA_2_FORCED_SWITCH_NOTICE_DIALOG */: return 'E';\r\n            case 6 /* SEEN_ONBOARDING_TEAMS_INVITER */: return 'F';\r\n            case 7 /* SEEN_ONBOARDING_DESIGN_STARTER */: return 'G';\r\n            case 8 /* SEEN_ONBOARDING_FAVORITES_SELECTOR */: return 'H';\r\n            case 9 /* SEEN_PRICE_BADGE_UPDATE */: return 'I';\r\n            case 10 /* SEEN_ONBOARDING_TSHIRTS */: return 'J';\r\n            case 11 /* SEEN_REFERRALS_PUBLISH_DIALOG */: return 'K';\r\n            case 12 /* SEEN_SEPARATE_PHOTOS_TAB_MESSAGE */: return 'L';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'A': return 1 /* SEEN_ONBOARDING */;\r\n            case 'B': return 2 /* SEEN_FORCED_E2_DIALOG */;\r\n            case 'C': return 3 /* SEEN_PROMO_CANVA_2_OPT_IN_DIALOG */;\r\n            case 'D': return 4 /* SEEN_CANVA_2_BROWSER_DEPRECATION_NOTICE_DIALOG */;\r\n            case 'E': return 5 /* SEEN_CANVA_2_FORCED_SWITCH_NOTICE_DIALOG */;\r\n            case 'F': return 6 /* SEEN_ONBOARDING_TEAMS_INVITER */;\r\n            case 'G': return 7 /* SEEN_ONBOARDING_DESIGN_STARTER */;\r\n            case 'H': return 8 /* SEEN_ONBOARDING_FAVORITES_SELECTOR */;\r\n            case 'I': return 9 /* SEEN_PRICE_BADGE_UPDATE */;\r\n            case 'J': return 10 /* SEEN_ONBOARDING_TSHIRTS */;\r\n            case 'K': return 11 /* SEEN_REFERRALS_PUBLISH_DIALOG */;\r\n            case 'L': return 12 /* SEEN_SEPARATE_PHOTOS_TAB_MESSAGE */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'AttributeName'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nclass UserAttribute {\r\n    constructor(opts) {\r\n        this.name = opts.name;\r\n        this.value = opts.value;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(AttributeNameUtil.serialize, 'name', m.name),\r\n            'value': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(AttributeValue.serialize, 'value', m.value),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UserAttribute({\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(AttributeNameUtil.deserialize, 'name', o),\r\n            value: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(AttributeValue.deserialize, 'value', o),\r\n        });\r\n    }\r\n}\r\nconst AttributeValue = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'BOOLEAN': return BooleanValue.serialize(u);\r\n            case 'STRING': return StringValue.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'BOOLEAN': return BooleanValue.deserialize(o);\r\n            case 'STRING': return StringValue.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass BooleanValue {\r\n    constructor(opts) {\r\n        this.type = 'BOOLEAN';\r\n        this.value = opts.value;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'BOOLEAN',\r\n            'value': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('value', m.value),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'BOOLEAN');\r\n        return new BooleanValue({\r\n            value: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('value', o),\r\n        });\r\n    }\r\n}\r\n/** Unimplemented attribute value type. */\r\nclass StringValue {\r\n    constructor(opts) {\r\n        this.type = 'STRING';\r\n        this.value = opts.value;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'STRING',\r\n            'value': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('value', m.value),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'STRING');\r\n        return new StringValue({\r\n            value: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('value', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateUserAttributeRequest {\r\n    constructor(opts) {\r\n        this.user = opts.user;\r\n        this.attribute = opts.attribute;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'attribute': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(UserAttribute.serialize, 'attribute', m.attribute),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateUserAttributeRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            attribute: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(UserAttribute.deserialize, 'attribute', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateUserAttributeResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateUserAttributeResponse();\r\n    }\r\n}\r\nclass FindUserAttributesRequest {\r\n    constructor(opts) {\r\n        this.user = opts.user;\r\n        /** The list of attribute names to filter on. Must provide atleast a single attribute name. */\r\n        this.attributes = opts.attributes || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'attributes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(AttributeNameUtil.serialize, 'attributes', m.attributes),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindUserAttributesRequest({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            attributes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(AttributeNameUtil.deserialize, 'attributes', o),\r\n        });\r\n    }\r\n}\r\nclass FindUserAttributesResponse {\r\n    constructor(opts) {\r\n        this.attributes = opts.attributes || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'attributes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(UserAttribute.serialize, 'attributes', m.attributes),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindUserAttributesResponse({\r\n            attributes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(UserAttribute.deserialize, 'attributes', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvcHJvZmlsZS9wcm9maWxlX3Byb3RvLnRzPzQyMzgiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZvcm1hdHRlcjpvZmZcbi8vIENvcHlyaWdodCBDYW52YSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBHZW5lcmF0ZWQgZnJvbSBzZXJ2aWNlcy9wcm9maWxlL3Byb2ZpbGUucHJvdG8uXG5cbmltcG9ydCB7XG4gIFByZWNvbmRpdGlvbnMsXG4gIFVucmVhY2hhYmxlRXJyb3IsXG59IGZyb20gJ2Jhc2UvcHJlY29uZGl0aW9ucyc7XG5pbXBvcnQge1xuICBEZXNlcmlhbGl6YXRpb24sXG59IGZyb20gJ2Jhc2Uvc2VyaWFsaXphdGlvbi9kZXNlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHtcbiAgU2VyaWFsaXphdGlvbixcbn0gZnJvbSAnYmFzZS9zZXJpYWxpemF0aW9uL3NlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHtcbiAgS2V5VHlwZSxcbiAgS2V5VHlwZVV0aWwsXG59IGZyb20gJ3NlcnZpY2VzL2FwaS9hcGlfa2V5X3Byb3RvJztcbmltcG9ydCB7XG4gIE1lZGlhUmVmLFxufSBmcm9tICdzZXJ2aWNlcy9tZWRpYS9tZWRpYV9wcm90byc7XG5pbXBvcnQge1xuICBQZXJtaXNzaW9uLFxuICBQZXJtaXNzaW9uVXRpbCxcbiAgUGxhdGZvcm0sXG4gIFBsYXRmb3JtVXRpbCxcbn0gZnJvbSAnc2VydmljZXMvb2F1dGgvb2F1dGhfcHJvdG8nO1xuXG5leHBvcnQgY29uc3QgZW51bSBDcmVkZW50aWFsc1R5cGUge1xuICBVU0VSTkFNRV9QQVNTV09SRCA9IDEsXG4gIEVNQUlMX1BBU1NXT1JELFxuICBQSE9ORV9QQVNTV09SRCxcbiAgVU5WRVJJRklFRF9QSE9ORV9QQVNTV09SRCxcbiAgRkFDRUJPT0ssXG4gIEdPT0dMRSxcbiAgQVBJLFxuICBPQVVUSF9DT0RFLFxuICBPQVVUSF9MSU5LX1RPS0VOLFxuICBPQVVUSF9BQ0NFU1NfVE9LRU4sXG4gIFBBUlRORVJfQVVUSF9UT0tFTixcbiAgTUlOSV9BUFBfQ09ERSxcbn1cblxuZXhwb3J0IGNvbnN0IENyZWRlbnRpYWxzVHlwZVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IENyZWRlbnRpYWxzVHlwZVtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgQ3JlZGVudGlhbHNUeXBlLlVTRVJOQU1FX1BBU1NXT1JELFxuICAgICAgQ3JlZGVudGlhbHNUeXBlLkVNQUlMX1BBU1NXT1JELFxuICAgICAgQ3JlZGVudGlhbHNUeXBlLlBIT05FX1BBU1NXT1JELFxuICAgICAgQ3JlZGVudGlhbHNUeXBlLlVOVkVSSUZJRURfUEhPTkVfUEFTU1dPUkQsXG4gICAgICBDcmVkZW50aWFsc1R5cGUuRkFDRUJPT0ssXG4gICAgICBDcmVkZW50aWFsc1R5cGUuR09PR0xFLFxuICAgICAgQ3JlZGVudGlhbHNUeXBlLkFQSSxcbiAgICAgIENyZWRlbnRpYWxzVHlwZS5PQVVUSF9DT0RFLFxuICAgICAgQ3JlZGVudGlhbHNUeXBlLk9BVVRIX0xJTktfVE9LRU4sXG4gICAgICBDcmVkZW50aWFsc1R5cGUuT0FVVEhfQUNDRVNTX1RPS0VOLFxuICAgICAgQ3JlZGVudGlhbHNUeXBlLlBBUlRORVJfQVVUSF9UT0tFTixcbiAgICAgIENyZWRlbnRpYWxzVHlwZS5NSU5JX0FQUF9DT0RFLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBDcmVkZW50aWFsc1R5cGUpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgQ3JlZGVudGlhbHNUeXBlLlVTRVJOQU1FX1BBU1NXT1JEOiByZXR1cm4gJ1VTRVJOQU1FX1BBU1NXT1JEJztcbiAgICAgIGNhc2UgQ3JlZGVudGlhbHNUeXBlLkVNQUlMX1BBU1NXT1JEOiByZXR1cm4gJ0VNQUlMX1BBU1NXT1JEJztcbiAgICAgIGNhc2UgQ3JlZGVudGlhbHNUeXBlLlBIT05FX1BBU1NXT1JEOiByZXR1cm4gJ1BIT05FX1BBU1NXT1JEJztcbiAgICAgIGNhc2UgQ3JlZGVudGlhbHNUeXBlLlVOVkVSSUZJRURfUEhPTkVfUEFTU1dPUkQ6IHJldHVybiAnVU5WRVJJRklFRF9QSE9ORV9QQVNTV09SRCc7XG4gICAgICBjYXNlIENyZWRlbnRpYWxzVHlwZS5GQUNFQk9PSzogcmV0dXJuICdGQUNFQk9PSyc7XG4gICAgICBjYXNlIENyZWRlbnRpYWxzVHlwZS5HT09HTEU6IHJldHVybiAnR09PR0xFJztcbiAgICAgIGNhc2UgQ3JlZGVudGlhbHNUeXBlLkFQSTogcmV0dXJuICdBUEknO1xuICAgICAgY2FzZSBDcmVkZW50aWFsc1R5cGUuT0FVVEhfQ09ERTogcmV0dXJuICdPQVVUSF9DT0RFJztcbiAgICAgIGNhc2UgQ3JlZGVudGlhbHNUeXBlLk9BVVRIX0xJTktfVE9LRU46IHJldHVybiAnT0FVVEhfTElOS19UT0tFTic7XG4gICAgICBjYXNlIENyZWRlbnRpYWxzVHlwZS5PQVVUSF9BQ0NFU1NfVE9LRU46IHJldHVybiAnT0FVVEhfQUNDRVNTX1RPS0VOJztcbiAgICAgIGNhc2UgQ3JlZGVudGlhbHNUeXBlLlBBUlRORVJfQVVUSF9UT0tFTjogcmV0dXJuICdQQVJUTkVSX0FVVEhfVE9LRU4nO1xuICAgICAgY2FzZSBDcmVkZW50aWFsc1R5cGUuTUlOSV9BUFBfQ09ERTogcmV0dXJuICdNSU5JX0FQUF9DT0RFJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IENyZWRlbnRpYWxzVHlwZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnVVNFUk5BTUVfUEFTU1dPUkQnOiByZXR1cm4gQ3JlZGVudGlhbHNUeXBlLlVTRVJOQU1FX1BBU1NXT1JEO1xuICAgICAgY2FzZSAnRU1BSUxfUEFTU1dPUkQnOiByZXR1cm4gQ3JlZGVudGlhbHNUeXBlLkVNQUlMX1BBU1NXT1JEO1xuICAgICAgY2FzZSAnUEhPTkVfUEFTU1dPUkQnOiByZXR1cm4gQ3JlZGVudGlhbHNUeXBlLlBIT05FX1BBU1NXT1JEO1xuICAgICAgY2FzZSAnVU5WRVJJRklFRF9QSE9ORV9QQVNTV09SRCc6IHJldHVybiBDcmVkZW50aWFsc1R5cGUuVU5WRVJJRklFRF9QSE9ORV9QQVNTV09SRDtcbiAgICAgIGNhc2UgJ0ZBQ0VCT09LJzogcmV0dXJuIENyZWRlbnRpYWxzVHlwZS5GQUNFQk9PSztcbiAgICAgIGNhc2UgJ0dPT0dMRSc6IHJldHVybiBDcmVkZW50aWFsc1R5cGUuR09PR0xFO1xuICAgICAgY2FzZSAnQVBJJzogcmV0dXJuIENyZWRlbnRpYWxzVHlwZS5BUEk7XG4gICAgICBjYXNlICdPQVVUSF9DT0RFJzogcmV0dXJuIENyZWRlbnRpYWxzVHlwZS5PQVVUSF9DT0RFO1xuICAgICAgY2FzZSAnT0FVVEhfTElOS19UT0tFTic6IHJldHVybiBDcmVkZW50aWFsc1R5cGUuT0FVVEhfTElOS19UT0tFTjtcbiAgICAgIGNhc2UgJ09BVVRIX0FDQ0VTU19UT0tFTic6IHJldHVybiBDcmVkZW50aWFsc1R5cGUuT0FVVEhfQUNDRVNTX1RPS0VOO1xuICAgICAgY2FzZSAnUEFSVE5FUl9BVVRIX1RPS0VOJzogcmV0dXJuIENyZWRlbnRpYWxzVHlwZS5QQVJUTkVSX0FVVEhfVE9LRU47XG4gICAgICBjYXNlICdNSU5JX0FQUF9DT0RFJzogcmV0dXJuIENyZWRlbnRpYWxzVHlwZS5NSU5JX0FQUF9DT0RFO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnQ3JlZGVudGlhbHNUeXBlJyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGVudW0gQnJhbmRSb2xlIHtcbiAgUEVSU09OQUwgPSAxLFxuICBUSElSRF9QQVJUWV9CUkFORCxcbiAgQ09OVFJJQlVUT1IsXG4gIExBWU9VVF9DT05UUklCVVRPUixcbn1cblxuZXhwb3J0IGNvbnN0IEJyYW5kUm9sZVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IEJyYW5kUm9sZVtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgQnJhbmRSb2xlLlBFUlNPTkFMLFxuICAgICAgQnJhbmRSb2xlLlRISVJEX1BBUlRZX0JSQU5ELFxuICAgICAgQnJhbmRSb2xlLkNPTlRSSUJVVE9SLFxuICAgICAgQnJhbmRSb2xlLkxBWU9VVF9DT05UUklCVVRPUixcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogQnJhbmRSb2xlKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIEJyYW5kUm9sZS5QRVJTT05BTDogcmV0dXJuICdQRVJTT05BTCc7XG4gICAgICBjYXNlIEJyYW5kUm9sZS5USElSRF9QQVJUWV9CUkFORDogcmV0dXJuICdUSElSRF9QQVJUWV9CUkFORCc7XG4gICAgICBjYXNlIEJyYW5kUm9sZS5DT05UUklCVVRPUjogcmV0dXJuICdDT05UUklCVVRPUic7XG4gICAgICBjYXNlIEJyYW5kUm9sZS5MQVlPVVRfQ09OVFJJQlVUT1I6IHJldHVybiAnTEFZT1VUX0NPTlRSSUJVVE9SJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IEJyYW5kUm9sZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnUEVSU09OQUwnOiByZXR1cm4gQnJhbmRSb2xlLlBFUlNPTkFMO1xuICAgICAgY2FzZSAnVEhJUkRfUEFSVFlfQlJBTkQnOiByZXR1cm4gQnJhbmRSb2xlLlRISVJEX1BBUlRZX0JSQU5EO1xuICAgICAgY2FzZSAnQ09OVFJJQlVUT1InOiByZXR1cm4gQnJhbmRSb2xlLkNPTlRSSUJVVE9SO1xuICAgICAgY2FzZSAnTEFZT1VUX0NPTlRSSUJVVE9SJzogcmV0dXJuIEJyYW5kUm9sZS5MQVlPVVRfQ09OVFJJQlVUT1I7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdCcmFuZFJvbGUnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG4vKiogRGVmaW5lcyByb2xlcyBvZiBhIHVzZXIgd2l0aGluIGEgYnJhbmQuICovXG5leHBvcnQgY29uc3QgZW51bSBCcmFuZFVzZXJSb2xlIHtcbiAgTUVNQkVSID0gMSxcbiAgREVTSUdORVIsXG4gIEFETUlOLFxuICBPV05FUixcbn1cblxuZXhwb3J0IGNvbnN0IEJyYW5kVXNlclJvbGVVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBCcmFuZFVzZXJSb2xlW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBCcmFuZFVzZXJSb2xlLk1FTUJFUixcbiAgICAgIEJyYW5kVXNlclJvbGUuREVTSUdORVIsXG4gICAgICBCcmFuZFVzZXJSb2xlLkFETUlOLFxuICAgICAgQnJhbmRVc2VyUm9sZS5PV05FUixcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogQnJhbmRVc2VyUm9sZSk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBCcmFuZFVzZXJSb2xlLk1FTUJFUjogcmV0dXJuICdNRU1CRVInO1xuICAgICAgY2FzZSBCcmFuZFVzZXJSb2xlLkRFU0lHTkVSOiByZXR1cm4gJ0RFU0lHTkVSJztcbiAgICAgIGNhc2UgQnJhbmRVc2VyUm9sZS5BRE1JTjogcmV0dXJuICdBRE1JTic7XG4gICAgICBjYXNlIEJyYW5kVXNlclJvbGUuT1dORVI6IHJldHVybiAnT1dORVInO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogQnJhbmRVc2VyUm9sZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnTUVNQkVSJzogcmV0dXJuIEJyYW5kVXNlclJvbGUuTUVNQkVSO1xuICAgICAgY2FzZSAnREVTSUdORVInOiByZXR1cm4gQnJhbmRVc2VyUm9sZS5ERVNJR05FUjtcbiAgICAgIGNhc2UgJ0FETUlOJzogcmV0dXJuIEJyYW5kVXNlclJvbGUuQURNSU47XG4gICAgICBjYXNlICdPV05FUic6IHJldHVybiBCcmFuZFVzZXJSb2xlLk9XTkVSO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnQnJhbmRVc2VyUm9sZScke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIEF2YXRhckJ1bmRsZVN0YXR1cyB7XG4gIFBFTkRJTkcgPSAxLFxuICBTVUNDRUVERUQsXG4gIEZBSUxFRCxcbn1cblxuZXhwb3J0IGNvbnN0IEF2YXRhckJ1bmRsZVN0YXR1c1V0aWwgPSB7XG4gIHZhbHVlczogKCk6IEF2YXRhckJ1bmRsZVN0YXR1c1tdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgQXZhdGFyQnVuZGxlU3RhdHVzLlBFTkRJTkcsXG4gICAgICBBdmF0YXJCdW5kbGVTdGF0dXMuU1VDQ0VFREVELFxuICAgICAgQXZhdGFyQnVuZGxlU3RhdHVzLkZBSUxFRCxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogQXZhdGFyQnVuZGxlU3RhdHVzKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIEF2YXRhckJ1bmRsZVN0YXR1cy5QRU5ESU5HOiByZXR1cm4gJ1BFTkRJTkcnO1xuICAgICAgY2FzZSBBdmF0YXJCdW5kbGVTdGF0dXMuU1VDQ0VFREVEOiByZXR1cm4gJ1NVQ0NFRURFRCc7XG4gICAgICBjYXNlIEF2YXRhckJ1bmRsZVN0YXR1cy5GQUlMRUQ6IHJldHVybiAnRkFJTEVEJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IEF2YXRhckJ1bmRsZVN0YXR1cyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnUEVORElORyc6IHJldHVybiBBdmF0YXJCdW5kbGVTdGF0dXMuUEVORElORztcbiAgICAgIGNhc2UgJ1NVQ0NFRURFRCc6IHJldHVybiBBdmF0YXJCdW5kbGVTdGF0dXMuU1VDQ0VFREVEO1xuICAgICAgY2FzZSAnRkFJTEVEJzogcmV0dXJuIEF2YXRhckJ1bmRsZVN0YXR1cy5GQUlMRUQ7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdBdmF0YXJCdW5kbGVTdGF0dXMnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBDb3VudHJ5Q29kZSB7XG4gIEFEID0gMSxcbiAgQUUsXG4gIEFGLFxuICBBRyxcbiAgQUksXG4gIEFMLFxuICBBTSxcbiAgQU8sXG4gIEFRLFxuICBBUixcbiAgQVMsXG4gIEFULFxuICBBVSxcbiAgQVcsXG4gIEFYLFxuICBBWixcbiAgQkEsXG4gIEJCLFxuICBCRCxcbiAgQkUsXG4gIEJGLFxuICBCRyxcbiAgQkgsXG4gIEJJLFxuICBCSixcbiAgQkwsXG4gIEJNLFxuICBCTixcbiAgQk8sXG4gIEJRLFxuICBCUixcbiAgQlMsXG4gIEJULFxuICBCVixcbiAgQlcsXG4gIEJZLFxuICBCWixcbiAgQ0EsXG4gIENDLFxuICBDRCxcbiAgQ0YsXG4gIENHLFxuICBDSCxcbiAgQ0ksXG4gIENLLFxuICBDTCxcbiAgQ00sXG4gIENOLFxuICBDTyxcbiAgQ1IsXG4gIENVLFxuICBDVixcbiAgQ1csXG4gIENYLFxuICBDWSxcbiAgQ1osXG4gIERFLFxuICBESixcbiAgREssXG4gIERNLFxuICBETyxcbiAgRFosXG4gIEVDLFxuICBFRSxcbiAgRUcsXG4gIEVILFxuICBFUixcbiAgRVMsXG4gIEVULFxuICBGSSxcbiAgRkosXG4gIEZLLFxuICBGTSxcbiAgRk8sXG4gIEZSLFxuICBHQSxcbiAgR0IsXG4gIEdELFxuICBHRSxcbiAgR0YsXG4gIEdHLFxuICBHSCxcbiAgR0ksXG4gIEdMLFxuICBHTSxcbiAgR04sXG4gIEdQLFxuICBHUSxcbiAgR1IsXG4gIEdTLFxuICBHVCxcbiAgR1UsXG4gIEdXLFxuICBHWSxcbiAgSEssXG4gIEhNLFxuICBITixcbiAgSFIsXG4gIEhULFxuICBIVSxcbiAgSUQsXG4gIElFLFxuICBJTCxcbiAgSU0sXG4gIElOLFxuICBJTyxcbiAgSVEsXG4gIElSLFxuICBJUyxcbiAgSVQsXG4gIEpFLFxuICBKTSxcbiAgSk8sXG4gIEpQLFxuICBLRSxcbiAgS0csXG4gIEtILFxuICBLSSxcbiAgS00sXG4gIEtOLFxuICBLUCxcbiAgS1IsXG4gIEtXLFxuICBLWSxcbiAgS1osXG4gIExBLFxuICBMQixcbiAgTEMsXG4gIExJLFxuICBMSyxcbiAgTFIsXG4gIExTLFxuICBMVCxcbiAgTFUsXG4gIExWLFxuICBMWSxcbiAgTUEsXG4gIE1DLFxuICBNRCxcbiAgTUUsXG4gIE1GLFxuICBNRyxcbiAgTUgsXG4gIE1LLFxuICBNTCxcbiAgTU0sXG4gIE1OLFxuICBNTyxcbiAgTVAsXG4gIE1RLFxuICBNUixcbiAgTVMsXG4gIE1ULFxuICBNVSxcbiAgTVYsXG4gIE1XLFxuICBNWCxcbiAgTVksXG4gIE1aLFxuICBOQSxcbiAgTkMsXG4gIE5FLFxuICBORixcbiAgTkcsXG4gIE5JLFxuICBOTCxcbiAgTk8sXG4gIE5QLFxuICBOUixcbiAgTlUsXG4gIE5aLFxuICBPTSxcbiAgUEEsXG4gIFBFLFxuICBQRixcbiAgUEcsXG4gIFBILFxuICBQSyxcbiAgUEwsXG4gIFBNLFxuICBQTixcbiAgUFIsXG4gIFBTLFxuICBQVCxcbiAgUFcsXG4gIFBZLFxuICBRQSxcbiAgUkUsXG4gIFJPLFxuICBSUyxcbiAgUlUsXG4gIFJXLFxuICBTQSxcbiAgU0IsXG4gIFNDLFxuICBTRCxcbiAgU0UsXG4gIFNHLFxuICBTSCxcbiAgU0ksXG4gIFNKLFxuICBTSyxcbiAgU0wsXG4gIFNNLFxuICBTTixcbiAgU08sXG4gIFNSLFxuICBTUyxcbiAgU1QsXG4gIFNWLFxuICBTWCxcbiAgU1ksXG4gIFNaLFxuICBUQyxcbiAgVEQsXG4gIFRGLFxuICBURyxcbiAgVEgsXG4gIFRKLFxuICBUSyxcbiAgVEwsXG4gIFRNLFxuICBUTixcbiAgVE8sXG4gIFRSLFxuICBUVCxcbiAgVFYsXG4gIFRXLFxuICBUWixcbiAgVUEsXG4gIFVHLFxuICBVTSxcbiAgVVMsXG4gIFVZLFxuICBVWixcbiAgVkEsXG4gIFZDLFxuICBWRSxcbiAgVkcsXG4gIFZJLFxuICBWTixcbiAgVlUsXG4gIFdGLFxuICBXUyxcbiAgWUUsXG4gIFlULFxuICBaQSxcbiAgWk0sXG4gIFpXLFxuICBaWixcbn1cblxuZXhwb3J0IGNvbnN0IENvdW50cnlDb2RlVXRpbCA9IHtcbiAgdmFsdWVzOiAoKTogQ291bnRyeUNvZGVbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIENvdW50cnlDb2RlLkFELFxuICAgICAgQ291bnRyeUNvZGUuQUUsXG4gICAgICBDb3VudHJ5Q29kZS5BRixcbiAgICAgIENvdW50cnlDb2RlLkFHLFxuICAgICAgQ291bnRyeUNvZGUuQUksXG4gICAgICBDb3VudHJ5Q29kZS5BTCxcbiAgICAgIENvdW50cnlDb2RlLkFNLFxuICAgICAgQ291bnRyeUNvZGUuQU8sXG4gICAgICBDb3VudHJ5Q29kZS5BUSxcbiAgICAgIENvdW50cnlDb2RlLkFSLFxuICAgICAgQ291bnRyeUNvZGUuQVMsXG4gICAgICBDb3VudHJ5Q29kZS5BVCxcbiAgICAgIENvdW50cnlDb2RlLkFVLFxuICAgICAgQ291bnRyeUNvZGUuQVcsXG4gICAgICBDb3VudHJ5Q29kZS5BWCxcbiAgICAgIENvdW50cnlDb2RlLkFaLFxuICAgICAgQ291bnRyeUNvZGUuQkEsXG4gICAgICBDb3VudHJ5Q29kZS5CQixcbiAgICAgIENvdW50cnlDb2RlLkJELFxuICAgICAgQ291bnRyeUNvZGUuQkUsXG4gICAgICBDb3VudHJ5Q29kZS5CRixcbiAgICAgIENvdW50cnlDb2RlLkJHLFxuICAgICAgQ291bnRyeUNvZGUuQkgsXG4gICAgICBDb3VudHJ5Q29kZS5CSSxcbiAgICAgIENvdW50cnlDb2RlLkJKLFxuICAgICAgQ291bnRyeUNvZGUuQkwsXG4gICAgICBDb3VudHJ5Q29kZS5CTSxcbiAgICAgIENvdW50cnlDb2RlLkJOLFxuICAgICAgQ291bnRyeUNvZGUuQk8sXG4gICAgICBDb3VudHJ5Q29kZS5CUSxcbiAgICAgIENvdW50cnlDb2RlLkJSLFxuICAgICAgQ291bnRyeUNvZGUuQlMsXG4gICAgICBDb3VudHJ5Q29kZS5CVCxcbiAgICAgIENvdW50cnlDb2RlLkJWLFxuICAgICAgQ291bnRyeUNvZGUuQlcsXG4gICAgICBDb3VudHJ5Q29kZS5CWSxcbiAgICAgIENvdW50cnlDb2RlLkJaLFxuICAgICAgQ291bnRyeUNvZGUuQ0EsXG4gICAgICBDb3VudHJ5Q29kZS5DQyxcbiAgICAgIENvdW50cnlDb2RlLkNELFxuICAgICAgQ291bnRyeUNvZGUuQ0YsXG4gICAgICBDb3VudHJ5Q29kZS5DRyxcbiAgICAgIENvdW50cnlDb2RlLkNILFxuICAgICAgQ291bnRyeUNvZGUuQ0ksXG4gICAgICBDb3VudHJ5Q29kZS5DSyxcbiAgICAgIENvdW50cnlDb2RlLkNMLFxuICAgICAgQ291bnRyeUNvZGUuQ00sXG4gICAgICBDb3VudHJ5Q29kZS5DTixcbiAgICAgIENvdW50cnlDb2RlLkNPLFxuICAgICAgQ291bnRyeUNvZGUuQ1IsXG4gICAgICBDb3VudHJ5Q29kZS5DVSxcbiAgICAgIENvdW50cnlDb2RlLkNWLFxuICAgICAgQ291bnRyeUNvZGUuQ1csXG4gICAgICBDb3VudHJ5Q29kZS5DWCxcbiAgICAgIENvdW50cnlDb2RlLkNZLFxuICAgICAgQ291bnRyeUNvZGUuQ1osXG4gICAgICBDb3VudHJ5Q29kZS5ERSxcbiAgICAgIENvdW50cnlDb2RlLkRKLFxuICAgICAgQ291bnRyeUNvZGUuREssXG4gICAgICBDb3VudHJ5Q29kZS5ETSxcbiAgICAgIENvdW50cnlDb2RlLkRPLFxuICAgICAgQ291bnRyeUNvZGUuRFosXG4gICAgICBDb3VudHJ5Q29kZS5FQyxcbiAgICAgIENvdW50cnlDb2RlLkVFLFxuICAgICAgQ291bnRyeUNvZGUuRUcsXG4gICAgICBDb3VudHJ5Q29kZS5FSCxcbiAgICAgIENvdW50cnlDb2RlLkVSLFxuICAgICAgQ291bnRyeUNvZGUuRVMsXG4gICAgICBDb3VudHJ5Q29kZS5FVCxcbiAgICAgIENvdW50cnlDb2RlLkZJLFxuICAgICAgQ291bnRyeUNvZGUuRkosXG4gICAgICBDb3VudHJ5Q29kZS5GSyxcbiAgICAgIENvdW50cnlDb2RlLkZNLFxuICAgICAgQ291bnRyeUNvZGUuRk8sXG4gICAgICBDb3VudHJ5Q29kZS5GUixcbiAgICAgIENvdW50cnlDb2RlLkdBLFxuICAgICAgQ291bnRyeUNvZGUuR0IsXG4gICAgICBDb3VudHJ5Q29kZS5HRCxcbiAgICAgIENvdW50cnlDb2RlLkdFLFxuICAgICAgQ291bnRyeUNvZGUuR0YsXG4gICAgICBDb3VudHJ5Q29kZS5HRyxcbiAgICAgIENvdW50cnlDb2RlLkdILFxuICAgICAgQ291bnRyeUNvZGUuR0ksXG4gICAgICBDb3VudHJ5Q29kZS5HTCxcbiAgICAgIENvdW50cnlDb2RlLkdNLFxuICAgICAgQ291bnRyeUNvZGUuR04sXG4gICAgICBDb3VudHJ5Q29kZS5HUCxcbiAgICAgIENvdW50cnlDb2RlLkdRLFxuICAgICAgQ291bnRyeUNvZGUuR1IsXG4gICAgICBDb3VudHJ5Q29kZS5HUyxcbiAgICAgIENvdW50cnlDb2RlLkdULFxuICAgICAgQ291bnRyeUNvZGUuR1UsXG4gICAgICBDb3VudHJ5Q29kZS5HVyxcbiAgICAgIENvdW50cnlDb2RlLkdZLFxuICAgICAgQ291bnRyeUNvZGUuSEssXG4gICAgICBDb3VudHJ5Q29kZS5ITSxcbiAgICAgIENvdW50cnlDb2RlLkhOLFxuICAgICAgQ291bnRyeUNvZGUuSFIsXG4gICAgICBDb3VudHJ5Q29kZS5IVCxcbiAgICAgIENvdW50cnlDb2RlLkhVLFxuICAgICAgQ291bnRyeUNvZGUuSUQsXG4gICAgICBDb3VudHJ5Q29kZS5JRSxcbiAgICAgIENvdW50cnlDb2RlLklMLFxuICAgICAgQ291bnRyeUNvZGUuSU0sXG4gICAgICBDb3VudHJ5Q29kZS5JTixcbiAgICAgIENvdW50cnlDb2RlLklPLFxuICAgICAgQ291bnRyeUNvZGUuSVEsXG4gICAgICBDb3VudHJ5Q29kZS5JUixcbiAgICAgIENvdW50cnlDb2RlLklTLFxuICAgICAgQ291bnRyeUNvZGUuSVQsXG4gICAgICBDb3VudHJ5Q29kZS5KRSxcbiAgICAgIENvdW50cnlDb2RlLkpNLFxuICAgICAgQ291bnRyeUNvZGUuSk8sXG4gICAgICBDb3VudHJ5Q29kZS5KUCxcbiAgICAgIENvdW50cnlDb2RlLktFLFxuICAgICAgQ291bnRyeUNvZGUuS0csXG4gICAgICBDb3VudHJ5Q29kZS5LSCxcbiAgICAgIENvdW50cnlDb2RlLktJLFxuICAgICAgQ291bnRyeUNvZGUuS00sXG4gICAgICBDb3VudHJ5Q29kZS5LTixcbiAgICAgIENvdW50cnlDb2RlLktQLFxuICAgICAgQ291bnRyeUNvZGUuS1IsXG4gICAgICBDb3VudHJ5Q29kZS5LVyxcbiAgICAgIENvdW50cnlDb2RlLktZLFxuICAgICAgQ291bnRyeUNvZGUuS1osXG4gICAgICBDb3VudHJ5Q29kZS5MQSxcbiAgICAgIENvdW50cnlDb2RlLkxCLFxuICAgICAgQ291bnRyeUNvZGUuTEMsXG4gICAgICBDb3VudHJ5Q29kZS5MSSxcbiAgICAgIENvdW50cnlDb2RlLkxLLFxuICAgICAgQ291bnRyeUNvZGUuTFIsXG4gICAgICBDb3VudHJ5Q29kZS5MUyxcbiAgICAgIENvdW50cnlDb2RlLkxULFxuICAgICAgQ291bnRyeUNvZGUuTFUsXG4gICAgICBDb3VudHJ5Q29kZS5MVixcbiAgICAgIENvdW50cnlDb2RlLkxZLFxuICAgICAgQ291bnRyeUNvZGUuTUEsXG4gICAgICBDb3VudHJ5Q29kZS5NQyxcbiAgICAgIENvdW50cnlDb2RlLk1ELFxuICAgICAgQ291bnRyeUNvZGUuTUUsXG4gICAgICBDb3VudHJ5Q29kZS5NRixcbiAgICAgIENvdW50cnlDb2RlLk1HLFxuICAgICAgQ291bnRyeUNvZGUuTUgsXG4gICAgICBDb3VudHJ5Q29kZS5NSyxcbiAgICAgIENvdW50cnlDb2RlLk1MLFxuICAgICAgQ291bnRyeUNvZGUuTU0sXG4gICAgICBDb3VudHJ5Q29kZS5NTixcbiAgICAgIENvdW50cnlDb2RlLk1PLFxuICAgICAgQ291bnRyeUNvZGUuTVAsXG4gICAgICBDb3VudHJ5Q29kZS5NUSxcbiAgICAgIENvdW50cnlDb2RlLk1SLFxuICAgICAgQ291bnRyeUNvZGUuTVMsXG4gICAgICBDb3VudHJ5Q29kZS5NVCxcbiAgICAgIENvdW50cnlDb2RlLk1VLFxuICAgICAgQ291bnRyeUNvZGUuTVYsXG4gICAgICBDb3VudHJ5Q29kZS5NVyxcbiAgICAgIENvdW50cnlDb2RlLk1YLFxuICAgICAgQ291bnRyeUNvZGUuTVksXG4gICAgICBDb3VudHJ5Q29kZS5NWixcbiAgICAgIENvdW50cnlDb2RlLk5BLFxuICAgICAgQ291bnRyeUNvZGUuTkMsXG4gICAgICBDb3VudHJ5Q29kZS5ORSxcbiAgICAgIENvdW50cnlDb2RlLk5GLFxuICAgICAgQ291bnRyeUNvZGUuTkcsXG4gICAgICBDb3VudHJ5Q29kZS5OSSxcbiAgICAgIENvdW50cnlDb2RlLk5MLFxuICAgICAgQ291bnRyeUNvZGUuTk8sXG4gICAgICBDb3VudHJ5Q29kZS5OUCxcbiAgICAgIENvdW50cnlDb2RlLk5SLFxuICAgICAgQ291bnRyeUNvZGUuTlUsXG4gICAgICBDb3VudHJ5Q29kZS5OWixcbiAgICAgIENvdW50cnlDb2RlLk9NLFxuICAgICAgQ291bnRyeUNvZGUuUEEsXG4gICAgICBDb3VudHJ5Q29kZS5QRSxcbiAgICAgIENvdW50cnlDb2RlLlBGLFxuICAgICAgQ291bnRyeUNvZGUuUEcsXG4gICAgICBDb3VudHJ5Q29kZS5QSCxcbiAgICAgIENvdW50cnlDb2RlLlBLLFxuICAgICAgQ291bnRyeUNvZGUuUEwsXG4gICAgICBDb3VudHJ5Q29kZS5QTSxcbiAgICAgIENvdW50cnlDb2RlLlBOLFxuICAgICAgQ291bnRyeUNvZGUuUFIsXG4gICAgICBDb3VudHJ5Q29kZS5QUyxcbiAgICAgIENvdW50cnlDb2RlLlBULFxuICAgICAgQ291bnRyeUNvZGUuUFcsXG4gICAgICBDb3VudHJ5Q29kZS5QWSxcbiAgICAgIENvdW50cnlDb2RlLlFBLFxuICAgICAgQ291bnRyeUNvZGUuUkUsXG4gICAgICBDb3VudHJ5Q29kZS5STyxcbiAgICAgIENvdW50cnlDb2RlLlJTLFxuICAgICAgQ291bnRyeUNvZGUuUlUsXG4gICAgICBDb3VudHJ5Q29kZS5SVyxcbiAgICAgIENvdW50cnlDb2RlLlNBLFxuICAgICAgQ291bnRyeUNvZGUuU0IsXG4gICAgICBDb3VudHJ5Q29kZS5TQyxcbiAgICAgIENvdW50cnlDb2RlLlNELFxuICAgICAgQ291bnRyeUNvZGUuU0UsXG4gICAgICBDb3VudHJ5Q29kZS5TRyxcbiAgICAgIENvdW50cnlDb2RlLlNILFxuICAgICAgQ291bnRyeUNvZGUuU0ksXG4gICAgICBDb3VudHJ5Q29kZS5TSixcbiAgICAgIENvdW50cnlDb2RlLlNLLFxuICAgICAgQ291bnRyeUNvZGUuU0wsXG4gICAgICBDb3VudHJ5Q29kZS5TTSxcbiAgICAgIENvdW50cnlDb2RlLlNOLFxuICAgICAgQ291bnRyeUNvZGUuU08sXG4gICAgICBDb3VudHJ5Q29kZS5TUixcbiAgICAgIENvdW50cnlDb2RlLlNTLFxuICAgICAgQ291bnRyeUNvZGUuU1QsXG4gICAgICBDb3VudHJ5Q29kZS5TVixcbiAgICAgIENvdW50cnlDb2RlLlNYLFxuICAgICAgQ291bnRyeUNvZGUuU1ksXG4gICAgICBDb3VudHJ5Q29kZS5TWixcbiAgICAgIENvdW50cnlDb2RlLlRDLFxuICAgICAgQ291bnRyeUNvZGUuVEQsXG4gICAgICBDb3VudHJ5Q29kZS5URixcbiAgICAgIENvdW50cnlDb2RlLlRHLFxuICAgICAgQ291bnRyeUNvZGUuVEgsXG4gICAgICBDb3VudHJ5Q29kZS5USixcbiAgICAgIENvdW50cnlDb2RlLlRLLFxuICAgICAgQ291bnRyeUNvZGUuVEwsXG4gICAgICBDb3VudHJ5Q29kZS5UTSxcbiAgICAgIENvdW50cnlDb2RlLlROLFxuICAgICAgQ291bnRyeUNvZGUuVE8sXG4gICAgICBDb3VudHJ5Q29kZS5UUixcbiAgICAgIENvdW50cnlDb2RlLlRULFxuICAgICAgQ291bnRyeUNvZGUuVFYsXG4gICAgICBDb3VudHJ5Q29kZS5UVyxcbiAgICAgIENvdW50cnlDb2RlLlRaLFxuICAgICAgQ291bnRyeUNvZGUuVUEsXG4gICAgICBDb3VudHJ5Q29kZS5VRyxcbiAgICAgIENvdW50cnlDb2RlLlVNLFxuICAgICAgQ291bnRyeUNvZGUuVVMsXG4gICAgICBDb3VudHJ5Q29kZS5VWSxcbiAgICAgIENvdW50cnlDb2RlLlVaLFxuICAgICAgQ291bnRyeUNvZGUuVkEsXG4gICAgICBDb3VudHJ5Q29kZS5WQyxcbiAgICAgIENvdW50cnlDb2RlLlZFLFxuICAgICAgQ291bnRyeUNvZGUuVkcsXG4gICAgICBDb3VudHJ5Q29kZS5WSSxcbiAgICAgIENvdW50cnlDb2RlLlZOLFxuICAgICAgQ291bnRyeUNvZGUuVlUsXG4gICAgICBDb3VudHJ5Q29kZS5XRixcbiAgICAgIENvdW50cnlDb2RlLldTLFxuICAgICAgQ291bnRyeUNvZGUuWUUsXG4gICAgICBDb3VudHJ5Q29kZS5ZVCxcbiAgICAgIENvdW50cnlDb2RlLlpBLFxuICAgICAgQ291bnRyeUNvZGUuWk0sXG4gICAgICBDb3VudHJ5Q29kZS5aVyxcbiAgICAgIENvdW50cnlDb2RlLlpaLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBDb3VudHJ5Q29kZSk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5BRDogcmV0dXJuICdBRCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkFFOiByZXR1cm4gJ0FFJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQUY6IHJldHVybiAnQUYnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5BRzogcmV0dXJuICdBRyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkFJOiByZXR1cm4gJ0FJJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQUw6IHJldHVybiAnQUwnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5BTTogcmV0dXJuICdBTSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkFPOiByZXR1cm4gJ0FPJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQVE6IHJldHVybiAnQVEnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5BUjogcmV0dXJuICdBUic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkFTOiByZXR1cm4gJ0FTJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQVQ6IHJldHVybiAnQVQnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5BVTogcmV0dXJuICdBVSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkFXOiByZXR1cm4gJ0FXJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQVg6IHJldHVybiAnQVgnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5BWjogcmV0dXJuICdBWic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkJBOiByZXR1cm4gJ0JBJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQkI6IHJldHVybiAnQkInO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5CRDogcmV0dXJuICdCRCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkJFOiByZXR1cm4gJ0JFJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQkY6IHJldHVybiAnQkYnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5CRzogcmV0dXJuICdCRyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkJIOiByZXR1cm4gJ0JIJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQkk6IHJldHVybiAnQkknO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5CSjogcmV0dXJuICdCSic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkJMOiByZXR1cm4gJ0JMJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQk06IHJldHVybiAnQk0nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5CTjogcmV0dXJuICdCTic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkJPOiByZXR1cm4gJ0JPJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQlE6IHJldHVybiAnQlEnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5CUjogcmV0dXJuICdCUic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkJTOiByZXR1cm4gJ0JTJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQlQ6IHJldHVybiAnQlQnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5CVjogcmV0dXJuICdCVic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkJXOiByZXR1cm4gJ0JXJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQlk6IHJldHVybiAnQlknO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5CWjogcmV0dXJuICdCWic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkNBOiByZXR1cm4gJ0NBJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQ0M6IHJldHVybiAnQ0MnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5DRDogcmV0dXJuICdDRCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkNGOiByZXR1cm4gJ0NGJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQ0c6IHJldHVybiAnQ0cnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5DSDogcmV0dXJuICdDSCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkNJOiByZXR1cm4gJ0NJJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQ0s6IHJldHVybiAnQ0snO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5DTDogcmV0dXJuICdDTCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkNNOiByZXR1cm4gJ0NNJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQ046IHJldHVybiAnQ04nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5DTzogcmV0dXJuICdDTyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkNSOiByZXR1cm4gJ0NSJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQ1U6IHJldHVybiAnQ1UnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5DVjogcmV0dXJuICdDVic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkNXOiByZXR1cm4gJ0NXJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuQ1g6IHJldHVybiAnQ1gnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5DWTogcmV0dXJuICdDWSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkNaOiByZXR1cm4gJ0NaJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuREU6IHJldHVybiAnREUnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5ESjogcmV0dXJuICdESic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkRLOiByZXR1cm4gJ0RLJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuRE06IHJldHVybiAnRE0nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5ETzogcmV0dXJuICdETyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkRaOiByZXR1cm4gJ0RaJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuRUM6IHJldHVybiAnRUMnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5FRTogcmV0dXJuICdFRSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkVHOiByZXR1cm4gJ0VHJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuRUg6IHJldHVybiAnRUgnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5FUjogcmV0dXJuICdFUic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkVTOiByZXR1cm4gJ0VTJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuRVQ6IHJldHVybiAnRVQnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5GSTogcmV0dXJuICdGSSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkZKOiByZXR1cm4gJ0ZKJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuRks6IHJldHVybiAnRksnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5GTTogcmV0dXJuICdGTSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkZPOiByZXR1cm4gJ0ZPJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuRlI6IHJldHVybiAnRlInO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5HQTogcmV0dXJuICdHQSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkdCOiByZXR1cm4gJ0dCJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuR0Q6IHJldHVybiAnR0QnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5HRTogcmV0dXJuICdHRSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkdGOiByZXR1cm4gJ0dGJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuR0c6IHJldHVybiAnR0cnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5HSDogcmV0dXJuICdHSCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkdJOiByZXR1cm4gJ0dJJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuR0w6IHJldHVybiAnR0wnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5HTTogcmV0dXJuICdHTSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkdOOiByZXR1cm4gJ0dOJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuR1A6IHJldHVybiAnR1AnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5HUTogcmV0dXJuICdHUSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkdSOiByZXR1cm4gJ0dSJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuR1M6IHJldHVybiAnR1MnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5HVDogcmV0dXJuICdHVCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkdVOiByZXR1cm4gJ0dVJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuR1c6IHJldHVybiAnR1cnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5HWTogcmV0dXJuICdHWSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkhLOiByZXR1cm4gJ0hLJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuSE06IHJldHVybiAnSE0nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5ITjogcmV0dXJuICdITic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkhSOiByZXR1cm4gJ0hSJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuSFQ6IHJldHVybiAnSFQnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5IVTogcmV0dXJuICdIVSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLklEOiByZXR1cm4gJ0lEJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuSUU6IHJldHVybiAnSUUnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5JTDogcmV0dXJuICdJTCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLklNOiByZXR1cm4gJ0lNJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuSU46IHJldHVybiAnSU4nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5JTzogcmV0dXJuICdJTyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLklROiByZXR1cm4gJ0lRJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuSVI6IHJldHVybiAnSVInO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5JUzogcmV0dXJuICdJUyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLklUOiByZXR1cm4gJ0lUJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuSkU6IHJldHVybiAnSkUnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5KTTogcmV0dXJuICdKTSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkpPOiByZXR1cm4gJ0pPJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuSlA6IHJldHVybiAnSlAnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5LRTogcmV0dXJuICdLRSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLktHOiByZXR1cm4gJ0tHJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuS0g6IHJldHVybiAnS0gnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5LSTogcmV0dXJuICdLSSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLktNOiByZXR1cm4gJ0tNJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuS046IHJldHVybiAnS04nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5LUDogcmV0dXJuICdLUCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLktSOiByZXR1cm4gJ0tSJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuS1c6IHJldHVybiAnS1cnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5LWTogcmV0dXJuICdLWSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLktaOiByZXR1cm4gJ0taJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTEE6IHJldHVybiAnTEEnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5MQjogcmV0dXJuICdMQic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkxDOiByZXR1cm4gJ0xDJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTEk6IHJldHVybiAnTEknO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5MSzogcmV0dXJuICdMSyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkxSOiByZXR1cm4gJ0xSJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTFM6IHJldHVybiAnTFMnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5MVDogcmV0dXJuICdMVCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLkxVOiByZXR1cm4gJ0xVJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTFY6IHJldHVybiAnTFYnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5MWTogcmV0dXJuICdMWSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk1BOiByZXR1cm4gJ01BJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTUM6IHJldHVybiAnTUMnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5NRDogcmV0dXJuICdNRCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk1FOiByZXR1cm4gJ01FJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTUY6IHJldHVybiAnTUYnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5NRzogcmV0dXJuICdNRyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk1IOiByZXR1cm4gJ01IJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTUs6IHJldHVybiAnTUsnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5NTDogcmV0dXJuICdNTCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk1NOiByZXR1cm4gJ01NJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTU46IHJldHVybiAnTU4nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5NTzogcmV0dXJuICdNTyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk1QOiByZXR1cm4gJ01QJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTVE6IHJldHVybiAnTVEnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5NUjogcmV0dXJuICdNUic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk1TOiByZXR1cm4gJ01TJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTVQ6IHJldHVybiAnTVQnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5NVTogcmV0dXJuICdNVSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk1WOiByZXR1cm4gJ01WJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTVc6IHJldHVybiAnTVcnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5NWDogcmV0dXJuICdNWCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk1ZOiByZXR1cm4gJ01ZJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTVo6IHJldHVybiAnTVonO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5OQTogcmV0dXJuICdOQSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk5DOiByZXR1cm4gJ05DJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTkU6IHJldHVybiAnTkUnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5ORjogcmV0dXJuICdORic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk5HOiByZXR1cm4gJ05HJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTkk6IHJldHVybiAnTkknO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5OTDogcmV0dXJuICdOTCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk5POiByZXR1cm4gJ05PJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTlA6IHJldHVybiAnTlAnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5OUjogcmV0dXJuICdOUic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLk5VOiByZXR1cm4gJ05VJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuTlo6IHJldHVybiAnTlonO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5PTTogcmV0dXJuICdPTSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlBBOiByZXR1cm4gJ1BBJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuUEU6IHJldHVybiAnUEUnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5QRjogcmV0dXJuICdQRic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlBHOiByZXR1cm4gJ1BHJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuUEg6IHJldHVybiAnUEgnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5QSzogcmV0dXJuICdQSyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlBMOiByZXR1cm4gJ1BMJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuUE06IHJldHVybiAnUE0nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5QTjogcmV0dXJuICdQTic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlBSOiByZXR1cm4gJ1BSJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuUFM6IHJldHVybiAnUFMnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5QVDogcmV0dXJuICdQVCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlBXOiByZXR1cm4gJ1BXJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuUFk6IHJldHVybiAnUFknO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5RQTogcmV0dXJuICdRQSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlJFOiByZXR1cm4gJ1JFJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuUk86IHJldHVybiAnUk8nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5SUzogcmV0dXJuICdSUyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlJVOiByZXR1cm4gJ1JVJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuUlc6IHJldHVybiAnUlcnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5TQTogcmV0dXJuICdTQSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlNCOiByZXR1cm4gJ1NCJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuU0M6IHJldHVybiAnU0MnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5TRDogcmV0dXJuICdTRCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlNFOiByZXR1cm4gJ1NFJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuU0c6IHJldHVybiAnU0cnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5TSDogcmV0dXJuICdTSCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlNJOiByZXR1cm4gJ1NJJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuU0o6IHJldHVybiAnU0onO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5TSzogcmV0dXJuICdTSyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlNMOiByZXR1cm4gJ1NMJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuU006IHJldHVybiAnU00nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5TTjogcmV0dXJuICdTTic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlNPOiByZXR1cm4gJ1NPJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuU1I6IHJldHVybiAnU1InO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5TUzogcmV0dXJuICdTUyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlNUOiByZXR1cm4gJ1NUJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuU1Y6IHJldHVybiAnU1YnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5TWDogcmV0dXJuICdTWCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlNZOiByZXR1cm4gJ1NZJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuU1o6IHJldHVybiAnU1onO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5UQzogcmV0dXJuICdUQyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlREOiByZXR1cm4gJ1REJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVEY6IHJldHVybiAnVEYnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5URzogcmV0dXJuICdURyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlRIOiByZXR1cm4gJ1RIJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVEo6IHJldHVybiAnVEonO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5USzogcmV0dXJuICdUSyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlRMOiByZXR1cm4gJ1RMJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVE06IHJldHVybiAnVE0nO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5UTjogcmV0dXJuICdUTic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlRPOiByZXR1cm4gJ1RPJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVFI6IHJldHVybiAnVFInO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5UVDogcmV0dXJuICdUVCc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlRWOiByZXR1cm4gJ1RWJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVFc6IHJldHVybiAnVFcnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5UWjogcmV0dXJuICdUWic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlVBOiByZXR1cm4gJ1VBJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVUc6IHJldHVybiAnVUcnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5VTTogcmV0dXJuICdVTSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlVTOiByZXR1cm4gJ1VTJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVVk6IHJldHVybiAnVVknO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5VWjogcmV0dXJuICdVWic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlZBOiByZXR1cm4gJ1ZBJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVkM6IHJldHVybiAnVkMnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5WRTogcmV0dXJuICdWRSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlZHOiByZXR1cm4gJ1ZHJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuVkk6IHJldHVybiAnVkknO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5WTjogcmV0dXJuICdWTic7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlZVOiByZXR1cm4gJ1ZVJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuV0Y6IHJldHVybiAnV0YnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5XUzogcmV0dXJuICdXUyc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLllFOiByZXR1cm4gJ1lFJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuWVQ6IHJldHVybiAnWVQnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5aQTogcmV0dXJuICdaQSc7XG4gICAgICBjYXNlIENvdW50cnlDb2RlLlpNOiByZXR1cm4gJ1pNJztcbiAgICAgIGNhc2UgQ291bnRyeUNvZGUuWlc6IHJldHVybiAnWlcnO1xuICAgICAgY2FzZSBDb3VudHJ5Q29kZS5aWjogcmV0dXJuICdaWic7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBDb3VudHJ5Q29kZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnQUQnOiByZXR1cm4gQ291bnRyeUNvZGUuQUQ7XG4gICAgICBjYXNlICdBRSc6IHJldHVybiBDb3VudHJ5Q29kZS5BRTtcbiAgICAgIGNhc2UgJ0FGJzogcmV0dXJuIENvdW50cnlDb2RlLkFGO1xuICAgICAgY2FzZSAnQUcnOiByZXR1cm4gQ291bnRyeUNvZGUuQUc7XG4gICAgICBjYXNlICdBSSc6IHJldHVybiBDb3VudHJ5Q29kZS5BSTtcbiAgICAgIGNhc2UgJ0FMJzogcmV0dXJuIENvdW50cnlDb2RlLkFMO1xuICAgICAgY2FzZSAnQU0nOiByZXR1cm4gQ291bnRyeUNvZGUuQU07XG4gICAgICBjYXNlICdBTyc6IHJldHVybiBDb3VudHJ5Q29kZS5BTztcbiAgICAgIGNhc2UgJ0FRJzogcmV0dXJuIENvdW50cnlDb2RlLkFRO1xuICAgICAgY2FzZSAnQVInOiByZXR1cm4gQ291bnRyeUNvZGUuQVI7XG4gICAgICBjYXNlICdBUyc6IHJldHVybiBDb3VudHJ5Q29kZS5BUztcbiAgICAgIGNhc2UgJ0FUJzogcmV0dXJuIENvdW50cnlDb2RlLkFUO1xuICAgICAgY2FzZSAnQVUnOiByZXR1cm4gQ291bnRyeUNvZGUuQVU7XG4gICAgICBjYXNlICdBVyc6IHJldHVybiBDb3VudHJ5Q29kZS5BVztcbiAgICAgIGNhc2UgJ0FYJzogcmV0dXJuIENvdW50cnlDb2RlLkFYO1xuICAgICAgY2FzZSAnQVonOiByZXR1cm4gQ291bnRyeUNvZGUuQVo7XG4gICAgICBjYXNlICdCQSc6IHJldHVybiBDb3VudHJ5Q29kZS5CQTtcbiAgICAgIGNhc2UgJ0JCJzogcmV0dXJuIENvdW50cnlDb2RlLkJCO1xuICAgICAgY2FzZSAnQkQnOiByZXR1cm4gQ291bnRyeUNvZGUuQkQ7XG4gICAgICBjYXNlICdCRSc6IHJldHVybiBDb3VudHJ5Q29kZS5CRTtcbiAgICAgIGNhc2UgJ0JGJzogcmV0dXJuIENvdW50cnlDb2RlLkJGO1xuICAgICAgY2FzZSAnQkcnOiByZXR1cm4gQ291bnRyeUNvZGUuQkc7XG4gICAgICBjYXNlICdCSCc6IHJldHVybiBDb3VudHJ5Q29kZS5CSDtcbiAgICAgIGNhc2UgJ0JJJzogcmV0dXJuIENvdW50cnlDb2RlLkJJO1xuICAgICAgY2FzZSAnQkonOiByZXR1cm4gQ291bnRyeUNvZGUuQko7XG4gICAgICBjYXNlICdCTCc6IHJldHVybiBDb3VudHJ5Q29kZS5CTDtcbiAgICAgIGNhc2UgJ0JNJzogcmV0dXJuIENvdW50cnlDb2RlLkJNO1xuICAgICAgY2FzZSAnQk4nOiByZXR1cm4gQ291bnRyeUNvZGUuQk47XG4gICAgICBjYXNlICdCTyc6IHJldHVybiBDb3VudHJ5Q29kZS5CTztcbiAgICAgIGNhc2UgJ0JRJzogcmV0dXJuIENvdW50cnlDb2RlLkJRO1xuICAgICAgY2FzZSAnQlInOiByZXR1cm4gQ291bnRyeUNvZGUuQlI7XG4gICAgICBjYXNlICdCUyc6IHJldHVybiBDb3VudHJ5Q29kZS5CUztcbiAgICAgIGNhc2UgJ0JUJzogcmV0dXJuIENvdW50cnlDb2RlLkJUO1xuICAgICAgY2FzZSAnQlYnOiByZXR1cm4gQ291bnRyeUNvZGUuQlY7XG4gICAgICBjYXNlICdCVyc6IHJldHVybiBDb3VudHJ5Q29kZS5CVztcbiAgICAgIGNhc2UgJ0JZJzogcmV0dXJuIENvdW50cnlDb2RlLkJZO1xuICAgICAgY2FzZSAnQlonOiByZXR1cm4gQ291bnRyeUNvZGUuQlo7XG4gICAgICBjYXNlICdDQSc6IHJldHVybiBDb3VudHJ5Q29kZS5DQTtcbiAgICAgIGNhc2UgJ0NDJzogcmV0dXJuIENvdW50cnlDb2RlLkNDO1xuICAgICAgY2FzZSAnQ0QnOiByZXR1cm4gQ291bnRyeUNvZGUuQ0Q7XG4gICAgICBjYXNlICdDRic6IHJldHVybiBDb3VudHJ5Q29kZS5DRjtcbiAgICAgIGNhc2UgJ0NHJzogcmV0dXJuIENvdW50cnlDb2RlLkNHO1xuICAgICAgY2FzZSAnQ0gnOiByZXR1cm4gQ291bnRyeUNvZGUuQ0g7XG4gICAgICBjYXNlICdDSSc6IHJldHVybiBDb3VudHJ5Q29kZS5DSTtcbiAgICAgIGNhc2UgJ0NLJzogcmV0dXJuIENvdW50cnlDb2RlLkNLO1xuICAgICAgY2FzZSAnQ0wnOiByZXR1cm4gQ291bnRyeUNvZGUuQ0w7XG4gICAgICBjYXNlICdDTSc6IHJldHVybiBDb3VudHJ5Q29kZS5DTTtcbiAgICAgIGNhc2UgJ0NOJzogcmV0dXJuIENvdW50cnlDb2RlLkNOO1xuICAgICAgY2FzZSAnQ08nOiByZXR1cm4gQ291bnRyeUNvZGUuQ087XG4gICAgICBjYXNlICdDUic6IHJldHVybiBDb3VudHJ5Q29kZS5DUjtcbiAgICAgIGNhc2UgJ0NVJzogcmV0dXJuIENvdW50cnlDb2RlLkNVO1xuICAgICAgY2FzZSAnQ1YnOiByZXR1cm4gQ291bnRyeUNvZGUuQ1Y7XG4gICAgICBjYXNlICdDVyc6IHJldHVybiBDb3VudHJ5Q29kZS5DVztcbiAgICAgIGNhc2UgJ0NYJzogcmV0dXJuIENvdW50cnlDb2RlLkNYO1xuICAgICAgY2FzZSAnQ1knOiByZXR1cm4gQ291bnRyeUNvZGUuQ1k7XG4gICAgICBjYXNlICdDWic6IHJldHVybiBDb3VudHJ5Q29kZS5DWjtcbiAgICAgIGNhc2UgJ0RFJzogcmV0dXJuIENvdW50cnlDb2RlLkRFO1xuICAgICAgY2FzZSAnREonOiByZXR1cm4gQ291bnRyeUNvZGUuREo7XG4gICAgICBjYXNlICdESyc6IHJldHVybiBDb3VudHJ5Q29kZS5ESztcbiAgICAgIGNhc2UgJ0RNJzogcmV0dXJuIENvdW50cnlDb2RlLkRNO1xuICAgICAgY2FzZSAnRE8nOiByZXR1cm4gQ291bnRyeUNvZGUuRE87XG4gICAgICBjYXNlICdEWic6IHJldHVybiBDb3VudHJ5Q29kZS5EWjtcbiAgICAgIGNhc2UgJ0VDJzogcmV0dXJuIENvdW50cnlDb2RlLkVDO1xuICAgICAgY2FzZSAnRUUnOiByZXR1cm4gQ291bnRyeUNvZGUuRUU7XG4gICAgICBjYXNlICdFRyc6IHJldHVybiBDb3VudHJ5Q29kZS5FRztcbiAgICAgIGNhc2UgJ0VIJzogcmV0dXJuIENvdW50cnlDb2RlLkVIO1xuICAgICAgY2FzZSAnRVInOiByZXR1cm4gQ291bnRyeUNvZGUuRVI7XG4gICAgICBjYXNlICdFUyc6IHJldHVybiBDb3VudHJ5Q29kZS5FUztcbiAgICAgIGNhc2UgJ0VUJzogcmV0dXJuIENvdW50cnlDb2RlLkVUO1xuICAgICAgY2FzZSAnRkknOiByZXR1cm4gQ291bnRyeUNvZGUuRkk7XG4gICAgICBjYXNlICdGSic6IHJldHVybiBDb3VudHJ5Q29kZS5GSjtcbiAgICAgIGNhc2UgJ0ZLJzogcmV0dXJuIENvdW50cnlDb2RlLkZLO1xuICAgICAgY2FzZSAnRk0nOiByZXR1cm4gQ291bnRyeUNvZGUuRk07XG4gICAgICBjYXNlICdGTyc6IHJldHVybiBDb3VudHJ5Q29kZS5GTztcbiAgICAgIGNhc2UgJ0ZSJzogcmV0dXJuIENvdW50cnlDb2RlLkZSO1xuICAgICAgY2FzZSAnR0EnOiByZXR1cm4gQ291bnRyeUNvZGUuR0E7XG4gICAgICBjYXNlICdHQic6IHJldHVybiBDb3VudHJ5Q29kZS5HQjtcbiAgICAgIGNhc2UgJ0dEJzogcmV0dXJuIENvdW50cnlDb2RlLkdEO1xuICAgICAgY2FzZSAnR0UnOiByZXR1cm4gQ291bnRyeUNvZGUuR0U7XG4gICAgICBjYXNlICdHRic6IHJldHVybiBDb3VudHJ5Q29kZS5HRjtcbiAgICAgIGNhc2UgJ0dHJzogcmV0dXJuIENvdW50cnlDb2RlLkdHO1xuICAgICAgY2FzZSAnR0gnOiByZXR1cm4gQ291bnRyeUNvZGUuR0g7XG4gICAgICBjYXNlICdHSSc6IHJldHVybiBDb3VudHJ5Q29kZS5HSTtcbiAgICAgIGNhc2UgJ0dMJzogcmV0dXJuIENvdW50cnlDb2RlLkdMO1xuICAgICAgY2FzZSAnR00nOiByZXR1cm4gQ291bnRyeUNvZGUuR007XG4gICAgICBjYXNlICdHTic6IHJldHVybiBDb3VudHJ5Q29kZS5HTjtcbiAgICAgIGNhc2UgJ0dQJzogcmV0dXJuIENvdW50cnlDb2RlLkdQO1xuICAgICAgY2FzZSAnR1EnOiByZXR1cm4gQ291bnRyeUNvZGUuR1E7XG4gICAgICBjYXNlICdHUic6IHJldHVybiBDb3VudHJ5Q29kZS5HUjtcbiAgICAgIGNhc2UgJ0dTJzogcmV0dXJuIENvdW50cnlDb2RlLkdTO1xuICAgICAgY2FzZSAnR1QnOiByZXR1cm4gQ291bnRyeUNvZGUuR1Q7XG4gICAgICBjYXNlICdHVSc6IHJldHVybiBDb3VudHJ5Q29kZS5HVTtcbiAgICAgIGNhc2UgJ0dXJzogcmV0dXJuIENvdW50cnlDb2RlLkdXO1xuICAgICAgY2FzZSAnR1knOiByZXR1cm4gQ291bnRyeUNvZGUuR1k7XG4gICAgICBjYXNlICdISyc6IHJldHVybiBDb3VudHJ5Q29kZS5ISztcbiAgICAgIGNhc2UgJ0hNJzogcmV0dXJuIENvdW50cnlDb2RlLkhNO1xuICAgICAgY2FzZSAnSE4nOiByZXR1cm4gQ291bnRyeUNvZGUuSE47XG4gICAgICBjYXNlICdIUic6IHJldHVybiBDb3VudHJ5Q29kZS5IUjtcbiAgICAgIGNhc2UgJ0hUJzogcmV0dXJuIENvdW50cnlDb2RlLkhUO1xuICAgICAgY2FzZSAnSFUnOiByZXR1cm4gQ291bnRyeUNvZGUuSFU7XG4gICAgICBjYXNlICdJRCc6IHJldHVybiBDb3VudHJ5Q29kZS5JRDtcbiAgICAgIGNhc2UgJ0lFJzogcmV0dXJuIENvdW50cnlDb2RlLklFO1xuICAgICAgY2FzZSAnSUwnOiByZXR1cm4gQ291bnRyeUNvZGUuSUw7XG4gICAgICBjYXNlICdJTSc6IHJldHVybiBDb3VudHJ5Q29kZS5JTTtcbiAgICAgIGNhc2UgJ0lOJzogcmV0dXJuIENvdW50cnlDb2RlLklOO1xuICAgICAgY2FzZSAnSU8nOiByZXR1cm4gQ291bnRyeUNvZGUuSU87XG4gICAgICBjYXNlICdJUSc6IHJldHVybiBDb3VudHJ5Q29kZS5JUTtcbiAgICAgIGNhc2UgJ0lSJzogcmV0dXJuIENvdW50cnlDb2RlLklSO1xuICAgICAgY2FzZSAnSVMnOiByZXR1cm4gQ291bnRyeUNvZGUuSVM7XG4gICAgICBjYXNlICdJVCc6IHJldHVybiBDb3VudHJ5Q29kZS5JVDtcbiAgICAgIGNhc2UgJ0pFJzogcmV0dXJuIENvdW50cnlDb2RlLkpFO1xuICAgICAgY2FzZSAnSk0nOiByZXR1cm4gQ291bnRyeUNvZGUuSk07XG4gICAgICBjYXNlICdKTyc6IHJldHVybiBDb3VudHJ5Q29kZS5KTztcbiAgICAgIGNhc2UgJ0pQJzogcmV0dXJuIENvdW50cnlDb2RlLkpQO1xuICAgICAgY2FzZSAnS0UnOiByZXR1cm4gQ291bnRyeUNvZGUuS0U7XG4gICAgICBjYXNlICdLRyc6IHJldHVybiBDb3VudHJ5Q29kZS5LRztcbiAgICAgIGNhc2UgJ0tIJzogcmV0dXJuIENvdW50cnlDb2RlLktIO1xuICAgICAgY2FzZSAnS0knOiByZXR1cm4gQ291bnRyeUNvZGUuS0k7XG4gICAgICBjYXNlICdLTSc6IHJldHVybiBDb3VudHJ5Q29kZS5LTTtcbiAgICAgIGNhc2UgJ0tOJzogcmV0dXJuIENvdW50cnlDb2RlLktOO1xuICAgICAgY2FzZSAnS1AnOiByZXR1cm4gQ291bnRyeUNvZGUuS1A7XG4gICAgICBjYXNlICdLUic6IHJldHVybiBDb3VudHJ5Q29kZS5LUjtcbiAgICAgIGNhc2UgJ0tXJzogcmV0dXJuIENvdW50cnlDb2RlLktXO1xuICAgICAgY2FzZSAnS1knOiByZXR1cm4gQ291bnRyeUNvZGUuS1k7XG4gICAgICBjYXNlICdLWic6IHJldHVybiBDb3VudHJ5Q29kZS5LWjtcbiAgICAgIGNhc2UgJ0xBJzogcmV0dXJuIENvdW50cnlDb2RlLkxBO1xuICAgICAgY2FzZSAnTEInOiByZXR1cm4gQ291bnRyeUNvZGUuTEI7XG4gICAgICBjYXNlICdMQyc6IHJldHVybiBDb3VudHJ5Q29kZS5MQztcbiAgICAgIGNhc2UgJ0xJJzogcmV0dXJuIENvdW50cnlDb2RlLkxJO1xuICAgICAgY2FzZSAnTEsnOiByZXR1cm4gQ291bnRyeUNvZGUuTEs7XG4gICAgICBjYXNlICdMUic6IHJldHVybiBDb3VudHJ5Q29kZS5MUjtcbiAgICAgIGNhc2UgJ0xTJzogcmV0dXJuIENvdW50cnlDb2RlLkxTO1xuICAgICAgY2FzZSAnTFQnOiByZXR1cm4gQ291bnRyeUNvZGUuTFQ7XG4gICAgICBjYXNlICdMVSc6IHJldHVybiBDb3VudHJ5Q29kZS5MVTtcbiAgICAgIGNhc2UgJ0xWJzogcmV0dXJuIENvdW50cnlDb2RlLkxWO1xuICAgICAgY2FzZSAnTFknOiByZXR1cm4gQ291bnRyeUNvZGUuTFk7XG4gICAgICBjYXNlICdNQSc6IHJldHVybiBDb3VudHJ5Q29kZS5NQTtcbiAgICAgIGNhc2UgJ01DJzogcmV0dXJuIENvdW50cnlDb2RlLk1DO1xuICAgICAgY2FzZSAnTUQnOiByZXR1cm4gQ291bnRyeUNvZGUuTUQ7XG4gICAgICBjYXNlICdNRSc6IHJldHVybiBDb3VudHJ5Q29kZS5NRTtcbiAgICAgIGNhc2UgJ01GJzogcmV0dXJuIENvdW50cnlDb2RlLk1GO1xuICAgICAgY2FzZSAnTUcnOiByZXR1cm4gQ291bnRyeUNvZGUuTUc7XG4gICAgICBjYXNlICdNSCc6IHJldHVybiBDb3VudHJ5Q29kZS5NSDtcbiAgICAgIGNhc2UgJ01LJzogcmV0dXJuIENvdW50cnlDb2RlLk1LO1xuICAgICAgY2FzZSAnTUwnOiByZXR1cm4gQ291bnRyeUNvZGUuTUw7XG4gICAgICBjYXNlICdNTSc6IHJldHVybiBDb3VudHJ5Q29kZS5NTTtcbiAgICAgIGNhc2UgJ01OJzogcmV0dXJuIENvdW50cnlDb2RlLk1OO1xuICAgICAgY2FzZSAnTU8nOiByZXR1cm4gQ291bnRyeUNvZGUuTU87XG4gICAgICBjYXNlICdNUCc6IHJldHVybiBDb3VudHJ5Q29kZS5NUDtcbiAgICAgIGNhc2UgJ01RJzogcmV0dXJuIENvdW50cnlDb2RlLk1RO1xuICAgICAgY2FzZSAnTVInOiByZXR1cm4gQ291bnRyeUNvZGUuTVI7XG4gICAgICBjYXNlICdNUyc6IHJldHVybiBDb3VudHJ5Q29kZS5NUztcbiAgICAgIGNhc2UgJ01UJzogcmV0dXJuIENvdW50cnlDb2RlLk1UO1xuICAgICAgY2FzZSAnTVUnOiByZXR1cm4gQ291bnRyeUNvZGUuTVU7XG4gICAgICBjYXNlICdNVic6IHJldHVybiBDb3VudHJ5Q29kZS5NVjtcbiAgICAgIGNhc2UgJ01XJzogcmV0dXJuIENvdW50cnlDb2RlLk1XO1xuICAgICAgY2FzZSAnTVgnOiByZXR1cm4gQ291bnRyeUNvZGUuTVg7XG4gICAgICBjYXNlICdNWSc6IHJldHVybiBDb3VudHJ5Q29kZS5NWTtcbiAgICAgIGNhc2UgJ01aJzogcmV0dXJuIENvdW50cnlDb2RlLk1aO1xuICAgICAgY2FzZSAnTkEnOiByZXR1cm4gQ291bnRyeUNvZGUuTkE7XG4gICAgICBjYXNlICdOQyc6IHJldHVybiBDb3VudHJ5Q29kZS5OQztcbiAgICAgIGNhc2UgJ05FJzogcmV0dXJuIENvdW50cnlDb2RlLk5FO1xuICAgICAgY2FzZSAnTkYnOiByZXR1cm4gQ291bnRyeUNvZGUuTkY7XG4gICAgICBjYXNlICdORyc6IHJldHVybiBDb3VudHJ5Q29kZS5ORztcbiAgICAgIGNhc2UgJ05JJzogcmV0dXJuIENvdW50cnlDb2RlLk5JO1xuICAgICAgY2FzZSAnTkwnOiByZXR1cm4gQ291bnRyeUNvZGUuTkw7XG4gICAgICBjYXNlICdOTyc6IHJldHVybiBDb3VudHJ5Q29kZS5OTztcbiAgICAgIGNhc2UgJ05QJzogcmV0dXJuIENvdW50cnlDb2RlLk5QO1xuICAgICAgY2FzZSAnTlInOiByZXR1cm4gQ291bnRyeUNvZGUuTlI7XG4gICAgICBjYXNlICdOVSc6IHJldHVybiBDb3VudHJ5Q29kZS5OVTtcbiAgICAgIGNhc2UgJ05aJzogcmV0dXJuIENvdW50cnlDb2RlLk5aO1xuICAgICAgY2FzZSAnT00nOiByZXR1cm4gQ291bnRyeUNvZGUuT007XG4gICAgICBjYXNlICdQQSc6IHJldHVybiBDb3VudHJ5Q29kZS5QQTtcbiAgICAgIGNhc2UgJ1BFJzogcmV0dXJuIENvdW50cnlDb2RlLlBFO1xuICAgICAgY2FzZSAnUEYnOiByZXR1cm4gQ291bnRyeUNvZGUuUEY7XG4gICAgICBjYXNlICdQRyc6IHJldHVybiBDb3VudHJ5Q29kZS5QRztcbiAgICAgIGNhc2UgJ1BIJzogcmV0dXJuIENvdW50cnlDb2RlLlBIO1xuICAgICAgY2FzZSAnUEsnOiByZXR1cm4gQ291bnRyeUNvZGUuUEs7XG4gICAgICBjYXNlICdQTCc6IHJldHVybiBDb3VudHJ5Q29kZS5QTDtcbiAgICAgIGNhc2UgJ1BNJzogcmV0dXJuIENvdW50cnlDb2RlLlBNO1xuICAgICAgY2FzZSAnUE4nOiByZXR1cm4gQ291bnRyeUNvZGUuUE47XG4gICAgICBjYXNlICdQUic6IHJldHVybiBDb3VudHJ5Q29kZS5QUjtcbiAgICAgIGNhc2UgJ1BTJzogcmV0dXJuIENvdW50cnlDb2RlLlBTO1xuICAgICAgY2FzZSAnUFQnOiByZXR1cm4gQ291bnRyeUNvZGUuUFQ7XG4gICAgICBjYXNlICdQVyc6IHJldHVybiBDb3VudHJ5Q29kZS5QVztcbiAgICAgIGNhc2UgJ1BZJzogcmV0dXJuIENvdW50cnlDb2RlLlBZO1xuICAgICAgY2FzZSAnUUEnOiByZXR1cm4gQ291bnRyeUNvZGUuUUE7XG4gICAgICBjYXNlICdSRSc6IHJldHVybiBDb3VudHJ5Q29kZS5SRTtcbiAgICAgIGNhc2UgJ1JPJzogcmV0dXJuIENvdW50cnlDb2RlLlJPO1xuICAgICAgY2FzZSAnUlMnOiByZXR1cm4gQ291bnRyeUNvZGUuUlM7XG4gICAgICBjYXNlICdSVSc6IHJldHVybiBDb3VudHJ5Q29kZS5SVTtcbiAgICAgIGNhc2UgJ1JXJzogcmV0dXJuIENvdW50cnlDb2RlLlJXO1xuICAgICAgY2FzZSAnU0EnOiByZXR1cm4gQ291bnRyeUNvZGUuU0E7XG4gICAgICBjYXNlICdTQic6IHJldHVybiBDb3VudHJ5Q29kZS5TQjtcbiAgICAgIGNhc2UgJ1NDJzogcmV0dXJuIENvdW50cnlDb2RlLlNDO1xuICAgICAgY2FzZSAnU0QnOiByZXR1cm4gQ291bnRyeUNvZGUuU0Q7XG4gICAgICBjYXNlICdTRSc6IHJldHVybiBDb3VudHJ5Q29kZS5TRTtcbiAgICAgIGNhc2UgJ1NHJzogcmV0dXJuIENvdW50cnlDb2RlLlNHO1xuICAgICAgY2FzZSAnU0gnOiByZXR1cm4gQ291bnRyeUNvZGUuU0g7XG4gICAgICBjYXNlICdTSSc6IHJldHVybiBDb3VudHJ5Q29kZS5TSTtcbiAgICAgIGNhc2UgJ1NKJzogcmV0dXJuIENvdW50cnlDb2RlLlNKO1xuICAgICAgY2FzZSAnU0snOiByZXR1cm4gQ291bnRyeUNvZGUuU0s7XG4gICAgICBjYXNlICdTTCc6IHJldHVybiBDb3VudHJ5Q29kZS5TTDtcbiAgICAgIGNhc2UgJ1NNJzogcmV0dXJuIENvdW50cnlDb2RlLlNNO1xuICAgICAgY2FzZSAnU04nOiByZXR1cm4gQ291bnRyeUNvZGUuU047XG4gICAgICBjYXNlICdTTyc6IHJldHVybiBDb3VudHJ5Q29kZS5TTztcbiAgICAgIGNhc2UgJ1NSJzogcmV0dXJuIENvdW50cnlDb2RlLlNSO1xuICAgICAgY2FzZSAnU1MnOiByZXR1cm4gQ291bnRyeUNvZGUuU1M7XG4gICAgICBjYXNlICdTVCc6IHJldHVybiBDb3VudHJ5Q29kZS5TVDtcbiAgICAgIGNhc2UgJ1NWJzogcmV0dXJuIENvdW50cnlDb2RlLlNWO1xuICAgICAgY2FzZSAnU1gnOiByZXR1cm4gQ291bnRyeUNvZGUuU1g7XG4gICAgICBjYXNlICdTWSc6IHJldHVybiBDb3VudHJ5Q29kZS5TWTtcbiAgICAgIGNhc2UgJ1NaJzogcmV0dXJuIENvdW50cnlDb2RlLlNaO1xuICAgICAgY2FzZSAnVEMnOiByZXR1cm4gQ291bnRyeUNvZGUuVEM7XG4gICAgICBjYXNlICdURCc6IHJldHVybiBDb3VudHJ5Q29kZS5URDtcbiAgICAgIGNhc2UgJ1RGJzogcmV0dXJuIENvdW50cnlDb2RlLlRGO1xuICAgICAgY2FzZSAnVEcnOiByZXR1cm4gQ291bnRyeUNvZGUuVEc7XG4gICAgICBjYXNlICdUSCc6IHJldHVybiBDb3VudHJ5Q29kZS5USDtcbiAgICAgIGNhc2UgJ1RKJzogcmV0dXJuIENvdW50cnlDb2RlLlRKO1xuICAgICAgY2FzZSAnVEsnOiByZXR1cm4gQ291bnRyeUNvZGUuVEs7XG4gICAgICBjYXNlICdUTCc6IHJldHVybiBDb3VudHJ5Q29kZS5UTDtcbiAgICAgIGNhc2UgJ1RNJzogcmV0dXJuIENvdW50cnlDb2RlLlRNO1xuICAgICAgY2FzZSAnVE4nOiByZXR1cm4gQ291bnRyeUNvZGUuVE47XG4gICAgICBjYXNlICdUTyc6IHJldHVybiBDb3VudHJ5Q29kZS5UTztcbiAgICAgIGNhc2UgJ1RSJzogcmV0dXJuIENvdW50cnlDb2RlLlRSO1xuICAgICAgY2FzZSAnVFQnOiByZXR1cm4gQ291bnRyeUNvZGUuVFQ7XG4gICAgICBjYXNlICdUVic6IHJldHVybiBDb3VudHJ5Q29kZS5UVjtcbiAgICAgIGNhc2UgJ1RXJzogcmV0dXJuIENvdW50cnlDb2RlLlRXO1xuICAgICAgY2FzZSAnVFonOiByZXR1cm4gQ291bnRyeUNvZGUuVFo7XG4gICAgICBjYXNlICdVQSc6IHJldHVybiBDb3VudHJ5Q29kZS5VQTtcbiAgICAgIGNhc2UgJ1VHJzogcmV0dXJuIENvdW50cnlDb2RlLlVHO1xuICAgICAgY2FzZSAnVU0nOiByZXR1cm4gQ291bnRyeUNvZGUuVU07XG4gICAgICBjYXNlICdVUyc6IHJldHVybiBDb3VudHJ5Q29kZS5VUztcbiAgICAgIGNhc2UgJ1VZJzogcmV0dXJuIENvdW50cnlDb2RlLlVZO1xuICAgICAgY2FzZSAnVVonOiByZXR1cm4gQ291bnRyeUNvZGUuVVo7XG4gICAgICBjYXNlICdWQSc6IHJldHVybiBDb3VudHJ5Q29kZS5WQTtcbiAgICAgIGNhc2UgJ1ZDJzogcmV0dXJuIENvdW50cnlDb2RlLlZDO1xuICAgICAgY2FzZSAnVkUnOiByZXR1cm4gQ291bnRyeUNvZGUuVkU7XG4gICAgICBjYXNlICdWRyc6IHJldHVybiBDb3VudHJ5Q29kZS5WRztcbiAgICAgIGNhc2UgJ1ZJJzogcmV0dXJuIENvdW50cnlDb2RlLlZJO1xuICAgICAgY2FzZSAnVk4nOiByZXR1cm4gQ291bnRyeUNvZGUuVk47XG4gICAgICBjYXNlICdWVSc6IHJldHVybiBDb3VudHJ5Q29kZS5WVTtcbiAgICAgIGNhc2UgJ1dGJzogcmV0dXJuIENvdW50cnlDb2RlLldGO1xuICAgICAgY2FzZSAnV1MnOiByZXR1cm4gQ291bnRyeUNvZGUuV1M7XG4gICAgICBjYXNlICdZRSc6IHJldHVybiBDb3VudHJ5Q29kZS5ZRTtcbiAgICAgIGNhc2UgJ1lUJzogcmV0dXJuIENvdW50cnlDb2RlLllUO1xuICAgICAgY2FzZSAnWkEnOiByZXR1cm4gQ291bnRyeUNvZGUuWkE7XG4gICAgICBjYXNlICdaTSc6IHJldHVybiBDb3VudHJ5Q29kZS5aTTtcbiAgICAgIGNhc2UgJ1pXJzogcmV0dXJuIENvdW50cnlDb2RlLlpXO1xuICAgICAgY2FzZSAnWlonOiByZXR1cm4gQ291bnRyeUNvZGUuWlo7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdDb3VudHJ5Q29kZScke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbi8qKiBDb21wb25lbnRzIG9mIGEgdXNlciBwcm9maWxlIHJlY29yZCB0aGF0IGNhbiBiZSBmaWx0ZXJlZCBmcm9tIHF1ZXJpZXMgdmlhIGEgcHJvamVjdGlvbi4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIFVzZXJEZXRhaWxzQ29tcG9uZW50IHtcbiAgLyoqIFByb2plY3RzIHtAbGluayBVc2VyTm90aWZpY2F0aW9uU2V0dGluZ3N9LiAqL1xuICBOT1RJRklDQVRJT05fU0VUVElOR1MgPSAxLFxuICAvKiogUHJvamVjdHMge0BsaW5rIE9hdXRoQWNjb3VudH1zLiAqL1xuICBPQVVUSF9BQ0NPVU5UUyxcbiAgLyoqIFByb2plY3RzIHtAbGluayBVc2VyQ2FwYWJpbGl0aWVzfSAqL1xuICBVU0VSX0NBUEFCSUxJVElFUyxcbn1cblxuZXhwb3J0IGNvbnN0IFVzZXJEZXRhaWxzQ29tcG9uZW50VXRpbCA9IHtcbiAgdmFsdWVzOiAoKTogVXNlckRldGFpbHNDb21wb25lbnRbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFVzZXJEZXRhaWxzQ29tcG9uZW50Lk5PVElGSUNBVElPTl9TRVRUSU5HUyxcbiAgICAgIFVzZXJEZXRhaWxzQ29tcG9uZW50Lk9BVVRIX0FDQ09VTlRTLFxuICAgICAgVXNlckRldGFpbHNDb21wb25lbnQuVVNFUl9DQVBBQklMSVRJRVMsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IFVzZXJEZXRhaWxzQ29tcG9uZW50KTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIFVzZXJEZXRhaWxzQ29tcG9uZW50Lk5PVElGSUNBVElPTl9TRVRUSU5HUzogcmV0dXJuICdOT1RJRklDQVRJT05fU0VUVElOR1MnO1xuICAgICAgY2FzZSBVc2VyRGV0YWlsc0NvbXBvbmVudC5PQVVUSF9BQ0NPVU5UUzogcmV0dXJuICdPQVVUSF9BQ0NPVU5UUyc7XG4gICAgICBjYXNlIFVzZXJEZXRhaWxzQ29tcG9uZW50LlVTRVJfQ0FQQUJJTElUSUVTOiByZXR1cm4gJ1VTRVJfQ0FQQUJJTElUSUVTJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IFVzZXJEZXRhaWxzQ29tcG9uZW50ID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICdOT1RJRklDQVRJT05fU0VUVElOR1MnOiByZXR1cm4gVXNlckRldGFpbHNDb21wb25lbnQuTk9USUZJQ0FUSU9OX1NFVFRJTkdTO1xuICAgICAgY2FzZSAnT0FVVEhfQUNDT1VOVFMnOiByZXR1cm4gVXNlckRldGFpbHNDb21wb25lbnQuT0FVVEhfQUNDT1VOVFM7XG4gICAgICBjYXNlICdVU0VSX0NBUEFCSUxJVElFUyc6IHJldHVybiBVc2VyRGV0YWlsc0NvbXBvbmVudC5VU0VSX0NBUEFCSUxJVElFUztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoYFVucmVjb2duaXplZCB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gZm9yIHR5cGUgJ1VzZXJEZXRhaWxzQ29tcG9uZW50JyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuLyoqIFVzZXIgdHlwZS4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIFVzZXJSb2xlIHtcbiAgLyoqXG4gICAqIEEgQ2FudmEgUm9vdCB1c2VyLCB3aG8gY2FuIGRvIGFueXRoaW5nLiBPbmx5IHRvIGJlIGdyYW50ZWQgdG8gcGVvcGxlIHdob1xuICAgKiB1bmRlcnN0YW5kIHRoZSBmdWxsIHRlY2huaWNhbCByYW1pZmljYXRpb25zIG9mIGFsbCBwYXJ0cyBvZiB0aGUgZW50aXJlXG4gICAqIENhbnZhIHN5c3RlbS5cbiAgICovXG4gIFJPT1QgPSAxLFxuICAvKipcbiAgICogQSByZWd1bGFyIGNvbnN1bWVyIHVzZXIsIHdobyBjYW4gY3JlYXRlIGRlc2lnbnMsIGhhdmUgYSBwcm9maWxlIHBhZ2UsXG4gICAqIHZpZXcgb3RoZXIncyBkZXNpZ25zIGFuZCBtZWRpYS5cbiAgICovXG4gIFVTRVIsXG4gIC8qKiBBbiBpbWFnZSByZXZpZXdlciwgd2hvIGhhcyBhY2Nlc3MgdG8gaW1hZ2UgcmV2aWV3IHRhc2tzLiAqL1xuICBSRVZJRVdFUixcbiAgLyoqIEEgY3VzdG9tZXIgc3VwcG9ydCBvZmZpY2VyLCB3aG8gaGFzIGFjY2VzcyB0byB1c2VyIHJlY29yZHMuICovXG4gIFNVUFBPUlQsXG4gIC8qKiBBIHVzZXIgbWFuYWdlZCBieSBhIHRoaXJkIHBhcnR5IGFwcC4gKi9cbiAgVEhJUkRfUEFSVFksXG4gIC8qKiBBIHVzZXIgbWFuYWdlZCBieSBGdXNpb24gQm9va3MgKi9cbiAgRlVTSU9OLFxuICAvKiogQW4gYWRtaW4gb2YgaW1hZ2UgcmV2aWV3ZXJzLCBjb250cmlidXRvcnMgYW5kIG1hcmtldHBsYWNlIGNvbnRlbnQuICovXG4gIE1BUktFVFBMQUNFX0FETUlOLFxufVxuXG5leHBvcnQgY29uc3QgVXNlclJvbGVVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBVc2VyUm9sZVtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgVXNlclJvbGUuUk9PVCxcbiAgICAgIFVzZXJSb2xlLlVTRVIsXG4gICAgICBVc2VyUm9sZS5SRVZJRVdFUixcbiAgICAgIFVzZXJSb2xlLlNVUFBPUlQsXG4gICAgICBVc2VyUm9sZS5USElSRF9QQVJUWSxcbiAgICAgIFVzZXJSb2xlLkZVU0lPTixcbiAgICAgIFVzZXJSb2xlLk1BUktFVFBMQUNFX0FETUlOLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBVc2VyUm9sZSk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBVc2VyUm9sZS5ST09UOiByZXR1cm4gJ1JPT1QnO1xuICAgICAgY2FzZSBVc2VyUm9sZS5VU0VSOiByZXR1cm4gJ1VTRVInO1xuICAgICAgY2FzZSBVc2VyUm9sZS5SRVZJRVdFUjogcmV0dXJuICdSRVZJRVdFUic7XG4gICAgICBjYXNlIFVzZXJSb2xlLlNVUFBPUlQ6IHJldHVybiAnU1VQUE9SVCc7XG4gICAgICBjYXNlIFVzZXJSb2xlLlRISVJEX1BBUlRZOiByZXR1cm4gJ1RISVJEX1BBUlRZJztcbiAgICAgIGNhc2UgVXNlclJvbGUuRlVTSU9OOiByZXR1cm4gJ0ZVU0lPTic7XG4gICAgICBjYXNlIFVzZXJSb2xlLk1BUktFVFBMQUNFX0FETUlOOiByZXR1cm4gJ01BUktFVFBMQUNFX0FETUlOJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IFVzZXJSb2xlID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICdST09UJzogcmV0dXJuIFVzZXJSb2xlLlJPT1Q7XG4gICAgICBjYXNlICdVU0VSJzogcmV0dXJuIFVzZXJSb2xlLlVTRVI7XG4gICAgICBjYXNlICdSRVZJRVdFUic6IHJldHVybiBVc2VyUm9sZS5SRVZJRVdFUjtcbiAgICAgIGNhc2UgJ1NVUFBPUlQnOiByZXR1cm4gVXNlclJvbGUuU1VQUE9SVDtcbiAgICAgIGNhc2UgJ1RISVJEX1BBUlRZJzogcmV0dXJuIFVzZXJSb2xlLlRISVJEX1BBUlRZO1xuICAgICAgY2FzZSAnRlVTSU9OJzogcmV0dXJuIFVzZXJSb2xlLkZVU0lPTjtcbiAgICAgIGNhc2UgJ01BUktFVFBMQUNFX0FETUlOJzogcmV0dXJuIFVzZXJSb2xlLk1BUktFVFBMQUNFX0FETUlOO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnVXNlclJvbGUnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBCcmFuZE1lbWJlckV2ZW50VHlwZSB7XG4gIEFERCA9IDEsXG4gIFJFTU9WRSxcbn1cblxuZXhwb3J0IGNvbnN0IEJyYW5kTWVtYmVyRXZlbnRUeXBlVXRpbCA9IHtcbiAgdmFsdWVzOiAoKTogQnJhbmRNZW1iZXJFdmVudFR5cGVbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEJyYW5kTWVtYmVyRXZlbnRUeXBlLkFERCxcbiAgICAgIEJyYW5kTWVtYmVyRXZlbnRUeXBlLlJFTU9WRSxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogQnJhbmRNZW1iZXJFdmVudFR5cGUpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgQnJhbmRNZW1iZXJFdmVudFR5cGUuQUREOiByZXR1cm4gJ0FERCc7XG4gICAgICBjYXNlIEJyYW5kTWVtYmVyRXZlbnRUeXBlLlJFTU9WRTogcmV0dXJuICdSRU1PVkUnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogQnJhbmRNZW1iZXJFdmVudFR5cGUgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ0FERCc6IHJldHVybiBCcmFuZE1lbWJlckV2ZW50VHlwZS5BREQ7XG4gICAgICBjYXNlICdSRU1PVkUnOiByZXR1cm4gQnJhbmRNZW1iZXJFdmVudFR5cGUuUkVNT1ZFO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnQnJhbmRNZW1iZXJFdmVudFR5cGUnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBFbWFpbFN0YXR1cyB7XG4gIFVOS05PV04gPSAxLFxuICBJTlZBTElELFxuICBWQUxJRCxcbiAgVkVSSUZJRUQsXG59XG5cbmV4cG9ydCBjb25zdCBFbWFpbFN0YXR1c1V0aWwgPSB7XG4gIHZhbHVlczogKCk6IEVtYWlsU3RhdHVzW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBFbWFpbFN0YXR1cy5VTktOT1dOLFxuICAgICAgRW1haWxTdGF0dXMuSU5WQUxJRCxcbiAgICAgIEVtYWlsU3RhdHVzLlZBTElELFxuICAgICAgRW1haWxTdGF0dXMuVkVSSUZJRUQsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IEVtYWlsU3RhdHVzKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIEVtYWlsU3RhdHVzLlVOS05PV046IHJldHVybiAnVU5LTk9XTic7XG4gICAgICBjYXNlIEVtYWlsU3RhdHVzLklOVkFMSUQ6IHJldHVybiAnSU5WQUxJRCc7XG4gICAgICBjYXNlIEVtYWlsU3RhdHVzLlZBTElEOiByZXR1cm4gJ1ZBTElEJztcbiAgICAgIGNhc2UgRW1haWxTdGF0dXMuVkVSSUZJRUQ6IHJldHVybiAnVkVSSUZJRUQnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogRW1haWxTdGF0dXMgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ1VOS05PV04nOiByZXR1cm4gRW1haWxTdGF0dXMuVU5LTk9XTjtcbiAgICAgIGNhc2UgJ0lOVkFMSUQnOiByZXR1cm4gRW1haWxTdGF0dXMuSU5WQUxJRDtcbiAgICAgIGNhc2UgJ1ZBTElEJzogcmV0dXJuIEVtYWlsU3RhdHVzLlZBTElEO1xuICAgICAgY2FzZSAnVkVSSUZJRUQnOiByZXR1cm4gRW1haWxTdGF0dXMuVkVSSUZJRUQ7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdFbWFpbFN0YXR1cycke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIFZlcmlmaWNhdGlvbk1vZGUge1xuICBTTVMgPSAxLFxufVxuXG5leHBvcnQgY29uc3QgVmVyaWZpY2F0aW9uTW9kZVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IFZlcmlmaWNhdGlvbk1vZGVbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFZlcmlmaWNhdGlvbk1vZGUuU01TLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBWZXJpZmljYXRpb25Nb2RlKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIFZlcmlmaWNhdGlvbk1vZGUuU01TOiByZXR1cm4gJ1NNUyc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBWZXJpZmljYXRpb25Nb2RlID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICdTTVMnOiByZXR1cm4gVmVyaWZpY2F0aW9uTW9kZS5TTVM7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdWZXJpZmljYXRpb25Nb2RlJyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGVudW0gR3JvdXBDb21wb25lbnQge1xuICBDQVBBQklMSVRJRVMgPSAxLFxufVxuXG5leHBvcnQgY29uc3QgR3JvdXBDb21wb25lbnRVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBHcm91cENvbXBvbmVudFtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgR3JvdXBDb21wb25lbnQuQ0FQQUJJTElUSUVTLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBHcm91cENvbXBvbmVudCk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBHcm91cENvbXBvbmVudC5DQVBBQklMSVRJRVM6IHJldHVybiAnQ0FQQUJJTElUSUVTJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IEdyb3VwQ29tcG9uZW50ID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICdDQVBBQklMSVRJRVMnOiByZXR1cm4gR3JvdXBDb21wb25lbnQuQ0FQQUJJTElUSUVTO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnR3JvdXBDb21wb25lbnQnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgdHlwZSBDcmVkZW50aWFsc1xuICAgID0gVXNlcm5hbWVQYXNzd29yZENyZWRlbnRpYWxzXG4gICAgfCBFbWFpbFBhc3N3b3JkQ3JlZGVudGlhbHNcbiAgICB8IFBob25lUGFzc3dvcmRDcmVkZW50aWFsc1xuICAgIHwgVW52ZXJpZmllZFBob25lUGFzc3dvcmRDcmVkZW50aWFsc1xuICAgIHwgRmFjZWJvb2tDcmVkZW50aWFsc1xuICAgIHwgR29vZ2xlQ3JlZGVudGlhbHNcbiAgICB8IEFwaUNyZWRlbnRpYWxzXG4gICAgfCBPYXV0aENvZGVDcmVkZW50aWFsc1xuICAgIHwgT2F1dGhMaW5rVG9rZW5DcmVkZW50aWFsc1xuICAgIHwgT2F1dGhFeGNoYW5nZUNyZWRlbnRpYWxzXG4gICAgfCBPYXV0aEFjY2Vzc1Rva2VuQ3JlZGVudGlhbHNcbiAgICB8IFBhcnRuZXJBdXRoVG9rZW5DcmVkZW50aWFsc1xuICAgIHwgTWluaUFwcENvZGVDcmVkZW50aWFscztcblxuZXhwb3J0IGNvbnN0IENyZWRlbnRpYWxzID0ge1xuICBzZXJpYWxpemUodTogQ3JlZGVudGlhbHMpOiBvYmplY3Qge1xuICAgIHN3aXRjaCAodS50eXBlKSB7XG4gICAgICBjYXNlICdVU0VSTkFNRV9QQVNTV09SRCc6IHJldHVybiBVc2VybmFtZVBhc3N3b3JkQ3JlZGVudGlhbHMuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnRU1BSUxfUEFTU1dPUkQnOiByZXR1cm4gRW1haWxQYXNzd29yZENyZWRlbnRpYWxzLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ1BIT05FX1BBU1NXT1JEJzogcmV0dXJuIFBob25lUGFzc3dvcmRDcmVkZW50aWFscy5zZXJpYWxpemUodSk7XG4gICAgICBjYXNlICdVTlZFUklGSUVEX1BIT05FX1BBU1NXT1JEJzogcmV0dXJuIFVudmVyaWZpZWRQaG9uZVBhc3N3b3JkQ3JlZGVudGlhbHMuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnRkFDRUJPT0snOiByZXR1cm4gRmFjZWJvb2tDcmVkZW50aWFscy5zZXJpYWxpemUodSk7XG4gICAgICBjYXNlICdHT09HTEUnOiByZXR1cm4gR29vZ2xlQ3JlZGVudGlhbHMuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnQVBJJzogcmV0dXJuIEFwaUNyZWRlbnRpYWxzLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ09BVVRIX0NPREUnOiByZXR1cm4gT2F1dGhDb2RlQ3JlZGVudGlhbHMuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnT0FVVEhfTElOS19UT0tFTic6IHJldHVybiBPYXV0aExpbmtUb2tlbkNyZWRlbnRpYWxzLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ09BVVRIX0VYQ0hBTkdFJzogcmV0dXJuIE9hdXRoRXhjaGFuZ2VDcmVkZW50aWFscy5zZXJpYWxpemUodSk7XG4gICAgICBjYXNlICdPQVVUSF9BQ0NFU1NfVE9LRU4nOiByZXR1cm4gT2F1dGhBY2Nlc3NUb2tlbkNyZWRlbnRpYWxzLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ1BBUlRORVJfQVVUSF9UT0tFTic6IHJldHVybiBQYXJ0bmVyQXV0aFRva2VuQ3JlZGVudGlhbHMuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnTUlOSV9BUFBfQ09ERSc6IHJldHVybiBNaW5pQXBwQ29kZUNyZWRlbnRpYWxzLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVkZW50aWFscyB7XG4gICAgY29uc3Qga2FzZSA9IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndHlwZScsIG8pO1xuICAgIHN3aXRjaCAoa2FzZSkge1xuICAgICAgY2FzZSAnVVNFUk5BTUVfUEFTU1dPUkQnOiByZXR1cm4gVXNlcm5hbWVQYXNzd29yZENyZWRlbnRpYWxzLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnRU1BSUxfUEFTU1dPUkQnOiByZXR1cm4gRW1haWxQYXNzd29yZENyZWRlbnRpYWxzLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnUEhPTkVfUEFTU1dPUkQnOiByZXR1cm4gUGhvbmVQYXNzd29yZENyZWRlbnRpYWxzLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnVU5WRVJJRklFRF9QSE9ORV9QQVNTV09SRCc6IHJldHVybiBVbnZlcmlmaWVkUGhvbmVQYXNzd29yZENyZWRlbnRpYWxzLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnRkFDRUJPT0snOiByZXR1cm4gRmFjZWJvb2tDcmVkZW50aWFscy5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0dPT0dMRSc6IHJldHVybiBHb29nbGVDcmVkZW50aWFscy5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0FQSSc6IHJldHVybiBBcGlDcmVkZW50aWFscy5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ09BVVRIX0NPREUnOiByZXR1cm4gT2F1dGhDb2RlQ3JlZGVudGlhbHMuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdPQVVUSF9MSU5LX1RPS0VOJzogcmV0dXJuIE9hdXRoTGlua1Rva2VuQ3JlZGVudGlhbHMuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdPQVVUSF9FWENIQU5HRSc6IHJldHVybiBPYXV0aEV4Y2hhbmdlQ3JlZGVudGlhbHMuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdPQVVUSF9BQ0NFU1NfVE9LRU4nOiByZXR1cm4gT2F1dGhBY2Nlc3NUb2tlbkNyZWRlbnRpYWxzLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnUEFSVE5FUl9BVVRIX1RPS0VOJzogcmV0dXJuIFBhcnRuZXJBdXRoVG9rZW5DcmVkZW50aWFscy5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ01JTklfQVBQX0NPREUnOiByZXR1cm4gTWluaUFwcENvZGVDcmVkZW50aWFscy5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBjYXNlOiAke2thc2V9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNsYXNzIFVzZXJuYW1lUGFzc3dvcmRDcmVkZW50aWFscyB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnVVNFUk5BTUVfUEFTU1dPUkQnO1xuXG4gIHJlYWRvbmx5IHVzZXJuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBhc3N3b3JkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHVzZXJuYW1lOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMudXNlcm5hbWUgPSBvcHRzLnVzZXJuYW1lO1xuICAgIHRoaXMucGFzc3dvcmQgPSBvcHRzLnBhc3N3b3JkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVc2VybmFtZVBhc3N3b3JkQ3JlZGVudGlhbHMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdVU0VSTkFNRV9QQVNTV09SRCcsXG4gICAgICAndXNlcm5hbWUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VybmFtZScsIG0udXNlcm5hbWUpLFxuICAgICAgJ3Bhc3N3b3JkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGFzc3dvcmQnLCBtLnBhc3N3b3JkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVzZXJuYW1lUGFzc3dvcmRDcmVkZW50aWFscyB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1VTRVJOQU1FX1BBU1NXT1JEJyk7XG4gICAgcmV0dXJuIG5ldyBVc2VybmFtZVBhc3N3b3JkQ3JlZGVudGlhbHMoe1xuICAgICAgdXNlcm5hbWU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcm5hbWUnLCBvKSxcbiAgICAgIHBhc3N3b3JkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bhc3N3b3JkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVtYWlsUGFzc3dvcmRDcmVkZW50aWFscyB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnRU1BSUxfUEFTU1dPUkQnO1xuXG4gIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBhc3N3b3JkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuZW1haWwgPSBvcHRzLmVtYWlsO1xuICAgIHRoaXMucGFzc3dvcmQgPSBvcHRzLnBhc3N3b3JkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBFbWFpbFBhc3N3b3JkQ3JlZGVudGlhbHMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdFTUFJTF9QQVNTV09SRCcsXG4gICAgICAnZW1haWwnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdlbWFpbCcsIG0uZW1haWwpLFxuICAgICAgJ3Bhc3N3b3JkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGFzc3dvcmQnLCBtLnBhc3N3b3JkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEVtYWlsUGFzc3dvcmRDcmVkZW50aWFscyB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ0VNQUlMX1BBU1NXT1JEJyk7XG4gICAgcmV0dXJuIG5ldyBFbWFpbFBhc3N3b3JkQ3JlZGVudGlhbHMoe1xuICAgICAgZW1haWw6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZW1haWwnLCBvKSxcbiAgICAgIHBhc3N3b3JkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bhc3N3b3JkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFBob25lUGFzc3dvcmRDcmVkZW50aWFscyB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnUEhPTkVfUEFTU1dPUkQnO1xuXG4gIHJlYWRvbmx5IHBob25lTnVtYmVyOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBhc3N3b3JkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gICAgcGFzc3dvcmQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMucGhvbmVOdW1iZXIgPSBvcHRzLnBob25lTnVtYmVyO1xuICAgIHRoaXMucGFzc3dvcmQgPSBvcHRzLnBhc3N3b3JkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBQaG9uZVBhc3N3b3JkQ3JlZGVudGlhbHMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdQSE9ORV9QQVNTV09SRCcsXG4gICAgICAncGhvbmVOdW1iZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdwaG9uZU51bWJlcicsIG0ucGhvbmVOdW1iZXIpLFxuICAgICAgJ3Bhc3N3b3JkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGFzc3dvcmQnLCBtLnBhc3N3b3JkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFBob25lUGFzc3dvcmRDcmVkZW50aWFscyB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1BIT05FX1BBU1NXT1JEJyk7XG4gICAgcmV0dXJuIG5ldyBQaG9uZVBhc3N3b3JkQ3JlZGVudGlhbHMoe1xuICAgICAgcGhvbmVOdW1iZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGhvbmVOdW1iZXInLCBvKSxcbiAgICAgIHBhc3N3b3JkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bhc3N3b3JkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVudmVyaWZpZWRQaG9uZVBhc3N3b3JkQ3JlZGVudGlhbHMge1xuICByZWFkb25seSB0eXBlID0gJ1VOVkVSSUZJRURfUEhPTkVfUEFTU1dPUkQnO1xuXG4gIHJlYWRvbmx5IHBob25lTnVtYmVyOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBhc3N3b3JkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGNvZGU6IHN0cmluZztcbiAgcmVhZG9ubHkgc3RhdGU6IHN0cmluZztcbiAgcmVhZG9ubHkgdG9rZW46IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIGNvZGU6IHN0cmluZyxcbiAgICBzdGF0ZTogc3RyaW5nLFxuICAgIHRva2VuOiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLnBob25lTnVtYmVyID0gb3B0cy5waG9uZU51bWJlcjtcbiAgICB0aGlzLnBhc3N3b3JkID0gb3B0cy5wYXNzd29yZDtcbiAgICB0aGlzLmNvZGUgPSBvcHRzLmNvZGU7XG4gICAgdGhpcy5zdGF0ZSA9IG9wdHMuc3RhdGU7XG4gICAgdGhpcy50b2tlbiA9IG9wdHMudG9rZW47XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVudmVyaWZpZWRQaG9uZVBhc3N3b3JkQ3JlZGVudGlhbHMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdVTlZFUklGSUVEX1BIT05FX1BBU1NXT1JEJyxcbiAgICAgICdwaG9uZU51bWJlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bob25lTnVtYmVyJywgbS5waG9uZU51bWJlciksXG4gICAgICAncGFzc3dvcmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdwYXNzd29yZCcsIG0ucGFzc3dvcmQpLFxuICAgICAgJ2NvZGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdjb2RlJywgbS5jb2RlKSxcbiAgICAgICdzdGF0ZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3N0YXRlJywgbS5zdGF0ZSksXG4gICAgICAndG9rZW4nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0b2tlbicsIG0udG9rZW4pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVW52ZXJpZmllZFBob25lUGFzc3dvcmRDcmVkZW50aWFscyB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1VOVkVSSUZJRURfUEhPTkVfUEFTU1dPUkQnKTtcbiAgICByZXR1cm4gbmV3IFVudmVyaWZpZWRQaG9uZVBhc3N3b3JkQ3JlZGVudGlhbHMoe1xuICAgICAgcGhvbmVOdW1iZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGhvbmVOdW1iZXInLCBvKSxcbiAgICAgIHBhc3N3b3JkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bhc3N3b3JkJywgbyksXG4gICAgICBjb2RlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2NvZGUnLCBvKSxcbiAgICAgIHN0YXRlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3N0YXRlJywgbyksXG4gICAgICB0b2tlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0b2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGYWNlYm9va0NyZWRlbnRpYWxzIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdGQUNFQk9PSyc7XG5cbiAgcmVhZG9ubHkgdG9rZW46IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdG9rZW46IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMudG9rZW4gPSBvcHRzLnRva2VuO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGYWNlYm9va0NyZWRlbnRpYWxzKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRkFDRUJPT0snLFxuICAgICAgJ3Rva2VuJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndG9rZW4nLCBtLnRva2VuKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZhY2Vib29rQ3JlZGVudGlhbHMge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdGQUNFQk9PSycpO1xuICAgIHJldHVybiBuZXcgRmFjZWJvb2tDcmVkZW50aWFscyh7XG4gICAgICB0b2tlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0b2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHb29nbGVDcmVkZW50aWFscyB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnR09PR0xFJztcblxuICByZWFkb25seSBhY2Nlc3NUb2tlbjogc3RyaW5nO1xuICByZWFkb25seSByZWZyZXNoVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYWNjZXNzVG9rZW46IHN0cmluZyxcbiAgICByZWZyZXNoVG9rZW4/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gb3B0cy5hY2Nlc3NUb2tlbjtcbiAgICB0aGlzLnJlZnJlc2hUb2tlbiA9IG9wdHMucmVmcmVzaFRva2VuO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHb29nbGVDcmVkZW50aWFscyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ0dPT0dMRScsXG4gICAgICAnYWNjZXNzVG9rZW4nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhY2Nlc3NUb2tlbicsIG0uYWNjZXNzVG9rZW4pLFxuICAgICAgJ3JlZnJlc2hUb2tlbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlZnJlc2hUb2tlbicsIG0ucmVmcmVzaFRva2VuKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdvb2dsZUNyZWRlbnRpYWxzIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnR09PR0xFJyk7XG4gICAgcmV0dXJuIG5ldyBHb29nbGVDcmVkZW50aWFscyh7XG4gICAgICBhY2Nlc3NUb2tlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhY2Nlc3NUb2tlbicsIG8pLFxuICAgICAgcmVmcmVzaFRva2VuOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlZnJlc2hUb2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBcGlDcmVkZW50aWFscyB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnQVBJJztcblxuICByZWFkb25seSBhcGlLZXk6IHN0cmluZztcbiAgcmVhZG9ubHkgc2VjcmV0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGFwaUtleTogc3RyaW5nLFxuICAgIHNlY3JldDogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5hcGlLZXkgPSBvcHRzLmFwaUtleTtcbiAgICB0aGlzLnNlY3JldCA9IG9wdHMuc2VjcmV0O1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBBcGlDcmVkZW50aWFscyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ0FQSScsXG4gICAgICAnYXBpS2V5JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYXBpS2V5JywgbS5hcGlLZXkpLFxuICAgICAgJ3NlY3JldCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3NlY3JldCcsIG0uc2VjcmV0KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEFwaUNyZWRlbnRpYWxzIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnQVBJJyk7XG4gICAgcmV0dXJuIG5ldyBBcGlDcmVkZW50aWFscyh7XG4gICAgICBhcGlLZXk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYXBpS2V5JywgbyksXG4gICAgICBzZWNyZXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnc2VjcmV0JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIGZvciBtb2JpbGUgY2xpZW50cyBvbmx5LiAqL1xuZXhwb3J0IGNsYXNzIE9hdXRoQ29kZUNyZWRlbnRpYWxzIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdPQVVUSF9DT0RFJztcblxuICByZWFkb25seSBjb2RlOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBsYXRmb3JtOiBQbGF0Zm9ybTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgY29kZTogc3RyaW5nLFxuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybSxcbiAgfSkge1xuICAgIHRoaXMuY29kZSA9IG9wdHMuY29kZTtcbiAgICB0aGlzLnBsYXRmb3JtID0gb3B0cy5wbGF0Zm9ybTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogT2F1dGhDb2RlQ3JlZGVudGlhbHMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdPQVVUSF9DT0RFJyxcbiAgICAgICdjb2RlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnY29kZScsIG0uY29kZSksXG4gICAgICAncGxhdGZvcm0nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShQbGF0Zm9ybVV0aWwuc2VyaWFsaXplLCAncGxhdGZvcm0nLCBtLnBsYXRmb3JtKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IE9hdXRoQ29kZUNyZWRlbnRpYWxzIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnT0FVVEhfQ09ERScpO1xuICAgIHJldHVybiBuZXcgT2F1dGhDb2RlQ3JlZGVudGlhbHMoe1xuICAgICAgY29kZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdjb2RlJywgbyksXG4gICAgICBwbGF0Zm9ybTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxQbGF0Zm9ybT4oUGxhdGZvcm1VdGlsLmRlc2VyaWFsaXplLCAncGxhdGZvcm0nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2F1dGhMaW5rVG9rZW5DcmVkZW50aWFscyB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnT0FVVEhfTElOS19UT0tFTic7XG5cbiAgcmVhZG9ubHkgdG9rZW46IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdG9rZW46IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMudG9rZW4gPSBvcHRzLnRva2VuO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBPYXV0aExpbmtUb2tlbkNyZWRlbnRpYWxzKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnT0FVVEhfTElOS19UT0tFTicsXG4gICAgICAndG9rZW4nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0b2tlbicsIG0udG9rZW4pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogT2F1dGhMaW5rVG9rZW5DcmVkZW50aWFscyB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ09BVVRIX0xJTktfVE9LRU4nKTtcbiAgICByZXR1cm4gbmV3IE9hdXRoTGlua1Rva2VuQ3JlZGVudGlhbHMoe1xuICAgICAgdG9rZW46IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndG9rZW4nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogZm9yIGludGVybmFsIHVzZSBvbmx5LCBuZXZlciBhY2NlcHRlZCB2aWEgUlBDICovXG5leHBvcnQgY2xhc3MgT2F1dGhFeGNoYW5nZUNyZWRlbnRpYWxzIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdPQVVUSF9FWENIQU5HRSc7XG5cbiAgcmVhZG9ubHkgcGxhdGZvcm06IFBsYXRmb3JtO1xuICByZWFkb25seSBhY2Nlc3NUb2tlbjogc3RyaW5nO1xuICByZWFkb25seSByZWZyZXNoVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgc2VjcmV0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGV4dGVybmFsVXNlcklkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGFsbG93QXV0aGVudGljYXRpb246IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybSxcbiAgICBhY2Nlc3NUb2tlbjogc3RyaW5nLFxuICAgIHJlZnJlc2hUb2tlbj86IHN0cmluZyxcbiAgICBzZWNyZXQ/OiBzdHJpbmcsXG4gICAgZXh0ZXJuYWxVc2VySWQ/OiBzdHJpbmcsXG4gICAgYWxsb3dBdXRoZW50aWNhdGlvbjogYm9vbGVhbixcbiAgfSkge1xuICAgIHRoaXMucGxhdGZvcm0gPSBvcHRzLnBsYXRmb3JtO1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBvcHRzLmFjY2Vzc1Rva2VuO1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gb3B0cy5yZWZyZXNoVG9rZW47XG4gICAgdGhpcy5zZWNyZXQgPSBvcHRzLnNlY3JldDtcbiAgICB0aGlzLmV4dGVybmFsVXNlcklkID0gb3B0cy5leHRlcm5hbFVzZXJJZDtcbiAgICB0aGlzLmFsbG93QXV0aGVudGljYXRpb24gPSBvcHRzLmFsbG93QXV0aGVudGljYXRpb247XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IE9hdXRoRXhjaGFuZ2VDcmVkZW50aWFscyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ09BVVRIX0VYQ0hBTkdFJyxcbiAgICAgICdwbGF0Zm9ybSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtKFBsYXRmb3JtVXRpbC5zZXJpYWxpemUsICdwbGF0Zm9ybScsIG0ucGxhdGZvcm0pLFxuICAgICAgJ2FjY2Vzc1Rva2VuJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYWNjZXNzVG9rZW4nLCBtLmFjY2Vzc1Rva2VuKSxcbiAgICAgICdyZWZyZXNoVG9rZW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWZyZXNoVG9rZW4nLCBtLnJlZnJlc2hUb2tlbiksXG4gICAgICAnc2VjcmV0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2VjcmV0JywgbS5zZWNyZXQpLFxuICAgICAgJ2V4dGVybmFsVXNlcklkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZXh0ZXJuYWxVc2VySWQnLCBtLmV4dGVybmFsVXNlcklkKSxcbiAgICAgICdhbGxvd0F1dGhlbnRpY2F0aW9uJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2FsbG93QXV0aGVudGljYXRpb24nLCBtLmFsbG93QXV0aGVudGljYXRpb24pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogT2F1dGhFeGNoYW5nZUNyZWRlbnRpYWxzIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnT0FVVEhfRVhDSEFOR0UnKTtcbiAgICByZXR1cm4gbmV3IE9hdXRoRXhjaGFuZ2VDcmVkZW50aWFscyh7XG4gICAgICBwbGF0Zm9ybTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxQbGF0Zm9ybT4oUGxhdGZvcm1VdGlsLmRlc2VyaWFsaXplLCAncGxhdGZvcm0nLCBvKSxcbiAgICAgIGFjY2Vzc1Rva2VuOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2FjY2Vzc1Rva2VuJywgbyksXG4gICAgICByZWZyZXNoVG9rZW46IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmVmcmVzaFRva2VuJywgbyksXG4gICAgICBzZWNyZXQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2VjcmV0JywgbyksXG4gICAgICBleHRlcm5hbFVzZXJJZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdleHRlcm5hbFVzZXJJZCcsIG8pLFxuICAgICAgYWxsb3dBdXRoZW50aWNhdGlvbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignYWxsb3dBdXRoZW50aWNhdGlvbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKiBmb3IgbW9iaWxlIGNsaWVudHMgb25seS4gKi9cbmV4cG9ydCBjbGFzcyBPYXV0aEFjY2Vzc1Rva2VuQ3JlZGVudGlhbHMge1xuICByZWFkb25seSB0eXBlID0gJ09BVVRIX0FDQ0VTU19UT0tFTic7XG5cbiAgcmVhZG9ubHkgcGxhdGZvcm06IFBsYXRmb3JtO1xuICByZWFkb25seSBhY2Nlc3NUb2tlbjogc3RyaW5nO1xuICByZWFkb25seSByZWZyZXNoVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZXh0ZXJuYWxVc2VySWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgcGxhdGZvcm06IFBsYXRmb3JtLFxuICAgIGFjY2Vzc1Rva2VuOiBzdHJpbmcsXG4gICAgcmVmcmVzaFRva2VuPzogc3RyaW5nLFxuICAgIGV4dGVybmFsVXNlcklkPzogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5wbGF0Zm9ybSA9IG9wdHMucGxhdGZvcm07XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IG9wdHMuYWNjZXNzVG9rZW47XG4gICAgdGhpcy5yZWZyZXNoVG9rZW4gPSBvcHRzLnJlZnJlc2hUb2tlbjtcbiAgICB0aGlzLmV4dGVybmFsVXNlcklkID0gb3B0cy5leHRlcm5hbFVzZXJJZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogT2F1dGhBY2Nlc3NUb2tlbkNyZWRlbnRpYWxzKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnT0FVVEhfQUNDRVNTX1RPS0VOJyxcbiAgICAgICdwbGF0Zm9ybSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtKFBsYXRmb3JtVXRpbC5zZXJpYWxpemUsICdwbGF0Zm9ybScsIG0ucGxhdGZvcm0pLFxuICAgICAgJ2FjY2Vzc1Rva2VuJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYWNjZXNzVG9rZW4nLCBtLmFjY2Vzc1Rva2VuKSxcbiAgICAgICdyZWZyZXNoVG9rZW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWZyZXNoVG9rZW4nLCBtLnJlZnJlc2hUb2tlbiksXG4gICAgICAnZXh0ZXJuYWxVc2VySWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdleHRlcm5hbFVzZXJJZCcsIG0uZXh0ZXJuYWxVc2VySWQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogT2F1dGhBY2Nlc3NUb2tlbkNyZWRlbnRpYWxzIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnT0FVVEhfQUNDRVNTX1RPS0VOJyk7XG4gICAgcmV0dXJuIG5ldyBPYXV0aEFjY2Vzc1Rva2VuQ3JlZGVudGlhbHMoe1xuICAgICAgcGxhdGZvcm06IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08UGxhdGZvcm0+KFBsYXRmb3JtVXRpbC5kZXNlcmlhbGl6ZSwgJ3BsYXRmb3JtJywgbyksXG4gICAgICBhY2Nlc3NUb2tlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhY2Nlc3NUb2tlbicsIG8pLFxuICAgICAgcmVmcmVzaFRva2VuOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlZnJlc2hUb2tlbicsIG8pLFxuICAgICAgZXh0ZXJuYWxVc2VySWQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZXh0ZXJuYWxVc2VySWQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUGFydG5lckF1dGhUb2tlbkNyZWRlbnRpYWxzIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdQQVJUTkVSX0FVVEhfVE9LRU4nO1xuXG4gIHJlYWRvbmx5IHRva2VuOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHRva2VuOiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLnRva2VuID0gb3B0cy50b2tlbjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogUGFydG5lckF1dGhUb2tlbkNyZWRlbnRpYWxzKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnUEFSVE5FUl9BVVRIX1RPS0VOJyxcbiAgICAgICd0b2tlbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbS50b2tlbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBQYXJ0bmVyQXV0aFRva2VuQ3JlZGVudGlhbHMge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdQQVJUTkVSX0FVVEhfVE9LRU4nKTtcbiAgICByZXR1cm4gbmV3IFBhcnRuZXJBdXRoVG9rZW5DcmVkZW50aWFscyh7XG4gICAgICB0b2tlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0b2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKiBmb3IgbWluaSBhcHBzIG9ubHkuICovXG5leHBvcnQgY2xhc3MgTWluaUFwcENvZGVDcmVkZW50aWFscyB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnTUlOSV9BUFBfQ09ERSc7XG5cbiAgcmVhZG9ubHkgY29kZTogc3RyaW5nO1xuICByZWFkb25seSBwbGF0Zm9ybTogUGxhdGZvcm07XG4gIHJlYWRvbmx5IGFwcElkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGNvZGU6IHN0cmluZyxcbiAgICBwbGF0Zm9ybTogUGxhdGZvcm0sXG4gICAgYXBwSWQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuY29kZSA9IG9wdHMuY29kZTtcbiAgICB0aGlzLnBsYXRmb3JtID0gb3B0cy5wbGF0Zm9ybTtcbiAgICB0aGlzLmFwcElkID0gb3B0cy5hcHBJZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogTWluaUFwcENvZGVDcmVkZW50aWFscyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ01JTklfQVBQX0NPREUnLFxuICAgICAgJ2NvZGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdjb2RlJywgbS5jb2RlKSxcbiAgICAgICdwbGF0Zm9ybSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtKFBsYXRmb3JtVXRpbC5zZXJpYWxpemUsICdwbGF0Zm9ybScsIG0ucGxhdGZvcm0pLFxuICAgICAgJ2FwcElkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYXBwSWQnLCBtLmFwcElkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IE1pbmlBcHBDb2RlQ3JlZGVudGlhbHMge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdNSU5JX0FQUF9DT0RFJyk7XG4gICAgcmV0dXJuIG5ldyBNaW5pQXBwQ29kZUNyZWRlbnRpYWxzKHtcbiAgICAgIGNvZGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnY29kZScsIG8pLFxuICAgICAgcGxhdGZvcm06IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08UGxhdGZvcm0+KFBsYXRmb3JtVXRpbC5kZXNlcmlhbGl6ZSwgJ3BsYXRmb3JtJywgbyksXG4gICAgICBhcHBJZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhcHBJZCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKiBGYWNlYm9vayBhY2NvdW50IGRldGFpbHMuICovXG5leHBvcnQgY2xhc3MgRmFjZWJvb2tEZXRhaWxzIHtcbiAgcmVhZG9ubHkgZmFjZWJvb2tJZDogc3RyaW5nO1xuICByZWFkb25seSBhY2Nlc3NUb2tlbjogc3RyaW5nO1xuICAvKiogSWdub3JlIHRoaXMgdmFsdWUsIGl0IHdpbGwgYmUgcmVtb3ZlZC4gKi9cbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIHJlYWRvbmx5IHRva2VuRXhwaXJlczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBmYWNlYm9va0lkOiBzdHJpbmcsXG4gICAgYWNjZXNzVG9rZW46IHN0cmluZyxcbiAgICAvKiogSWdub3JlIHRoaXMgdmFsdWUsIGl0IHdpbGwgYmUgcmVtb3ZlZC4gKi9cbiAgICB0b2tlbkV4cGlyZXM/OiBudW1iZXIsXG4gIH0pIHtcbiAgICB0aGlzLmZhY2Vib29rSWQgPSBvcHRzLmZhY2Vib29rSWQ7XG4gICAgdGhpcy5hY2Nlc3NUb2tlbiA9IG9wdHMuYWNjZXNzVG9rZW47XG4gICAgLyoqIElnbm9yZSB0aGlzIHZhbHVlLCBpdCB3aWxsIGJlIHJlbW92ZWQuICovXG4gICAgdGhpcy50b2tlbkV4cGlyZXMgPSBvcHRzLnRva2VuRXhwaXJlcztcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmFjZWJvb2tEZXRhaWxzKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2ZhY2Vib29rSWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdmYWNlYm9va0lkJywgbS5mYWNlYm9va0lkKSxcbiAgICAgICdhY2Nlc3NUb2tlbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2FjY2Vzc1Rva2VuJywgbS5hY2Nlc3NUb2tlbiksXG4gICAgICAndG9rZW5FeHBpcmVzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigndG9rZW5FeHBpcmVzJywgbS50b2tlbkV4cGlyZXMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmFjZWJvb2tEZXRhaWxzIHtcbiAgICByZXR1cm4gbmV3IEZhY2Vib29rRGV0YWlscyh7XG4gICAgICBmYWNlYm9va0lkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2ZhY2Vib29rSWQnLCBvKSxcbiAgICAgIGFjY2Vzc1Rva2VuOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2FjY2Vzc1Rva2VuJywgbyksXG4gICAgICB0b2tlbkV4cGlyZXM6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigndG9rZW5FeHBpcmVzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIEdvb2dsZSBhY2NvdW50IGRldGFpbHMuICovXG5leHBvcnQgY2xhc3MgR29vZ2xlRGV0YWlscyB7XG4gIHJlYWRvbmx5IGdvb2dsZUlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBHb29nbGUgcmVmcmVzaCB0b2tlbi4gV2UgZG9uJ3QgYWx3YXlzIGdldCB0aGUgcmVmcmVzaCB0b2tlbiBiYWNrXG4gICAqIGZyb20gR29vZ2xlLiBXaWxsIHdpbGwgZ2V0IGl0IHdpdGggc2lnbnVwIGJ1dCBub3QgbmVjZXNzYXJpbHkgd2l0aCBsb2dpbi5cbiAgICovXG4gIHJlYWRvbmx5IHJlZnJlc2hUb2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgR29vZ2xlIEFwcHMgZG9tYWluLiBOdWxsIGlmIG5vbi1hcHBzIGFjb3VudC4gKi9cbiAgcmVhZG9ubHkgaG9zdGVkRG9tYWluOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGdvb2dsZUlkOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgR29vZ2xlIHJlZnJlc2ggdG9rZW4uIFdlIGRvbid0IGFsd2F5cyBnZXQgdGhlIHJlZnJlc2ggdG9rZW4gYmFja1xuICAgICAqIGZyb20gR29vZ2xlLiBXaWxsIHdpbGwgZ2V0IGl0IHdpdGggc2lnbnVwIGJ1dCBub3QgbmVjZXNzYXJpbHkgd2l0aCBsb2dpbi5cbiAgICAgKi9cbiAgICByZWZyZXNoVG9rZW4/OiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIEdvb2dsZSBBcHBzIGRvbWFpbi4gTnVsbCBpZiBub24tYXBwcyBhY291bnQuICovXG4gICAgaG9zdGVkRG9tYWluPzogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5nb29nbGVJZCA9IG9wdHMuZ29vZ2xlSWQ7XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgR29vZ2xlIHJlZnJlc2ggdG9rZW4uIFdlIGRvbid0IGFsd2F5cyBnZXQgdGhlIHJlZnJlc2ggdG9rZW4gYmFja1xuICAgICAqIGZyb20gR29vZ2xlLiBXaWxsIHdpbGwgZ2V0IGl0IHdpdGggc2lnbnVwIGJ1dCBub3QgbmVjZXNzYXJpbHkgd2l0aCBsb2dpbi5cbiAgICAgKi9cbiAgICB0aGlzLnJlZnJlc2hUb2tlbiA9IG9wdHMucmVmcmVzaFRva2VuO1xuICAgIC8qKiBPcHRpb25hbCBHb29nbGUgQXBwcyBkb21haW4uIE51bGwgaWYgbm9uLWFwcHMgYWNvdW50LiAqL1xuICAgIHRoaXMuaG9zdGVkRG9tYWluID0gb3B0cy5ob3N0ZWREb21haW47XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdvb2dsZURldGFpbHMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZ29vZ2xlSWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdnb29nbGVJZCcsIG0uZ29vZ2xlSWQpLFxuICAgICAgJ3JlZnJlc2hUb2tlbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlZnJlc2hUb2tlbicsIG0ucmVmcmVzaFRva2VuKSxcbiAgICAgICdob3N0ZWREb21haW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdob3N0ZWREb21haW4nLCBtLmhvc3RlZERvbWFpbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHb29nbGVEZXRhaWxzIHtcbiAgICByZXR1cm4gbmV3IEdvb2dsZURldGFpbHMoe1xuICAgICAgZ29vZ2xlSWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZ29vZ2xlSWQnLCBvKSxcbiAgICAgIHJlZnJlc2hUb2tlbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWZyZXNoVG9rZW4nLCBvKSxcbiAgICAgIGhvc3RlZERvbWFpbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdob3N0ZWREb21haW4nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogQXBpIGFjY291bnQgZGV0YWlscy4gKi9cbmV4cG9ydCBjbGFzcyBBcGlEZXRhaWxzIHtcbiAgcmVhZG9ubHkgYXBpS2V5OiBzdHJpbmc7XG4gIHJlYWRvbmx5IGFwaVNlY3JldDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBhcGlLZXk6IHN0cmluZyxcbiAgICBhcGlTZWNyZXQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuYXBpS2V5ID0gb3B0cy5hcGlLZXk7XG4gICAgdGhpcy5hcGlTZWNyZXQgPSBvcHRzLmFwaVNlY3JldDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQXBpRGV0YWlscyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdhcGlLZXknOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhcGlLZXknLCBtLmFwaUtleSksXG4gICAgICAnYXBpU2VjcmV0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYXBpU2VjcmV0JywgbS5hcGlTZWNyZXQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQXBpRGV0YWlscyB7XG4gICAgcmV0dXJuIG5ldyBBcGlEZXRhaWxzKHtcbiAgICAgIGFwaUtleTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhcGlLZXknLCBvKSxcbiAgICAgIGFwaVNlY3JldDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhcGlTZWNyZXQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogT2F1dGggYWNjb3VudCBkZXRhaWxzLiAqL1xuZXhwb3J0IGNsYXNzIE9hdXRoQWNjb3VudCB7XG4gIC8qKiBUaGUgUGxhdGZvcm0gdGhpcyBkZXRhaWxzIGJlbG9uZyB0by4gKi9cbiAgcmVhZG9ubHkgcGxhdGZvcm06IFBsYXRmb3JtO1xuICAvKipcbiAgICogVGhlIHVzZXIgaWQgb24gdGhlIGV4dGVybmFsIHBsYXRmb3JtLlxuICAgKiBUT0RPKHNzY2h3aWViKTogTWFrZSByZXF1aXJlZCB3aGVuIEUxIGxlZ2FjeSBmbG93IGlzIG5vIGxvbmdlciBuZWVkZWQuXG4gICAqL1xuICByZWFkb25seSBleHRlcm5hbFVzZXJJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIHVzZXIncyBuYW1lIG9uIHRoZSBwbGF0Zm9ybSwgaWYgYXZhaWxhYmxlLiAqL1xuICByZWFkb25seSB1c2VybmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIE9BdXRoIDEgb3IgMiBhY2Nlc3MgdG9rZW4uICovXG4gIHJlYWRvbmx5IGFjY2Vzc1Rva2VuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBUaGUgT2F1dGggMiByZWZyZXNoIHRva2VuLCBpZiBhdmFpbGFibGUuICovXG4gIHJlYWRvbmx5IHJlZnJlc2hUb2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT0F1dGggMSBvbmx5OiBUaGUgdG9rZW4gc2VjcmV0LiAqL1xuICByZWFkb25seSBzZWNyZXQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFdoZXRoZXIgdGhpcyBhY2NvdW50IGFsbG93cyBsb2dnaW5nIGluLiAqL1xuICByZWFkb25seSBsb2dpbkVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKiBUaGUgdXNlcidzIGF2YXRhclVybCBpZiBhdmFpbGFibGUuICovXG4gIHJlYWRvbmx5IGF2YXRhclVybDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgZG9tYWluIG9mIHRoZSB1c2VyLiAqL1xuICByZWFkb25seSBkb21haW46IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRoZSBQbGF0Zm9ybSB0aGlzIGRldGFpbHMgYmVsb25nIHRvLiAqL1xuICAgIHBsYXRmb3JtOiBQbGF0Zm9ybSxcbiAgICAvKipcbiAgICAgKiBUaGUgdXNlciBpZCBvbiB0aGUgZXh0ZXJuYWwgcGxhdGZvcm0uXG4gICAgICogVE9ETyhzc2Nod2llYik6IE1ha2UgcmVxdWlyZWQgd2hlbiBFMSBsZWdhY3kgZmxvdyBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgICAqL1xuICAgIGV4dGVybmFsVXNlcklkPzogc3RyaW5nLFxuICAgIC8qKiBUaGUgdXNlcidzIG5hbWUgb24gdGhlIHBsYXRmb3JtLCBpZiBhdmFpbGFibGUuICovXG4gICAgdXNlcm5hbWU/OiBzdHJpbmcsXG4gICAgLyoqIFRoZSBPQXV0aCAxIG9yIDIgYWNjZXNzIHRva2VuLiAqL1xuICAgIGFjY2Vzc1Rva2VuPzogc3RyaW5nLFxuICAgIC8qKiBUaGUgT2F1dGggMiByZWZyZXNoIHRva2VuLCBpZiBhdmFpbGFibGUuICovXG4gICAgcmVmcmVzaFRva2VuPzogc3RyaW5nLFxuICAgIC8qKiBPQXV0aCAxIG9ubHk6IFRoZSB0b2tlbiBzZWNyZXQuICovXG4gICAgc2VjcmV0Pzogc3RyaW5nLFxuICAgIC8qKiBXaGV0aGVyIHRoaXMgYWNjb3VudCBhbGxvd3MgbG9nZ2luZyBpbi4gKi9cbiAgICBsb2dpbkVuYWJsZWQ6IGJvb2xlYW4sXG4gICAgLyoqIFRoZSB1c2VyJ3MgYXZhdGFyVXJsIGlmIGF2YWlsYWJsZS4gKi9cbiAgICBhdmF0YXJVcmw/OiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIGRvbWFpbiBvZiB0aGUgdXNlci4gKi9cbiAgICBkb21haW4/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogVGhlIFBsYXRmb3JtIHRoaXMgZGV0YWlscyBiZWxvbmcgdG8uICovXG4gICAgdGhpcy5wbGF0Zm9ybSA9IG9wdHMucGxhdGZvcm07XG4gICAgLyoqXG4gICAgICogVGhlIHVzZXIgaWQgb24gdGhlIGV4dGVybmFsIHBsYXRmb3JtLlxuICAgICAqIFRPRE8oc3NjaHdpZWIpOiBNYWtlIHJlcXVpcmVkIHdoZW4gRTEgbGVnYWN5IGZsb3cgaXMgbm8gbG9uZ2VyIG5lZWRlZC5cbiAgICAgKi9cbiAgICB0aGlzLmV4dGVybmFsVXNlcklkID0gb3B0cy5leHRlcm5hbFVzZXJJZDtcbiAgICAvKiogVGhlIHVzZXIncyBuYW1lIG9uIHRoZSBwbGF0Zm9ybSwgaWYgYXZhaWxhYmxlLiAqL1xuICAgIHRoaXMudXNlcm5hbWUgPSBvcHRzLnVzZXJuYW1lO1xuICAgIC8qKiBUaGUgT0F1dGggMSBvciAyIGFjY2VzcyB0b2tlbi4gKi9cbiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gb3B0cy5hY2Nlc3NUb2tlbjtcbiAgICAvKiogVGhlIE9hdXRoIDIgcmVmcmVzaCB0b2tlbiwgaWYgYXZhaWxhYmxlLiAqL1xuICAgIHRoaXMucmVmcmVzaFRva2VuID0gb3B0cy5yZWZyZXNoVG9rZW47XG4gICAgLyoqIE9BdXRoIDEgb25seTogVGhlIHRva2VuIHNlY3JldC4gKi9cbiAgICB0aGlzLnNlY3JldCA9IG9wdHMuc2VjcmV0O1xuICAgIC8qKiBXaGV0aGVyIHRoaXMgYWNjb3VudCBhbGxvd3MgbG9nZ2luZyBpbi4gKi9cbiAgICB0aGlzLmxvZ2luRW5hYmxlZCA9IG9wdHMubG9naW5FbmFibGVkO1xuICAgIC8qKiBUaGUgdXNlcidzIGF2YXRhclVybCBpZiBhdmFpbGFibGUuICovXG4gICAgdGhpcy5hdmF0YXJVcmwgPSBvcHRzLmF2YXRhclVybDtcbiAgICAvKiogT3B0aW9uYWwgZG9tYWluIG9mIHRoZSB1c2VyLiAqL1xuICAgIHRoaXMuZG9tYWluID0gb3B0cy5kb21haW47XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IE9hdXRoQWNjb3VudCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdwbGF0Zm9ybSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtKFBsYXRmb3JtVXRpbC5zZXJpYWxpemUsICdwbGF0Zm9ybScsIG0ucGxhdGZvcm0pLFxuICAgICAgJ2V4dGVybmFsVXNlcklkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZXh0ZXJuYWxVc2VySWQnLCBtLmV4dGVybmFsVXNlcklkKSxcbiAgICAgICd1c2VybmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXJuYW1lJywgbS51c2VybmFtZSksXG4gICAgICAnYWNjZXNzVG9rZW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdhY2Nlc3NUb2tlbicsIG0uYWNjZXNzVG9rZW4pLFxuICAgICAgJ3JlZnJlc2hUb2tlbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlZnJlc2hUb2tlbicsIG0ucmVmcmVzaFRva2VuKSxcbiAgICAgICdzZWNyZXQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdzZWNyZXQnLCBtLnNlY3JldCksXG4gICAgICAnbG9naW5FbmFibGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2xvZ2luRW5hYmxlZCcsIG0ubG9naW5FbmFibGVkKSxcbiAgICAgICdhdmF0YXJVcmwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdhdmF0YXJVcmwnLCBtLmF2YXRhclVybCksXG4gICAgICAnZG9tYWluJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZG9tYWluJywgbS5kb21haW4pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogT2F1dGhBY2NvdW50IHtcbiAgICByZXR1cm4gbmV3IE9hdXRoQWNjb3VudCh7XG4gICAgICBwbGF0Zm9ybTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxQbGF0Zm9ybT4oUGxhdGZvcm1VdGlsLmRlc2VyaWFsaXplLCAncGxhdGZvcm0nLCBvKSxcbiAgICAgIGV4dGVybmFsVXNlcklkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2V4dGVybmFsVXNlcklkJywgbyksXG4gICAgICB1c2VybmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VybmFtZScsIG8pLFxuICAgICAgYWNjZXNzVG9rZW46IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYWNjZXNzVG9rZW4nLCBvKSxcbiAgICAgIHJlZnJlc2hUb2tlbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWZyZXNoVG9rZW4nLCBvKSxcbiAgICAgIHNlY3JldDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdzZWNyZXQnLCBvKSxcbiAgICAgIGxvZ2luRW5hYmxlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbG9naW5FbmFibGVkJywgbyksXG4gICAgICBhdmF0YXJVcmw6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYXZhdGFyVXJsJywgbyksXG4gICAgICBkb21haW46IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZG9tYWluJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDYW52YSBsb2dpbiBhY2NvdW50IGRldGFpbHMuXG4gKiBcbiAqIFRoaXMgdXNlZCB0byBjb250YWluIHRoZSBoYXNoZWQgcGFzc3dvcmQsIGJ1dCBzZW5kaW5nIHRoZSBoYXNoZWQgcGFzc3dvcmQgaW5cbiAqIHJlc3BvbnNlcyB3YXNuJ3QgZ29vZCBzbyB3ZSByZW1vdmVkIGl0LiBUaGlzIGlzIHN0aWxsIHNlcmlhbGl6ZWQgYXMgYW4gZW1wdHlcbiAqIG9iamVjdCBiZWNhdXNlIHNvbWUgY2xpZW50IHNpZGUgY29kZSBjaGVja3MgZm9yIHRoZSBwcmVzZW5jZSBvZiBpdCB0b1xuICogZGV0ZXJtaW5lIHdoYXQga2luZCBvZiBsb2dpbiBtZWNoYW5pc20gdGhlIHVzZXIgaXMgdXNpbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2dpbkRldGFpbHMge1xuICBzdGF0aWMgc2VyaWFsaXplKG06IExvZ2luRGV0YWlscyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IExvZ2luRGV0YWlscyB7XG4gICAgcmV0dXJuIG5ldyBMb2dpbkRldGFpbHMoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgT2F1dGhTdW1tYXJ5IHtcbiAgcmVhZG9ubHkgcGxhdGZvcm06IFBsYXRmb3JtO1xuICByZWFkb25seSB2YWxpZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgZ3JhbnRlZFBlcm1pc3Npb25zOiByZWFkb25seSBQZXJtaXNzaW9uW107XG4gIHJlYWRvbmx5IGRlbmllZFBlcm1pc3Npb25zOiByZWFkb25seSBQZXJtaXNzaW9uW107XG4gIHJlYWRvbmx5IHVzZXJuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGF2YXRhclVybDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGFjY2VzcyB0b2tlbiBtaWdodCBiZWNvbWUgaW52YWxpZCAnc29vbicsIGFuZCBhIHJlZnJlc2ggaXMgcmVjb21tZW5kZWQuIE9ubHlcbiAgICogcmVsZXZhbnQgaW4gdGhlIGNvbnRleHQgb2YgdGhlIHNjaGVkdWxlci4gJ1Nvb24nIGlzIGludGVudGlvbmFsbHkgdmFndWUsIGFuZCBkZXBlbmRzIG9uXG4gICAqIHRoZSBwbGF0Zm9ybS5cbiAgICovXG4gIHJlYWRvbmx5IHJlZnJlc2hSZWNvbW1lbmRlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIEZvciBpbnN0YWdyYW0sIHRoZSBhY2Nlc3MgdG9rZW4uIEZvciBhbGwgb3RoZXIgcGxhdGZvcm1zLCBudWxsLiBOb3RlIHRoYXQgaXQgaXMgYSBzZWN1cml0eVxuICAgKiByaXNrIHRvIGV4cG9zZSB0aGUgYWNjZXNzIHRva2VuIHRvIGEgY2xpZW50LCBlc3BlY2lhbGx5IGlmIGl0IGlzIGxvbmctbGl2aW5nLlxuICAgKiBCZWNhdXNlIG9mIHRoaXMsIG5vdGUgdGhhdCB0aGlzIHByb3BlcnR5IHdpbGwgYmUgcmVtb3ZlZCAxc3QgZGF5IG9mIHRoZSBTdW1tZXIgU2Vhc29uIDIwMTguXG4gICAqL1xuICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgcmVhZG9ubHkgYWNjZXNzVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgcGxhdGZvcm06IFBsYXRmb3JtLFxuICAgIHZhbGlkOiBib29sZWFuLFxuICAgIGdyYW50ZWRQZXJtaXNzaW9ucz86IHJlYWRvbmx5IFBlcm1pc3Npb25bXSxcbiAgICBkZW5pZWRQZXJtaXNzaW9ucz86IHJlYWRvbmx5IFBlcm1pc3Npb25bXSxcbiAgICB1c2VybmFtZT86IHN0cmluZyxcbiAgICBhdmF0YXJVcmw/OiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgdGhlIGFjY2VzcyB0b2tlbiBtaWdodCBiZWNvbWUgaW52YWxpZCAnc29vbicsIGFuZCBhIHJlZnJlc2ggaXMgcmVjb21tZW5kZWQuIE9ubHlcbiAgICAgKiByZWxldmFudCBpbiB0aGUgY29udGV4dCBvZiB0aGUgc2NoZWR1bGVyLiAnU29vbicgaXMgaW50ZW50aW9uYWxseSB2YWd1ZSwgYW5kIGRlcGVuZHMgb25cbiAgICAgKiB0aGUgcGxhdGZvcm0uXG4gICAgICovXG4gICAgcmVmcmVzaFJlY29tbWVuZGVkPzogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBGb3IgaW5zdGFncmFtLCB0aGUgYWNjZXNzIHRva2VuLiBGb3IgYWxsIG90aGVyIHBsYXRmb3JtcywgbnVsbC4gTm90ZSB0aGF0IGl0IGlzIGEgc2VjdXJpdHlcbiAgICAgKiByaXNrIHRvIGV4cG9zZSB0aGUgYWNjZXNzIHRva2VuIHRvIGEgY2xpZW50LCBlc3BlY2lhbGx5IGlmIGl0IGlzIGxvbmctbGl2aW5nLlxuICAgICAqIEJlY2F1c2Ugb2YgdGhpcywgbm90ZSB0aGF0IHRoaXMgcHJvcGVydHkgd2lsbCBiZSByZW1vdmVkIDFzdCBkYXkgb2YgdGhlIFN1bW1lciBTZWFzb24gMjAxOC5cbiAgICAgKi9cbiAgICBhY2Nlc3NUb2tlbj86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMucGxhdGZvcm0gPSBvcHRzLnBsYXRmb3JtO1xuICAgIHRoaXMudmFsaWQgPSBvcHRzLnZhbGlkO1xuICAgIHRoaXMuZ3JhbnRlZFBlcm1pc3Npb25zID0gb3B0cy5ncmFudGVkUGVybWlzc2lvbnMgfHwgW107XG4gICAgdGhpcy5kZW5pZWRQZXJtaXNzaW9ucyA9IG9wdHMuZGVuaWVkUGVybWlzc2lvbnMgfHwgW107XG4gICAgdGhpcy51c2VybmFtZSA9IG9wdHMudXNlcm5hbWU7XG4gICAgdGhpcy5hdmF0YXJVcmwgPSBvcHRzLmF2YXRhclVybDtcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCB0aGUgYWNjZXNzIHRva2VuIG1pZ2h0IGJlY29tZSBpbnZhbGlkICdzb29uJywgYW5kIGEgcmVmcmVzaCBpcyByZWNvbW1lbmRlZC4gT25seVxuICAgICAqIHJlbGV2YW50IGluIHRoZSBjb250ZXh0IG9mIHRoZSBzY2hlZHVsZXIuICdTb29uJyBpcyBpbnRlbnRpb25hbGx5IHZhZ3VlLCBhbmQgZGVwZW5kcyBvblxuICAgICAqIHRoZSBwbGF0Zm9ybS5cbiAgICAgKi9cbiAgICB0aGlzLnJlZnJlc2hSZWNvbW1lbmRlZCA9IG9wdHMucmVmcmVzaFJlY29tbWVuZGVkO1xuICAgIC8qKlxuICAgICAqIEZvciBpbnN0YWdyYW0sIHRoZSBhY2Nlc3MgdG9rZW4uIEZvciBhbGwgb3RoZXIgcGxhdGZvcm1zLCBudWxsLiBOb3RlIHRoYXQgaXQgaXMgYSBzZWN1cml0eVxuICAgICAqIHJpc2sgdG8gZXhwb3NlIHRoZSBhY2Nlc3MgdG9rZW4gdG8gYSBjbGllbnQsIGVzcGVjaWFsbHkgaWYgaXQgaXMgbG9uZy1saXZpbmcuXG4gICAgICogQmVjYXVzZSBvZiB0aGlzLCBub3RlIHRoYXQgdGhpcyBwcm9wZXJ0eSB3aWxsIGJlIHJlbW92ZWQgMXN0IGRheSBvZiB0aGUgU3VtbWVyIFNlYXNvbiAyMDE4LlxuICAgICAqL1xuICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBvcHRzLmFjY2Vzc1Rva2VuO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBPYXV0aFN1bW1hcnkpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncGxhdGZvcm0nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShQbGF0Zm9ybVV0aWwuc2VyaWFsaXplLCAncGxhdGZvcm0nLCBtLnBsYXRmb3JtKSxcbiAgICAgICd2YWxpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd2YWxpZCcsIG0udmFsaWQpLFxuICAgICAgJ2dyYW50ZWRQZXJtaXNzaW9ucyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKFBlcm1pc3Npb25VdGlsLnNlcmlhbGl6ZSwgJ2dyYW50ZWRQZXJtaXNzaW9ucycsIG0uZ3JhbnRlZFBlcm1pc3Npb25zKSxcbiAgICAgICdkZW5pZWRQZXJtaXNzaW9ucyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKFBlcm1pc3Npb25VdGlsLnNlcmlhbGl6ZSwgJ2RlbmllZFBlcm1pc3Npb25zJywgbS5kZW5pZWRQZXJtaXNzaW9ucyksXG4gICAgICAndXNlcm5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VybmFtZScsIG0udXNlcm5hbWUpLFxuICAgICAgJ2F2YXRhclVybCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2F2YXRhclVybCcsIG0uYXZhdGFyVXJsKSxcbiAgICAgICdyZWZyZXNoUmVjb21tZW5kZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVmcmVzaFJlY29tbWVuZGVkJywgbS5yZWZyZXNoUmVjb21tZW5kZWQpLFxuICAgICAgJ2FjY2Vzc1Rva2VuJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYWNjZXNzVG9rZW4nLCBtLmFjY2Vzc1Rva2VuKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IE9hdXRoU3VtbWFyeSB7XG4gICAgcmV0dXJuIG5ldyBPYXV0aFN1bW1hcnkoe1xuICAgICAgcGxhdGZvcm06IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08UGxhdGZvcm0+KFBsYXRmb3JtVXRpbC5kZXNlcmlhbGl6ZSwgJ3BsYXRmb3JtJywgbyksXG4gICAgICB2YWxpZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndmFsaWQnLCBvKSxcbiAgICAgIGdyYW50ZWRQZXJtaXNzaW9uczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxQZXJtaXNzaW9uPihQZXJtaXNzaW9uVXRpbC5kZXNlcmlhbGl6ZSwgJ2dyYW50ZWRQZXJtaXNzaW9ucycsIG8pLFxuICAgICAgZGVuaWVkUGVybWlzc2lvbnM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08UGVybWlzc2lvbj4oUGVybWlzc2lvblV0aWwuZGVzZXJpYWxpemUsICdkZW5pZWRQZXJtaXNzaW9ucycsIG8pLFxuICAgICAgdXNlcm5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcm5hbWUnLCBvKSxcbiAgICAgIGF2YXRhclVybDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdhdmF0YXJVcmwnLCBvKSxcbiAgICAgIHJlZnJlc2hSZWNvbW1lbmRlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVmcmVzaFJlY29tbWVuZGVkJywgbyksXG4gICAgICBhY2Nlc3NUb2tlbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdhY2Nlc3NUb2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRPYXV0aFN1bW1hcnlSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgdXNlcjogc3RyaW5nO1xuICByZWFkb25seSBwbGF0Zm9ybTogUGxhdGZvcm07XG4gIHJlYWRvbmx5IGZldGNoQXZhdGFyOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICB1c2VyOiBzdHJpbmcsXG4gICAgcGxhdGZvcm06IFBsYXRmb3JtLFxuICAgIGZldGNoQXZhdGFyPzogYm9vbGVhbixcbiAgfSkge1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgICB0aGlzLnBsYXRmb3JtID0gb3B0cy5wbGF0Zm9ybTtcbiAgICB0aGlzLmZldGNoQXZhdGFyID0gb3B0cy5mZXRjaEF2YXRhcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0T2F1dGhTdW1tYXJ5UmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG0udXNlciksXG4gICAgICAncGxhdGZvcm0nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShQbGF0Zm9ybVV0aWwuc2VyaWFsaXplLCAncGxhdGZvcm0nLCBtLnBsYXRmb3JtKSxcbiAgICAgICdmZXRjaEF2YXRhcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdmZXRjaEF2YXRhcicsIG0uZmV0Y2hBdmF0YXIpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0T2F1dGhTdW1tYXJ5UmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRPYXV0aFN1bW1hcnlSZXF1ZXN0KHtcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG8pLFxuICAgICAgcGxhdGZvcm06IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08UGxhdGZvcm0+KFBsYXRmb3JtVXRpbC5kZXNlcmlhbGl6ZSwgJ3BsYXRmb3JtJywgbyksXG4gICAgICBmZXRjaEF2YXRhcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignZmV0Y2hBdmF0YXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0T2F1dGhTdW1tYXJ5UmVzcG9uc2Uge1xuICByZWFkb25seSBzdW1tYXJ5OiBPYXV0aFN1bW1hcnk7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHN1bW1hcnk6IE9hdXRoU3VtbWFyeSxcbiAgfSkge1xuICAgIHRoaXMuc3VtbWFyeSA9IG9wdHMuc3VtbWFyeTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0T2F1dGhTdW1tYXJ5UmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnc3VtbWFyeSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoT2F1dGhTdW1tYXJ5LnNlcmlhbGl6ZSwgJ3N1bW1hcnknLCBtLnN1bW1hcnkpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0T2F1dGhTdW1tYXJ5UmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0T2F1dGhTdW1tYXJ5UmVzcG9uc2Uoe1xuICAgICAgc3VtbWFyeTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KE9hdXRoU3VtbWFyeS5kZXNlcmlhbGl6ZSwgJ3N1bW1hcnknLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlT2F1dGhMaW5rVG9rZW5SZXF1ZXN0IHtcbiAgcmVhZG9ubHkgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHMsXG4gIH0pIHtcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0cy5jcmVkZW50aWFscztcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlT2F1dGhMaW5rVG9rZW5SZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2NyZWRlbnRpYWxzJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChDcmVkZW50aWFscy5zZXJpYWxpemUsICdjcmVkZW50aWFscycsIG0uY3JlZGVudGlhbHMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlT2F1dGhMaW5rVG9rZW5SZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IENyZWF0ZU9hdXRoTGlua1Rva2VuUmVxdWVzdCh7XG4gICAgICBjcmVkZW50aWFsczogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KENyZWRlbnRpYWxzLmRlc2VyaWFsaXplLCAnY3JlZGVudGlhbHMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlT2F1dGhMaW5rVG9rZW5SZXNwb25zZSB7XG4gIHJlYWRvbmx5IGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgY3JlZGVudGlhbHM6IENyZWRlbnRpYWxzLFxuICB9KSB7XG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdHMuY3JlZGVudGlhbHM7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENyZWF0ZU9hdXRoTGlua1Rva2VuUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnY3JlZGVudGlhbHMnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KENyZWRlbnRpYWxzLnNlcmlhbGl6ZSwgJ2NyZWRlbnRpYWxzJywgbS5jcmVkZW50aWFscyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVPYXV0aExpbmtUb2tlblJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IENyZWF0ZU9hdXRoTGlua1Rva2VuUmVzcG9uc2Uoe1xuICAgICAgY3JlZGVudGlhbHM6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChDcmVkZW50aWFscy5kZXNlcmlhbGl6ZSwgJ2NyZWRlbnRpYWxzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldFBhc3N3b3JkUmVzZXRHcmFudFJlcXVlc3Qge1xuICByZWFkb25seSB0b2tlbjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICB0b2tlbjogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy50b2tlbiA9IG9wdHMudG9rZW47XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldFBhc3N3b3JkUmVzZXRHcmFudFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndG9rZW4nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0b2tlbicsIG0udG9rZW4pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0UGFzc3dvcmRSZXNldEdyYW50UmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRQYXNzd29yZFJlc2V0R3JhbnRSZXF1ZXN0KHtcbiAgICAgIHRva2VuOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldFBhc3N3b3JkUmVzZXRHcmFudFJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgZXhwaXJhdGlvbkRhdGU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgZXhwaXJhdGlvbkRhdGU6IG51bWJlcixcbiAgfSkge1xuICAgIHRoaXMuZXhwaXJhdGlvbkRhdGUgPSBvcHRzLmV4cGlyYXRpb25EYXRlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRQYXNzd29yZFJlc2V0R3JhbnRSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdleHBpcmF0aW9uRGF0ZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2V4cGlyYXRpb25EYXRlJywgbS5leHBpcmF0aW9uRGF0ZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRQYXNzd29yZFJlc2V0R3JhbnRSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBHZXRQYXNzd29yZFJlc2V0R3JhbnRSZXNwb25zZSh7XG4gICAgICBleHBpcmF0aW9uRGF0ZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdleHBpcmF0aW9uRGF0ZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBdmF0YXJCdW5kbGUge1xuICByZWFkb25seSB2ZXJzaW9uOiBudW1iZXI7XG4gIHJlYWRvbmx5IHNpemVzOiBSZWFkb25seU1hcDxzdHJpbmcsIEF2YXRhckltYWdlPjtcbiAgcmVhZG9ubHkgc3RhdHVzOiBBdmF0YXJCdW5kbGVTdGF0dXMgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGlzRGVmYXVsdDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdmVyc2lvbjogbnVtYmVyLFxuICAgIHNpemVzPzogUmVhZG9ubHlNYXA8c3RyaW5nLCBBdmF0YXJJbWFnZT4sXG4gICAgc3RhdHVzPzogQXZhdGFyQnVuZGxlU3RhdHVzLFxuICAgIGlzRGVmYXVsdD86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLnZlcnNpb24gPSBvcHRzLnZlcnNpb247XG4gICAgdGhpcy5zaXplcyA9IG9wdHMuc2l6ZXMgfHwgbmV3IE1hcCgpO1xuICAgIHRoaXMuc3RhdHVzID0gb3B0cy5zdGF0dXM7XG4gICAgdGhpcy5pc0RlZmF1bHQgPSBvcHRzLmlzRGVmYXVsdCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5pc0RlZmF1bHRcbiAgICAgICAgOiBmYWxzZTtcblxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBBdmF0YXJCdW5kbGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndmVyc2lvbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3ZlcnNpb24nLCBtLnZlcnNpb24pLFxuICAgICAgJ3NpemVzJzogU2VyaWFsaXphdGlvbi5zdHJpbmdPYmplY3RNYXAoQXZhdGFySW1hZ2Uuc2VyaWFsaXplLCAnc2l6ZXMnLCBtLnNpemVzKSxcbiAgICAgICdzdGF0dXMnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShBdmF0YXJCdW5kbGVTdGF0dXNVdGlsLnNlcmlhbGl6ZSwgJ3N0YXR1cycsIG0uc3RhdHVzKSxcbiAgICAgICdpc0RlZmF1bHQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaXNEZWZhdWx0JywgbS5pc0RlZmF1bHQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQXZhdGFyQnVuZGxlIHtcbiAgICByZXR1cm4gbmV3IEF2YXRhckJ1bmRsZSh7XG4gICAgICB2ZXJzaW9uOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3ZlcnNpb24nLCBvKSxcbiAgICAgIHNpemVzOiBEZXNlcmlhbGl6YXRpb24uc3RyaW5nT2JqZWN0TWFwKEF2YXRhckltYWdlLmRlc2VyaWFsaXplLCAnc2l6ZXMnLCBvKSxcbiAgICAgIHN0YXR1czogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bTxBdmF0YXJCdW5kbGVTdGF0dXM+KEF2YXRhckJ1bmRsZVN0YXR1c1V0aWwuZGVzZXJpYWxpemUsICdzdGF0dXMnLCBvKSxcbiAgICAgIGlzRGVmYXVsdDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaXNEZWZhdWx0JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEF2YXRhckltYWdlIHtcbiAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xuICByZWFkb25seSB3aWR0aDogbnVtYmVyO1xuICByZWFkb25seSBoZWlnaHQ6IG51bWJlcjtcbiAgcmVhZG9ubHkgdXJsOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHNpemU6IG51bWJlcixcbiAgICB3aWR0aDogbnVtYmVyLFxuICAgIGhlaWdodDogbnVtYmVyLFxuICAgIHVybDogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5zaXplID0gb3B0cy5zaXplO1xuICAgIHRoaXMud2lkdGggPSBvcHRzLndpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gb3B0cy5oZWlnaHQ7XG4gICAgdGhpcy51cmwgPSBvcHRzLnVybDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQXZhdGFySW1hZ2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnc2l6ZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3NpemUnLCBtLnNpemUpLFxuICAgICAgJ3dpZHRoJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignd2lkdGgnLCBtLndpZHRoKSxcbiAgICAgICdoZWlnaHQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdoZWlnaHQnLCBtLmhlaWdodCksXG4gICAgICAndXJsJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXJsJywgbS51cmwpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQXZhdGFySW1hZ2Uge1xuICAgIHJldHVybiBuZXcgQXZhdGFySW1hZ2Uoe1xuICAgICAgc2l6ZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdzaXplJywgbyksXG4gICAgICB3aWR0aDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCd3aWR0aCcsIG8pLFxuICAgICAgaGVpZ2h0OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2hlaWdodCcsIG8pLFxuICAgICAgdXJsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VybCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOYW1lZENvbG9yIHtcbiAgcmVhZG9ubHkgaGV4U3RyaW5nOiBzdHJpbmc7XG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgaGV4U3RyaW5nOiBzdHJpbmcsXG4gICAgbmFtZT86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuaGV4U3RyaW5nID0gb3B0cy5oZXhTdHJpbmc7XG4gICAgdGhpcy5uYW1lID0gb3B0cy5uYW1lO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBOYW1lZENvbG9yKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2hleFN0cmluZyc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2hleFN0cmluZycsIG0uaGV4U3RyaW5nKSxcbiAgICAgICduYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbmFtZScsIG0ubmFtZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBOYW1lZENvbG9yIHtcbiAgICByZXR1cm4gbmV3IE5hbWVkQ29sb3Ioe1xuICAgICAgaGV4U3RyaW5nOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2hleFN0cmluZycsIG8pLFxuICAgICAgbmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCduYW1lJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbG9yUGFsZXR0ZSB7XG4gIHJlYWRvbmx5IGNvbG9yczogcmVhZG9ubHkgTmFtZWRDb2xvcltdO1xuICByZWFkb25seSBuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGNvbG9ycz86IHJlYWRvbmx5IE5hbWVkQ29sb3JbXSxcbiAgICBuYW1lPzogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5jb2xvcnMgPSBvcHRzLmNvbG9ycyB8fCBbXTtcbiAgICB0aGlzLm5hbWUgPSBvcHRzLm5hbWU7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENvbG9yUGFsZXR0ZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjb2xvcnMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KE5hbWVkQ29sb3Iuc2VyaWFsaXplLCAnY29sb3JzJywgbS5jb2xvcnMpLFxuICAgICAgJ25hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCduYW1lJywgbS5uYW1lKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IENvbG9yUGFsZXR0ZSB7XG4gICAgcmV0dXJuIG5ldyBDb2xvclBhbGV0dGUoe1xuICAgICAgY29sb3JzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTmFtZWRDb2xvci5kZXNlcmlhbGl6ZSwgJ2NvbG9ycycsIG8pLFxuICAgICAgbmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCduYW1lJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJyYW5kS2l0Rm9udCB7XG4gIC8qKiBOb3RlOiBFeGFjdGx5IG9uZSBvZiAnZmFtaWx5JyBhbmQgJ21lZGlhJyBzaG91bGQgYmUgbm9uLW51bGwuICovXG4gIHJlYWRvbmx5IGZhbWlseTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBzaXplOiBudW1iZXI7XG4gIC8qKiBOb3RlOiAnYm9sZCcgYW5kICdpdGFsaWMnIGFyZSBvbmx5IG1lYW5pbmdmdWwgaWYgJ2ZhbWlseScgaXMgc2V0LiAqL1xuICByZWFkb25seSBib2xkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBpdGFsaWM6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIC8qKiBOb3RlOiBFeGFjdGx5IG9uZSBvZiAnZmFtaWx5JyBhbmQgJ21lZGlhJyBzaG91bGQgYmUgbm9uLW51bGwuICovXG4gIHJlYWRvbmx5IG1lZGlhOiBNZWRpYVJlZiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIE5vdGU6IEV4YWN0bHkgb25lIG9mICdmYW1pbHknIGFuZCAnbWVkaWEnIHNob3VsZCBiZSBub24tbnVsbC4gKi9cbiAgICBmYW1pbHk/OiBzdHJpbmcsXG4gICAgc2l6ZTogbnVtYmVyLFxuICAgIC8qKiBOb3RlOiAnYm9sZCcgYW5kICdpdGFsaWMnIGFyZSBvbmx5IG1lYW5pbmdmdWwgaWYgJ2ZhbWlseScgaXMgc2V0LiAqL1xuICAgIGJvbGQ/OiBib29sZWFuLFxuICAgIGl0YWxpYz86IGJvb2xlYW4sXG4gICAgLyoqIE5vdGU6IEV4YWN0bHkgb25lIG9mICdmYW1pbHknIGFuZCAnbWVkaWEnIHNob3VsZCBiZSBub24tbnVsbC4gKi9cbiAgICBtZWRpYT86IE1lZGlhUmVmLFxuICB9KSB7XG4gICAgLyoqIE5vdGU6IEV4YWN0bHkgb25lIG9mICdmYW1pbHknIGFuZCAnbWVkaWEnIHNob3VsZCBiZSBub24tbnVsbC4gKi9cbiAgICB0aGlzLmZhbWlseSA9IG9wdHMuZmFtaWx5O1xuICAgIHRoaXMuc2l6ZSA9IG9wdHMuc2l6ZTtcbiAgICAvKiogTm90ZTogJ2JvbGQnIGFuZCAnaXRhbGljJyBhcmUgb25seSBtZWFuaW5nZnVsIGlmICdmYW1pbHknIGlzIHNldC4gKi9cbiAgICB0aGlzLmJvbGQgPSBvcHRzLmJvbGQ7XG4gICAgdGhpcy5pdGFsaWMgPSBvcHRzLml0YWxpYztcbiAgICAvKiogTm90ZTogRXhhY3RseSBvbmUgb2YgJ2ZhbWlseScgYW5kICdtZWRpYScgc2hvdWxkIGJlIG5vbi1udWxsLiAqL1xuICAgIHRoaXMubWVkaWEgPSBvcHRzLm1lZGlhO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBCcmFuZEtpdEZvbnQpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZmFtaWx5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZmFtaWx5JywgbS5mYW1pbHkpLFxuICAgICAgJ3NpemUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdzaXplJywgbS5zaXplKSxcbiAgICAgICdib2xkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2JvbGQnLCBtLmJvbGQpLFxuICAgICAgJ2l0YWxpYyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdpdGFsaWMnLCBtLml0YWxpYyksXG4gICAgICAnbWVkaWEnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KE1lZGlhUmVmLnNlcmlhbGl6ZSwgJ21lZGlhJywgbS5tZWRpYSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBCcmFuZEtpdEZvbnQge1xuICAgIHJldHVybiBuZXcgQnJhbmRLaXRGb250KHtcbiAgICAgIGZhbWlseTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdmYW1pbHknLCBvKSxcbiAgICAgIHNpemU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignc2l6ZScsIG8pLFxuICAgICAgYm9sZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignYm9sZCcsIG8pLFxuICAgICAgaXRhbGljOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdpdGFsaWMnLCBvKSxcbiAgICAgIG1lZGlhOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoTWVkaWFSZWYuZGVzZXJpYWxpemUsICdtZWRpYScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUZXh0U3R5bGUge1xuICAvKipcbiAgICogTk9URShNaXRjaGVsbCk6IEl0IGlzIGhvcGVkIHRoYXQgYm90aCBvZiB0aGVzZSBmaWVsZHMgY291bGQgYmUgc2FmZWx5XG4gICAqIGNoYW5nZWQgdG8gJ3JlcXVpcmVkJywgYnV0IHRoaXMgY2hhbmdlIGNhbm5vdCBiZSBtYWRlIHVudGlsIGl0IGlzIHByb3ZlbiB0b1xuICAgKiBiZSBzYWZlLiBUaGlzIGNvbW1lbnQgd2lsbCBiZSByZW1vdmVkLCBhbmQgdGhlIGZpZWxkcyB1cGRhdGVkLCBvbmNlIGFuXG4gICAqIGV4cGVyaW1lbnQgaGFzIGJlZW4gcnVuIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBjaGFuZ2Ugd291bGQgYmUgc2FmZS5cbiAgICovXG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZm9udDogQnJhbmRLaXRGb250IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKipcbiAgICAgKiBOT1RFKE1pdGNoZWxsKTogSXQgaXMgaG9wZWQgdGhhdCBib3RoIG9mIHRoZXNlIGZpZWxkcyBjb3VsZCBiZSBzYWZlbHlcbiAgICAgKiBjaGFuZ2VkIHRvICdyZXF1aXJlZCcsIGJ1dCB0aGlzIGNoYW5nZSBjYW5ub3QgYmUgbWFkZSB1bnRpbCBpdCBpcyBwcm92ZW4gdG9cbiAgICAgKiBiZSBzYWZlLiBUaGlzIGNvbW1lbnQgd2lsbCBiZSByZW1vdmVkLCBhbmQgdGhlIGZpZWxkcyB1cGRhdGVkLCBvbmNlIGFuXG4gICAgICogZXhwZXJpbWVudCBoYXMgYmVlbiBydW4gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGNoYW5nZSB3b3VsZCBiZSBzYWZlLlxuICAgICAqL1xuICAgIG5hbWU/OiBzdHJpbmcsXG4gICAgZm9udD86IEJyYW5kS2l0Rm9udCxcbiAgfSkge1xuICAgIC8qKlxuICAgICAqIE5PVEUoTWl0Y2hlbGwpOiBJdCBpcyBob3BlZCB0aGF0IGJvdGggb2YgdGhlc2UgZmllbGRzIGNvdWxkIGJlIHNhZmVseVxuICAgICAqIGNoYW5nZWQgdG8gJ3JlcXVpcmVkJywgYnV0IHRoaXMgY2hhbmdlIGNhbm5vdCBiZSBtYWRlIHVudGlsIGl0IGlzIHByb3ZlbiB0b1xuICAgICAqIGJlIHNhZmUuIFRoaXMgY29tbWVudCB3aWxsIGJlIHJlbW92ZWQsIGFuZCB0aGUgZmllbGRzIHVwZGF0ZWQsIG9uY2UgYW5cbiAgICAgKiBleHBlcmltZW50IGhhcyBiZWVuIHJ1biB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgY2hhbmdlIHdvdWxkIGJlIHNhZmUuXG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gb3B0cy5uYW1lO1xuICAgIHRoaXMuZm9udCA9IG9wdHMuZm9udDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVGV4dFN0eWxlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ25hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCduYW1lJywgbS5uYW1lKSxcbiAgICAgICdmb250JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZEtpdEZvbnQuc2VyaWFsaXplLCAnZm9udCcsIG0uZm9udCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBUZXh0U3R5bGUge1xuICAgIHJldHVybiBuZXcgVGV4dFN0eWxlKHtcbiAgICAgIG5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbmFtZScsIG8pLFxuICAgICAgZm9udDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kS2l0Rm9udC5kZXNlcmlhbGl6ZSwgJ2ZvbnQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVGV4dFN0eWxlUGFsZXR0ZSB7XG4gIC8qKlxuICAgKiBOT1RFKE1pdGNoZWxsKTogSXQgaXMgaG9wZWQgdGhhdCBib3RoIG9mIHRoZXNlIGZpZWxkcyBjb3VsZCBiZSBzYWZlbHlcbiAgICogY2hhbmdlZCB0byAncmVxdWlyZWQnLCBidXQgdGhpcyBjaGFuZ2UgY2Fubm90IGJlIG1hZGUgdW50aWwgaXQgaXMgcHJvdmVuIHRvXG4gICAqIGJlIHNhZmUuIFRoaXMgY29tbWVudCB3aWxsIGJlIHJlbW92ZWQsIGFuZCB0aGUgZmllbGRzIHVwZGF0ZWQsIG9uY2UgYW5cbiAgICogZXhwZXJpbWVudCBoYXMgYmVlbiBydW4gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGNoYW5nZSB3b3VsZCBiZSBzYWZlLlxuICAgKi9cbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB0ZXh0U3R5bGVzOiByZWFkb25seSBUZXh0U3R5bGVbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqXG4gICAgICogTk9URShNaXRjaGVsbCk6IEl0IGlzIGhvcGVkIHRoYXQgYm90aCBvZiB0aGVzZSBmaWVsZHMgY291bGQgYmUgc2FmZWx5XG4gICAgICogY2hhbmdlZCB0byAncmVxdWlyZWQnLCBidXQgdGhpcyBjaGFuZ2UgY2Fubm90IGJlIG1hZGUgdW50aWwgaXQgaXMgcHJvdmVuIHRvXG4gICAgICogYmUgc2FmZS4gVGhpcyBjb21tZW50IHdpbGwgYmUgcmVtb3ZlZCwgYW5kIHRoZSBmaWVsZHMgdXBkYXRlZCwgb25jZSBhblxuICAgICAqIGV4cGVyaW1lbnQgaGFzIGJlZW4gcnVuIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBjaGFuZ2Ugd291bGQgYmUgc2FmZS5cbiAgICAgKi9cbiAgICBuYW1lPzogc3RyaW5nLFxuICAgIHRleHRTdHlsZXM/OiByZWFkb25seSBUZXh0U3R5bGVbXSxcbiAgfSkge1xuICAgIC8qKlxuICAgICAqIE5PVEUoTWl0Y2hlbGwpOiBJdCBpcyBob3BlZCB0aGF0IGJvdGggb2YgdGhlc2UgZmllbGRzIGNvdWxkIGJlIHNhZmVseVxuICAgICAqIGNoYW5nZWQgdG8gJ3JlcXVpcmVkJywgYnV0IHRoaXMgY2hhbmdlIGNhbm5vdCBiZSBtYWRlIHVudGlsIGl0IGlzIHByb3ZlbiB0b1xuICAgICAqIGJlIHNhZmUuIFRoaXMgY29tbWVudCB3aWxsIGJlIHJlbW92ZWQsIGFuZCB0aGUgZmllbGRzIHVwZGF0ZWQsIG9uY2UgYW5cbiAgICAgKiBleHBlcmltZW50IGhhcyBiZWVuIHJ1biB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgY2hhbmdlIHdvdWxkIGJlIHNhZmUuXG4gICAgICovXG4gICAgdGhpcy5uYW1lID0gb3B0cy5uYW1lO1xuICAgIHRoaXMudGV4dFN0eWxlcyA9IG9wdHMudGV4dFN0eWxlcyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVGV4dFN0eWxlUGFsZXR0ZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICduYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbmFtZScsIG0ubmFtZSksXG4gICAgICAndGV4dFN0eWxlcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoVGV4dFN0eWxlLnNlcmlhbGl6ZSwgJ3RleHRTdHlsZXMnLCBtLnRleHRTdHlsZXMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVGV4dFN0eWxlUGFsZXR0ZSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0U3R5bGVQYWxldHRlKHtcbiAgICAgIG5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbmFtZScsIG8pLFxuICAgICAgdGV4dFN0eWxlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KFRleHRTdHlsZS5kZXNlcmlhbGl6ZSwgJ3RleHRTdHlsZXMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQnJhbmRLaXQge1xuICByZWFkb25seSBicmFuZENvbG9yOiBOYW1lZENvbG9yIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBjb2xvclBhbGV0dGVzOiByZWFkb25seSBDb2xvclBhbGV0dGVbXTtcbiAgcmVhZG9ubHkgdGV4dFN0eWxlUGFsZXR0ZXM6IHJlYWRvbmx5IFRleHRTdHlsZVBhbGV0dGVbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnJhbmRDb2xvcj86IE5hbWVkQ29sb3IsXG4gICAgY29sb3JQYWxldHRlcz86IHJlYWRvbmx5IENvbG9yUGFsZXR0ZVtdLFxuICAgIHRleHRTdHlsZVBhbGV0dGVzPzogcmVhZG9ubHkgVGV4dFN0eWxlUGFsZXR0ZVtdLFxuICB9KSB7XG4gICAgdGhpcy5icmFuZENvbG9yID0gb3B0cy5icmFuZENvbG9yO1xuICAgIHRoaXMuY29sb3JQYWxldHRlcyA9IG9wdHMuY29sb3JQYWxldHRlcyB8fCBbXTtcbiAgICB0aGlzLnRleHRTdHlsZVBhbGV0dGVzID0gb3B0cy50ZXh0U3R5bGVQYWxldHRlcyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQnJhbmRLaXQpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYnJhbmRDb2xvcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoTmFtZWRDb2xvci5zZXJpYWxpemUsICdicmFuZENvbG9yJywgbS5icmFuZENvbG9yKSxcbiAgICAgICdjb2xvclBhbGV0dGVzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChDb2xvclBhbGV0dGUuc2VyaWFsaXplLCAnY29sb3JQYWxldHRlcycsIG0uY29sb3JQYWxldHRlcyksXG4gICAgICAndGV4dFN0eWxlUGFsZXR0ZXMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KFRleHRTdHlsZVBhbGV0dGUuc2VyaWFsaXplLCAndGV4dFN0eWxlUGFsZXR0ZXMnLCBtLnRleHRTdHlsZVBhbGV0dGVzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJyYW5kS2l0IHtcbiAgICByZXR1cm4gbmV3IEJyYW5kS2l0KHtcbiAgICAgIGJyYW5kQ29sb3I6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChOYW1lZENvbG9yLmRlc2VyaWFsaXplLCAnYnJhbmRDb2xvcicsIG8pLFxuICAgICAgY29sb3JQYWxldHRlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KENvbG9yUGFsZXR0ZS5kZXNlcmlhbGl6ZSwgJ2NvbG9yUGFsZXR0ZXMnLCBvKSxcbiAgICAgIHRleHRTdHlsZVBhbGV0dGVzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoVGV4dFN0eWxlUGFsZXR0ZS5kZXNlcmlhbGl6ZSwgJ3RleHRTdHlsZVBhbGV0dGVzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVVzZXJSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgYW5hbHl0aWNzSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZW1haWw6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZW1haWxWZXJpZmllZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgdXNlcm5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgdXNlcm5hbWVTZWVkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHBhc3N3b3JkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGRpc3BsYXlOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHRlbXBvcmFyeTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcm9sZXM6IHJlYWRvbmx5IFVzZXJSb2xlW107XG4gIC8qKiBJZiBicmFuZEFzc29jaWF0aW9ucyBhcmUgcHJlc2VudCB0aGVuIG5vIHBlcnNvbmFsIGJyYW5kIGlzIGNyZWF0ZWQgZm9yIHRoZSBuZXcgdXNlciAqL1xuICByZWFkb25seSBicmFuZEFzc29jaWF0aW9uczogUmVhZG9ubHlNYXA8c3RyaW5nLCBCcmFuZFVzZXJSb2xlPjtcbiAgcmVhZG9ubHkgaG9tZXBhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgY2l0eTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBjb3VudHJ5Q29kZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgc3VwcG9ydGVkIGxvY2FsZSBmb3IgdGhpcyB1c2VyLiBEZWZhdWx0cyB0byBFTkdMSVNIIGlmIG5vdCBzdXBwbGllZC4gKi9cbiAgcmVhZG9ubHkgbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscyB8IHVuZGVmaW5lZDtcbiAgLyoqIGJyYW5kIGlkIG9mIHRoZSBBUEkgcmVxdWVzdGVyLiAqL1xuICByZWFkb25seSBhcGlCcmFuZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogZGVzaWduIHR5cGUgdGhhdCB0aGUgdXNlciB3YXMgZGlyZWN0ZWQgdG8gc2lnbnVwIHRvIHVzZS4gKi9cbiAgcmVhZG9ubHkgaW5pdGlhbERlc2lnblR5cGVOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiB0b2tlbiB0byBiZSBleGNoYW5nZWQgZm9yIGFjY2VzcyB0byBhIGJyYW5kLiBJZiBwcmVzZW50IG5vIHBlcnNvbmFsIGJyYW5kIGlzIGNyZWF0ZWQuICovXG4gIHJlYWRvbmx5IGJyYW5kQWNjZXNzVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIGlkZW50aWZpZXIgZm9yIGEgc2lnbnVwIHJlZmVycmFsIHBhZ2UuICovXG4gIHJlYWRvbmx5IHNpZ251cFJlZmVycmVyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCB1c2VyIGpvdXJuZXkgb3B0aW9uIHRoZSB1c2VyIHNlbGVjdGVkIGR1cmluZyBzaWdudXAgKi9cbiAgcmVhZG9ubHkgam91cm5leTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogbGlzdCBvZiBVc2VyQXR0cmlidXRlcyB3aGljaCBjYW4gYmUgc2V0IG9uIHVzZXIgY3JlYXRpb24gKi9cbiAgcmVhZG9ubHkgdXNlckF0dHJpYnV0ZXM6IHJlYWRvbmx5IFVzZXJBdHRyaWJ1dGVbXTtcbiAgLyoqIFJlZmVycmFsIGNvZGUgYmVsb25naW5nIHRvIHRoZSB1c2VyIChyZWZlcnJlcikgd2hvIHJlZmVycmVkIHRoaXMgbmV3IHVzZXIgKHJlZmVyZWUpLiAqL1xuICByZWFkb25seSByZWZlcnJlckNvZGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYW5hbHl0aWNzSWQ/OiBzdHJpbmcsXG4gICAgZW1haWw/OiBzdHJpbmcsXG4gICAgZW1haWxWZXJpZmllZD86IGJvb2xlYW4sXG4gICAgdXNlcm5hbWU/OiBzdHJpbmcsXG4gICAgdXNlcm5hbWVTZWVkPzogc3RyaW5nLFxuICAgIHBhc3N3b3JkPzogc3RyaW5nLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nLFxuICAgIHRlbXBvcmFyeT86IGJvb2xlYW4sXG4gICAgcm9sZXM/OiByZWFkb25seSBVc2VyUm9sZVtdLFxuICAgIC8qKiBJZiBicmFuZEFzc29jaWF0aW9ucyBhcmUgcHJlc2VudCB0aGVuIG5vIHBlcnNvbmFsIGJyYW5kIGlzIGNyZWF0ZWQgZm9yIHRoZSBuZXcgdXNlciAqL1xuICAgIGJyYW5kQXNzb2NpYXRpb25zPzogUmVhZG9ubHlNYXA8c3RyaW5nLCBCcmFuZFVzZXJSb2xlPixcbiAgICBob21lcGFnZT86IHN0cmluZyxcbiAgICBjaXR5Pzogc3RyaW5nLFxuICAgIGNvdW50cnlDb2RlPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCBzdXBwb3J0ZWQgbG9jYWxlIGZvciB0aGlzIHVzZXIuIERlZmF1bHRzIHRvIEVOR0xJU0ggaWYgbm90IHN1cHBsaWVkLiAqL1xuICAgIGxvY2FsZT86IHN0cmluZyxcbiAgICBjcmVkZW50aWFscz86IENyZWRlbnRpYWxzLFxuICAgIC8qKiBicmFuZCBpZCBvZiB0aGUgQVBJIHJlcXVlc3Rlci4gKi9cbiAgICBhcGlCcmFuZD86IHN0cmluZyxcbiAgICAvKiogZGVzaWduIHR5cGUgdGhhdCB0aGUgdXNlciB3YXMgZGlyZWN0ZWQgdG8gc2lnbnVwIHRvIHVzZS4gKi9cbiAgICBpbml0aWFsRGVzaWduVHlwZU5hbWU/OiBzdHJpbmcsXG4gICAgLyoqIHRva2VuIHRvIGJlIGV4Y2hhbmdlZCBmb3IgYWNjZXNzIHRvIGEgYnJhbmQuIElmIHByZXNlbnQgbm8gcGVyc29uYWwgYnJhbmQgaXMgY3JlYXRlZC4gKi9cbiAgICBicmFuZEFjY2Vzc1Rva2VuPzogc3RyaW5nLFxuICAgIC8qKiBpZGVudGlmaWVyIGZvciBhIHNpZ251cCByZWZlcnJhbCBwYWdlLiAqL1xuICAgIHNpZ251cFJlZmVycmVyPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCB1c2VyIGpvdXJuZXkgb3B0aW9uIHRoZSB1c2VyIHNlbGVjdGVkIGR1cmluZyBzaWdudXAgKi9cbiAgICBqb3VybmV5Pzogc3RyaW5nLFxuICAgIC8qKiBsaXN0IG9mIFVzZXJBdHRyaWJ1dGVzIHdoaWNoIGNhbiBiZSBzZXQgb24gdXNlciBjcmVhdGlvbiAqL1xuICAgIHVzZXJBdHRyaWJ1dGVzPzogcmVhZG9ubHkgVXNlckF0dHJpYnV0ZVtdLFxuICAgIC8qKiBSZWZlcnJhbCBjb2RlIGJlbG9uZ2luZyB0byB0aGUgdXNlciAocmVmZXJyZXIpIHdobyByZWZlcnJlZCB0aGlzIG5ldyB1c2VyIChyZWZlcmVlKS4gKi9cbiAgICByZWZlcnJlckNvZGU/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLmFuYWx5dGljc0lkID0gb3B0cy5hbmFseXRpY3NJZDtcbiAgICB0aGlzLmVtYWlsID0gb3B0cy5lbWFpbDtcbiAgICB0aGlzLmVtYWlsVmVyaWZpZWQgPSBvcHRzLmVtYWlsVmVyaWZpZWQ7XG4gICAgdGhpcy51c2VybmFtZSA9IG9wdHMudXNlcm5hbWU7XG4gICAgdGhpcy51c2VybmFtZVNlZWQgPSBvcHRzLnVzZXJuYW1lU2VlZDtcbiAgICB0aGlzLnBhc3N3b3JkID0gb3B0cy5wYXNzd29yZDtcbiAgICB0aGlzLmRpc3BsYXlOYW1lID0gb3B0cy5kaXNwbGF5TmFtZTtcbiAgICB0aGlzLnRlbXBvcmFyeSA9IG9wdHMudGVtcG9yYXJ5O1xuICAgIHRoaXMucm9sZXMgPSBvcHRzLnJvbGVzIHx8IFtdO1xuICAgIC8qKiBJZiBicmFuZEFzc29jaWF0aW9ucyBhcmUgcHJlc2VudCB0aGVuIG5vIHBlcnNvbmFsIGJyYW5kIGlzIGNyZWF0ZWQgZm9yIHRoZSBuZXcgdXNlciAqL1xuICAgIHRoaXMuYnJhbmRBc3NvY2lhdGlvbnMgPSBvcHRzLmJyYW5kQXNzb2NpYXRpb25zIHx8IG5ldyBNYXAoKTtcbiAgICB0aGlzLmhvbWVwYWdlID0gb3B0cy5ob21lcGFnZTtcbiAgICB0aGlzLmNpdHkgPSBvcHRzLmNpdHk7XG4gICAgdGhpcy5jb3VudHJ5Q29kZSA9IG9wdHMuY291bnRyeUNvZGU7XG4gICAgLyoqIE9wdGlvbmFsIHN1cHBvcnRlZCBsb2NhbGUgZm9yIHRoaXMgdXNlci4gRGVmYXVsdHMgdG8gRU5HTElTSCBpZiBub3Qgc3VwcGxpZWQuICovXG4gICAgdGhpcy5sb2NhbGUgPSBvcHRzLmxvY2FsZTtcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0cy5jcmVkZW50aWFscztcbiAgICAvKiogYnJhbmQgaWQgb2YgdGhlIEFQSSByZXF1ZXN0ZXIuICovXG4gICAgdGhpcy5hcGlCcmFuZCA9IG9wdHMuYXBpQnJhbmQ7XG4gICAgLyoqIGRlc2lnbiB0eXBlIHRoYXQgdGhlIHVzZXIgd2FzIGRpcmVjdGVkIHRvIHNpZ251cCB0byB1c2UuICovXG4gICAgdGhpcy5pbml0aWFsRGVzaWduVHlwZU5hbWUgPSBvcHRzLmluaXRpYWxEZXNpZ25UeXBlTmFtZTtcbiAgICAvKiogdG9rZW4gdG8gYmUgZXhjaGFuZ2VkIGZvciBhY2Nlc3MgdG8gYSBicmFuZC4gSWYgcHJlc2VudCBubyBwZXJzb25hbCBicmFuZCBpcyBjcmVhdGVkLiAqL1xuICAgIHRoaXMuYnJhbmRBY2Nlc3NUb2tlbiA9IG9wdHMuYnJhbmRBY2Nlc3NUb2tlbjtcbiAgICAvKiogaWRlbnRpZmllciBmb3IgYSBzaWdudXAgcmVmZXJyYWwgcGFnZS4gKi9cbiAgICB0aGlzLnNpZ251cFJlZmVycmVyID0gb3B0cy5zaWdudXBSZWZlcnJlcjtcbiAgICAvKiogT3B0aW9uYWwgdXNlciBqb3VybmV5IG9wdGlvbiB0aGUgdXNlciBzZWxlY3RlZCBkdXJpbmcgc2lnbnVwICovXG4gICAgdGhpcy5qb3VybmV5ID0gb3B0cy5qb3VybmV5O1xuICAgIC8qKiBsaXN0IG9mIFVzZXJBdHRyaWJ1dGVzIHdoaWNoIGNhbiBiZSBzZXQgb24gdXNlciBjcmVhdGlvbiAqL1xuICAgIHRoaXMudXNlckF0dHJpYnV0ZXMgPSBvcHRzLnVzZXJBdHRyaWJ1dGVzIHx8IFtdO1xuICAgIC8qKiBSZWZlcnJhbCBjb2RlIGJlbG9uZ2luZyB0byB0aGUgdXNlciAocmVmZXJyZXIpIHdobyByZWZlcnJlZCB0aGlzIG5ldyB1c2VyIChyZWZlcmVlKS4gKi9cbiAgICB0aGlzLnJlZmVycmVyQ29kZSA9IG9wdHMucmVmZXJyZXJDb2RlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVVc2VyUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdhbmFseXRpY3NJZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2FuYWx5dGljc0lkJywgbS5hbmFseXRpY3NJZCksXG4gICAgICAnZW1haWwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdlbWFpbCcsIG0uZW1haWwpLFxuICAgICAgJ2VtYWlsVmVyaWZpZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignZW1haWxWZXJpZmllZCcsIG0uZW1haWxWZXJpZmllZCksXG4gICAgICAndXNlcm5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VybmFtZScsIG0udXNlcm5hbWUpLFxuICAgICAgJ3VzZXJuYW1lU2VlZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXJuYW1lU2VlZCcsIG0udXNlcm5hbWVTZWVkKSxcbiAgICAgICdwYXNzd29yZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3Bhc3N3b3JkJywgbS5wYXNzd29yZCksXG4gICAgICAnZGlzcGxheU5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkaXNwbGF5TmFtZScsIG0uZGlzcGxheU5hbWUpLFxuICAgICAgJ3RlbXBvcmFyeSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCd0ZW1wb3JhcnknLCBtLnRlbXBvcmFyeSksXG4gICAgICAncm9sZXMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bShVc2VyUm9sZVV0aWwuc2VyaWFsaXplLCAncm9sZXMnLCBtLnJvbGVzKSxcbiAgICAgICdicmFuZEFzc29jaWF0aW9ucyc6IFNlcmlhbGl6YXRpb24uc3RyaW5nRW51bU1hcChCcmFuZFVzZXJSb2xlVXRpbC5zZXJpYWxpemUsICdicmFuZEFzc29jaWF0aW9ucycsIG0uYnJhbmRBc3NvY2lhdGlvbnMpLFxuICAgICAgJ2hvbWVwYWdlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaG9tZXBhZ2UnLCBtLmhvbWVwYWdlKSxcbiAgICAgICdjaXR5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY2l0eScsIG0uY2l0eSksXG4gICAgICAnY291bnRyeUNvZGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb3VudHJ5Q29kZScsIG0uY291bnRyeUNvZGUpLFxuICAgICAgJ2xvY2FsZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIG0ubG9jYWxlKSxcbiAgICAgICdjcmVkZW50aWFscyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQ3JlZGVudGlhbHMuc2VyaWFsaXplLCAnY3JlZGVudGlhbHMnLCBtLmNyZWRlbnRpYWxzKSxcbiAgICAgICdhcGlCcmFuZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2FwaUJyYW5kJywgbS5hcGlCcmFuZCksXG4gICAgICAnaW5pdGlhbERlc2lnblR5cGVOYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW5pdGlhbERlc2lnblR5cGVOYW1lJywgbS5pbml0aWFsRGVzaWduVHlwZU5hbWUpLFxuICAgICAgJ2JyYW5kQWNjZXNzVG9rZW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZEFjY2Vzc1Rva2VuJywgbS5icmFuZEFjY2Vzc1Rva2VuKSxcbiAgICAgICdzaWdudXBSZWZlcnJlcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3NpZ251cFJlZmVycmVyJywgbS5zaWdudXBSZWZlcnJlciksXG4gICAgICAnam91cm5leSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2pvdXJuZXknLCBtLmpvdXJuZXkpLFxuICAgICAgJ3VzZXJBdHRyaWJ1dGVzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChVc2VyQXR0cmlidXRlLnNlcmlhbGl6ZSwgJ3VzZXJBdHRyaWJ1dGVzJywgbS51c2VyQXR0cmlidXRlcyksXG4gICAgICAncmVmZXJyZXJDb2RlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmVmZXJyZXJDb2RlJywgbS5yZWZlcnJlckNvZGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlVXNlclJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgQ3JlYXRlVXNlclJlcXVlc3Qoe1xuICAgICAgYW5hbHl0aWNzSWQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYW5hbHl0aWNzSWQnLCBvKSxcbiAgICAgIGVtYWlsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2VtYWlsJywgbyksXG4gICAgICBlbWFpbFZlcmlmaWVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdlbWFpbFZlcmlmaWVkJywgbyksXG4gICAgICB1c2VybmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VybmFtZScsIG8pLFxuICAgICAgdXNlcm5hbWVTZWVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXJuYW1lU2VlZCcsIG8pLFxuICAgICAgcGFzc3dvcmQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncGFzc3dvcmQnLCBvKSxcbiAgICAgIGRpc3BsYXlOYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rpc3BsYXlOYW1lJywgbyksXG4gICAgICB0ZW1wb3Jhcnk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3RlbXBvcmFyeScsIG8pLFxuICAgICAgcm9sZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08VXNlclJvbGU+KFVzZXJSb2xlVXRpbC5kZXNlcmlhbGl6ZSwgJ3JvbGVzJywgbyksXG4gICAgICBicmFuZEFzc29jaWF0aW9uczogRGVzZXJpYWxpemF0aW9uLnN0cmluZ0VudW1NYXAoQnJhbmRVc2VyUm9sZVV0aWwuZGVzZXJpYWxpemUsICdicmFuZEFzc29jaWF0aW9ucycsIG8pLFxuICAgICAgaG9tZXBhZ2U6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaG9tZXBhZ2UnLCBvKSxcbiAgICAgIGNpdHk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY2l0eScsIG8pLFxuICAgICAgY291bnRyeUNvZGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY291bnRyeUNvZGUnLCBvKSxcbiAgICAgIGxvY2FsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBvKSxcbiAgICAgIGNyZWRlbnRpYWxzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQ3JlZGVudGlhbHMuZGVzZXJpYWxpemUsICdjcmVkZW50aWFscycsIG8pLFxuICAgICAgYXBpQnJhbmQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYXBpQnJhbmQnLCBvKSxcbiAgICAgIGluaXRpYWxEZXNpZ25UeXBlTmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbml0aWFsRGVzaWduVHlwZU5hbWUnLCBvKSxcbiAgICAgIGJyYW5kQWNjZXNzVG9rZW46IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmRBY2Nlc3NUb2tlbicsIG8pLFxuICAgICAgc2lnbnVwUmVmZXJyZXI6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2lnbnVwUmVmZXJyZXInLCBvKSxcbiAgICAgIGpvdXJuZXk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnam91cm5leScsIG8pLFxuICAgICAgdXNlckF0dHJpYnV0ZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChVc2VyQXR0cmlidXRlLmRlc2VyaWFsaXplLCAndXNlckF0dHJpYnV0ZXMnLCBvKSxcbiAgICAgIHJlZmVycmVyQ29kZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWZlcnJlckNvZGUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDcmVhdGVVc2VyUmVzcG9uc2VcbiAgICA9IENyZWF0ZVVzZXJTdWNjZXNzUmVzcG9uc2VcbiAgICB8IENyZWF0ZVVzZXJFcnJvclJlc3BvbnNlO1xuXG5leHBvcnQgY29uc3QgQ3JlYXRlVXNlclJlc3BvbnNlID0ge1xuICBzZXJpYWxpemUodTogQ3JlYXRlVXNlclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICBzd2l0Y2ggKHUudHlwZSkge1xuICAgICAgY2FzZSAnU1VDQ0VTUyc6IHJldHVybiBDcmVhdGVVc2VyU3VjY2Vzc1Jlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0VSUk9SJzogcmV0dXJuIENyZWF0ZVVzZXJFcnJvclJlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVVc2VyUmVzcG9uc2Uge1xuICAgIGNvbnN0IGthc2UgPSBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3R5cGUnLCBvKTtcbiAgICBzd2l0Y2ggKGthc2UpIHtcbiAgICAgIGNhc2UgJ1NVQ0NFU1MnOiByZXR1cm4gQ3JlYXRlVXNlclN1Y2Nlc3NSZXNwb25zZS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0VSUk9SJzogcmV0dXJuIENyZWF0ZVVzZXJFcnJvclJlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgQ3JlYXRlVXNlclN1Y2Nlc3NSZXNwb25zZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnU1VDQ0VTUyc7XG5cbiAgcmVhZG9ubHkgdXNlcjogVXNlckRldGFpbHM7XG4gIHJlYWRvbmx5IHBlcnNvbmFsQnJhbmQ6IEJyYW5kIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBzaWdudXBEYXRlOiBudW1iZXI7XG4gIC8qKiBBbmFseXRpYyBJRHMgdGhhdCB3ZXJlIGFzc29jaWF0ZWQgd2l0aCByZW1vdmVkIHJlc2VydmF0aW9ucyAqL1xuICByZWFkb25seSBhbmFseXRpY3NJZHM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuICByZWFkb25seSBhc3NvY2lhdGVkQnJhbmRzOiByZWFkb25seSBCcmFuZFtdO1xuICAvKiogVGhlIGJyYW5kIHRoYXQgd2FzIGNyZWF0ZWQgb3Igam9pbmVkIGFzIHBhcnQgb2YgdGhlIHNpZ251cCAqL1xuICByZWFkb25seSBicmFuZDogQnJhbmQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHVzZXI6IFVzZXJEZXRhaWxzLFxuICAgIHBlcnNvbmFsQnJhbmQ/OiBCcmFuZCxcbiAgICBzaWdudXBEYXRlOiBudW1iZXIsXG4gICAgLyoqIEFuYWx5dGljIElEcyB0aGF0IHdlcmUgYXNzb2NpYXRlZCB3aXRoIHJlbW92ZWQgcmVzZXJ2YXRpb25zICovXG4gICAgYW5hbHl0aWNzSWRzPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gICAgYXNzb2NpYXRlZEJyYW5kcz86IHJlYWRvbmx5IEJyYW5kW10sXG4gICAgLyoqIFRoZSBicmFuZCB0aGF0IHdhcyBjcmVhdGVkIG9yIGpvaW5lZCBhcyBwYXJ0IG9mIHRoZSBzaWdudXAgKi9cbiAgICBicmFuZDogQnJhbmQsXG4gIH0pIHtcbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgdGhpcy5wZXJzb25hbEJyYW5kID0gb3B0cy5wZXJzb25hbEJyYW5kO1xuICAgIHRoaXMuc2lnbnVwRGF0ZSA9IG9wdHMuc2lnbnVwRGF0ZTtcbiAgICAvKiogQW5hbHl0aWMgSURzIHRoYXQgd2VyZSBhc3NvY2lhdGVkIHdpdGggcmVtb3ZlZCByZXNlcnZhdGlvbnMgKi9cbiAgICB0aGlzLmFuYWx5dGljc0lkcyA9IG9wdHMuYW5hbHl0aWNzSWRzIHx8IFtdO1xuICAgIHRoaXMuYXNzb2NpYXRlZEJyYW5kcyA9IG9wdHMuYXNzb2NpYXRlZEJyYW5kcyB8fCBbXTtcbiAgICAvKiogVGhlIGJyYW5kIHRoYXQgd2FzIGNyZWF0ZWQgb3Igam9pbmVkIGFzIHBhcnQgb2YgdGhlIHNpZ251cCAqL1xuICAgIHRoaXMuYnJhbmQgPSBvcHRzLmJyYW5kO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVVc2VyU3VjY2Vzc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU1VDQ0VTUycsXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoVXNlckRldGFpbHMuc2VyaWFsaXplLCAndXNlcicsIG0udXNlciksXG4gICAgICAncGVyc29uYWxCcmFuZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmQuc2VyaWFsaXplLCAncGVyc29uYWxCcmFuZCcsIG0ucGVyc29uYWxCcmFuZCksXG4gICAgICAnc2lnbnVwRGF0ZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3NpZ251cERhdGUnLCBtLnNpZ251cERhdGUpLFxuICAgICAgJ2FuYWx5dGljc0lkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2FuYWx5dGljc0lkcycsIG0uYW5hbHl0aWNzSWRzKSxcbiAgICAgICdhc3NvY2lhdGVkQnJhbmRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChCcmFuZC5zZXJpYWxpemUsICdhc3NvY2lhdGVkQnJhbmRzJywgbS5hc3NvY2lhdGVkQnJhbmRzKSxcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoQnJhbmQuc2VyaWFsaXplLCAnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IENyZWF0ZVVzZXJTdWNjZXNzUmVzcG9uc2Uge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdTVUNDRVNTJyk7XG4gICAgcmV0dXJuIG5ldyBDcmVhdGVVc2VyU3VjY2Vzc1Jlc3BvbnNlKHtcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChVc2VyRGV0YWlscy5kZXNlcmlhbGl6ZSwgJ3VzZXInLCBvKSxcbiAgICAgIHBlcnNvbmFsQnJhbmQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZC5kZXNlcmlhbGl6ZSwgJ3BlcnNvbmFsQnJhbmQnLCBvKSxcbiAgICAgIHNpZ251cERhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignc2lnbnVwRGF0ZScsIG8pLFxuICAgICAgYW5hbHl0aWNzSWRzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2FuYWx5dGljc0lkcycsIG8pLFxuICAgICAgYXNzb2NpYXRlZEJyYW5kczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEJyYW5kLmRlc2VyaWFsaXplLCAnYXNzb2NpYXRlZEJyYW5kcycsIG8pLFxuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChCcmFuZC5kZXNlcmlhbGl6ZSwgJ2JyYW5kJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZVVzZXJFcnJvclJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdFUlJPUic7XG5cbiAgLyoqXG4gICAqIEEgbG9jYWxpemVkIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciB0byBoZWxwIGluZm9ybSB0aGUgdXNlciB3aGF0IHdlbnRcbiAgICogd3JvbmcuXG4gICAqL1xuICByZWFkb25seSBtZXNzYWdlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKlxuICAgICAqIEEgbG9jYWxpemVkIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciB0byBoZWxwIGluZm9ybSB0aGUgdXNlciB3aGF0IHdlbnRcbiAgICAgKiB3cm9uZy5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKipcbiAgICAgKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50XG4gICAgICogd3JvbmcuXG4gICAgICovXG4gICAgdGhpcy5tZXNzYWdlID0gb3B0cy5tZXNzYWdlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVVc2VyRXJyb3JSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ0VSUk9SJyxcbiAgICAgICdtZXNzYWdlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnbWVzc2FnZScsIG0ubWVzc2FnZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVVc2VyRXJyb3JSZXNwb25zZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ0VSUk9SJyk7XG4gICAgcmV0dXJuIG5ldyBDcmVhdGVVc2VyRXJyb3JSZXNwb25zZSh7XG4gICAgICBtZXNzYWdlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21lc3NhZ2UnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0VXNlclJlcXVlc3Qge1xuICAvKiogR2V0IHVzZXIgYnkgaWQuICovXG4gIHJlYWRvbmx5IGJ5SWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIEdldCB1c2VyIGJ5IHVzZXJuYW1lLiAqL1xuICByZWFkb25seSBieVVzZXJuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBHZXQgdXNlciBieSBlbWFpbC4gKi9cbiAgcmVhZG9ubHkgYnlFbWFpbDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogR2V0IHVzZXIgYnkgaWQuICovXG4gICAgYnlJZD86IHN0cmluZyxcbiAgICAvKiogR2V0IHVzZXIgYnkgdXNlcm5hbWUuICovXG4gICAgYnlVc2VybmFtZT86IHN0cmluZyxcbiAgICAvKiogR2V0IHVzZXIgYnkgZW1haWwuICovXG4gICAgYnlFbWFpbD86IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBHZXQgdXNlciBieSBpZC4gKi9cbiAgICB0aGlzLmJ5SWQgPSBvcHRzLmJ5SWQ7XG4gICAgLyoqIEdldCB1c2VyIGJ5IHVzZXJuYW1lLiAqL1xuICAgIHRoaXMuYnlVc2VybmFtZSA9IG9wdHMuYnlVc2VybmFtZTtcbiAgICAvKiogR2V0IHVzZXIgYnkgZW1haWwuICovXG4gICAgdGhpcy5ieUVtYWlsID0gb3B0cy5ieUVtYWlsO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRVc2VyUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdieUlkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlJZCcsIG0uYnlJZCksXG4gICAgICAnYnlVc2VybmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5VXNlcm5hbWUnLCBtLmJ5VXNlcm5hbWUpLFxuICAgICAgJ2J5RW1haWwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdieUVtYWlsJywgbS5ieUVtYWlsKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldFVzZXJSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEdldFVzZXJSZXF1ZXN0KHtcbiAgICAgIGJ5SWQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlJZCcsIG8pLFxuICAgICAgYnlVc2VybmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdieVVzZXJuYW1lJywgbyksXG4gICAgICBieUVtYWlsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5RW1haWwnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0VXNlclJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgdXNlcjogVXNlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdXNlcjogVXNlcixcbiAgfSkge1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0VXNlclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KFVzZXIuc2VyaWFsaXplLCAndXNlcicsIG0udXNlciksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRVc2VyUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0VXNlclJlc3BvbnNlKHtcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChVc2VyLmRlc2VyaWFsaXplLCAndXNlcicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kVXNlcnNSZXF1ZXN0IHtcbiAgLyoqIE9wdGlvbmFsIHJlc3RyaWN0aW9uIHRvIGlkcyBpbiBhIGNvbGxlY3Rpb24uICovXG4gIHJlYWRvbmx5IGlkczogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byBlbWFpbHMgaW4gYSBjb2xsZWN0aW9uICovXG4gIHJlYWRvbmx5IGVtYWlsczogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBPcHRpb25hbCBzdHJpbmcgdG8gbWF0Y2ggYWdhaW5zdCBpZCwgbmFtZSBvciBlbWFpbC4gQ2FzZS1pbnNlbnNpdGl2ZSBwcmVmaXggbWF0Y2hpbmcuICovXG4gIHJlYWRvbmx5IG5hbWVFbWFpbFF1ZXJ5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byB1c2VycyB3aG8gYmVsb25nIHRvIHRoaXMgYnJhbmQuICovXG4gIHJlYWRvbmx5IGJyYW5kOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byB1c2VycyB3aXRoIGV4YWN0bHkgdGhpcyByb2xlLiAqL1xuICByZWFkb25seSByb2xlOiBVc2VyUm9sZSB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIHJlc3RyaWN0aW9uIHRvIHVzZXJzIHdob3NlIGRlYWN0aXZhdGVkIHN0YXR1cyBtYXRjaGVzLiAqL1xuICByZWFkb25seSBkZWFjdGl2YXRlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIHByb2plY3Rpb24gdG8gaW5jbHVkZSBhdmF0YXJzLiAqL1xuICByZWFkb25seSBpbmNsdWRlQXZhdGFyczogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIGNvbnRpbnVhdGlvbi4gKi9cbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGxpbWl0OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byBpZHMgaW4gYSBjb2xsZWN0aW9uLiAqL1xuICAgIGlkcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byBlbWFpbHMgaW4gYSBjb2xsZWN0aW9uICovXG4gICAgZW1haWxzPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gICAgLyoqIE9wdGlvbmFsIHN0cmluZyB0byBtYXRjaCBhZ2FpbnN0IGlkLCBuYW1lIG9yIGVtYWlsLiBDYXNlLWluc2Vuc2l0aXZlIHByZWZpeCBtYXRjaGluZy4gKi9cbiAgICBuYW1lRW1haWxRdWVyeT86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgcmVzdHJpY3Rpb24gdG8gdXNlcnMgd2hvIGJlbG9uZyB0byB0aGlzIGJyYW5kLiAqL1xuICAgIGJyYW5kPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byB1c2VycyB3aXRoIGV4YWN0bHkgdGhpcyByb2xlLiAqL1xuICAgIHJvbGU/OiBVc2VyUm9sZSxcbiAgICAvKiogT3B0aW9uYWwgcmVzdHJpY3Rpb24gdG8gdXNlcnMgd2hvc2UgZGVhY3RpdmF0ZWQgc3RhdHVzIG1hdGNoZXMuICovXG4gICAgZGVhY3RpdmF0ZWQ/OiBib29sZWFuLFxuICAgIC8qKiBPcHRpb25hbCBwcm9qZWN0aW9uIHRvIGluY2x1ZGUgYXZhdGFycy4gKi9cbiAgICBpbmNsdWRlQXZhdGFycz86IGJvb2xlYW4sXG4gICAgLyoqIE9wdGlvbmFsIGNvbnRpbnVhdGlvbi4gKi9cbiAgICBjb250aW51YXRpb24/OiBzdHJpbmcsXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gIH0pIHtcbiAgICAvKiogT3B0aW9uYWwgcmVzdHJpY3Rpb24gdG8gaWRzIGluIGEgY29sbGVjdGlvbi4gKi9cbiAgICB0aGlzLmlkcyA9IG9wdHMuaWRzIHx8IFtdO1xuICAgIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byBlbWFpbHMgaW4gYSBjb2xsZWN0aW9uICovXG4gICAgdGhpcy5lbWFpbHMgPSBvcHRzLmVtYWlscyB8fCBbXTtcbiAgICAvKiogT3B0aW9uYWwgc3RyaW5nIHRvIG1hdGNoIGFnYWluc3QgaWQsIG5hbWUgb3IgZW1haWwuIENhc2UtaW5zZW5zaXRpdmUgcHJlZml4IG1hdGNoaW5nLiAqL1xuICAgIHRoaXMubmFtZUVtYWlsUXVlcnkgPSBvcHRzLm5hbWVFbWFpbFF1ZXJ5O1xuICAgIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byB1c2VycyB3aG8gYmVsb25nIHRvIHRoaXMgYnJhbmQuICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIE9wdGlvbmFsIHJlc3RyaWN0aW9uIHRvIHVzZXJzIHdpdGggZXhhY3RseSB0aGlzIHJvbGUuICovXG4gICAgdGhpcy5yb2xlID0gb3B0cy5yb2xlO1xuICAgIC8qKiBPcHRpb25hbCByZXN0cmljdGlvbiB0byB1c2VycyB3aG9zZSBkZWFjdGl2YXRlZCBzdGF0dXMgbWF0Y2hlcy4gKi9cbiAgICB0aGlzLmRlYWN0aXZhdGVkID0gb3B0cy5kZWFjdGl2YXRlZDtcbiAgICAvKiogT3B0aW9uYWwgcHJvamVjdGlvbiB0byBpbmNsdWRlIGF2YXRhcnMuICovXG4gICAgdGhpcy5pbmNsdWRlQXZhdGFycyA9IG9wdHMuaW5jbHVkZUF2YXRhcnM7XG4gICAgLyoqIE9wdGlvbmFsIGNvbnRpbnVhdGlvbi4gKi9cbiAgICB0aGlzLmNvbnRpbnVhdGlvbiA9IG9wdHMuY29udGludWF0aW9uO1xuICAgIHRoaXMubGltaXQgPSBvcHRzLmxpbWl0ICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmxpbWl0XG4gICAgICAgIDogMTAwO1xuXG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRVc2Vyc1JlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnaWRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnaWRzJywgbS5pZHMpLFxuICAgICAgJ2VtYWlscyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2VtYWlscycsIG0uZW1haWxzKSxcbiAgICAgICduYW1lRW1haWxRdWVyeSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ25hbWVFbWFpbFF1ZXJ5JywgbS5uYW1lRW1haWxRdWVyeSksXG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ3JvbGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShVc2VyUm9sZVV0aWwuc2VyaWFsaXplLCAncm9sZScsIG0ucm9sZSksXG4gICAgICAnZGVhY3RpdmF0ZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignZGVhY3RpdmF0ZWQnLCBtLmRlYWN0aXZhdGVkKSxcbiAgICAgICdpbmNsdWRlQXZhdGFycyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdpbmNsdWRlQXZhdGFycycsIG0uaW5jbHVkZUF2YXRhcnMpLFxuICAgICAgJ2NvbnRpbnVhdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG0uY29udGludWF0aW9uKSxcbiAgICAgICdsaW1pdCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2xpbWl0JywgbS5saW1pdCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kVXNlcnNSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEZpbmRVc2Vyc1JlcXVlc3Qoe1xuICAgICAgaWRzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2lkcycsIG8pLFxuICAgICAgZW1haWxzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2VtYWlscycsIG8pLFxuICAgICAgbmFtZUVtYWlsUXVlcnk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbmFtZUVtYWlsUXVlcnknLCBvKSxcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICByb2xlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtPFVzZXJSb2xlPihVc2VyUm9sZVV0aWwuZGVzZXJpYWxpemUsICdyb2xlJywgbyksXG4gICAgICBkZWFjdGl2YXRlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignZGVhY3RpdmF0ZWQnLCBvKSxcbiAgICAgIGluY2x1ZGVBdmF0YXJzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdpbmNsdWRlQXZhdGFycycsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgbGltaXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZFVzZXJzUmVzcG9uc2Uge1xuICAvKipcbiAgICogSWYgYW4gZW1haWwgbGlzdCB3YXMgcHJvdmlkZWQgaW4gdGhlIHJlcXVlc3QsIHRoZSBzdWJzZXQgb2YgdGhvc2UgZW1haWxzIHRoYXQgbWF0Y2hlZCB1c2Vycy5cbiAgICogVGhlIG9yZGVyIG1hdGNoZXMgdGhlIG9yZGVyIG9mIHtAbGluayAjdXNlcnN9LlxuICAgKi9cbiAgcmVhZG9ubHkgZW1haWxzOiByZWFkb25seSBzdHJpbmdbXTtcbiAgLyoqIFVzZXJzLCBpbmRleGVkIGJ5IHVzZXIgaWQuICovXG4gIHJlYWRvbmx5IHVzZXJzOiByZWFkb25seSBVc2VyW107XG4gIHJlYWRvbmx5IGNvbnRpbnVhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKipcbiAgICAgKiBJZiBhbiBlbWFpbCBsaXN0IHdhcyBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdCwgdGhlIHN1YnNldCBvZiB0aG9zZSBlbWFpbHMgdGhhdCBtYXRjaGVkIHVzZXJzLlxuICAgICAqIFRoZSBvcmRlciBtYXRjaGVzIHRoZSBvcmRlciBvZiB7QGxpbmsgI3VzZXJzfS5cbiAgICAgKi9cbiAgICBlbWFpbHM/OiByZWFkb25seSBzdHJpbmdbXSxcbiAgICAvKiogVXNlcnMsIGluZGV4ZWQgYnkgdXNlciBpZC4gKi9cbiAgICB1c2Vycz86IHJlYWRvbmx5IFVzZXJbXSxcbiAgICBjb250aW51YXRpb24/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKipcbiAgICAgKiBJZiBhbiBlbWFpbCBsaXN0IHdhcyBwcm92aWRlZCBpbiB0aGUgcmVxdWVzdCwgdGhlIHN1YnNldCBvZiB0aG9zZSBlbWFpbHMgdGhhdCBtYXRjaGVkIHVzZXJzLlxuICAgICAqIFRoZSBvcmRlciBtYXRjaGVzIHRoZSBvcmRlciBvZiB7QGxpbmsgI3VzZXJzfS5cbiAgICAgKi9cbiAgICB0aGlzLmVtYWlscyA9IG9wdHMuZW1haWxzIHx8IFtdO1xuICAgIC8qKiBVc2VycywgaW5kZXhlZCBieSB1c2VyIGlkLiAqL1xuICAgIHRoaXMudXNlcnMgPSBvcHRzLnVzZXJzIHx8IFtdO1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRVc2Vyc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2VtYWlscyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2VtYWlscycsIG0uZW1haWxzKSxcbiAgICAgICd1c2Vycyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoVXNlci5zZXJpYWxpemUsICd1c2VycycsIG0udXNlcnMpLFxuICAgICAgJ2NvbnRpbnVhdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG0uY29udGludWF0aW9uKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRVc2Vyc1Jlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IEZpbmRVc2Vyc1Jlc3BvbnNlKHtcbiAgICAgIGVtYWlsczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdlbWFpbHMnLCBvKSxcbiAgICAgIHVzZXJzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoVXNlci5kZXNlcmlhbGl6ZSwgJ3VzZXJzJywgbyksXG4gICAgICBjb250aW51YXRpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldFVzZXJEZXRhaWxzUmVxdWVzdCB7XG4gIHJlYWRvbmx5IGJ5SWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYnlQZXJzb25hbEJyYW5kOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGJ5RW1haWw6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYnlQaG9uZU51bWJlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBieVVzZXJuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGJ5QXBpS2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGJ5RmFjZWJvb2tJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBwbGF0Zm9ybTogUGxhdGZvcm0gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGV4dGVybmFsSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFNldCBvZiB1c2VyIHByb2plY3Rpb25zIHRvIGluY2x1ZGUgaW4gcmVzcG9uc2UuICovXG4gIHJlYWRvbmx5IHByb2plY3Rpb246IHJlYWRvbmx5IFVzZXJEZXRhaWxzQ29tcG9uZW50W107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGJ5SWQ/OiBzdHJpbmcsXG4gICAgYnlQZXJzb25hbEJyYW5kPzogc3RyaW5nLFxuICAgIGJ5RW1haWw/OiBzdHJpbmcsXG4gICAgYnlQaG9uZU51bWJlcj86IHN0cmluZyxcbiAgICBieVVzZXJuYW1lPzogc3RyaW5nLFxuICAgIGJ5QXBpS2V5Pzogc3RyaW5nLFxuICAgIGJ5RmFjZWJvb2tJZD86IHN0cmluZyxcbiAgICBwbGF0Zm9ybT86IFBsYXRmb3JtLFxuICAgIGV4dGVybmFsSWQ/OiBzdHJpbmcsXG4gICAgLyoqIFNldCBvZiB1c2VyIHByb2plY3Rpb25zIHRvIGluY2x1ZGUgaW4gcmVzcG9uc2UuICovXG4gICAgcHJvamVjdGlvbj86IHJlYWRvbmx5IFVzZXJEZXRhaWxzQ29tcG9uZW50W10sXG4gIH0pIHtcbiAgICB0aGlzLmJ5SWQgPSBvcHRzLmJ5SWQ7XG4gICAgdGhpcy5ieVBlcnNvbmFsQnJhbmQgPSBvcHRzLmJ5UGVyc29uYWxCcmFuZDtcbiAgICB0aGlzLmJ5RW1haWwgPSBvcHRzLmJ5RW1haWw7XG4gICAgdGhpcy5ieVBob25lTnVtYmVyID0gb3B0cy5ieVBob25lTnVtYmVyO1xuICAgIHRoaXMuYnlVc2VybmFtZSA9IG9wdHMuYnlVc2VybmFtZTtcbiAgICB0aGlzLmJ5QXBpS2V5ID0gb3B0cy5ieUFwaUtleTtcbiAgICB0aGlzLmJ5RmFjZWJvb2tJZCA9IG9wdHMuYnlGYWNlYm9va0lkO1xuICAgIHRoaXMucGxhdGZvcm0gPSBvcHRzLnBsYXRmb3JtO1xuICAgIHRoaXMuZXh0ZXJuYWxJZCA9IG9wdHMuZXh0ZXJuYWxJZDtcbiAgICAvKiogU2V0IG9mIHVzZXIgcHJvamVjdGlvbnMgdG8gaW5jbHVkZSBpbiByZXNwb25zZS4gKi9cbiAgICB0aGlzLnByb2plY3Rpb24gPSBvcHRzLnByb2plY3Rpb24gfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldFVzZXJEZXRhaWxzUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdieUlkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlJZCcsIG0uYnlJZCksXG4gICAgICAnYnlQZXJzb25hbEJyYW5kJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlQZXJzb25hbEJyYW5kJywgbS5ieVBlcnNvbmFsQnJhbmQpLFxuICAgICAgJ2J5RW1haWwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdieUVtYWlsJywgbS5ieUVtYWlsKSxcbiAgICAgICdieVBob25lTnVtYmVyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlQaG9uZU51bWJlcicsIG0uYnlQaG9uZU51bWJlciksXG4gICAgICAnYnlVc2VybmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5VXNlcm5hbWUnLCBtLmJ5VXNlcm5hbWUpLFxuICAgICAgJ2J5QXBpS2V5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlBcGlLZXknLCBtLmJ5QXBpS2V5KSxcbiAgICAgICdieUZhY2Vib29rSWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdieUZhY2Vib29rSWQnLCBtLmJ5RmFjZWJvb2tJZCksXG4gICAgICAncGxhdGZvcm0nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShQbGF0Zm9ybVV0aWwuc2VyaWFsaXplLCAncGxhdGZvcm0nLCBtLnBsYXRmb3JtKSxcbiAgICAgICdleHRlcm5hbElkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZXh0ZXJuYWxJZCcsIG0uZXh0ZXJuYWxJZCksXG4gICAgICAncHJvamVjdGlvbic6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKFVzZXJEZXRhaWxzQ29tcG9uZW50VXRpbC5zZXJpYWxpemUsICdwcm9qZWN0aW9uJywgbS5wcm9qZWN0aW9uKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldFVzZXJEZXRhaWxzUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRVc2VyRGV0YWlsc1JlcXVlc3Qoe1xuICAgICAgYnlJZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdieUlkJywgbyksXG4gICAgICBieVBlcnNvbmFsQnJhbmQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlQZXJzb25hbEJyYW5kJywgbyksXG4gICAgICBieUVtYWlsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5RW1haWwnLCBvKSxcbiAgICAgIGJ5UGhvbmVOdW1iZXI6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlQaG9uZU51bWJlcicsIG8pLFxuICAgICAgYnlVc2VybmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdieVVzZXJuYW1lJywgbyksXG4gICAgICBieUFwaUtleTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdieUFwaUtleScsIG8pLFxuICAgICAgYnlGYWNlYm9va0lkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5RmFjZWJvb2tJZCcsIG8pLFxuICAgICAgcGxhdGZvcm06IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08UGxhdGZvcm0+KFBsYXRmb3JtVXRpbC5kZXNlcmlhbGl6ZSwgJ3BsYXRmb3JtJywgbyksXG4gICAgICBleHRlcm5hbElkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2V4dGVybmFsSWQnLCBvKSxcbiAgICAgIHByb2plY3Rpb246IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08VXNlckRldGFpbHNDb21wb25lbnQ+KFVzZXJEZXRhaWxzQ29tcG9uZW50VXRpbC5kZXNlcmlhbGl6ZSwgJ3Byb2plY3Rpb24nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0VXNlckRldGFpbHNSZXNwb25zZSB7XG4gIHJlYWRvbmx5IHVzZXI6IFVzZXJEZXRhaWxzO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICB1c2VyOiBVc2VyRGV0YWlscyxcbiAgfSkge1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0VXNlckRldGFpbHNSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChVc2VyRGV0YWlscy5zZXJpYWxpemUsICd1c2VyJywgbS51c2VyKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldFVzZXJEZXRhaWxzUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0VXNlckRldGFpbHNSZXNwb25zZSh7XG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoVXNlckRldGFpbHMuZGVzZXJpYWxpemUsICd1c2VyJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIEFuc3dlcnMgXCJDYW4gdGhlIGNhbGxpbmcgY29udGV4dCBkbyBmb28gdG8gdGhpcyBVc2VyP1wiICovXG5leHBvcnQgY2xhc3MgVXNlckNhcGFiaWxpdGllcyB7XG4gIC8qKiBUcnVlIGlmIHRoZSBjYWxsaW5nIGNvbnRleHQgY2FuIGNoYW5nZSB0aGlzIHVzZXIncyBwYXNzd29yZCAqL1xuICByZWFkb25seSBjYW5VcGRhdGVQYXNzd29yZDogYm9vbGVhbjtcbiAgLyoqIFRydWUgaWYgdGhlIGNhbGxpbmcgY29udGV4dCBjYW4gYWRkIG9yIHJlbW92ZSB0aGUgU1VQUE9SVCByb2xlIGZyb20gdGhpcyB1c2VyLiAqL1xuICByZWFkb25seSBjYW5VcGRhdGVTdXBwb3J0Um9sZTogYm9vbGVhbjtcbiAgLyoqIFRydWUgaWYgdGhlIGNhbGxpbmcgY29udGV4dCBjYW4gYWRkIG9yIHJlbW92ZSB0aGUgTUFSS0VUUExBQ0VfQURNSU4gcm9sZSBmcm9tIHRoaXMgdXNlci4gKi9cbiAgcmVhZG9ubHkgY2FuVXBkYXRlTWFya2V0cGxhY2VBZG1pblJvbGU6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBUcnVlIGlmIHRoZSBjYWxsaW5nIGNvbnRleHQgY2FuIGNoYW5nZSB0aGlzIHVzZXIncyBwYXNzd29yZCAqL1xuICAgIGNhblVwZGF0ZVBhc3N3b3JkPzogYm9vbGVhbixcbiAgICAvKiogVHJ1ZSBpZiB0aGUgY2FsbGluZyBjb250ZXh0IGNhbiBhZGQgb3IgcmVtb3ZlIHRoZSBTVVBQT1JUIHJvbGUgZnJvbSB0aGlzIHVzZXIuICovXG4gICAgY2FuVXBkYXRlU3VwcG9ydFJvbGU/OiBib29sZWFuLFxuICAgIC8qKiBUcnVlIGlmIHRoZSBjYWxsaW5nIGNvbnRleHQgY2FuIGFkZCBvciByZW1vdmUgdGhlIE1BUktFVFBMQUNFX0FETUlOIHJvbGUgZnJvbSB0aGlzIHVzZXIuICovXG4gICAgY2FuVXBkYXRlTWFya2V0cGxhY2VBZG1pblJvbGU/OiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqIFRydWUgaWYgdGhlIGNhbGxpbmcgY29udGV4dCBjYW4gY2hhbmdlIHRoaXMgdXNlcidzIHBhc3N3b3JkICovXG4gICAgdGhpcy5jYW5VcGRhdGVQYXNzd29yZCA9IG9wdHMuY2FuVXBkYXRlUGFzc3dvcmQgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuY2FuVXBkYXRlUGFzc3dvcmRcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUcnVlIGlmIHRoZSBjYWxsaW5nIGNvbnRleHQgY2FuIGFkZCBvciByZW1vdmUgdGhlIFNVUFBPUlQgcm9sZSBmcm9tIHRoaXMgdXNlci4gKi9cbiAgICB0aGlzLmNhblVwZGF0ZVN1cHBvcnRSb2xlID0gb3B0cy5jYW5VcGRhdGVTdXBwb3J0Um9sZSAhPSBudWxsXG4gICAgICAgID8gb3B0cy5jYW5VcGRhdGVTdXBwb3J0Um9sZVxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqIFRydWUgaWYgdGhlIGNhbGxpbmcgY29udGV4dCBjYW4gYWRkIG9yIHJlbW92ZSB0aGUgTUFSS0VUUExBQ0VfQURNSU4gcm9sZSBmcm9tIHRoaXMgdXNlci4gKi9cbiAgICB0aGlzLmNhblVwZGF0ZU1hcmtldHBsYWNlQWRtaW5Sb2xlID0gb3B0cy5jYW5VcGRhdGVNYXJrZXRwbGFjZUFkbWluUm9sZSAhPSBudWxsXG4gICAgICAgID8gb3B0cy5jYW5VcGRhdGVNYXJrZXRwbGFjZUFkbWluUm9sZVxuICAgICAgICA6IGZhbHNlO1xuXG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVzZXJDYXBhYmlsaXRpZXMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnQSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjYW5VcGRhdGVQYXNzd29yZCcsIG0uY2FuVXBkYXRlUGFzc3dvcmQpLFxuICAgICAgJ0InOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY2FuVXBkYXRlU3VwcG9ydFJvbGUnLCBtLmNhblVwZGF0ZVN1cHBvcnRSb2xlKSxcbiAgICAgICdDJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NhblVwZGF0ZU1hcmtldHBsYWNlQWRtaW5Sb2xlJywgbS5jYW5VcGRhdGVNYXJrZXRwbGFjZUFkbWluUm9sZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVc2VyQ2FwYWJpbGl0aWVzIHtcbiAgICByZXR1cm4gbmV3IFVzZXJDYXBhYmlsaXRpZXMoe1xuICAgICAgY2FuVXBkYXRlUGFzc3dvcmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ0EnLCBvKSxcbiAgICAgIGNhblVwZGF0ZVN1cHBvcnRSb2xlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdCJywgbyksXG4gICAgICBjYW5VcGRhdGVNYXJrZXRwbGFjZUFkbWluUm9sZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignQycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VyIHtcbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgdXNlcm5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcGVyc29uYWxCcmFuZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBob21lcGFnZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBjaXR5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGNvdW50cnlDb2RlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGF2YXRhcjogQXZhdGFyQnVuZGxlO1xuICByZWFkb25seSBsb2NhbGU6IHN0cmluZztcbiAgcmVhZG9ubHkgZGVhY3RpdmF0ZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGlkOiBzdHJpbmcsXG4gICAgdXNlcm5hbWU/OiBzdHJpbmcsXG4gICAgcGVyc29uYWxCcmFuZD86IHN0cmluZyxcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyxcbiAgICBob21lcGFnZT86IHN0cmluZyxcbiAgICBjaXR5Pzogc3RyaW5nLFxuICAgIGNvdW50cnlDb2RlPzogc3RyaW5nLFxuICAgIGF2YXRhcjogQXZhdGFyQnVuZGxlLFxuICAgIGxvY2FsZTogc3RyaW5nLFxuICAgIGRlYWN0aXZhdGVkOiBib29sZWFuLFxuICB9KSB7XG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gICAgdGhpcy51c2VybmFtZSA9IG9wdHMudXNlcm5hbWU7XG4gICAgdGhpcy5wZXJzb25hbEJyYW5kID0gb3B0cy5wZXJzb25hbEJyYW5kO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHRzLmRpc3BsYXlOYW1lO1xuICAgIHRoaXMuaG9tZXBhZ2UgPSBvcHRzLmhvbWVwYWdlO1xuICAgIHRoaXMuY2l0eSA9IG9wdHMuY2l0eTtcbiAgICB0aGlzLmNvdW50cnlDb2RlID0gb3B0cy5jb3VudHJ5Q29kZTtcbiAgICB0aGlzLmF2YXRhciA9IG9wdHMuYXZhdGFyO1xuICAgIHRoaXMubG9jYWxlID0gb3B0cy5sb2NhbGU7XG4gICAgdGhpcy5kZWFjdGl2YXRlZCA9IG9wdHMuZGVhY3RpdmF0ZWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVzZXIpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnaWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG0uaWQpLFxuICAgICAgJ3VzZXJuYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcm5hbWUnLCBtLnVzZXJuYW1lKSxcbiAgICAgICdwZXJzb25hbEJyYW5kJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncGVyc29uYWxCcmFuZCcsIG0ucGVyc29uYWxCcmFuZCksXG4gICAgICAnZGlzcGxheU5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkaXNwbGF5TmFtZScsIG0uZGlzcGxheU5hbWUpLFxuICAgICAgJ2hvbWVwYWdlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaG9tZXBhZ2UnLCBtLmhvbWVwYWdlKSxcbiAgICAgICdjaXR5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY2l0eScsIG0uY2l0eSksXG4gICAgICAnY291bnRyeUNvZGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb3VudHJ5Q29kZScsIG0uY291bnRyeUNvZGUpLFxuICAgICAgJ2F2YXRhcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoQXZhdGFyQnVuZGxlLnNlcmlhbGl6ZSwgJ2F2YXRhcicsIG0uYXZhdGFyKSxcbiAgICAgICdsb2NhbGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdsb2NhbGUnLCBtLmxvY2FsZSksXG4gICAgICAnZGVhY3RpdmF0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignZGVhY3RpdmF0ZWQnLCBtLmRlYWN0aXZhdGVkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVzZXIge1xuICAgIHJldHVybiBuZXcgVXNlcih7XG4gICAgICBpZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG8pLFxuICAgICAgdXNlcm5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcm5hbWUnLCBvKSxcbiAgICAgIHBlcnNvbmFsQnJhbmQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncGVyc29uYWxCcmFuZCcsIG8pLFxuICAgICAgZGlzcGxheU5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGlzcGxheU5hbWUnLCBvKSxcbiAgICAgIGhvbWVwYWdlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2hvbWVwYWdlJywgbyksXG4gICAgICBjaXR5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NpdHknLCBvKSxcbiAgICAgIGNvdW50cnlDb2RlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvdW50cnlDb2RlJywgbyksXG4gICAgICBhdmF0YXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChBdmF0YXJCdW5kbGUuZGVzZXJpYWxpemUsICdhdmF0YXInLCBvKSxcbiAgICAgIGxvY2FsZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdsb2NhbGUnLCBvKSxcbiAgICAgIGRlYWN0aXZhdGVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdkZWFjdGl2YXRlZCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBCcmFuZE1lbWJlciB7XG4gIHJlYWRvbmx5IHVzZXI6IFVzZXI7XG4gIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGxvY2FsZTogc3RyaW5nO1xuICByZWFkb25seSByb2xlOiBCcmFuZFVzZXJSb2xlO1xuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgZ3JvdXBzIHdpdGhpbiB0aGUgYnJhbmQgdGhhdCB0aGlzIHVzZXIgaXMgYSBtZW1iZXIgb2YuXG4gICAqIE9ubHkgcHJlc2VudCBpZiBpbmNsdWRlX2dyb3VwcyB3YXMgdHJ1ZSBpbiB0aGUgRmluZEJyYW5kTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHJlYWRvbmx5IGdyb3VwczogcmVhZG9ubHkgc3RyaW5nW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHVzZXI6IFVzZXIsXG4gICAgZW1haWw/OiBzdHJpbmcsXG4gICAgbG9jYWxlOiBzdHJpbmcsXG4gICAgcm9sZTogQnJhbmRVc2VyUm9sZSxcbiAgICAvKipcbiAgICAgKiBUaGUgbGlzdCBvZiBncm91cHMgd2l0aGluIHRoZSBicmFuZCB0aGF0IHRoaXMgdXNlciBpcyBhIG1lbWJlciBvZi5cbiAgICAgKiBPbmx5IHByZXNlbnQgaWYgaW5jbHVkZV9ncm91cHMgd2FzIHRydWUgaW4gdGhlIEZpbmRCcmFuZE1lbWJlcnNSZXF1ZXN0XG4gICAgICovXG4gICAgZ3JvdXBzPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gIH0pIHtcbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgdGhpcy5lbWFpbCA9IG9wdHMuZW1haWw7XG4gICAgdGhpcy5sb2NhbGUgPSBvcHRzLmxvY2FsZTtcbiAgICB0aGlzLnJvbGUgPSBvcHRzLnJvbGU7XG4gICAgLyoqXG4gICAgICogVGhlIGxpc3Qgb2YgZ3JvdXBzIHdpdGhpbiB0aGUgYnJhbmQgdGhhdCB0aGlzIHVzZXIgaXMgYSBtZW1iZXIgb2YuXG4gICAgICogT25seSBwcmVzZW50IGlmIGluY2x1ZGVfZ3JvdXBzIHdhcyB0cnVlIGluIHRoZSBGaW5kQnJhbmRNZW1iZXJzUmVxdWVzdFxuICAgICAqL1xuICAgIHRoaXMuZ3JvdXBzID0gb3B0cy5ncm91cHMgfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEJyYW5kTWVtYmVyKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KFVzZXIuc2VyaWFsaXplLCAndXNlcicsIG0udXNlciksXG4gICAgICAnZW1haWwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdlbWFpbCcsIG0uZW1haWwpLFxuICAgICAgJ2xvY2FsZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2xvY2FsZScsIG0ubG9jYWxlKSxcbiAgICAgICdyb2xlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oQnJhbmRVc2VyUm9sZVV0aWwuc2VyaWFsaXplLCAncm9sZScsIG0ucm9sZSksXG4gICAgICAnZ3JvdXBzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnZ3JvdXBzJywgbS5ncm91cHMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQnJhbmRNZW1iZXIge1xuICAgIHJldHVybiBuZXcgQnJhbmRNZW1iZXIoe1xuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KFVzZXIuZGVzZXJpYWxpemUsICd1c2VyJywgbyksXG4gICAgICBlbWFpbDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdlbWFpbCcsIG8pLFxuICAgICAgbG9jYWxlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2xvY2FsZScsIG8pLFxuICAgICAgcm9sZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxCcmFuZFVzZXJSb2xlPihCcmFuZFVzZXJSb2xlVXRpbC5kZXNlcmlhbGl6ZSwgJ3JvbGUnLCBvKSxcbiAgICAgIGdyb3VwczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdncm91cHMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBGaW5kQnJhbmRNZW1iZXJzTW9kZVxuICAgID0gRmluZEJyYW5kTWVtYmVyc0J5TmFtZVxuICAgIHwgRmluZEJyYW5kTWVtYmVyc0J5TmFtZU9yRW1haWw7XG5cbmV4cG9ydCBjb25zdCBGaW5kQnJhbmRNZW1iZXJzTW9kZSA9IHtcbiAgc2VyaWFsaXplKHU6IEZpbmRCcmFuZE1lbWJlcnNNb2RlKTogb2JqZWN0IHtcbiAgICBzd2l0Y2ggKHUudHlwZSkge1xuICAgICAgY2FzZSAnQllfTkFNRSc6IHJldHVybiBGaW5kQnJhbmRNZW1iZXJzQnlOYW1lLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0JZX05BTUVfT1JfRU1BSUwnOiByZXR1cm4gRmluZEJyYW5kTWVtYmVyc0J5TmFtZU9yRW1haWwuc2VyaWFsaXplKHUpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodSk7XG4gICAgfVxuICB9LFxuXG4gIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRCcmFuZE1lbWJlcnNNb2RlIHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdCWV9OQU1FJzogcmV0dXJuIEZpbmRCcmFuZE1lbWJlcnNCeU5hbWUuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdCWV9OQU1FX09SX0VNQUlMJzogcmV0dXJuIEZpbmRCcmFuZE1lbWJlcnNCeU5hbWVPckVtYWlsLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgRmluZEJyYW5kTWVtYmVyc0J5TmFtZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnQllfTkFNRSc7XG5cbiAgLyoqXG4gICAqIEEgcGFydGlhbCBuYW1lIHRvIG1hdGNoIGJyYW5kIG1lbWJlcnMgYnkuXG4gICAqIFdpbGwgbWF0Y2ggb24gYW55IG9mIGRpc3BsYXlOYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lLlxuICAgKi9cbiAgcmVhZG9ubHkgcXVlcnk6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqXG4gICAgICogQSBwYXJ0aWFsIG5hbWUgdG8gbWF0Y2ggYnJhbmQgbWVtYmVycyBieS5cbiAgICAgKiBXaWxsIG1hdGNoIG9uIGFueSBvZiBkaXNwbGF5TmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZS5cbiAgICAgKi9cbiAgICBxdWVyeTogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqXG4gICAgICogQSBwYXJ0aWFsIG5hbWUgdG8gbWF0Y2ggYnJhbmQgbWVtYmVycyBieS5cbiAgICAgKiBXaWxsIG1hdGNoIG9uIGFueSBvZiBkaXNwbGF5TmFtZSwgZmlyc3ROYW1lLCBsYXN0TmFtZS5cbiAgICAgKi9cbiAgICB0aGlzLnF1ZXJ5ID0gb3B0cy5xdWVyeTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZEJyYW5kTWVtYmVyc0J5TmFtZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ0JZX05BTUUnLFxuICAgICAgJ3F1ZXJ5JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncXVlcnknLCBtLnF1ZXJ5KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRCcmFuZE1lbWJlcnNCeU5hbWUge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdCWV9OQU1FJyk7XG4gICAgcmV0dXJuIG5ldyBGaW5kQnJhbmRNZW1iZXJzQnlOYW1lKHtcbiAgICAgIHF1ZXJ5OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3F1ZXJ5JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbmRCcmFuZE1lbWJlcnNCeU5hbWVPckVtYWlsIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdCWV9OQU1FX09SX0VNQUlMJztcblxuICAvKipcbiAgICogQSBwYXJ0aWFsIG5hbWUgdG8gbWF0Y2ggYnJhbmQgbWVtYmVycyBieS5cbiAgICogV2lsbCBtYXRjaCBvbiBhbnkgb2YgZGlzcGxheU5hbWUsIGZpcnN0TmFtZSwgbGFzdE5hbWUgb3IgZW1haWwuXG4gICAqL1xuICByZWFkb25seSBxdWVyeTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKipcbiAgICAgKiBBIHBhcnRpYWwgbmFtZSB0byBtYXRjaCBicmFuZCBtZW1iZXJzIGJ5LlxuICAgICAqIFdpbGwgbWF0Y2ggb24gYW55IG9mIGRpc3BsYXlOYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lIG9yIGVtYWlsLlxuICAgICAqL1xuICAgIHF1ZXJ5OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKipcbiAgICAgKiBBIHBhcnRpYWwgbmFtZSB0byBtYXRjaCBicmFuZCBtZW1iZXJzIGJ5LlxuICAgICAqIFdpbGwgbWF0Y2ggb24gYW55IG9mIGRpc3BsYXlOYW1lLCBmaXJzdE5hbWUsIGxhc3ROYW1lIG9yIGVtYWlsLlxuICAgICAqL1xuICAgIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kQnJhbmRNZW1iZXJzQnlOYW1lT3JFbWFpbCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ0JZX05BTUVfT1JfRU1BSUwnLFxuICAgICAgJ3F1ZXJ5JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncXVlcnknLCBtLnF1ZXJ5KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRCcmFuZE1lbWJlcnNCeU5hbWVPckVtYWlsIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnQllfTkFNRV9PUl9FTUFJTCcpO1xuICAgIHJldHVybiBuZXcgRmluZEJyYW5kTWVtYmVyc0J5TmFtZU9yRW1haWwoe1xuICAgICAgcXVlcnk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncXVlcnknLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEJyYW5kTWVtYmVyc1JlcXVlc3Qge1xuICAvKiogQnJhbmQgdG8gZmluZCBtZW1iZXJzIG9mLiAqL1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogSWYgcHJvdmlkZWQsIHRoZSBzZXQgb2Ygcm9sZXMgdG8gZmlsdGVyIG9uLiAqL1xuICByZWFkb25seSByb2xlczogcmVhZG9ubHkgQnJhbmRVc2VyUm9sZVtdO1xuICAvKipcbiAgICogRmlsdGVyIGZvciBicmFuZCBtZW1iZXJzLlxuICAgKiBDdXJyZW50bHkgY2FuIG9ubHkgYmUgc2V0IGlmIGJvdGggcm9sZXMgYW5kIHVzZXJzIGFyZSBlbXB0eS5cbiAgICovXG4gIHJlYWRvbmx5IG1vZGU6IEZpbmRCcmFuZE1lbWJlcnNNb2RlIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgcHJvdmlkZWQsIHRoZSBzZXQgb2YgdXNlciBpZHMgdG8gZmlsdGVyIG9uLiAqL1xuICByZWFkb25seSB1c2VyczogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBJZiBzZXQsIHJldHVybmVkIHVzZXIgb2JqZWN0cyB3aWxsIGluY2x1ZGUgYXZhdGFycy4gKi9cbiAgcmVhZG9ubHkgaW5jbHVkZUF2YXRhcnM6IGJvb2xlYW47XG4gIC8qKiBJZiBzZXQsIG9ubHkgYSBjb3VudCBvZiB0aGUgbWVtYmVycyBpbiB0aGUgYnJhbmQgaXMgcmV0dXJuZWQuICovXG4gIHJlYWRvbmx5IGNvdW50T25seTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIElmIHNldCwgY29udHJvbHMgd2hldGhlciBtZW1iZXIgZW1haWxzIHdpbGwgYmUgcmV0dXJuZWQuIElmIHVuc2V0LCBlbWFpbHMgd2lsbCBiZSByZXR1cm5lZFxuICAgKiBpZiB0aGUgY2FsbGVyIGlzIGEgYnJhbmQgYWRtaW4uXG4gICAqL1xuICByZWFkb25seSBpbmNsdWRlRW1haWxzOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgdHJ1ZSwgdGhlIGxpc3Qgb2YgZ3JvdXBzIGZvciBlYWNoIHVzZXIgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzcG9uc2UuICovXG4gIHJlYWRvbmx5IGluY2x1ZGVHcm91cHM6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIC8qKiBDb250aW51YXRpb24gdG9rZW4sIHVzZWQgZm9yIHBhZ2luYXRpb24uICovXG4gIHJlYWRvbmx5IGNvbnRpbnVhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuLiAqL1xuICByZWFkb25seSBsaW1pdDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogQnJhbmQgdG8gZmluZCBtZW1iZXJzIG9mLiAqL1xuICAgIGJyYW5kOiBzdHJpbmcsXG4gICAgLyoqIElmIHByb3ZpZGVkLCB0aGUgc2V0IG9mIHJvbGVzIHRvIGZpbHRlciBvbi4gKi9cbiAgICByb2xlcz86IHJlYWRvbmx5IEJyYW5kVXNlclJvbGVbXSxcbiAgICAvKipcbiAgICAgKiBGaWx0ZXIgZm9yIGJyYW5kIG1lbWJlcnMuXG4gICAgICogQ3VycmVudGx5IGNhbiBvbmx5IGJlIHNldCBpZiBib3RoIHJvbGVzIGFuZCB1c2VycyBhcmUgZW1wdHkuXG4gICAgICovXG4gICAgbW9kZT86IEZpbmRCcmFuZE1lbWJlcnNNb2RlLFxuICAgIC8qKiBJZiBwcm92aWRlZCwgdGhlIHNldCBvZiB1c2VyIGlkcyB0byBmaWx0ZXIgb24uICovXG4gICAgdXNlcnM/OiByZWFkb25seSBzdHJpbmdbXSxcbiAgICAvKiogSWYgc2V0LCByZXR1cm5lZCB1c2VyIG9iamVjdHMgd2lsbCBpbmNsdWRlIGF2YXRhcnMuICovXG4gICAgaW5jbHVkZUF2YXRhcnM/OiBib29sZWFuLFxuICAgIC8qKiBJZiBzZXQsIG9ubHkgYSBjb3VudCBvZiB0aGUgbWVtYmVycyBpbiB0aGUgYnJhbmQgaXMgcmV0dXJuZWQuICovXG4gICAgY291bnRPbmx5PzogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBJZiBzZXQsIGNvbnRyb2xzIHdoZXRoZXIgbWVtYmVyIGVtYWlscyB3aWxsIGJlIHJldHVybmVkLiBJZiB1bnNldCwgZW1haWxzIHdpbGwgYmUgcmV0dXJuZWRcbiAgICAgKiBpZiB0aGUgY2FsbGVyIGlzIGEgYnJhbmQgYWRtaW4uXG4gICAgICovXG4gICAgaW5jbHVkZUVtYWlscz86IGJvb2xlYW4sXG4gICAgLyoqIElmIHRydWUsIHRoZSBsaXN0IG9mIGdyb3VwcyBmb3IgZWFjaCB1c2VyIHdpbGwgYmUgaW5jbHVkZWQgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICAgIGluY2x1ZGVHcm91cHM/OiBib29sZWFuLFxuICAgIC8qKiBDb250aW51YXRpb24gdG9rZW4sIHVzZWQgZm9yIHBhZ2luYXRpb24uICovXG4gICAgY29udGludWF0aW9uPzogc3RyaW5nLFxuICAgIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm4uICovXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gIH0pIHtcbiAgICAvKiogQnJhbmQgdG8gZmluZCBtZW1iZXJzIG9mLiAqL1xuICAgIHRoaXMuYnJhbmQgPSBvcHRzLmJyYW5kO1xuICAgIC8qKiBJZiBwcm92aWRlZCwgdGhlIHNldCBvZiByb2xlcyB0byBmaWx0ZXIgb24uICovXG4gICAgdGhpcy5yb2xlcyA9IG9wdHMucm9sZXMgfHwgW107XG4gICAgLyoqXG4gICAgICogRmlsdGVyIGZvciBicmFuZCBtZW1iZXJzLlxuICAgICAqIEN1cnJlbnRseSBjYW4gb25seSBiZSBzZXQgaWYgYm90aCByb2xlcyBhbmQgdXNlcnMgYXJlIGVtcHR5LlxuICAgICAqL1xuICAgIHRoaXMubW9kZSA9IG9wdHMubW9kZTtcbiAgICAvKiogSWYgcHJvdmlkZWQsIHRoZSBzZXQgb2YgdXNlciBpZHMgdG8gZmlsdGVyIG9uLiAqL1xuICAgIHRoaXMudXNlcnMgPSBvcHRzLnVzZXJzIHx8IFtdO1xuICAgIC8qKiBJZiBzZXQsIHJldHVybmVkIHVzZXIgb2JqZWN0cyB3aWxsIGluY2x1ZGUgYXZhdGFycy4gKi9cbiAgICB0aGlzLmluY2x1ZGVBdmF0YXJzID0gb3B0cy5pbmNsdWRlQXZhdGFycyAhPSBudWxsXG4gICAgICAgID8gb3B0cy5pbmNsdWRlQXZhdGFyc1xuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqIElmIHNldCwgb25seSBhIGNvdW50IG9mIHRoZSBtZW1iZXJzIGluIHRoZSBicmFuZCBpcyByZXR1cm5lZC4gKi9cbiAgICB0aGlzLmNvdW50T25seSA9IG9wdHMuY291bnRPbmx5ICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmNvdW50T25seVxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSWYgc2V0LCBjb250cm9scyB3aGV0aGVyIG1lbWJlciBlbWFpbHMgd2lsbCBiZSByZXR1cm5lZC4gSWYgdW5zZXQsIGVtYWlscyB3aWxsIGJlIHJldHVybmVkXG4gICAgICogaWYgdGhlIGNhbGxlciBpcyBhIGJyYW5kIGFkbWluLlxuICAgICAqL1xuICAgIHRoaXMuaW5jbHVkZUVtYWlscyA9IG9wdHMuaW5jbHVkZUVtYWlscztcbiAgICAvKiogSWYgdHJ1ZSwgdGhlIGxpc3Qgb2YgZ3JvdXBzIGZvciBlYWNoIHVzZXIgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzcG9uc2UuICovXG4gICAgdGhpcy5pbmNsdWRlR3JvdXBzID0gb3B0cy5pbmNsdWRlR3JvdXBzO1xuICAgIC8qKiBDb250aW51YXRpb24gdG9rZW4sIHVzZWQgZm9yIHBhZ2luYXRpb24uICovXG4gICAgdGhpcy5jb250aW51YXRpb24gPSBvcHRzLmNvbnRpbnVhdGlvbjtcbiAgICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuLiAqL1xuICAgIHRoaXMubGltaXQgPSBvcHRzLmxpbWl0ICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmxpbWl0XG4gICAgICAgIDogMTAwO1xuXG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRCcmFuZE1lbWJlcnNSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICdyb2xlcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKEJyYW5kVXNlclJvbGVVdGlsLnNlcmlhbGl6ZSwgJ3JvbGVzJywgbS5yb2xlcyksXG4gICAgICAnbW9kZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoRmluZEJyYW5kTWVtYmVyc01vZGUuc2VyaWFsaXplLCAnbW9kZScsIG0ubW9kZSksXG4gICAgICAndXNlcnMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCd1c2VycycsIG0udXNlcnMpLFxuICAgICAgJ2luY2x1ZGVBdmF0YXJzJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2luY2x1ZGVBdmF0YXJzJywgbS5pbmNsdWRlQXZhdGFycyksXG4gICAgICAnY291bnRPbmx5JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NvdW50T25seScsIG0uY291bnRPbmx5KSxcbiAgICAgICdpbmNsdWRlRW1haWxzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2luY2x1ZGVFbWFpbHMnLCBtLmluY2x1ZGVFbWFpbHMpLFxuICAgICAgJ2luY2x1ZGVHcm91cHMnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaW5jbHVkZUdyb3VwcycsIG0uaW5jbHVkZUdyb3VwcyksXG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgICAgJ2xpbWl0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBtLmxpbWl0KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRCcmFuZE1lbWJlcnNSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEZpbmRCcmFuZE1lbWJlcnNSZXF1ZXN0KHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICByb2xlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxCcmFuZFVzZXJSb2xlPihCcmFuZFVzZXJSb2xlVXRpbC5kZXNlcmlhbGl6ZSwgJ3JvbGVzJywgbyksXG4gICAgICBtb2RlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoRmluZEJyYW5kTWVtYmVyc01vZGUuZGVzZXJpYWxpemUsICdtb2RlJywgbyksXG4gICAgICB1c2VyczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCd1c2VycycsIG8pLFxuICAgICAgaW5jbHVkZUF2YXRhcnM6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2luY2x1ZGVBdmF0YXJzJywgbyksXG4gICAgICBjb3VudE9ubHk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NvdW50T25seScsIG8pLFxuICAgICAgaW5jbHVkZUVtYWlsczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaW5jbHVkZUVtYWlscycsIG8pLFxuICAgICAgaW5jbHVkZUdyb3VwczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaW5jbHVkZUdyb3VwcycsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgbGltaXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEJyYW5kTWVtYmVyc1Jlc3BvbnNlIHtcbiAgcmVhZG9ubHkgbWVtYmVyczogcmVhZG9ubHkgQnJhbmRNZW1iZXJbXTtcbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGNvdW50OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIG1lbWJlcnM/OiByZWFkb25seSBCcmFuZE1lbWJlcltdLFxuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgICBjb3VudD86IG51bWJlcixcbiAgfSkge1xuICAgIHRoaXMubWVtYmVycyA9IG9wdHMubWVtYmVycyB8fCBbXTtcbiAgICB0aGlzLmNvbnRpbnVhdGlvbiA9IG9wdHMuY29udGludWF0aW9uO1xuICAgIHRoaXMuY291bnQgPSBvcHRzLmNvdW50O1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kQnJhbmRNZW1iZXJzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbWVtYmVycyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoQnJhbmRNZW1iZXIuc2VyaWFsaXplLCAnbWVtYmVycycsIG0ubWVtYmVycyksXG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgICAgJ2NvdW50JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignY291bnQnLCBtLmNvdW50KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRCcmFuZE1lbWJlcnNSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBGaW5kQnJhbmRNZW1iZXJzUmVzcG9uc2Uoe1xuICAgICAgbWVtYmVyczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEJyYW5kTWVtYmVyLmRlc2VyaWFsaXplLCAnbWVtYmVycycsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgY291bnQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignY291bnQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQnJhbmQge1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSBicmFuZG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIGRpc3BsYXkgbmFtZSwgb3B0aW9uYWwgZm9yIHBlcnNvbmFsIGJyYW5kcyAqL1xuICByZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBwZXJzb25hbDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY29udHJpYnV0b3I6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGxheW91dENvbnRyaWJ1dG9yOiBib29sZWFuO1xuICByZWFkb25seSB0aGlyZFBhcnR5OiBib29sZWFuO1xuICAvKiogb3B0aW9uYWwgYnJhbmQgY29sb3IsIGFzIGEgaGV4IHN0cmluZyAqL1xuICByZWFkb25seSBicmFuZENvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGlkOiBzdHJpbmcsXG4gICAgYnJhbmRuYW1lPzogc3RyaW5nLFxuICAgIC8qKiBkaXNwbGF5IG5hbWUsIG9wdGlvbmFsIGZvciBwZXJzb25hbCBicmFuZHMgKi9cbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyxcbiAgICBwZXJzb25hbDogYm9vbGVhbixcbiAgICBjb250cmlidXRvcjogYm9vbGVhbixcbiAgICBsYXlvdXRDb250cmlidXRvcjogYm9vbGVhbixcbiAgICB0aGlyZFBhcnR5OiBib29sZWFuLFxuICAgIC8qKiBvcHRpb25hbCBicmFuZCBjb2xvciwgYXMgYSBoZXggc3RyaW5nICovXG4gICAgYnJhbmRDb2xvcj86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuaWQgPSBvcHRzLmlkO1xuICAgIHRoaXMuYnJhbmRuYW1lID0gb3B0cy5icmFuZG5hbWU7XG4gICAgLyoqIGRpc3BsYXkgbmFtZSwgb3B0aW9uYWwgZm9yIHBlcnNvbmFsIGJyYW5kcyAqL1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHRzLmRpc3BsYXlOYW1lO1xuICAgIHRoaXMucGVyc29uYWwgPSBvcHRzLnBlcnNvbmFsO1xuICAgIHRoaXMuY29udHJpYnV0b3IgPSBvcHRzLmNvbnRyaWJ1dG9yO1xuICAgIHRoaXMubGF5b3V0Q29udHJpYnV0b3IgPSBvcHRzLmxheW91dENvbnRyaWJ1dG9yO1xuICAgIHRoaXMudGhpcmRQYXJ0eSA9IG9wdHMudGhpcmRQYXJ0eTtcbiAgICAvKiogb3B0aW9uYWwgYnJhbmQgY29sb3IsIGFzIGEgaGV4IHN0cmluZyAqL1xuICAgIHRoaXMuYnJhbmRDb2xvciA9IG9wdHMuYnJhbmRDb2xvcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQnJhbmQpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnaWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG0uaWQpLFxuICAgICAgJ2JyYW5kbmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kbmFtZScsIG0uYnJhbmRuYW1lKSxcbiAgICAgICdkaXNwbGF5TmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rpc3BsYXlOYW1lJywgbS5kaXNwbGF5TmFtZSksXG4gICAgICAncGVyc29uYWwnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncGVyc29uYWwnLCBtLnBlcnNvbmFsKSxcbiAgICAgICdjb250cmlidXRvcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjb250cmlidXRvcicsIG0uY29udHJpYnV0b3IpLFxuICAgICAgJ2xheW91dENvbnRyaWJ1dG9yJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2xheW91dENvbnRyaWJ1dG9yJywgbS5sYXlvdXRDb250cmlidXRvciksXG4gICAgICAndGhpcmRQYXJ0eSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd0aGlyZFBhcnR5JywgbS50aGlyZFBhcnR5KSxcbiAgICAgICdicmFuZENvbG9yJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmRDb2xvcicsIG0uYnJhbmRDb2xvciksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBCcmFuZCB7XG4gICAgcmV0dXJuIG5ldyBCcmFuZCh7XG4gICAgICBpZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG8pLFxuICAgICAgYnJhbmRuYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kbmFtZScsIG8pLFxuICAgICAgZGlzcGxheU5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGlzcGxheU5hbWUnLCBvKSxcbiAgICAgIHBlcnNvbmFsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdwZXJzb25hbCcsIG8pLFxuICAgICAgY29udHJpYnV0b3I6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NvbnRyaWJ1dG9yJywgbyksXG4gICAgICBsYXlvdXRDb250cmlidXRvcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGF5b3V0Q29udHJpYnV0b3InLCBvKSxcbiAgICAgIHRoaXJkUGFydHk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3RoaXJkUGFydHknLCBvKSxcbiAgICAgIGJyYW5kQ29sb3I6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmRDb2xvcicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKiBBbnN3ZXJzIFwiQ2FuIHRoZSBjYWxsaW5nIHVzZXIgZG8gZm9vIHRvIHRoaXMgQnJhbmQ/XCIgKi9cbmV4cG9ydCBjbGFzcyBCcmFuZENhcGFiaWxpdGllcyB7XG4gIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiBjcmVhdGUgZ3JvdXBzIHdpdGhpbiB0aGUgYnJhbmQuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gIHJlYWRvbmx5IGNhbkNyZWF0ZUdyb3VwOiBib29sZWFuO1xuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gY3JlYXRlIHByaXZhdGUgZ3JvdXAuIE90aGVyd2lzZSwgZmFsc2UuXG4gICAqIFdpbGwgb25seSBiZSB0cnVlIGlmIGNhbl9jcmVhdGVfZ3JvdXAgaXMgYWxzbyB0cnVlLlxuICAgKi9cbiAgcmVhZG9ubHkgY2FuQ3JlYXRlUHJpdmF0ZUdyb3VwOiBib29sZWFuO1xuICAvKiogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gdXBkYXRlIHRoZSBicmFuZCBuYW1lLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICByZWFkb25seSBjYW5FZGl0QnJhbmROYW1lOiBib29sZWFuO1xuICAvKipcbiAgICogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gaW52aXRlIG90aGVyIHVzZXJzIHRvIGpvaW4gdGhlIGJyYW5kLiBTZWUgYWxsb3dlZF9pbnZpdGVfcm9sZXMuXG4gICAqIE90aGVyd2lzZSwgZmFsc2UuXG4gICAqL1xuICByZWFkb25seSBjYW5JbnZpdGVNZW1iZXJzOiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdGhlIHVzZXIgY2FuIGludml0ZSBvdGhlciB1c2VycyB0byBqb2luIHRoZSBicmFuZCBvciBtb2RpZnkgZXhpc3RpbmcgbWVtYmVyIHJvbGVzLCB0aGVcbiAgICogcGVybWl0dGVkIHJvbGVzIGZvciB0aGUgaW52aXRlZSBvciBtb2RpZmllZCBtZW1iZXIuIE90aGVyd2lzZSwgZW1wdHkuXG4gICAqL1xuICByZWFkb25seSBhbGxvd2VkTWVtYmVyUm9sZXM6IHJlYWRvbmx5IEJyYW5kVXNlclJvbGVbXTtcbiAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIG1vZGlmeSB0aGUgcm9sZSBvZiBvdGhlciBicmFuZCBtZW1iZXJzLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICByZWFkb25seSBjYW5Nb2RpZnlNZW1iZXJSb2xlczogYm9vbGVhbjtcbiAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIG1vZGlmeSB0aGUgcmV2aWV3X3dvcmtmbG93IGJyYW5kIHNldHRpbmcuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gIHJlYWRvbmx5IGNhbkVkaXRSZXZpZXdXb3JrZmxvdzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIGNyZWF0ZSBncm91cHMgd2l0aGluIHRoZSBicmFuZC4gT3RoZXJ3aXNlLCBmYWxzZS4gKi9cbiAgICBjYW5DcmVhdGVHcm91cD86IGJvb2xlYW4sXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gY3JlYXRlIHByaXZhdGUgZ3JvdXAuIE90aGVyd2lzZSwgZmFsc2UuXG4gICAgICogV2lsbCBvbmx5IGJlIHRydWUgaWYgY2FuX2NyZWF0ZV9ncm91cCBpcyBhbHNvIHRydWUuXG4gICAgICovXG4gICAgY2FuQ3JlYXRlUHJpdmF0ZUdyb3VwPzogYm9vbGVhbixcbiAgICAvKiogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gdXBkYXRlIHRoZSBicmFuZCBuYW1lLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICAgIGNhbkVkaXRCcmFuZE5hbWU/OiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIHVzZXIgY2FuIGludml0ZSBvdGhlciB1c2VycyB0byBqb2luIHRoZSBicmFuZC4gU2VlIGFsbG93ZWRfaW52aXRlX3JvbGVzLlxuICAgICAqIE90aGVyd2lzZSwgZmFsc2UuXG4gICAgICovXG4gICAgY2FuSW52aXRlTWVtYmVycz86IGJvb2xlYW4sXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHVzZXIgY2FuIGludml0ZSBvdGhlciB1c2VycyB0byBqb2luIHRoZSBicmFuZCBvciBtb2RpZnkgZXhpc3RpbmcgbWVtYmVyIHJvbGVzLCB0aGVcbiAgICAgKiBwZXJtaXR0ZWQgcm9sZXMgZm9yIHRoZSBpbnZpdGVlIG9yIG1vZGlmaWVkIG1lbWJlci4gT3RoZXJ3aXNlLCBlbXB0eS5cbiAgICAgKi9cbiAgICBhbGxvd2VkTWVtYmVyUm9sZXM/OiByZWFkb25seSBCcmFuZFVzZXJSb2xlW10sXG4gICAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIG1vZGlmeSB0aGUgcm9sZSBvZiBvdGhlciBicmFuZCBtZW1iZXJzLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICAgIGNhbk1vZGlmeU1lbWJlclJvbGVzPzogYm9vbGVhbixcbiAgICAvKiogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gbW9kaWZ5IHRoZSByZXZpZXdfd29ya2Zsb3cgYnJhbmQgc2V0dGluZy4gT3RoZXJ3aXNlLCBmYWxzZS4gKi9cbiAgICBjYW5FZGl0UmV2aWV3V29ya2Zsb3c/OiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIGNyZWF0ZSBncm91cHMgd2l0aGluIHRoZSBicmFuZC4gT3RoZXJ3aXNlLCBmYWxzZS4gKi9cbiAgICB0aGlzLmNhbkNyZWF0ZUdyb3VwID0gb3B0cy5jYW5DcmVhdGVHcm91cCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5jYW5DcmVhdGVHcm91cFxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gY3JlYXRlIHByaXZhdGUgZ3JvdXAuIE90aGVyd2lzZSwgZmFsc2UuXG4gICAgICogV2lsbCBvbmx5IGJlIHRydWUgaWYgY2FuX2NyZWF0ZV9ncm91cCBpcyBhbHNvIHRydWUuXG4gICAgICovXG4gICAgdGhpcy5jYW5DcmVhdGVQcml2YXRlR3JvdXAgPSBvcHRzLmNhbkNyZWF0ZVByaXZhdGVHcm91cCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5jYW5DcmVhdGVQcml2YXRlR3JvdXBcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiB1cGRhdGUgdGhlIGJyYW5kIG5hbWUuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gICAgdGhpcy5jYW5FZGl0QnJhbmROYW1lID0gb3B0cy5jYW5FZGl0QnJhbmROYW1lICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmNhbkVkaXRCcmFuZE5hbWVcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhlIHVzZXIgY2FuIGludml0ZSBvdGhlciB1c2VycyB0byBqb2luIHRoZSBicmFuZC4gU2VlIGFsbG93ZWRfaW52aXRlX3JvbGVzLlxuICAgICAqIE90aGVyd2lzZSwgZmFsc2UuXG4gICAgICovXG4gICAgdGhpcy5jYW5JbnZpdGVNZW1iZXJzID0gb3B0cy5jYW5JbnZpdGVNZW1iZXJzICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmNhbkludml0ZU1lbWJlcnNcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoZSB1c2VyIGNhbiBpbnZpdGUgb3RoZXIgdXNlcnMgdG8gam9pbiB0aGUgYnJhbmQgb3IgbW9kaWZ5IGV4aXN0aW5nIG1lbWJlciByb2xlcywgdGhlXG4gICAgICogcGVybWl0dGVkIHJvbGVzIGZvciB0aGUgaW52aXRlZSBvciBtb2RpZmllZCBtZW1iZXIuIE90aGVyd2lzZSwgZW1wdHkuXG4gICAgICovXG4gICAgdGhpcy5hbGxvd2VkTWVtYmVyUm9sZXMgPSBvcHRzLmFsbG93ZWRNZW1iZXJSb2xlcyB8fCBbXTtcbiAgICAvKiogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gbW9kaWZ5IHRoZSByb2xlIG9mIG90aGVyIGJyYW5kIG1lbWJlcnMuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gICAgdGhpcy5jYW5Nb2RpZnlNZW1iZXJSb2xlcyA9IG9wdHMuY2FuTW9kaWZ5TWVtYmVyUm9sZXMgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuY2FuTW9kaWZ5TWVtYmVyUm9sZXNcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiBtb2RpZnkgdGhlIHJldmlld193b3JrZmxvdyBicmFuZCBzZXR0aW5nLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICAgIHRoaXMuY2FuRWRpdFJldmlld1dvcmtmbG93ID0gb3B0cy5jYW5FZGl0UmV2aWV3V29ya2Zsb3cgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuY2FuRWRpdFJldmlld1dvcmtmbG93XG4gICAgICAgIDogZmFsc2U7XG5cbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQnJhbmRDYXBhYmlsaXRpZXMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnQSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjYW5DcmVhdGVHcm91cCcsIG0uY2FuQ3JlYXRlR3JvdXApLFxuICAgICAgJ0YnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY2FuQ3JlYXRlUHJpdmF0ZUdyb3VwJywgbS5jYW5DcmVhdGVQcml2YXRlR3JvdXApLFxuICAgICAgJ0InOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY2FuRWRpdEJyYW5kTmFtZScsIG0uY2FuRWRpdEJyYW5kTmFtZSksXG4gICAgICAnQyc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjYW5JbnZpdGVNZW1iZXJzJywgbS5jYW5JbnZpdGVNZW1iZXJzKSxcbiAgICAgICdEJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW0oQnJhbmRVc2VyUm9sZVV0aWwuc2VyaWFsaXplLCAnYWxsb3dlZE1lbWJlclJvbGVzJywgbS5hbGxvd2VkTWVtYmVyUm9sZXMpLFxuICAgICAgJ0UnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY2FuTW9kaWZ5TWVtYmVyUm9sZXMnLCBtLmNhbk1vZGlmeU1lbWJlclJvbGVzKSxcbiAgICAgICdHJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NhbkVkaXRSZXZpZXdXb3JrZmxvdycsIG0uY2FuRWRpdFJldmlld1dvcmtmbG93KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJyYW5kQ2FwYWJpbGl0aWVzIHtcbiAgICByZXR1cm4gbmV3IEJyYW5kQ2FwYWJpbGl0aWVzKHtcbiAgICAgIGNhbkNyZWF0ZUdyb3VwOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdBJywgbyksXG4gICAgICBjYW5DcmVhdGVQcml2YXRlR3JvdXA6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ0YnLCBvKSxcbiAgICAgIGNhbkVkaXRCcmFuZE5hbWU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ0InLCBvKSxcbiAgICAgIGNhbkludml0ZU1lbWJlcnM6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ0MnLCBvKSxcbiAgICAgIGFsbG93ZWRNZW1iZXJSb2xlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxCcmFuZFVzZXJSb2xlPihCcmFuZFVzZXJSb2xlVXRpbC5kZXNlcmlhbGl6ZSwgJ0QnLCBvKSxcbiAgICAgIGNhbk1vZGlmeU1lbWJlclJvbGVzOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdFJywgbyksXG4gICAgICBjYW5FZGl0UmV2aWV3V29ya2Zsb3c6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ0cnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQnJhbmRJbnZpdGVlIHtcbiAgcmVhZG9ubHkgZW1haWw6IHN0cmluZztcbiAgcmVhZG9ubHkgcm9sZTogQnJhbmRVc2VyUm9sZTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgZW1haWw6IHN0cmluZyxcbiAgICByb2xlOiBCcmFuZFVzZXJSb2xlLFxuICB9KSB7XG4gICAgdGhpcy5lbWFpbCA9IG9wdHMuZW1haWw7XG4gICAgdGhpcy5yb2xlID0gb3B0cy5yb2xlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBCcmFuZEludml0ZWUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZW1haWwnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdlbWFpbCcsIG0uZW1haWwpLFxuICAgICAgJ3JvbGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShCcmFuZFVzZXJSb2xlVXRpbC5zZXJpYWxpemUsICdyb2xlJywgbS5yb2xlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJyYW5kSW52aXRlZSB7XG4gICAgcmV0dXJuIG5ldyBCcmFuZEludml0ZWUoe1xuICAgICAgZW1haWw6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZW1haWwnLCBvKSxcbiAgICAgIHJvbGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08QnJhbmRVc2VyUm9sZT4oQnJhbmRVc2VyUm9sZVV0aWwuZGVzZXJpYWxpemUsICdyb2xlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQnJhbmRJbnZpdGF0aW9uXG4gICAgPSBTaW5nbGVVc2VJbnZpdGF0aW9uXG4gICAgfCBNdWx0aVVzZUludml0YXRpb247XG5cbmV4cG9ydCBjb25zdCBCcmFuZEludml0YXRpb24gPSB7XG4gIHNlcmlhbGl6ZSh1OiBCcmFuZEludml0YXRpb24pOiBvYmplY3Qge1xuICAgIHN3aXRjaCAodS50eXBlKSB7XG4gICAgICBjYXNlICdTSU5HTEVfVVNFJzogcmV0dXJuIFNpbmdsZVVzZUludml0YXRpb24uc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnTVVMVElfVVNFJzogcmV0dXJuIE11bHRpVXNlSW52aXRhdGlvbi5zZXJpYWxpemUodSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih1KTtcbiAgICB9XG4gIH0sXG5cbiAgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQnJhbmRJbnZpdGF0aW9uIHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdTSU5HTEVfVVNFJzogcmV0dXJuIFNpbmdsZVVzZUludml0YXRpb24uZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdNVUxUSV9VU0UnOiByZXR1cm4gTXVsdGlVc2VJbnZpdGF0aW9uLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgU2luZ2xlVXNlSW52aXRhdGlvbiB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnU0lOR0xFX1VTRSc7XG5cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZztcbiAgcmVhZG9ubHkgZW1haWw6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcm9sZTogQnJhbmRVc2VyUm9sZTtcbiAgLyoqIEFuIG9wdGlvbmFsIHNldCBvZiBncm91cHMgdGhhdCB0aGUgdXNlciB3aWxsIGJlIGFkZGVkIHRvIHVwb24gYWNjZXB0aW5nIHRoZSBpbnZpdGF0aW9uLiAqL1xuICByZWFkb25seSBncm91cHM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBicmFuZDogc3RyaW5nLFxuICAgIGVtYWlsPzogc3RyaW5nLFxuICAgIHJvbGU6IEJyYW5kVXNlclJvbGUsXG4gICAgLyoqIEFuIG9wdGlvbmFsIHNldCBvZiBncm91cHMgdGhhdCB0aGUgdXNlciB3aWxsIGJlIGFkZGVkIHRvIHVwb24gYWNjZXB0aW5nIHRoZSBpbnZpdGF0aW9uLiAqL1xuICAgIGdyb3Vwcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICB9KSB7XG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgdGhpcy5lbWFpbCA9IG9wdHMuZW1haWw7XG4gICAgdGhpcy5yb2xlID0gb3B0cy5yb2xlO1xuICAgIC8qKiBBbiBvcHRpb25hbCBzZXQgb2YgZ3JvdXBzIHRoYXQgdGhlIHVzZXIgd2lsbCBiZSBhZGRlZCB0byB1cG9uIGFjY2VwdGluZyB0aGUgaW52aXRhdGlvbi4gKi9cbiAgICB0aGlzLmdyb3VwcyA9IG9wdHMuZ3JvdXBzIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBTaW5nbGVVc2VJbnZpdGF0aW9uKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU0lOR0xFX1VTRScsXG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ2VtYWlsJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZW1haWwnLCBtLmVtYWlsKSxcbiAgICAgICdyb2xlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oQnJhbmRVc2VyUm9sZVV0aWwuc2VyaWFsaXplLCAncm9sZScsIG0ucm9sZSksXG4gICAgICAnZ3JvdXBzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnZ3JvdXBzJywgbS5ncm91cHMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogU2luZ2xlVXNlSW52aXRhdGlvbiB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1NJTkdMRV9VU0UnKTtcbiAgICByZXR1cm4gbmV3IFNpbmdsZVVzZUludml0YXRpb24oe1xuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBvKSxcbiAgICAgIGVtYWlsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2VtYWlsJywgbyksXG4gICAgICByb2xlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPEJyYW5kVXNlclJvbGU+KEJyYW5kVXNlclJvbGVVdGlsLmRlc2VyaWFsaXplLCAncm9sZScsIG8pLFxuICAgICAgZ3JvdXBzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2dyb3VwcycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNdWx0aVVzZUludml0YXRpb24ge1xuICByZWFkb25seSB0eXBlID0gJ01VTFRJX1VTRSc7XG5cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuYnJhbmQgPSBvcHRzLmJyYW5kO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBNdWx0aVVzZUludml0YXRpb24pOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdNVUxUSV9VU0UnLFxuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IE11bHRpVXNlSW52aXRhdGlvbiB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ01VTFRJX1VTRScpO1xuICAgIHJldHVybiBuZXcgTXVsdGlVc2VJbnZpdGF0aW9uKHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyBjcmVhdGlvbiBvZiBtdWx0aS11c2UgaW52aXRlIGxpbmtzLiBVc2UgYVxuICogU2VuZEJyYW5kSW52aXRhdGlvbnNSZXF1ZXN0IHRvIGNyZWF0ZSBhbmQgc2VuZCBzaW5nbGUtdXNlIGVtYWlsXG4gKiBpbnZpdGF0aW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIENyZWF0ZUJyYW5kSW52aXRhdGlvblJlcXVlc3Qge1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICByZWFkb25seSBqb2luUGF0aDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBicmFuZDogc3RyaW5nLFxuICAgIGpvaW5QYXRoOiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICB0aGlzLmpvaW5QYXRoID0gb3B0cy5qb2luUGF0aDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlQnJhbmRJbnZpdGF0aW9uUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAnam9pblBhdGgnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdqb2luUGF0aCcsIG0uam9pblBhdGgpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlQnJhbmRJbnZpdGF0aW9uUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBDcmVhdGVCcmFuZEludml0YXRpb25SZXF1ZXN0KHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICBqb2luUGF0aDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdqb2luUGF0aCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVCcmFuZEludml0YXRpb25SZXNwb25zZSB7XG4gIHJlYWRvbmx5IGpvaW5Vcmw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgam9pblVybDogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5qb2luVXJsID0gb3B0cy5qb2luVXJsO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVCcmFuZEludml0YXRpb25SZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdqb2luVXJsJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnam9pblVybCcsIG0uam9pblVybCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVCcmFuZEludml0YXRpb25SZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBDcmVhdGVCcmFuZEludml0YXRpb25SZXNwb25zZSh7XG4gICAgICBqb2luVXJsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2pvaW5VcmwnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VuZEJyYW5kSW52aXRhdGlvbnNSZXF1ZXN0IHtcbiAgLyoqIEJyYW5kIG9mIHNlbmRpbmcgdXNlci4gKi9cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGdyb3VwIHdpdGhpbiB0aGUgYnJhbmQuIE9uIGFjY2VwdGluZyB0aGUgaW52aXRhdGlvbiBlYWNoIGludml0ZWUgd2lsbCBiZSBhZGRlZCB0b1xuICAgKiB0aGlzIGdyb3VwIHdpdGggcm9sZSBHcm91cFJvbGUuTUVNQkVSLlxuICAgKi9cbiAgcmVhZG9ubHkgZ3JvdXA6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIElkIG9mIHNlbmRpbmcgdXNlci4gUmVxdWlyZWQgYnkgc2VydmljZS4gT3B0aW9uYWwgZm9yIHJwYyBoYW5kbGVyIChub24gc2VydmljZSBjbGllbnRzKS5cbiAgICogSWYgbm90IHN1cHBsaWVkLCBkZWZhdWx0cyB0byB0aGUgY2FsbGluZyB1c2VyIGluIHJwYyBoYW5kbGVyLlxuICAgKi9cbiAgcmVhZG9ubHkgaW52aXRlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBpbnZpdGVlczogcmVhZG9ubHkgQnJhbmRJbnZpdGVlW107XG4gIC8qKiBJZiB0cnVlLCBhbnkgZXhpc3RpbmcgdW51c2VkIGludml0YXRpb25zIHdpbGwgYmUgcmVzZW50LiBPdGhlcndpc2UsIHRoZXkgd2lsbCBiZSBza2lwcGVkLiAqL1xuICByZWFkb25seSByZXNlbmQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBDRkUgcGF0aCB0byBkaXJlY3QgZW1haWwgcmVjaXBpZW50IHRvLiAgU2hvdWxkIGFjY2VwdCBhIFwidG9rZW5cIiBwYXJhbS5cbiAgICogVE9ETyhwcm9maWxlLXRlYW0pIE1ha2UgdGhpcyBwYXJhbSByZXF1aXJlZCB3aGVuIGFsbCBjbGllbnRzIGFyZSBwYXNzaW5nIGl0IGluLlxuICAgKi9cbiAgcmVhZG9ubHkgam9pblBhdGg6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIHV0bV9jb250ZW50IHBhcmFtZXRlciB2YWx1ZSB0byBzZXQgaW4gam9pblBhdGguICovXG4gIHJlYWRvbmx5IHV0bUNvbnRlbnQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEJyYW5kIG9mIHNlbmRpbmcgdXNlci4gKi9cbiAgICBicmFuZDogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGdyb3VwIHdpdGhpbiB0aGUgYnJhbmQuIE9uIGFjY2VwdGluZyB0aGUgaW52aXRhdGlvbiBlYWNoIGludml0ZWUgd2lsbCBiZSBhZGRlZCB0b1xuICAgICAqIHRoaXMgZ3JvdXAgd2l0aCByb2xlIEdyb3VwUm9sZS5NRU1CRVIuXG4gICAgICovXG4gICAgZ3JvdXA/OiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogSWQgb2Ygc2VuZGluZyB1c2VyLiBSZXF1aXJlZCBieSBzZXJ2aWNlLiBPcHRpb25hbCBmb3IgcnBjIGhhbmRsZXIgKG5vbiBzZXJ2aWNlIGNsaWVudHMpLlxuICAgICAqIElmIG5vdCBzdXBwbGllZCwgZGVmYXVsdHMgdG8gdGhlIGNhbGxpbmcgdXNlciBpbiBycGMgaGFuZGxlci5cbiAgICAgKi9cbiAgICBpbnZpdGVyPzogc3RyaW5nLFxuICAgIGludml0ZWVzPzogcmVhZG9ubHkgQnJhbmRJbnZpdGVlW10sXG4gICAgLyoqIElmIHRydWUsIGFueSBleGlzdGluZyB1bnVzZWQgaW52aXRhdGlvbnMgd2lsbCBiZSByZXNlbnQuIE90aGVyd2lzZSwgdGhleSB3aWxsIGJlIHNraXBwZWQuICovXG4gICAgcmVzZW5kOiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIENGRSBwYXRoIHRvIGRpcmVjdCBlbWFpbCByZWNpcGllbnQgdG8uICBTaG91bGQgYWNjZXB0IGEgXCJ0b2tlblwiIHBhcmFtLlxuICAgICAqIFRPRE8ocHJvZmlsZS10ZWFtKSBNYWtlIHRoaXMgcGFyYW0gcmVxdWlyZWQgd2hlbiBhbGwgY2xpZW50cyBhcmUgcGFzc2luZyBpdCBpbi5cbiAgICAgKi9cbiAgICBqb2luUGF0aD86IHN0cmluZyxcbiAgICAvKiogdXRtX2NvbnRlbnQgcGFyYW1ldGVyIHZhbHVlIHRvIHNldCBpbiBqb2luUGF0aC4gKi9cbiAgICB1dG1Db250ZW50Pzogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIEJyYW5kIG9mIHNlbmRpbmcgdXNlci4gKi9cbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBncm91cCB3aXRoaW4gdGhlIGJyYW5kLiBPbiBhY2NlcHRpbmcgdGhlIGludml0YXRpb24gZWFjaCBpbnZpdGVlIHdpbGwgYmUgYWRkZWQgdG9cbiAgICAgKiB0aGlzIGdyb3VwIHdpdGggcm9sZSBHcm91cFJvbGUuTUVNQkVSLlxuICAgICAqL1xuICAgIHRoaXMuZ3JvdXAgPSBvcHRzLmdyb3VwO1xuICAgIC8qKlxuICAgICAqIElkIG9mIHNlbmRpbmcgdXNlci4gUmVxdWlyZWQgYnkgc2VydmljZS4gT3B0aW9uYWwgZm9yIHJwYyBoYW5kbGVyIChub24gc2VydmljZSBjbGllbnRzKS5cbiAgICAgKiBJZiBub3Qgc3VwcGxpZWQsIGRlZmF1bHRzIHRvIHRoZSBjYWxsaW5nIHVzZXIgaW4gcnBjIGhhbmRsZXIuXG4gICAgICovXG4gICAgdGhpcy5pbnZpdGVyID0gb3B0cy5pbnZpdGVyO1xuICAgIHRoaXMuaW52aXRlZXMgPSBvcHRzLmludml0ZWVzIHx8IFtdO1xuICAgIC8qKiBJZiB0cnVlLCBhbnkgZXhpc3RpbmcgdW51c2VkIGludml0YXRpb25zIHdpbGwgYmUgcmVzZW50LiBPdGhlcndpc2UsIHRoZXkgd2lsbCBiZSBza2lwcGVkLiAqL1xuICAgIHRoaXMucmVzZW5kID0gb3B0cy5yZXNlbmQ7XG4gICAgLyoqXG4gICAgICogQ0ZFIHBhdGggdG8gZGlyZWN0IGVtYWlsIHJlY2lwaWVudCB0by4gIFNob3VsZCBhY2NlcHQgYSBcInRva2VuXCIgcGFyYW0uXG4gICAgICogVE9ETyhwcm9maWxlLXRlYW0pIE1ha2UgdGhpcyBwYXJhbSByZXF1aXJlZCB3aGVuIGFsbCBjbGllbnRzIGFyZSBwYXNzaW5nIGl0IGluLlxuICAgICAqL1xuICAgIHRoaXMuam9pblBhdGggPSBvcHRzLmpvaW5QYXRoO1xuICAgIC8qKiB1dG1fY29udGVudCBwYXJhbWV0ZXIgdmFsdWUgdG8gc2V0IGluIGpvaW5QYXRoLiAqL1xuICAgIHRoaXMudXRtQ29udGVudCA9IG9wdHMudXRtQ29udGVudDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogU2VuZEJyYW5kSW52aXRhdGlvbnNSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICdncm91cCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2dyb3VwJywgbS5ncm91cCksXG4gICAgICAnaW52aXRlcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ludml0ZXInLCBtLmludml0ZXIpLFxuICAgICAgJ2ludml0ZWVzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChCcmFuZEludml0ZWUuc2VyaWFsaXplLCAnaW52aXRlZXMnLCBtLmludml0ZWVzKSxcbiAgICAgICdyZXNlbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVzZW5kJywgbS5yZXNlbmQpLFxuICAgICAgJ2pvaW5QYXRoJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnam9pblBhdGgnLCBtLmpvaW5QYXRoKSxcbiAgICAgICd1dG1Db250ZW50JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXRtQ29udGVudCcsIG0udXRtQ29udGVudCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBTZW5kQnJhbmRJbnZpdGF0aW9uc1JlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgU2VuZEJyYW5kSW52aXRhdGlvbnNSZXF1ZXN0KHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICBncm91cDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdncm91cCcsIG8pLFxuICAgICAgaW52aXRlcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbnZpdGVyJywgbyksXG4gICAgICBpbnZpdGVlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEJyYW5kSW52aXRlZS5kZXNlcmlhbGl6ZSwgJ2ludml0ZWVzJywgbyksXG4gICAgICByZXNlbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3Jlc2VuZCcsIG8pLFxuICAgICAgam9pblBhdGg6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnam9pblBhdGgnLCBvKSxcbiAgICAgIHV0bUNvbnRlbnQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXRtQ29udGVudCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZW5kQnJhbmRJbnZpdGF0aW9uc1Jlc3BvbnNlIHtcbiAgLyoqIFNlbnQgaW52aXRhdGlvbnMuICovXG4gIHJlYWRvbmx5IGludml0YXRpb25zOiByZWFkb25seSBCcmFuZEludml0YXRpb25bXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFNlbnQgaW52aXRhdGlvbnMuICovXG4gICAgaW52aXRhdGlvbnM/OiByZWFkb25seSBCcmFuZEludml0YXRpb25bXSxcbiAgfSkge1xuICAgIC8qKiBTZW50IGludml0YXRpb25zLiAqL1xuICAgIHRoaXMuaW52aXRhdGlvbnMgPSBvcHRzLmludml0YXRpb25zIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBTZW5kQnJhbmRJbnZpdGF0aW9uc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2ludml0YXRpb25zJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChCcmFuZEludml0YXRpb24uc2VyaWFsaXplLCAnaW52aXRhdGlvbnMnLCBtLmludml0YXRpb25zKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFNlbmRCcmFuZEludml0YXRpb25zUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgU2VuZEJyYW5kSW52aXRhdGlvbnNSZXNwb25zZSh7XG4gICAgICBpbnZpdGF0aW9uczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEJyYW5kSW52aXRhdGlvbi5kZXNlcmlhbGl6ZSwgJ2ludml0YXRpb25zJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZUJyYW5kSW52aXRhdGlvblJlcXVlc3Qge1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogSW52aXRhdGlvbiB3aXRoIHRoaXMgZW1haWwgaXMgcmVtb3ZlZC9pbnZhbGlkYXRlZC4gKi9cbiAgcmVhZG9ubHkgcmVtb3ZlRW1haWw6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIE11bHRpLXVzZSBpbnZpdGF0aW9uIGZvciB0aGlzIGJyYW5kIGlzIHJlbW92ZWQvaW52YWxpZGF0ZWQuICovXG4gIHJlYWRvbmx5IHJlbW92ZUludml0ZUxpbms6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBUaGUgZW1haWwgZm9yIHRoZSBpbnZpdGUgdG8gYmUgbW9kaWZpZWQuIFJlcXVpcmVkIGZvciBncm91cF90b19hZGQgb3IgZ3JvdXBfdG9fcmVtb3ZlLlxuICAgKiBJZ25vcmVkIGZvciBvdGhlciBtb2Rlcy5cbiAgICovXG4gIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBUaGUgZ3JvdXAgdG8gYWRkIHRvIHRoZSBicmFuZCBpbnZpdGF0aW9uLiAqL1xuICByZWFkb25seSBncm91cFRvQWRkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBUaGUgZ3JvdXAgdG8gcmVtb3ZlIGZyb20gdGhlIGJyYW5kIGludml0YXRpb24uICovXG4gIHJlYWRvbmx5IGdyb3VwVG9SZW1vdmU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICAvKiogSW52aXRhdGlvbiB3aXRoIHRoaXMgZW1haWwgaXMgcmVtb3ZlZC9pbnZhbGlkYXRlZC4gKi9cbiAgICByZW1vdmVFbWFpbD86IHN0cmluZyxcbiAgICAvKiogTXVsdGktdXNlIGludml0YXRpb24gZm9yIHRoaXMgYnJhbmQgaXMgcmVtb3ZlZC9pbnZhbGlkYXRlZC4gKi9cbiAgICByZW1vdmVJbnZpdGVMaW5rPzogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBUaGUgZW1haWwgZm9yIHRoZSBpbnZpdGUgdG8gYmUgbW9kaWZpZWQuIFJlcXVpcmVkIGZvciBncm91cF90b19hZGQgb3IgZ3JvdXBfdG9fcmVtb3ZlLlxuICAgICAqIElnbm9yZWQgZm9yIG90aGVyIG1vZGVzLlxuICAgICAqL1xuICAgIGVtYWlsPzogc3RyaW5nLFxuICAgIC8qKiBUaGUgZ3JvdXAgdG8gYWRkIHRvIHRoZSBicmFuZCBpbnZpdGF0aW9uLiAqL1xuICAgIGdyb3VwVG9BZGQ/OiBzdHJpbmcsXG4gICAgLyoqIFRoZSBncm91cCB0byByZW1vdmUgZnJvbSB0aGUgYnJhbmQgaW52aXRhdGlvbi4gKi9cbiAgICBncm91cFRvUmVtb3ZlPzogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIEludml0YXRpb24gd2l0aCB0aGlzIGVtYWlsIGlzIHJlbW92ZWQvaW52YWxpZGF0ZWQuICovXG4gICAgdGhpcy5yZW1vdmVFbWFpbCA9IG9wdHMucmVtb3ZlRW1haWw7XG4gICAgLyoqIE11bHRpLXVzZSBpbnZpdGF0aW9uIGZvciB0aGlzIGJyYW5kIGlzIHJlbW92ZWQvaW52YWxpZGF0ZWQuICovXG4gICAgdGhpcy5yZW1vdmVJbnZpdGVMaW5rID0gb3B0cy5yZW1vdmVJbnZpdGVMaW5rO1xuICAgIC8qKlxuICAgICAqIFRoZSBlbWFpbCBmb3IgdGhlIGludml0ZSB0byBiZSBtb2RpZmllZC4gUmVxdWlyZWQgZm9yIGdyb3VwX3RvX2FkZCBvciBncm91cF90b19yZW1vdmUuXG4gICAgICogSWdub3JlZCBmb3Igb3RoZXIgbW9kZXMuXG4gICAgICovXG4gICAgdGhpcy5lbWFpbCA9IG9wdHMuZW1haWw7XG4gICAgLyoqIFRoZSBncm91cCB0byBhZGQgdG8gdGhlIGJyYW5kIGludml0YXRpb24uICovXG4gICAgdGhpcy5ncm91cFRvQWRkID0gb3B0cy5ncm91cFRvQWRkO1xuICAgIC8qKiBUaGUgZ3JvdXAgdG8gcmVtb3ZlIGZyb20gdGhlIGJyYW5kIGludml0YXRpb24uICovXG4gICAgdGhpcy5ncm91cFRvUmVtb3ZlID0gb3B0cy5ncm91cFRvUmVtb3ZlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVCcmFuZEludml0YXRpb25SZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICdyZW1vdmVFbWFpbCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlbW92ZUVtYWlsJywgbS5yZW1vdmVFbWFpbCksXG4gICAgICAncmVtb3ZlSW52aXRlTGluayc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdyZW1vdmVJbnZpdGVMaW5rJywgbS5yZW1vdmVJbnZpdGVMaW5rKSxcbiAgICAgICdlbWFpbCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2VtYWlsJywgbS5lbWFpbCksXG4gICAgICAnZ3JvdXBUb0FkZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2dyb3VwVG9BZGQnLCBtLmdyb3VwVG9BZGQpLFxuICAgICAgJ2dyb3VwVG9SZW1vdmUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdncm91cFRvUmVtb3ZlJywgbS5ncm91cFRvUmVtb3ZlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZUJyYW5kSW52aXRhdGlvblJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgVXBkYXRlQnJhbmRJbnZpdGF0aW9uUmVxdWVzdCh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgcmVtb3ZlRW1haWw6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmVtb3ZlRW1haWwnLCBvKSxcbiAgICAgIHJlbW92ZUludml0ZUxpbms6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3JlbW92ZUludml0ZUxpbmsnLCBvKSxcbiAgICAgIGVtYWlsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2VtYWlsJywgbyksXG4gICAgICBncm91cFRvQWRkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2dyb3VwVG9BZGQnLCBvKSxcbiAgICAgIGdyb3VwVG9SZW1vdmU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZ3JvdXBUb1JlbW92ZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVCcmFuZEludml0YXRpb25SZXNwb25zZSB7XG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlQnJhbmRJbnZpdGF0aW9uUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVCcmFuZEludml0YXRpb25SZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVCcmFuZEludml0YXRpb25SZXNwb25zZSgpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kQnJhbmRJbnZpdGF0aW9uc1JlcXVlc3Qge1xuICAvKiogQnJhbmQgdGhlIGludml0YXRpb24gaW52aXRlcyB1c2VycyB0byBqb2luLiAqL1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogSWYgdHJ1ZSwgb25seSBhIGNvdW50IG9mIHRoZSB1bmV4cGlyZWQsIG91dHN0YW5kaW5nIGludml0YXRpb25zIGZvciB0aGUgYnJhbmQgaXMgcmV0dXJuZWQuICovXG4gIHJlYWRvbmx5IGNvdW50T25seTogYm9vbGVhbjtcbiAgLyoqIElmIHRydWUsIGFsc28gaW5jbHVkZSBtdWx0aS11c2UgaW52aXRlcyBpbiB0aGUgcmVzcG9uc2UuICovXG4gIHJlYWRvbmx5IGluY2x1ZGVNdWx0aVVzZUludml0ZTogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGxpbWl0OiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBCcmFuZCB0aGUgaW52aXRhdGlvbiBpbnZpdGVzIHVzZXJzIHRvIGpvaW4uICovXG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICAvKiogSWYgdHJ1ZSwgb25seSBhIGNvdW50IG9mIHRoZSB1bmV4cGlyZWQsIG91dHN0YW5kaW5nIGludml0YXRpb25zIGZvciB0aGUgYnJhbmQgaXMgcmV0dXJuZWQuICovXG4gICAgY291bnRPbmx5PzogYm9vbGVhbixcbiAgICAvKiogSWYgdHJ1ZSwgYWxzbyBpbmNsdWRlIG11bHRpLXVzZSBpbnZpdGVzIGluIHRoZSByZXNwb25zZS4gKi9cbiAgICBpbmNsdWRlTXVsdGlVc2VJbnZpdGU/OiBib29sZWFuLFxuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgICBsaW1pdD86IG51bWJlcixcbiAgfSkge1xuICAgIC8qKiBCcmFuZCB0aGUgaW52aXRhdGlvbiBpbnZpdGVzIHVzZXJzIHRvIGpvaW4uICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIElmIHRydWUsIG9ubHkgYSBjb3VudCBvZiB0aGUgdW5leHBpcmVkLCBvdXRzdGFuZGluZyBpbnZpdGF0aW9ucyBmb3IgdGhlIGJyYW5kIGlzIHJldHVybmVkLiAqL1xuICAgIHRoaXMuY291bnRPbmx5ID0gb3B0cy5jb3VudE9ubHkgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuY291bnRPbmx5XG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKiogSWYgdHJ1ZSwgYWxzbyBpbmNsdWRlIG11bHRpLXVzZSBpbnZpdGVzIGluIHRoZSByZXNwb25zZS4gKi9cbiAgICB0aGlzLmluY2x1ZGVNdWx0aVVzZUludml0ZSA9IG9wdHMuaW5jbHVkZU11bHRpVXNlSW52aXRlICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmluY2x1ZGVNdWx0aVVzZUludml0ZVxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgdGhpcy5jb250aW51YXRpb24gPSBvcHRzLmNvbnRpbnVhdGlvbjtcbiAgICB0aGlzLmxpbWl0ID0gb3B0cy5saW1pdCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5saW1pdFxuICAgICAgICA6IDEwMDtcblxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kQnJhbmRJbnZpdGF0aW9uc1JlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ2NvdW50T25seSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjb3VudE9ubHknLCBtLmNvdW50T25seSksXG4gICAgICAnaW5jbHVkZU11bHRpVXNlSW52aXRlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2luY2x1ZGVNdWx0aVVzZUludml0ZScsIG0uaW5jbHVkZU11bHRpVXNlSW52aXRlKSxcbiAgICAgICdjb250aW51YXRpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBtLmNvbnRpbnVhdGlvbiksXG4gICAgICAnbGltaXQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdsaW1pdCcsIG0ubGltaXQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZEJyYW5kSW52aXRhdGlvbnNSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEZpbmRCcmFuZEludml0YXRpb25zUmVxdWVzdCh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgY291bnRPbmx5OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjb3VudE9ubHknLCBvKSxcbiAgICAgIGluY2x1ZGVNdWx0aVVzZUludml0ZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaW5jbHVkZU11bHRpVXNlSW52aXRlJywgbyksXG4gICAgICBjb250aW51YXRpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbyksXG4gICAgICBsaW1pdDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdsaW1pdCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kQnJhbmRJbnZpdGF0aW9uc1Jlc3BvbnNlIHtcbiAgLyoqIEludml0YXRpb25zIHNvcnRlZCBieSBlbWFpbC4gKi9cbiAgcmVhZG9ubHkgaW52aXRhdGlvbnM6IHJlYWRvbmx5IEJyYW5kSW52aXRhdGlvbltdO1xuICAvKiogSWYgdGhlIHJlcXVlc3Qgd2FzIGNvdW50T25seSwgdGhlIGNvdW50IG9mIGludml0YXRpb25zIGluIHRoZSBicmFuZC4gKi9cbiAgcmVhZG9ubHkgY291bnQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBJbnZpdGF0aW9ucyBzb3J0ZWQgYnkgZW1haWwuICovXG4gICAgaW52aXRhdGlvbnM/OiByZWFkb25seSBCcmFuZEludml0YXRpb25bXSxcbiAgICAvKiogSWYgdGhlIHJlcXVlc3Qgd2FzIGNvdW50T25seSwgdGhlIGNvdW50IG9mIGludml0YXRpb25zIGluIHRoZSBicmFuZC4gKi9cbiAgICBjb3VudD86IG51bWJlcixcbiAgICBjb250aW51YXRpb24/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogSW52aXRhdGlvbnMgc29ydGVkIGJ5IGVtYWlsLiAqL1xuICAgIHRoaXMuaW52aXRhdGlvbnMgPSBvcHRzLmludml0YXRpb25zIHx8IFtdO1xuICAgIC8qKiBJZiB0aGUgcmVxdWVzdCB3YXMgY291bnRPbmx5LCB0aGUgY291bnQgb2YgaW52aXRhdGlvbnMgaW4gdGhlIGJyYW5kLiAqL1xuICAgIHRoaXMuY291bnQgPSBvcHRzLmNvdW50O1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRCcmFuZEludml0YXRpb25zUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnaW52aXRhdGlvbnMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEJyYW5kSW52aXRhdGlvbi5zZXJpYWxpemUsICdpbnZpdGF0aW9ucycsIG0uaW52aXRhdGlvbnMpLFxuICAgICAgJ2NvdW50JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignY291bnQnLCBtLmNvdW50KSxcbiAgICAgICdjb250aW51YXRpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBtLmNvbnRpbnVhdGlvbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kQnJhbmRJbnZpdGF0aW9uc1Jlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IEZpbmRCcmFuZEludml0YXRpb25zUmVzcG9uc2Uoe1xuICAgICAgaW52aXRhdGlvbnM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChCcmFuZEludml0YXRpb24uZGVzZXJpYWxpemUsICdpbnZpdGF0aW9ucycsIG8pLFxuICAgICAgY291bnQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignY291bnQnLCBvKSxcbiAgICAgIGNvbnRpbnVhdGlvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQnJhbmRBcGlTZXR0aW5ncyB7XG4gIC8qKiB0b2RvKGJwaCkgLSBuZWdhdGUgdGhpcyBmaWVsZCB0byBtYXRjaCBzY2hlbWEgKi9cbiAgcmVhZG9ubHkgZW5hYmxlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYWxsb3dlZFJlZmVycmVyczogcmVhZG9ubHkgc3RyaW5nW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiB0b2RvKGJwaCkgLSBuZWdhdGUgdGhpcyBmaWVsZCB0byBtYXRjaCBzY2hlbWEgKi9cbiAgICBlbmFibGVkPzogYm9vbGVhbixcbiAgICBhbGxvd2VkUmVmZXJyZXJzPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gIH0pIHtcbiAgICAvKiogdG9kbyhicGgpIC0gbmVnYXRlIHRoaXMgZmllbGQgdG8gbWF0Y2ggc2NoZW1hICovXG4gICAgdGhpcy5lbmFibGVkID0gb3B0cy5lbmFibGVkO1xuICAgIHRoaXMuYWxsb3dlZFJlZmVycmVycyA9IG9wdHMuYWxsb3dlZFJlZmVycmVycyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQnJhbmRBcGlTZXR0aW5ncyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdlbmFibGVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2VuYWJsZWQnLCBtLmVuYWJsZWQpLFxuICAgICAgJ2FsbG93ZWRSZWZlcnJlcnMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdhbGxvd2VkUmVmZXJyZXJzJywgbS5hbGxvd2VkUmVmZXJyZXJzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJyYW5kQXBpU2V0dGluZ3Mge1xuICAgIHJldHVybiBuZXcgQnJhbmRBcGlTZXR0aW5ncyh7XG4gICAgICBlbmFibGVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdlbmFibGVkJywgbyksXG4gICAgICBhbGxvd2VkUmVmZXJyZXJzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2FsbG93ZWRSZWZlcnJlcnMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQnJhbmRCaWxsaW5nSW5mbyB7XG4gIC8qKiBOYW1lIG9mIHRoZSBjb21wYW55IGZvciBiaWxsaW5nIHB1cnBvc2VzICovXG4gIHJlYWRvbmx5IGNvbXBhbnlOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBBZGRyZXNzIGFuZCBvdGhlciBkZXRhaWxzICovXG4gIHJlYWRvbmx5IGNvbXBhbnlBZGRyZXNzOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBMaXN0IG9mIGVtYWlsIGFkZHJlc3NlcyB0byBzZW5kIGJpbGxpbmcgbm90aWZpY2F0aW9ucywgaW4gYWRkaXRpb24gdG8gdGhlIGJyYW5kLW93bmVyICovXG4gIHJlYWRvbmx5IGJpbGxpbmdDb250YWN0czogcmVhZG9ubHkgc3RyaW5nW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBOYW1lIG9mIHRoZSBjb21wYW55IGZvciBiaWxsaW5nIHB1cnBvc2VzICovXG4gICAgY29tcGFueU5hbWU/OiBzdHJpbmcsXG4gICAgLyoqIEFkZHJlc3MgYW5kIG90aGVyIGRldGFpbHMgKi9cbiAgICBjb21wYW55QWRkcmVzcz86IHN0cmluZyxcbiAgICAvKiogTGlzdCBvZiBlbWFpbCBhZGRyZXNzZXMgdG8gc2VuZCBiaWxsaW5nIG5vdGlmaWNhdGlvbnMsIGluIGFkZGl0aW9uIHRvIHRoZSBicmFuZC1vd25lciAqL1xuICAgIGJpbGxpbmdDb250YWN0cz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICB9KSB7XG4gICAgLyoqIE5hbWUgb2YgdGhlIGNvbXBhbnkgZm9yIGJpbGxpbmcgcHVycG9zZXMgKi9cbiAgICB0aGlzLmNvbXBhbnlOYW1lID0gb3B0cy5jb21wYW55TmFtZTtcbiAgICAvKiogQWRkcmVzcyBhbmQgb3RoZXIgZGV0YWlscyAqL1xuICAgIHRoaXMuY29tcGFueUFkZHJlc3MgPSBvcHRzLmNvbXBhbnlBZGRyZXNzO1xuICAgIC8qKiBMaXN0IG9mIGVtYWlsIGFkZHJlc3NlcyB0byBzZW5kIGJpbGxpbmcgbm90aWZpY2F0aW9ucywgaW4gYWRkaXRpb24gdG8gdGhlIGJyYW5kLW93bmVyICovXG4gICAgdGhpcy5iaWxsaW5nQ29udGFjdHMgPSBvcHRzLmJpbGxpbmdDb250YWN0cyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQnJhbmRCaWxsaW5nSW5mbyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjb21wYW55TmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbXBhbnlOYW1lJywgbS5jb21wYW55TmFtZSksXG4gICAgICAnY29tcGFueUFkZHJlc3MnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb21wYW55QWRkcmVzcycsIG0uY29tcGFueUFkZHJlc3MpLFxuICAgICAgJ2JpbGxpbmdDb250YWN0cyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2JpbGxpbmdDb250YWN0cycsIG0uYmlsbGluZ0NvbnRhY3RzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJyYW5kQmlsbGluZ0luZm8ge1xuICAgIHJldHVybiBuZXcgQnJhbmRCaWxsaW5nSW5mbyh7XG4gICAgICBjb21wYW55TmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb21wYW55TmFtZScsIG8pLFxuICAgICAgY29tcGFueUFkZHJlc3M6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29tcGFueUFkZHJlc3MnLCBvKSxcbiAgICAgIGJpbGxpbmdDb250YWN0czogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdiaWxsaW5nQ29udGFjdHMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQnJhbmREZXRhaWxzIHtcbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgY3JlYXRpb25EYXRlOiBudW1iZXI7XG4gIHJlYWRvbmx5IGJyYW5kbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBpbmR1c3RyeTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBwZXJzb25hbDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY29udHJpYnV0b3I6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGxheW91dENvbnRyaWJ1dG9yOiBib29sZWFuO1xuICAvKipcbiAgICogSWYgcmVxdWVzdGVkIGZvciBhIGNvbnRyaWJ1dG9yIGJyYW5kOiBXaGV0aGVyIG9yIG5vdCB0aGUgYnJhbmQncyBtZWRpYSBpcyBkaXNjb3VudGVkIGZvclxuICAgKiBlbGlnaWJsZSB1c2Vycy4gQWx3YXlzIG51bGwgZm9yIG5vbi1jb250cmlidXRpbmcgYnJhbmRzLlxuICAgKi9cbiAgcmVhZG9ubHkgZGlzY291bnRDb250cmlidXRvcjogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgY29udHJpYnV0b3JBdXRvYXBwcm92ZTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgdGhpcmRQYXJ0eTogYm9vbGVhbjtcbiAgcmVhZG9ubHkgYnJhbmRLaXQ6IEJyYW5kS2l0IHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBhcGlTZXR0aW5nczogQnJhbmRBcGlTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYmlsbGluZ0luZm86IEJyYW5kQmlsbGluZ0luZm8gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGlkOiBzdHJpbmcsXG4gICAgY3JlYXRpb25EYXRlOiBudW1iZXIsXG4gICAgYnJhbmRuYW1lPzogc3RyaW5nLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nLFxuICAgIGluZHVzdHJ5Pzogc3RyaW5nLFxuICAgIHBlcnNvbmFsOiBib29sZWFuLFxuICAgIGNvbnRyaWJ1dG9yOiBib29sZWFuLFxuICAgIGxheW91dENvbnRyaWJ1dG9yOiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIElmIHJlcXVlc3RlZCBmb3IgYSBjb250cmlidXRvciBicmFuZDogV2hldGhlciBvciBub3QgdGhlIGJyYW5kJ3MgbWVkaWEgaXMgZGlzY291bnRlZCBmb3JcbiAgICAgKiBlbGlnaWJsZSB1c2Vycy4gQWx3YXlzIG51bGwgZm9yIG5vbi1jb250cmlidXRpbmcgYnJhbmRzLlxuICAgICAqL1xuICAgIGRpc2NvdW50Q29udHJpYnV0b3I/OiBib29sZWFuLFxuICAgIGNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU/OiBib29sZWFuLFxuICAgIHRoaXJkUGFydHk6IGJvb2xlYW4sXG4gICAgYnJhbmRLaXQ/OiBCcmFuZEtpdCxcbiAgICBhcGlTZXR0aW5ncz86IEJyYW5kQXBpU2V0dGluZ3MsXG4gICAgYmlsbGluZ0luZm8/OiBCcmFuZEJpbGxpbmdJbmZvLFxuICB9KSB7XG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gICAgdGhpcy5jcmVhdGlvbkRhdGUgPSBvcHRzLmNyZWF0aW9uRGF0ZTtcbiAgICB0aGlzLmJyYW5kbmFtZSA9IG9wdHMuYnJhbmRuYW1lO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHRzLmRpc3BsYXlOYW1lO1xuICAgIHRoaXMuaW5kdXN0cnkgPSBvcHRzLmluZHVzdHJ5O1xuICAgIHRoaXMucGVyc29uYWwgPSBvcHRzLnBlcnNvbmFsO1xuICAgIHRoaXMuY29udHJpYnV0b3IgPSBvcHRzLmNvbnRyaWJ1dG9yO1xuICAgIHRoaXMubGF5b3V0Q29udHJpYnV0b3IgPSBvcHRzLmxheW91dENvbnRyaWJ1dG9yO1xuICAgIC8qKlxuICAgICAqIElmIHJlcXVlc3RlZCBmb3IgYSBjb250cmlidXRvciBicmFuZDogV2hldGhlciBvciBub3QgdGhlIGJyYW5kJ3MgbWVkaWEgaXMgZGlzY291bnRlZCBmb3JcbiAgICAgKiBlbGlnaWJsZSB1c2Vycy4gQWx3YXlzIG51bGwgZm9yIG5vbi1jb250cmlidXRpbmcgYnJhbmRzLlxuICAgICAqL1xuICAgIHRoaXMuZGlzY291bnRDb250cmlidXRvciA9IG9wdHMuZGlzY291bnRDb250cmlidXRvcjtcbiAgICB0aGlzLmNvbnRyaWJ1dG9yQXV0b2FwcHJvdmUgPSBvcHRzLmNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU7XG4gICAgdGhpcy50aGlyZFBhcnR5ID0gb3B0cy50aGlyZFBhcnR5O1xuICAgIHRoaXMuYnJhbmRLaXQgPSBvcHRzLmJyYW5kS2l0O1xuICAgIHRoaXMuYXBpU2V0dGluZ3MgPSBvcHRzLmFwaVNldHRpbmdzO1xuICAgIHRoaXMuYmlsbGluZ0luZm8gPSBvcHRzLmJpbGxpbmdJbmZvO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBCcmFuZERldGFpbHMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnaWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG0uaWQpLFxuICAgICAgJ2NyZWF0aW9uRGF0ZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2NyZWF0aW9uRGF0ZScsIG0uY3JlYXRpb25EYXRlKSxcbiAgICAgICdicmFuZG5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZG5hbWUnLCBtLmJyYW5kbmFtZSksXG4gICAgICAnZGlzcGxheU5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkaXNwbGF5TmFtZScsIG0uZGlzcGxheU5hbWUpLFxuICAgICAgJ2luZHVzdHJ5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW5kdXN0cnknLCBtLmluZHVzdHJ5KSxcbiAgICAgICdwZXJzb25hbCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdwZXJzb25hbCcsIG0ucGVyc29uYWwpLFxuICAgICAgJ2NvbnRyaWJ1dG9yJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NvbnRyaWJ1dG9yJywgbS5jb250cmlidXRvciksXG4gICAgICAnbGF5b3V0Q29udHJpYnV0b3InOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGF5b3V0Q29udHJpYnV0b3InLCBtLmxheW91dENvbnRyaWJ1dG9yKSxcbiAgICAgICdkaXNjb3VudENvbnRyaWJ1dG9yJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2Rpc2NvdW50Q29udHJpYnV0b3InLCBtLmRpc2NvdW50Q29udHJpYnV0b3IpLFxuICAgICAgJ2NvbnRyaWJ1dG9yQXV0b2FwcHJvdmUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignY29udHJpYnV0b3JBdXRvYXBwcm92ZScsIG0uY29udHJpYnV0b3JBdXRvYXBwcm92ZSksXG4gICAgICAndGhpcmRQYXJ0eSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd0aGlyZFBhcnR5JywgbS50aGlyZFBhcnR5KSxcbiAgICAgICdicmFuZEtpdCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRLaXQuc2VyaWFsaXplLCAnYnJhbmRLaXQnLCBtLmJyYW5kS2l0KSxcbiAgICAgICdhcGlTZXR0aW5ncyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRBcGlTZXR0aW5ncy5zZXJpYWxpemUsICdhcGlTZXR0aW5ncycsIG0uYXBpU2V0dGluZ3MpLFxuICAgICAgJ2JpbGxpbmdJbmZvJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZEJpbGxpbmdJbmZvLnNlcmlhbGl6ZSwgJ2JpbGxpbmdJbmZvJywgbS5iaWxsaW5nSW5mbyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBCcmFuZERldGFpbHMge1xuICAgIHJldHVybiBuZXcgQnJhbmREZXRhaWxzKHtcbiAgICAgIGlkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbyksXG4gICAgICBjcmVhdGlvbkRhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignY3JlYXRpb25EYXRlJywgbyksXG4gICAgICBicmFuZG5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmRuYW1lJywgbyksXG4gICAgICBkaXNwbGF5TmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkaXNwbGF5TmFtZScsIG8pLFxuICAgICAgaW5kdXN0cnk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW5kdXN0cnknLCBvKSxcbiAgICAgIHBlcnNvbmFsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdwZXJzb25hbCcsIG8pLFxuICAgICAgY29udHJpYnV0b3I6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NvbnRyaWJ1dG9yJywgbyksXG4gICAgICBsYXlvdXRDb250cmlidXRvcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGF5b3V0Q29udHJpYnV0b3InLCBvKSxcbiAgICAgIGRpc2NvdW50Q29udHJpYnV0b3I6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2Rpc2NvdW50Q29udHJpYnV0b3InLCBvKSxcbiAgICAgIGNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2NvbnRyaWJ1dG9yQXV0b2FwcHJvdmUnLCBvKSxcbiAgICAgIHRoaXJkUGFydHk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3RoaXJkUGFydHknLCBvKSxcbiAgICAgIGJyYW5kS2l0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRLaXQuZGVzZXJpYWxpemUsICdicmFuZEtpdCcsIG8pLFxuICAgICAgYXBpU2V0dGluZ3M6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZEFwaVNldHRpbmdzLmRlc2VyaWFsaXplLCAnYXBpU2V0dGluZ3MnLCBvKSxcbiAgICAgIGJpbGxpbmdJbmZvOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRCaWxsaW5nSW5mby5kZXNlcmlhbGl6ZSwgJ2JpbGxpbmdJbmZvJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldEJyYW5kRGV0YWlsc1JlcXVlc3Qge1xuICByZWFkb25seSBieUlkOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGluY2x1ZGVCaWxsaW5nSW5mbzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoZXRoZXIgb3Igbm90IHRvIGNoZWNrIGlmIHRoZSBicmFuZCdzIG1lZGlhIGlzIGRpc2NvdW50ZWQgZm9yIGVsaWdpYmxlIHVzZXJzLiBJZ25vcmVkIGZvclxuICAgKiBub24tY29udHJpYnV0aW5nIGJyYW5kcy5cbiAgICovXG4gIHJlYWRvbmx5IGluY2x1ZGVEaXNjb3VudENvbnRyaWJ1dG9yOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBieUlkOiBzdHJpbmcsXG4gICAgaW5jbHVkZUJpbGxpbmdJbmZvPzogYm9vbGVhbixcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG9yIG5vdCB0byBjaGVjayBpZiB0aGUgYnJhbmQncyBtZWRpYSBpcyBkaXNjb3VudGVkIGZvciBlbGlnaWJsZSB1c2Vycy4gSWdub3JlZCBmb3JcbiAgICAgKiBub24tY29udHJpYnV0aW5nIGJyYW5kcy5cbiAgICAgKi9cbiAgICBpbmNsdWRlRGlzY291bnRDb250cmlidXRvcj86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLmJ5SWQgPSBvcHRzLmJ5SWQ7XG4gICAgdGhpcy5pbmNsdWRlQmlsbGluZ0luZm8gPSBvcHRzLmluY2x1ZGVCaWxsaW5nSW5mbyAhPSBudWxsXG4gICAgICAgID8gb3B0cy5pbmNsdWRlQmlsbGluZ0luZm9cbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgb3Igbm90IHRvIGNoZWNrIGlmIHRoZSBicmFuZCdzIG1lZGlhIGlzIGRpc2NvdW50ZWQgZm9yIGVsaWdpYmxlIHVzZXJzLiBJZ25vcmVkIGZvclxuICAgICAqIG5vbi1jb250cmlidXRpbmcgYnJhbmRzLlxuICAgICAqL1xuICAgIHRoaXMuaW5jbHVkZURpc2NvdW50Q29udHJpYnV0b3IgPSBvcHRzLmluY2x1ZGVEaXNjb3VudENvbnRyaWJ1dG9yICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmluY2x1ZGVEaXNjb3VudENvbnRyaWJ1dG9yXG4gICAgICAgIDogZmFsc2U7XG5cbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0QnJhbmREZXRhaWxzUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdieUlkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnlJZCcsIG0uYnlJZCksXG4gICAgICAnaW5jbHVkZUJpbGxpbmdJbmZvJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2luY2x1ZGVCaWxsaW5nSW5mbycsIG0uaW5jbHVkZUJpbGxpbmdJbmZvKSxcbiAgICAgICdpbmNsdWRlRGlzY291bnRDb250cmlidXRvcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdpbmNsdWRlRGlzY291bnRDb250cmlidXRvcicsIG0uaW5jbHVkZURpc2NvdW50Q29udHJpYnV0b3IpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0QnJhbmREZXRhaWxzUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRCcmFuZERldGFpbHNSZXF1ZXN0KHtcbiAgICAgIGJ5SWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnlJZCcsIG8pLFxuICAgICAgaW5jbHVkZUJpbGxpbmdJbmZvOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdpbmNsdWRlQmlsbGluZ0luZm8nLCBvKSxcbiAgICAgIGluY2x1ZGVEaXNjb3VudENvbnRyaWJ1dG9yOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdpbmNsdWRlRGlzY291bnRDb250cmlidXRvcicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRCcmFuZERldGFpbHNSZXNwb25zZSB7XG4gIHJlYWRvbmx5IGJyYW5kOiBCcmFuZERldGFpbHM7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGJyYW5kOiBCcmFuZERldGFpbHMsXG4gIH0pIHtcbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0QnJhbmREZXRhaWxzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEJyYW5kRGV0YWlscy5zZXJpYWxpemUsICdicmFuZCcsIG0uYnJhbmQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0QnJhbmREZXRhaWxzUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0QnJhbmREZXRhaWxzUmVzcG9uc2Uoe1xuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChCcmFuZERldGFpbHMuZGVzZXJpYWxpemUsICdicmFuZCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKiBDb25maWd1cmF0aW9uIGRhdGEgYWNjZXNzaWJsZSB0byBtZW1iZXJzIG9mIHRoZSBicmFuZCAqL1xuZXhwb3J0IGNsYXNzIEJyYW5kU2V0dGluZ3Mge1xuICByZWFkb25seSBicmFuZEtpdDogQnJhbmRLaXQgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGhvbWVwYWdlVXJsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICByZWFkb25seSBoaWRkZW5NYWdpY1RlbXBsYXRlczogcmVhZG9ubHkgc3RyaW5nW107XG4gIHJlYWRvbmx5IGJyYW5kS2l0Q3JlYXRpb25EYXRlOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGNvbnRyaWJ1dG9yRGlzYWJsZWQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU6IGJvb2xlYW47XG4gIHJlYWRvbmx5IHJlc3RyaWN0ZWRHcm91cENyZWF0aW9uOiBib29sZWFuO1xuICByZWFkb25seSBwcml2YXRlRW1haWxzOiBib29sZWFuO1xuICByZWFkb25seSBzdHJpY3RJbnZpdGVzOiBib29sZWFuO1xuICByZWFkb25seSByZXZpZXdXb3JrZmxvdzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnJhbmRLaXQ/OiBCcmFuZEtpdCxcbiAgICBob21lcGFnZVVybD86IHN0cmluZyxcbiAgICBoaWRkZW5NYWdpY1RlbXBsYXRlcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIGJyYW5kS2l0Q3JlYXRpb25EYXRlPzogbnVtYmVyLFxuICAgIGNvbnRyaWJ1dG9yRGlzYWJsZWQ/OiBib29sZWFuLFxuICAgIGNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU/OiBib29sZWFuLFxuICAgIHJlc3RyaWN0ZWRHcm91cENyZWF0aW9uPzogYm9vbGVhbixcbiAgICBwcml2YXRlRW1haWxzPzogYm9vbGVhbixcbiAgICBzdHJpY3RJbnZpdGVzPzogYm9vbGVhbixcbiAgICByZXZpZXdXb3JrZmxvdz86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLmJyYW5kS2l0ID0gb3B0cy5icmFuZEtpdDtcbiAgICB0aGlzLmhvbWVwYWdlVXJsID0gb3B0cy5ob21lcGFnZVVybDtcbiAgICB0aGlzLmhpZGRlbk1hZ2ljVGVtcGxhdGVzID0gb3B0cy5oaWRkZW5NYWdpY1RlbXBsYXRlcyB8fCBbXTtcbiAgICB0aGlzLmJyYW5kS2l0Q3JlYXRpb25EYXRlID0gb3B0cy5icmFuZEtpdENyZWF0aW9uRGF0ZTtcbiAgICB0aGlzLmNvbnRyaWJ1dG9yRGlzYWJsZWQgPSBvcHRzLmNvbnRyaWJ1dG9yRGlzYWJsZWQgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuY29udHJpYnV0b3JEaXNhYmxlZFxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgdGhpcy5jb250cmlidXRvckF1dG9hcHByb3ZlID0gb3B0cy5jb250cmlidXRvckF1dG9hcHByb3ZlICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmNvbnRyaWJ1dG9yQXV0b2FwcHJvdmVcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIHRoaXMucmVzdHJpY3RlZEdyb3VwQ3JlYXRpb24gPSBvcHRzLnJlc3RyaWN0ZWRHcm91cENyZWF0aW9uICE9IG51bGxcbiAgICAgICAgPyBvcHRzLnJlc3RyaWN0ZWRHcm91cENyZWF0aW9uXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICB0aGlzLnByaXZhdGVFbWFpbHMgPSBvcHRzLnByaXZhdGVFbWFpbHMgIT0gbnVsbFxuICAgICAgICA/IG9wdHMucHJpdmF0ZUVtYWlsc1xuICAgICAgICA6IGZhbHNlO1xuXG4gICAgdGhpcy5zdHJpY3RJbnZpdGVzID0gb3B0cy5zdHJpY3RJbnZpdGVzICE9IG51bGxcbiAgICAgICAgPyBvcHRzLnN0cmljdEludml0ZXNcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIHRoaXMucmV2aWV3V29ya2Zsb3cgPSBvcHRzLnJldmlld1dvcmtmbG93ICE9IG51bGxcbiAgICAgICAgPyBvcHRzLnJldmlld1dvcmtmbG93XG4gICAgICAgIDogZmFsc2U7XG5cbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQnJhbmRTZXR0aW5ncyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdicmFuZEtpdCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRLaXQuc2VyaWFsaXplLCAnYnJhbmRLaXQnLCBtLmJyYW5kS2l0KSxcbiAgICAgICdob21lcGFnZVVybCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2hvbWVwYWdlVXJsJywgbS5ob21lcGFnZVVybCksXG4gICAgICAnaGlkZGVuTWFnaWNUZW1wbGF0ZXMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdoaWRkZW5NYWdpY1RlbXBsYXRlcycsIG0uaGlkZGVuTWFnaWNUZW1wbGF0ZXMpLFxuICAgICAgJ2JyYW5kS2l0Q3JlYXRpb25EYXRlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignYnJhbmRLaXRDcmVhdGlvbkRhdGUnLCBtLmJyYW5kS2l0Q3JlYXRpb25EYXRlKSxcbiAgICAgICdjb250cmlidXRvckRpc2FibGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NvbnRyaWJ1dG9yRGlzYWJsZWQnLCBtLmNvbnRyaWJ1dG9yRGlzYWJsZWQpLFxuICAgICAgJ2NvbnRyaWJ1dG9yQXV0b2FwcHJvdmUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY29udHJpYnV0b3JBdXRvYXBwcm92ZScsIG0uY29udHJpYnV0b3JBdXRvYXBwcm92ZSksXG4gICAgICAncmVzdHJpY3RlZEdyb3VwQ3JlYXRpb24nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVzdHJpY3RlZEdyb3VwQ3JlYXRpb24nLCBtLnJlc3RyaWN0ZWRHcm91cENyZWF0aW9uKSxcbiAgICAgICdwcml2YXRlRW1haWxzJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3ByaXZhdGVFbWFpbHMnLCBtLnByaXZhdGVFbWFpbHMpLFxuICAgICAgJ3N0cmljdEludml0ZXMnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc3RyaWN0SW52aXRlcycsIG0uc3RyaWN0SW52aXRlcyksXG4gICAgICAncmV2aWV3V29ya2Zsb3cnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmV2aWV3V29ya2Zsb3cnLCBtLnJldmlld1dvcmtmbG93KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJyYW5kU2V0dGluZ3Mge1xuICAgIHJldHVybiBuZXcgQnJhbmRTZXR0aW5ncyh7XG4gICAgICBicmFuZEtpdDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kS2l0LmRlc2VyaWFsaXplLCAnYnJhbmRLaXQnLCBvKSxcbiAgICAgIGhvbWVwYWdlVXJsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2hvbWVwYWdlVXJsJywgbyksXG4gICAgICBoaWRkZW5NYWdpY1RlbXBsYXRlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdoaWRkZW5NYWdpY1RlbXBsYXRlcycsIG8pLFxuICAgICAgYnJhbmRLaXRDcmVhdGlvbkRhdGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignYnJhbmRLaXRDcmVhdGlvbkRhdGUnLCBvKSxcbiAgICAgIGNvbnRyaWJ1dG9yRGlzYWJsZWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NvbnRyaWJ1dG9yRGlzYWJsZWQnLCBvKSxcbiAgICAgIGNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NvbnRyaWJ1dG9yQXV0b2FwcHJvdmUnLCBvKSxcbiAgICAgIHJlc3RyaWN0ZWRHcm91cENyZWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZXN0cmljdGVkR3JvdXBDcmVhdGlvbicsIG8pLFxuICAgICAgcHJpdmF0ZUVtYWlsczogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncHJpdmF0ZUVtYWlscycsIG8pLFxuICAgICAgc3RyaWN0SW52aXRlczogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc3RyaWN0SW52aXRlcycsIG8pLFxuICAgICAgcmV2aWV3V29ya2Zsb3c6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3Jldmlld1dvcmtmbG93JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gQ29sbGVjdGlvbk1vZGlmaWNhdGlvbk9wIHtcbiAgQUREID0gMSxcbiAgUkVNT1ZFLFxuICBTRVQsXG59XG5cbmV4cG9ydCBjb25zdCBDb2xsZWN0aW9uTW9kaWZpY2F0aW9uT3BVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBDb2xsZWN0aW9uTW9kaWZpY2F0aW9uT3BbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIENvbGxlY3Rpb25Nb2RpZmljYXRpb25PcC5BREQsXG4gICAgICBDb2xsZWN0aW9uTW9kaWZpY2F0aW9uT3AuUkVNT1ZFLFxuICAgICAgQ29sbGVjdGlvbk1vZGlmaWNhdGlvbk9wLlNFVCxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogQ29sbGVjdGlvbk1vZGlmaWNhdGlvbk9wKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIENvbGxlY3Rpb25Nb2RpZmljYXRpb25PcC5BREQ6IHJldHVybiAnQUREJztcbiAgICAgIGNhc2UgQ29sbGVjdGlvbk1vZGlmaWNhdGlvbk9wLlJFTU9WRTogcmV0dXJuICdSRU1PVkUnO1xuICAgICAgY2FzZSBDb2xsZWN0aW9uTW9kaWZpY2F0aW9uT3AuU0VUOiByZXR1cm4gJ1NFVCc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBDb2xsZWN0aW9uTW9kaWZpY2F0aW9uT3AgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ0FERCc6IHJldHVybiBDb2xsZWN0aW9uTW9kaWZpY2F0aW9uT3AuQUREO1xuICAgICAgY2FzZSAnUkVNT1ZFJzogcmV0dXJuIENvbGxlY3Rpb25Nb2RpZmljYXRpb25PcC5SRU1PVkU7XG4gICAgICBjYXNlICdTRVQnOiByZXR1cm4gQ29sbGVjdGlvbk1vZGlmaWNhdGlvbk9wLlNFVDtcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoYFVucmVjb2duaXplZCB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gZm9yIHR5cGUgJ0NvbGxlY3Rpb25Nb2RpZmljYXRpb25PcCcke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjbGFzcyBDb2xsZWN0aW9uTW9kaWZpY2F0aW9uIHtcbiAgcmVhZG9ubHkgb3A6IENvbGxlY3Rpb25Nb2RpZmljYXRpb25PcDtcbiAgcmVhZG9ubHkgdmFsdWU6IHJlYWRvbmx5IHN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBvcDogQ29sbGVjdGlvbk1vZGlmaWNhdGlvbk9wLFxuICAgIHZhbHVlPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gIH0pIHtcbiAgICB0aGlzLm9wID0gb3B0cy5vcDtcbiAgICB0aGlzLnZhbHVlID0gb3B0cy52YWx1ZSB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ29sbGVjdGlvbk1vZGlmaWNhdGlvbik6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdvcCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtKENvbGxlY3Rpb25Nb2RpZmljYXRpb25PcFV0aWwuc2VyaWFsaXplLCAnb3AnLCBtLm9wKSxcbiAgICAgICd2YWx1ZSc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ3ZhbHVlJywgbS52YWx1ZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDb2xsZWN0aW9uTW9kaWZpY2F0aW9uIHtcbiAgICByZXR1cm4gbmV3IENvbGxlY3Rpb25Nb2RpZmljYXRpb24oe1xuICAgICAgb3A6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08Q29sbGVjdGlvbk1vZGlmaWNhdGlvbk9wPihDb2xsZWN0aW9uTW9kaWZpY2F0aW9uT3BVdGlsLmRlc2VyaWFsaXplLCAnb3AnLCBvKSxcbiAgICAgIHZhbHVlOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ3ZhbHVlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFiYW5kb25CcmFuZFJlcXVlc3Qge1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBicmFuZDogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEFiYW5kb25CcmFuZFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQWJhbmRvbkJyYW5kUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBBYmFuZG9uQnJhbmRSZXF1ZXN0KHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFiYW5kb25CcmFuZFJlc3BvbnNlIHtcbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBBYmFuZG9uQnJhbmRSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEFiYW5kb25CcmFuZFJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IEFiYW5kb25CcmFuZFJlc3BvbnNlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZUJyYW5kUmVxdWVzdCB7XG4gIC8qKiBPcHRpb25hbCBicmFuZG5hbWUuIElmIG5vdCBzdXBwbGllZCBhIGJyYW5kbmFtZSB3aWxsIGJlIGdlbmVyYXRlZCBmcm9tIHRoZSBkaXNwbGF5IG5hbWUuICovXG4gIHJlYWRvbmx5IGJyYW5kbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nO1xuICByZWFkb25seSBwZXJzb25hbDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY29udHJpYnV0b3I6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGxheW91dENvbnRyaWJ1dG9yOiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdHJ1ZSwgdGhlIGJyYW5kJ3MgbWVkaWEgaXMgZGlzY291bnRlZCBmb3IgZWxpZ2libGUgdXNlcnMuXG4gICAqIE11c3QgYmUgZmFsc2UgZm9yIG5vbi1jb250cmlidXRpbmcgYnJhbmRzLlxuICAgKi9cbiAgcmVhZG9ubHkgZGlzY291bnRDb250cmlidXRvcjogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY29udHJpYnV0b3JBdXRvYXBwcm92ZTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgdGhpcmRQYXJ0eTogYm9vbGVhbjtcbiAgcmVhZG9ubHkgYnJhbmRLaXQ6IEJyYW5kS2l0IHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBvd25lcjogc3RyaW5nO1xuICByZWFkb25seSBhZG1pbnM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogT3B0aW9uYWwgYnJhbmRuYW1lLiBJZiBub3Qgc3VwcGxpZWQgYSBicmFuZG5hbWUgd2lsbCBiZSBnZW5lcmF0ZWQgZnJvbSB0aGUgZGlzcGxheSBuYW1lLiAqL1xuICAgIGJyYW5kbmFtZT86IHN0cmluZyxcbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nLFxuICAgIHBlcnNvbmFsPzogYm9vbGVhbixcbiAgICBjb250cmlidXRvcj86IGJvb2xlYW4sXG4gICAgbGF5b3V0Q29udHJpYnV0b3I/OiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSBicmFuZCdzIG1lZGlhIGlzIGRpc2NvdW50ZWQgZm9yIGVsaWdpYmxlIHVzZXJzLlxuICAgICAqIE11c3QgYmUgZmFsc2UgZm9yIG5vbi1jb250cmlidXRpbmcgYnJhbmRzLlxuICAgICAqL1xuICAgIGRpc2NvdW50Q29udHJpYnV0b3I/OiBib29sZWFuLFxuICAgIGNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU/OiBib29sZWFuLFxuICAgIHRoaXJkUGFydHk6IGJvb2xlYW4sXG4gICAgYnJhbmRLaXQ/OiBCcmFuZEtpdCxcbiAgICBvd25lcjogc3RyaW5nLFxuICAgIGFkbWlucz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICB9KSB7XG4gICAgLyoqIE9wdGlvbmFsIGJyYW5kbmFtZS4gSWYgbm90IHN1cHBsaWVkIGEgYnJhbmRuYW1lIHdpbGwgYmUgZ2VuZXJhdGVkIGZyb20gdGhlIGRpc3BsYXkgbmFtZS4gKi9cbiAgICB0aGlzLmJyYW5kbmFtZSA9IG9wdHMuYnJhbmRuYW1lO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHRzLmRpc3BsYXlOYW1lO1xuICAgIHRoaXMucGVyc29uYWwgPSBvcHRzLnBlcnNvbmFsICE9IG51bGxcbiAgICAgICAgPyBvcHRzLnBlcnNvbmFsXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICB0aGlzLmNvbnRyaWJ1dG9yID0gb3B0cy5jb250cmlidXRvciAhPSBudWxsXG4gICAgICAgID8gb3B0cy5jb250cmlidXRvclxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgdGhpcy5sYXlvdXRDb250cmlidXRvciA9IG9wdHMubGF5b3V0Q29udHJpYnV0b3IgIT0gbnVsbFxuICAgICAgICA/IG9wdHMubGF5b3V0Q29udHJpYnV0b3JcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSBicmFuZCdzIG1lZGlhIGlzIGRpc2NvdW50ZWQgZm9yIGVsaWdpYmxlIHVzZXJzLlxuICAgICAqIE11c3QgYmUgZmFsc2UgZm9yIG5vbi1jb250cmlidXRpbmcgYnJhbmRzLlxuICAgICAqL1xuICAgIHRoaXMuZGlzY291bnRDb250cmlidXRvciA9IG9wdHMuZGlzY291bnRDb250cmlidXRvciAhPSBudWxsXG4gICAgICAgID8gb3B0cy5kaXNjb3VudENvbnRyaWJ1dG9yXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICB0aGlzLmNvbnRyaWJ1dG9yQXV0b2FwcHJvdmUgPSBvcHRzLmNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU7XG4gICAgdGhpcy50aGlyZFBhcnR5ID0gb3B0cy50aGlyZFBhcnR5O1xuICAgIHRoaXMuYnJhbmRLaXQgPSBvcHRzLmJyYW5kS2l0O1xuICAgIHRoaXMub3duZXIgPSBvcHRzLm93bmVyO1xuICAgIHRoaXMuYWRtaW5zID0gb3B0cy5hZG1pbnMgfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENyZWF0ZUJyYW5kUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdicmFuZG5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZG5hbWUnLCBtLmJyYW5kbmFtZSksXG4gICAgICAnZGlzcGxheU5hbWUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdkaXNwbGF5TmFtZScsIG0uZGlzcGxheU5hbWUpLFxuICAgICAgJ3BlcnNvbmFsJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3BlcnNvbmFsJywgbS5wZXJzb25hbCksXG4gICAgICAnY29udHJpYnV0b3InOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY29udHJpYnV0b3InLCBtLmNvbnRyaWJ1dG9yKSxcbiAgICAgICdsYXlvdXRDb250cmlidXRvcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdsYXlvdXRDb250cmlidXRvcicsIG0ubGF5b3V0Q29udHJpYnV0b3IpLFxuICAgICAgJ2Rpc2NvdW50Q29udHJpYnV0b3InOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignZGlzY291bnRDb250cmlidXRvcicsIG0uZGlzY291bnRDb250cmlidXRvciksXG4gICAgICAnY29udHJpYnV0b3JBdXRvYXBwcm92ZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjb250cmlidXRvckF1dG9hcHByb3ZlJywgbS5jb250cmlidXRvckF1dG9hcHByb3ZlKSxcbiAgICAgICd0aGlyZFBhcnR5JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3RoaXJkUGFydHknLCBtLnRoaXJkUGFydHkpLFxuICAgICAgJ2JyYW5kS2l0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZEtpdC5zZXJpYWxpemUsICdicmFuZEtpdCcsIG0uYnJhbmRLaXQpLFxuICAgICAgJ293bmVyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnb3duZXInLCBtLm93bmVyKSxcbiAgICAgICdhZG1pbnMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdhZG1pbnMnLCBtLmFkbWlucyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVCcmFuZFJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgQ3JlYXRlQnJhbmRSZXF1ZXN0KHtcbiAgICAgIGJyYW5kbmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZG5hbWUnLCBvKSxcbiAgICAgIGRpc3BsYXlOYW1lOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2Rpc3BsYXlOYW1lJywgbyksXG4gICAgICBwZXJzb25hbDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncGVyc29uYWwnLCBvKSxcbiAgICAgIGNvbnRyaWJ1dG9yOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjb250cmlidXRvcicsIG8pLFxuICAgICAgbGF5b3V0Q29udHJpYnV0b3I6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2xheW91dENvbnRyaWJ1dG9yJywgbyksXG4gICAgICBkaXNjb3VudENvbnRyaWJ1dG9yOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdkaXNjb3VudENvbnRyaWJ1dG9yJywgbyksXG4gICAgICBjb250cmlidXRvckF1dG9hcHByb3ZlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjb250cmlidXRvckF1dG9hcHByb3ZlJywgbyksXG4gICAgICB0aGlyZFBhcnR5OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd0aGlyZFBhcnR5JywgbyksXG4gICAgICBicmFuZEtpdDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kS2l0LmRlc2VyaWFsaXplLCAnYnJhbmRLaXQnLCBvKSxcbiAgICAgIG93bmVyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ293bmVyJywgbyksXG4gICAgICBhZG1pbnM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnYWRtaW5zJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZUJyYW5kUmVzcG9uc2Uge1xuICByZWFkb25seSBicmFuZDogQnJhbmREZXRhaWxzO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBicmFuZDogQnJhbmREZXRhaWxzLFxuICB9KSB7XG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENyZWF0ZUJyYW5kUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEJyYW5kRGV0YWlscy5zZXJpYWxpemUsICdicmFuZCcsIG0uYnJhbmQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlQnJhbmRSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBDcmVhdGVCcmFuZFJlc3BvbnNlKHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoQnJhbmREZXRhaWxzLmRlc2VyaWFsaXplLCAnYnJhbmQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZW51bSBCcmFuZENvbXBvbmVudCB7XG4gIFNFVFRJTkdTID0gMSxcbiAgQklMTElOR19JTkZPLFxuICBDQVBBQklMSVRJRVMsXG59XG5cbmV4cG9ydCBjb25zdCBCcmFuZENvbXBvbmVudFV0aWwgPSB7XG4gIHZhbHVlczogKCk6IEJyYW5kQ29tcG9uZW50W10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBCcmFuZENvbXBvbmVudC5TRVRUSU5HUyxcbiAgICAgIEJyYW5kQ29tcG9uZW50LkJJTExJTkdfSU5GTyxcbiAgICAgIEJyYW5kQ29tcG9uZW50LkNBUEFCSUxJVElFUyxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogQnJhbmRDb21wb25lbnQpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgQnJhbmRDb21wb25lbnQuU0VUVElOR1M6IHJldHVybiAnU0VUVElOR1MnO1xuICAgICAgY2FzZSBCcmFuZENvbXBvbmVudC5CSUxMSU5HX0lORk86IHJldHVybiAnQklMTElOR19JTkZPJztcbiAgICAgIGNhc2UgQnJhbmRDb21wb25lbnQuQ0FQQUJJTElUSUVTOiByZXR1cm4gJ0NBUEFCSUxJVElFUyc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBCcmFuZENvbXBvbmVudCA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnU0VUVElOR1MnOiByZXR1cm4gQnJhbmRDb21wb25lbnQuU0VUVElOR1M7XG4gICAgICBjYXNlICdCSUxMSU5HX0lORk8nOiByZXR1cm4gQnJhbmRDb21wb25lbnQuQklMTElOR19JTkZPO1xuICAgICAgY2FzZSAnQ0FQQUJJTElUSUVTJzogcmV0dXJuIEJyYW5kQ29tcG9uZW50LkNBUEFCSUxJVElFUztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoYFVucmVjb2duaXplZCB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gZm9yIHR5cGUgJ0JyYW5kQ29tcG9uZW50JyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuLyoqIFJldHJpZXZlcyBhIHNwZWNpZmljIEJyYW5kIGJ5IGJyYW5kIElELCBicmFuZCBuYW1lLCB1c2VyIChieSBwZXJzb25hbCBicmFuZCkgb3IgYnJhbmQgYWNjZXNzIHRva2VuICovXG5leHBvcnQgY2xhc3MgR2V0QnJhbmRSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgYnlJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBieUJyYW5kbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBieVVzZXI6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYnlCcmFuZEFjY2Vzc1Rva2VuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBTZXQgb2YgYWRkaXRpb25hbCBicmFuZCBjb21wb25lbnRzIHRvIHByb3ZpZGUgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICByZWFkb25seSBwcm9qZWN0aW9uOiByZWFkb25seSBCcmFuZENvbXBvbmVudFtdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBieUlkPzogc3RyaW5nLFxuICAgIGJ5QnJhbmRuYW1lPzogc3RyaW5nLFxuICAgIGJ5VXNlcj86IHN0cmluZyxcbiAgICBieUJyYW5kQWNjZXNzVG9rZW4/OiBzdHJpbmcsXG4gICAgLyoqIFNldCBvZiBhZGRpdGlvbmFsIGJyYW5kIGNvbXBvbmVudHMgdG8gcHJvdmlkZSBpbiB0aGUgcmVzcG9uc2UuICovXG4gICAgcHJvamVjdGlvbj86IHJlYWRvbmx5IEJyYW5kQ29tcG9uZW50W10sXG4gIH0pIHtcbiAgICB0aGlzLmJ5SWQgPSBvcHRzLmJ5SWQ7XG4gICAgdGhpcy5ieUJyYW5kbmFtZSA9IG9wdHMuYnlCcmFuZG5hbWU7XG4gICAgdGhpcy5ieVVzZXIgPSBvcHRzLmJ5VXNlcjtcbiAgICB0aGlzLmJ5QnJhbmRBY2Nlc3NUb2tlbiA9IG9wdHMuYnlCcmFuZEFjY2Vzc1Rva2VuO1xuICAgIC8qKiBTZXQgb2YgYWRkaXRpb25hbCBicmFuZCBjb21wb25lbnRzIHRvIHByb3ZpZGUgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICAgIHRoaXMucHJvamVjdGlvbiA9IG9wdHMucHJvamVjdGlvbiB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0QnJhbmRSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2J5SWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdieUlkJywgbS5ieUlkKSxcbiAgICAgICdieUJyYW5kbmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5QnJhbmRuYW1lJywgbS5ieUJyYW5kbmFtZSksXG4gICAgICAnYnlVc2VyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlVc2VyJywgbS5ieVVzZXIpLFxuICAgICAgJ2J5QnJhbmRBY2Nlc3NUb2tlbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5QnJhbmRBY2Nlc3NUb2tlbicsIG0uYnlCcmFuZEFjY2Vzc1Rva2VuKSxcbiAgICAgICdwcm9qZWN0aW9uJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW0oQnJhbmRDb21wb25lbnRVdGlsLnNlcmlhbGl6ZSwgJ3Byb2plY3Rpb24nLCBtLnByb2plY3Rpb24pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0QnJhbmRSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEdldEJyYW5kUmVxdWVzdCh7XG4gICAgICBieUlkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5SWQnLCBvKSxcbiAgICAgIGJ5QnJhbmRuYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J5QnJhbmRuYW1lJywgbyksXG4gICAgICBieVVzZXI6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlVc2VyJywgbyksXG4gICAgICBieUJyYW5kQWNjZXNzVG9rZW46IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnlCcmFuZEFjY2Vzc1Rva2VuJywgbyksXG4gICAgICBwcm9qZWN0aW9uOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtPEJyYW5kQ29tcG9uZW50PihCcmFuZENvbXBvbmVudFV0aWwuZGVzZXJpYWxpemUsICdwcm9qZWN0aW9uJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldEJyYW5kUmVzcG9uc2Uge1xuICByZWFkb25seSBicmFuZDogQnJhbmQ7XG4gIC8qKlxuICAgKiBUaGUgYnJhbmQgc2V0dGluZ3MgZm9yIHRoaXMgYnJhbmQuIFdpbGwgb25seSBiZSBwb3B1bGF0ZWQgaWYgdGhlIFNFVFRJTkdTIGNvbXBvbmVudCB3YXNcbiAgICogcHJvdmlkZWQgaW4gdGhlIHByb2plY3Rpb24gYW5kIHRoZXkgZXhpc3QuXG4gICAqL1xuICByZWFkb25seSBzZXR0aW5nczogQnJhbmRTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIFRoZSBiaWxsaW5nIGluZm9ybWF0aW9uIGZvciB0aGlzIGJyYW5kLiBXaWxsIG9ubHkgYmUgcG9wdWxhdGVkIGlmIHRoZSBCSUxMSU5HX0lORk8gY29tcG9uZW50XG4gICAqIHdhcyBwcm92aWRlZCBpbiB0aGUgcHJvamVjdGlvbiBhbmQgaXQgZXhpc3RzLlxuICAgKi9cbiAgcmVhZG9ubHkgYmlsbGluZ0luZm86IEJyYW5kQmlsbGluZ0luZm8gfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBUaGUgc2V0IG9mIGFjdGlvbnMgdGhlIGNhbGxpbmcgdXNlciBpcyBhbGxvd2VkIHRvIHBlcmZvcm0gd2l0aGluIHRoaXMgYnJhbmQuXG4gICAqIFdpbGwgb25seSBiZSBwb3B1bGF0ZWQgaWYgdGhlIENBUEFCSUxJVElFUyBjb21wb25lbnQgd2FzIHByb3ZpZGVkIGluIHRoZSBwcm9qZWN0aW9uLlxuICAgKi9cbiAgcmVhZG9ubHkgY2FwYWJpbGl0aWVzOiBCcmFuZENhcGFiaWxpdGllcyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnJhbmQ6IEJyYW5kLFxuICAgIC8qKlxuICAgICAqIFRoZSBicmFuZCBzZXR0aW5ncyBmb3IgdGhpcyBicmFuZC4gV2lsbCBvbmx5IGJlIHBvcHVsYXRlZCBpZiB0aGUgU0VUVElOR1MgY29tcG9uZW50IHdhc1xuICAgICAqIHByb3ZpZGVkIGluIHRoZSBwcm9qZWN0aW9uIGFuZCB0aGV5IGV4aXN0LlxuICAgICAqL1xuICAgIHNldHRpbmdzPzogQnJhbmRTZXR0aW5ncyxcbiAgICAvKipcbiAgICAgKiBUaGUgYmlsbGluZyBpbmZvcm1hdGlvbiBmb3IgdGhpcyBicmFuZC4gV2lsbCBvbmx5IGJlIHBvcHVsYXRlZCBpZiB0aGUgQklMTElOR19JTkZPIGNvbXBvbmVudFxuICAgICAqIHdhcyBwcm92aWRlZCBpbiB0aGUgcHJvamVjdGlvbiBhbmQgaXQgZXhpc3RzLlxuICAgICAqL1xuICAgIGJpbGxpbmdJbmZvPzogQnJhbmRCaWxsaW5nSW5mbyxcbiAgICAvKipcbiAgICAgKiBUaGUgc2V0IG9mIGFjdGlvbnMgdGhlIGNhbGxpbmcgdXNlciBpcyBhbGxvd2VkIHRvIHBlcmZvcm0gd2l0aGluIHRoaXMgYnJhbmQuXG4gICAgICogV2lsbCBvbmx5IGJlIHBvcHVsYXRlZCBpZiB0aGUgQ0FQQUJJTElUSUVTIGNvbXBvbmVudCB3YXMgcHJvdmlkZWQgaW4gdGhlIHByb2plY3Rpb24uXG4gICAgICovXG4gICAgY2FwYWJpbGl0aWVzPzogQnJhbmRDYXBhYmlsaXRpZXMsXG4gIH0pIHtcbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICAvKipcbiAgICAgKiBUaGUgYnJhbmQgc2V0dGluZ3MgZm9yIHRoaXMgYnJhbmQuIFdpbGwgb25seSBiZSBwb3B1bGF0ZWQgaWYgdGhlIFNFVFRJTkdTIGNvbXBvbmVudCB3YXNcbiAgICAgKiBwcm92aWRlZCBpbiB0aGUgcHJvamVjdGlvbiBhbmQgdGhleSBleGlzdC5cbiAgICAgKi9cbiAgICB0aGlzLnNldHRpbmdzID0gb3B0cy5zZXR0aW5ncztcbiAgICAvKipcbiAgICAgKiBUaGUgYmlsbGluZyBpbmZvcm1hdGlvbiBmb3IgdGhpcyBicmFuZC4gV2lsbCBvbmx5IGJlIHBvcHVsYXRlZCBpZiB0aGUgQklMTElOR19JTkZPIGNvbXBvbmVudFxuICAgICAqIHdhcyBwcm92aWRlZCBpbiB0aGUgcHJvamVjdGlvbiBhbmQgaXQgZXhpc3RzLlxuICAgICAqL1xuICAgIHRoaXMuYmlsbGluZ0luZm8gPSBvcHRzLmJpbGxpbmdJbmZvO1xuICAgIC8qKlxuICAgICAqIFRoZSBzZXQgb2YgYWN0aW9ucyB0aGUgY2FsbGluZyB1c2VyIGlzIGFsbG93ZWQgdG8gcGVyZm9ybSB3aXRoaW4gdGhpcyBicmFuZC5cbiAgICAgKiBXaWxsIG9ubHkgYmUgcG9wdWxhdGVkIGlmIHRoZSBDQVBBQklMSVRJRVMgY29tcG9uZW50IHdhcyBwcm92aWRlZCBpbiB0aGUgcHJvamVjdGlvbi5cbiAgICAgKi9cbiAgICB0aGlzLmNhcGFiaWxpdGllcyA9IG9wdHMuY2FwYWJpbGl0aWVzO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRCcmFuZFJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChCcmFuZC5zZXJpYWxpemUsICdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ3NldHRpbmdzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZFNldHRpbmdzLnNlcmlhbGl6ZSwgJ3NldHRpbmdzJywgbS5zZXR0aW5ncyksXG4gICAgICAnYmlsbGluZ0luZm8nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kQmlsbGluZ0luZm8uc2VyaWFsaXplLCAnYmlsbGluZ0luZm8nLCBtLmJpbGxpbmdJbmZvKSxcbiAgICAgICdjYXBhYmlsaXRpZXMnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kQ2FwYWJpbGl0aWVzLnNlcmlhbGl6ZSwgJ2NhcGFiaWxpdGllcycsIG0uY2FwYWJpbGl0aWVzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldEJyYW5kUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0QnJhbmRSZXNwb25zZSh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEJyYW5kLmRlc2VyaWFsaXplLCAnYnJhbmQnLCBvKSxcbiAgICAgIHNldHRpbmdzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRTZXR0aW5ncy5kZXNlcmlhbGl6ZSwgJ3NldHRpbmdzJywgbyksXG4gICAgICBiaWxsaW5nSW5mbzogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kQmlsbGluZ0luZm8uZGVzZXJpYWxpemUsICdiaWxsaW5nSW5mbycsIG8pLFxuICAgICAgY2FwYWJpbGl0aWVzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRDYXBhYmlsaXRpZXMuZGVzZXJpYWxpemUsICdjYXBhYmlsaXRpZXMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEJyYW5kc1JlcXVlc3Qge1xuICAvKiogT3B0aW9uYWwgYnJhbmRuYW1lIG9yIGlkIHF1ZXJ5LiAqL1xuICByZWFkb25seSBxdWVyeTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB1c2VyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGNvbnRyaWJ1dG9yOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCBvbmx5IHJldHVybiBjb250cmlidXRvciBicmFuZHMgd2l0aCBvciB3aXRob3V0IGNvbnRyaWJ1dG9yIGRpc2NvdW50LiAqL1xuICByZWFkb25seSBkaXNjb3VudENvbnRyaWJ1dG9yOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBpZHM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuICByZWFkb25seSBjb250aW51YXRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgbGltaXQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIE9wdGlvbmFsIGJyYW5kbmFtZSBvciBpZCBxdWVyeS4gKi9cbiAgICBxdWVyeT86IHN0cmluZyxcbiAgICB1c2VyPzogc3RyaW5nLFxuICAgIGNvbnRyaWJ1dG9yPzogYm9vbGVhbixcbiAgICAvKiogSWYgc2V0LCBvbmx5IHJldHVybiBjb250cmlidXRvciBicmFuZHMgd2l0aCBvciB3aXRob3V0IGNvbnRyaWJ1dG9yIGRpc2NvdW50LiAqL1xuICAgIGRpc2NvdW50Q29udHJpYnV0b3I/OiBib29sZWFuLFxuICAgIGlkcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgICBsaW1pdD86IG51bWJlcixcbiAgfSkge1xuICAgIC8qKiBPcHRpb25hbCBicmFuZG5hbWUgb3IgaWQgcXVlcnkuICovXG4gICAgdGhpcy5xdWVyeSA9IG9wdHMucXVlcnk7XG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICAgIHRoaXMuY29udHJpYnV0b3IgPSBvcHRzLmNvbnRyaWJ1dG9yO1xuICAgIC8qKiBJZiBzZXQsIG9ubHkgcmV0dXJuIGNvbnRyaWJ1dG9yIGJyYW5kcyB3aXRoIG9yIHdpdGhvdXQgY29udHJpYnV0b3IgZGlzY291bnQuICovXG4gICAgdGhpcy5kaXNjb3VudENvbnRyaWJ1dG9yID0gb3B0cy5kaXNjb3VudENvbnRyaWJ1dG9yO1xuICAgIHRoaXMuaWRzID0gb3B0cy5pZHMgfHwgW107XG4gICAgdGhpcy5jb250aW51YXRpb24gPSBvcHRzLmNvbnRpbnVhdGlvbjtcbiAgICB0aGlzLmxpbWl0ID0gb3B0cy5saW1pdCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5saW1pdFxuICAgICAgICA6IDEwMDtcblxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kQnJhbmRzUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdxdWVyeSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3F1ZXJ5JywgbS5xdWVyeSksXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgICAgJ2NvbnRyaWJ1dG9yJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2NvbnRyaWJ1dG9yJywgbS5jb250cmlidXRvciksXG4gICAgICAnZGlzY291bnRDb250cmlidXRvcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdkaXNjb3VudENvbnRyaWJ1dG9yJywgbS5kaXNjb3VudENvbnRyaWJ1dG9yKSxcbiAgICAgICdpZHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdpZHMnLCBtLmlkcyksXG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgICAgJ2xpbWl0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBtLmxpbWl0KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRCcmFuZHNSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEZpbmRCcmFuZHNSZXF1ZXN0KHtcbiAgICAgIHF1ZXJ5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3F1ZXJ5JywgbyksXG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICAgIGNvbnRyaWJ1dG9yOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjb250cmlidXRvcicsIG8pLFxuICAgICAgZGlzY291bnRDb250cmlidXRvcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignZGlzY291bnRDb250cmlidXRvcicsIG8pLFxuICAgICAgaWRzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2lkcycsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgbGltaXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEJyYW5kc1Jlc3BvbnNlIHtcbiAgcmVhZG9ubHkgYnJhbmRzOiByZWFkb25seSBCcmFuZFtdO1xuICByZWFkb25seSBjb250aW51YXRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnJhbmRzPzogcmVhZG9ubHkgQnJhbmRbXSxcbiAgICBjb250aW51YXRpb24/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLmJyYW5kcyA9IG9wdHMuYnJhbmRzIHx8IFtdO1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRCcmFuZHNSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdicmFuZHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEJyYW5kLnNlcmlhbGl6ZSwgJ2JyYW5kcycsIG0uYnJhbmRzKSxcbiAgICAgICdjb250aW51YXRpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBtLmNvbnRpbnVhdGlvbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kQnJhbmRzUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgRmluZEJyYW5kc1Jlc3BvbnNlKHtcbiAgICAgIGJyYW5kczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEJyYW5kLmRlc2VyaWFsaXplLCAnYnJhbmRzJywgbyksXG4gICAgICBjb250aW51YXRpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZUJyYW5kUmVxdWVzdCB7XG4gIHJlYWRvbmx5IGJyYW5kOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGJyYW5kbmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBvd25lcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIGNvbXBhbnkncyBpbmR1c3RyeS4gKi9cbiAgcmVhZG9ubHkgaW5kdXN0cnk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIE9uY2UgYSBwZXJzb25hbCBicmFuZCBoYXMgYmVlbiBjb252ZXJ0ZWQgdG8gYSB0ZWFtIGl0IGNhbm5vdCBiZSBtYWRlIHBlcnNvbmFsIGFnYWluLiAqL1xuICByZWFkb25seSBwZXJzb25hbDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgY29udHJpYnV0b3I6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGxheW91dENvbnRyaWJ1dG9yOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB0aGlyZFBhcnR5OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBhcGlTZXR0aW5nczogQnJhbmRBcGlTZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYnJhbmRLaXQ6IEJyYW5kS2l0IHwgdW5kZWZpbmVkO1xuICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgcmVhZG9ubHkgaGlkZGVuTWFnaWNUZW1wbGF0ZXM6IENvbGxlY3Rpb25Nb2RpZmljYXRpb24gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGJpbGxpbmdJbmZvOiBCcmFuZEJpbGxpbmdJbmZvIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBjb250cmlidXRvckRpc2FibGVkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBjb250cmlidXRvckF1dG9hcHByb3ZlOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkaXNjb3VudENvbnRyaWJ1dG9yOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSByZXN0cmljdGVkR3JvdXBDcmVhdGlvbjogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcHJpdmF0ZUVtYWlsczogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgc3RyaWN0SW52aXRlczogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcmV2aWV3V29ya2Zsb3c6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGJyYW5kOiBzdHJpbmcsXG4gICAgYnJhbmRuYW1lPzogc3RyaW5nLFxuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nLFxuICAgIG93bmVyPzogc3RyaW5nLFxuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgY29tcGFueSdzIGluZHVzdHJ5LiAqL1xuICAgIGluZHVzdHJ5Pzogc3RyaW5nLFxuICAgIC8qKiBPbmNlIGEgcGVyc29uYWwgYnJhbmQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgdGVhbSBpdCBjYW5ub3QgYmUgbWFkZSBwZXJzb25hbCBhZ2Fpbi4gKi9cbiAgICBwZXJzb25hbD86IGJvb2xlYW4sXG4gICAgY29udHJpYnV0b3I/OiBib29sZWFuLFxuICAgIGxheW91dENvbnRyaWJ1dG9yPzogYm9vbGVhbixcbiAgICB0aGlyZFBhcnR5PzogYm9vbGVhbixcbiAgICBhcGlTZXR0aW5ncz86IEJyYW5kQXBpU2V0dGluZ3MsXG4gICAgYnJhbmRLaXQ/OiBCcmFuZEtpdCxcbiAgICBoaWRkZW5NYWdpY1RlbXBsYXRlcz86IENvbGxlY3Rpb25Nb2RpZmljYXRpb24sXG4gICAgYmlsbGluZ0luZm8/OiBCcmFuZEJpbGxpbmdJbmZvLFxuICAgIGNvbnRyaWJ1dG9yRGlzYWJsZWQ/OiBib29sZWFuLFxuICAgIGNvbnRyaWJ1dG9yQXV0b2FwcHJvdmU/OiBib29sZWFuLFxuICAgIGRpc2NvdW50Q29udHJpYnV0b3I/OiBib29sZWFuLFxuICAgIHJlc3RyaWN0ZWRHcm91cENyZWF0aW9uPzogYm9vbGVhbixcbiAgICBwcml2YXRlRW1haWxzPzogYm9vbGVhbixcbiAgICBzdHJpY3RJbnZpdGVzPzogYm9vbGVhbixcbiAgICByZXZpZXdXb3JrZmxvdz86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICB0aGlzLmJyYW5kbmFtZSA9IG9wdHMuYnJhbmRuYW1lO1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHRzLmRpc3BsYXlOYW1lO1xuICAgIHRoaXMub3duZXIgPSBvcHRzLm93bmVyO1xuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgY29tcGFueSdzIGluZHVzdHJ5LiAqL1xuICAgIHRoaXMuaW5kdXN0cnkgPSBvcHRzLmluZHVzdHJ5O1xuICAgIC8qKiBPbmNlIGEgcGVyc29uYWwgYnJhbmQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgdGVhbSBpdCBjYW5ub3QgYmUgbWFkZSBwZXJzb25hbCBhZ2Fpbi4gKi9cbiAgICB0aGlzLnBlcnNvbmFsID0gb3B0cy5wZXJzb25hbDtcbiAgICB0aGlzLmNvbnRyaWJ1dG9yID0gb3B0cy5jb250cmlidXRvcjtcbiAgICB0aGlzLmxheW91dENvbnRyaWJ1dG9yID0gb3B0cy5sYXlvdXRDb250cmlidXRvcjtcbiAgICB0aGlzLnRoaXJkUGFydHkgPSBvcHRzLnRoaXJkUGFydHk7XG4gICAgdGhpcy5hcGlTZXR0aW5ncyA9IG9wdHMuYXBpU2V0dGluZ3M7XG4gICAgdGhpcy5icmFuZEtpdCA9IG9wdHMuYnJhbmRLaXQ7XG4gICAgdGhpcy5oaWRkZW5NYWdpY1RlbXBsYXRlcyA9IG9wdHMuaGlkZGVuTWFnaWNUZW1wbGF0ZXM7XG4gICAgdGhpcy5iaWxsaW5nSW5mbyA9IG9wdHMuYmlsbGluZ0luZm87XG4gICAgdGhpcy5jb250cmlidXRvckRpc2FibGVkID0gb3B0cy5jb250cmlidXRvckRpc2FibGVkO1xuICAgIHRoaXMuY29udHJpYnV0b3JBdXRvYXBwcm92ZSA9IG9wdHMuY29udHJpYnV0b3JBdXRvYXBwcm92ZTtcbiAgICB0aGlzLmRpc2NvdW50Q29udHJpYnV0b3IgPSBvcHRzLmRpc2NvdW50Q29udHJpYnV0b3I7XG4gICAgdGhpcy5yZXN0cmljdGVkR3JvdXBDcmVhdGlvbiA9IG9wdHMucmVzdHJpY3RlZEdyb3VwQ3JlYXRpb247XG4gICAgdGhpcy5wcml2YXRlRW1haWxzID0gb3B0cy5wcml2YXRlRW1haWxzO1xuICAgIHRoaXMuc3RyaWN0SW52aXRlcyA9IG9wdHMuc3RyaWN0SW52aXRlcztcbiAgICB0aGlzLnJldmlld1dvcmtmbG93ID0gb3B0cy5yZXZpZXdXb3JrZmxvdztcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlQnJhbmRSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICdicmFuZG5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZG5hbWUnLCBtLmJyYW5kbmFtZSksXG4gICAgICAnZGlzcGxheU5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkaXNwbGF5TmFtZScsIG0uZGlzcGxheU5hbWUpLFxuICAgICAgJ293bmVyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnb3duZXInLCBtLm93bmVyKSxcbiAgICAgICdpbmR1c3RyeSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2luZHVzdHJ5JywgbS5pbmR1c3RyeSksXG4gICAgICAncGVyc29uYWwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncGVyc29uYWwnLCBtLnBlcnNvbmFsKSxcbiAgICAgICdjb250cmlidXRvcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjb250cmlidXRvcicsIG0uY29udHJpYnV0b3IpLFxuICAgICAgJ2xheW91dENvbnRyaWJ1dG9yJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2xheW91dENvbnRyaWJ1dG9yJywgbS5sYXlvdXRDb250cmlidXRvciksXG4gICAgICAndGhpcmRQYXJ0eSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCd0aGlyZFBhcnR5JywgbS50aGlyZFBhcnR5KSxcbiAgICAgICdhcGlTZXR0aW5ncyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRBcGlTZXR0aW5ncy5zZXJpYWxpemUsICdhcGlTZXR0aW5ncycsIG0uYXBpU2V0dGluZ3MpLFxuICAgICAgJ2JyYW5kS2l0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZEtpdC5zZXJpYWxpemUsICdicmFuZEtpdCcsIG0uYnJhbmRLaXQpLFxuICAgICAgJ2hpZGRlbk1hZ2ljVGVtcGxhdGVzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChDb2xsZWN0aW9uTW9kaWZpY2F0aW9uLnNlcmlhbGl6ZSwgJ2hpZGRlbk1hZ2ljVGVtcGxhdGVzJywgbS5oaWRkZW5NYWdpY1RlbXBsYXRlcyksXG4gICAgICAnYmlsbGluZ0luZm8nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kQmlsbGluZ0luZm8uc2VyaWFsaXplLCAnYmlsbGluZ0luZm8nLCBtLmJpbGxpbmdJbmZvKSxcbiAgICAgICdjb250cmlidXRvckRpc2FibGVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2NvbnRyaWJ1dG9yRGlzYWJsZWQnLCBtLmNvbnRyaWJ1dG9yRGlzYWJsZWQpLFxuICAgICAgJ2NvbnRyaWJ1dG9yQXV0b2FwcHJvdmUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignY29udHJpYnV0b3JBdXRvYXBwcm92ZScsIG0uY29udHJpYnV0b3JBdXRvYXBwcm92ZSksXG4gICAgICAnZGlzY291bnRDb250cmlidXRvcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdkaXNjb3VudENvbnRyaWJ1dG9yJywgbS5kaXNjb3VudENvbnRyaWJ1dG9yKSxcbiAgICAgICdyZXN0cmljdGVkR3JvdXBDcmVhdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdyZXN0cmljdGVkR3JvdXBDcmVhdGlvbicsIG0ucmVzdHJpY3RlZEdyb3VwQ3JlYXRpb24pLFxuICAgICAgJ3ByaXZhdGVFbWFpbHMnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncHJpdmF0ZUVtYWlscycsIG0ucHJpdmF0ZUVtYWlscyksXG4gICAgICAnc3RyaWN0SW52aXRlcyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdzdHJpY3RJbnZpdGVzJywgbS5zdHJpY3RJbnZpdGVzKSxcbiAgICAgICdyZXZpZXdXb3JrZmxvdyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdyZXZpZXdXb3JrZmxvdycsIG0ucmV2aWV3V29ya2Zsb3cpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVXBkYXRlQnJhbmRSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZUJyYW5kUmVxdWVzdCh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgYnJhbmRuYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kbmFtZScsIG8pLFxuICAgICAgZGlzcGxheU5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGlzcGxheU5hbWUnLCBvKSxcbiAgICAgIG93bmVyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ293bmVyJywgbyksXG4gICAgICBpbmR1c3RyeTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbmR1c3RyeScsIG8pLFxuICAgICAgcGVyc29uYWw6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3BlcnNvbmFsJywgbyksXG4gICAgICBjb250cmlidXRvcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignY29udHJpYnV0b3InLCBvKSxcbiAgICAgIGxheW91dENvbnRyaWJ1dG9yOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdsYXlvdXRDb250cmlidXRvcicsIG8pLFxuICAgICAgdGhpcmRQYXJ0eTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigndGhpcmRQYXJ0eScsIG8pLFxuICAgICAgYXBpU2V0dGluZ3M6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZEFwaVNldHRpbmdzLmRlc2VyaWFsaXplLCAnYXBpU2V0dGluZ3MnLCBvKSxcbiAgICAgIGJyYW5kS2l0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRLaXQuZGVzZXJpYWxpemUsICdicmFuZEtpdCcsIG8pLFxuICAgICAgaGlkZGVuTWFnaWNUZW1wbGF0ZXM6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChDb2xsZWN0aW9uTW9kaWZpY2F0aW9uLmRlc2VyaWFsaXplLCAnaGlkZGVuTWFnaWNUZW1wbGF0ZXMnLCBvKSxcbiAgICAgIGJpbGxpbmdJbmZvOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmRCaWxsaW5nSW5mby5kZXNlcmlhbGl6ZSwgJ2JpbGxpbmdJbmZvJywgbyksXG4gICAgICBjb250cmlidXRvckRpc2FibGVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjb250cmlidXRvckRpc2FibGVkJywgbyksXG4gICAgICBjb250cmlidXRvckF1dG9hcHByb3ZlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjb250cmlidXRvckF1dG9hcHByb3ZlJywgbyksXG4gICAgICBkaXNjb3VudENvbnRyaWJ1dG9yOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdkaXNjb3VudENvbnRyaWJ1dG9yJywgbyksXG4gICAgICByZXN0cmljdGVkR3JvdXBDcmVhdGlvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVzdHJpY3RlZEdyb3VwQ3JlYXRpb24nLCBvKSxcbiAgICAgIHByaXZhdGVFbWFpbHM6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3ByaXZhdGVFbWFpbHMnLCBvKSxcbiAgICAgIHN0cmljdEludml0ZXM6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3N0cmljdEludml0ZXMnLCBvKSxcbiAgICAgIHJldmlld1dvcmtmbG93OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdyZXZpZXdXb3JrZmxvdycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVCcmFuZFJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgYnJhbmQ6IEJyYW5kRGV0YWlscztcbiAgLyoqIFRPRE8oc2FmKSByZW1vdmUgYWZ0ZXIgSiByZWxlYXNlIHdoZW4gYWRkaW5nIGRpZmZlcmVudCB0eXBlcyAqL1xuICByZWFkb25seSB0eXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGJyYW5kOiBCcmFuZERldGFpbHMsXG4gICAgLyoqIFRPRE8oc2FmKSByZW1vdmUgYWZ0ZXIgSiByZWxlYXNlIHdoZW4gYWRkaW5nIGRpZmZlcmVudCB0eXBlcyAqL1xuICAgIHR5cGU/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICAvKiogVE9ETyhzYWYpIHJlbW92ZSBhZnRlciBKIHJlbGVhc2Ugd2hlbiBhZGRpbmcgZGlmZmVyZW50IHR5cGVzICovXG4gICAgdGhpcy50eXBlID0gb3B0cy50eXBlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVCcmFuZFJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChCcmFuZERldGFpbHMuc2VyaWFsaXplLCAnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICd0eXBlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndHlwZScsIG0udHlwZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVCcmFuZFJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZUJyYW5kUmVzcG9uc2Uoe1xuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChCcmFuZERldGFpbHMuZGVzZXJpYWxpemUsICdicmFuZCcsIG8pLFxuICAgICAgdHlwZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd0eXBlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZVVzZXJSZXF1ZXN0IHtcbiAgLyoqIHRoZSBpZCBvZiB0aGUgdXNlciB0byBiZSB1cGRhdGVkLiAqL1xuICByZWFkb25seSB1c2VyOiBzdHJpbmc7XG4gIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGVtYWlsLiAqL1xuICByZWFkb25seSBlbWFpbDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyB1c2VybmFtZS4gKi9cbiAgcmVhZG9ubHkgdXNlcm5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgZGlzcGxheSBuYW1lLiAqL1xuICByZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBmaXJzdCBuYW1lLiAqL1xuICByZWFkb25seSBmaXJzdE5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgbGFzdCBuYW1lLiAqL1xuICByZWFkb25seSBsYXN0TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyByb2xlcy5cbiAgICogZGVwcmVjYXRlZCwgdXNlIFVwZGF0ZVVzZXJSZXF1ZXN0I3JvbGVUb0FkZCBhbmQgVXBkYXRlVXNlclJlcXVlc3Qjcm9sZVRvUmVtb3ZlIGluc3RlYWRcbiAgICovXG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICByZWFkb25seSByb2xlczogcmVhZG9ubHkgVXNlclJvbGVbXTtcbiAgLyoqIGlmIHNldCwgYWRkIHRoZSBnaXZlbiByb2xlIHRvIHRoZSBnaXZlbiB1c2VycyBsaXN0IG9mIHJvbGVzICovXG4gIHJlYWRvbmx5IHJvbGVUb0FkZDogVXNlclJvbGUgfCB1bmRlZmluZWQ7XG4gIC8qKiBpZiBzZXQsIHJlbW92ZSB0aGUgZ2l2ZW4gcm9sZSBmcm9tIHRoZSBnaXZlbiB1c2VycyBsaXN0IG9mIHJvbGVzICovXG4gIHJlYWRvbmx5IHJvbGVUb1JlbW92ZTogVXNlclJvbGUgfCB1bmRlZmluZWQ7XG4gIC8qKiBBbiBvcHRpb25hbCBhdmF0YXIgYnVuZGxlIGlkLiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGF2YXRhci4gKi9cbiAgcmVhZG9ubHkgYXZhdGFyOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGhvbWVwYWdlLiAqL1xuICByZWFkb25seSBob21lcGFnZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBjaXR5LiAqL1xuICByZWFkb25seSBjaXR5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGNvdW50cnkgY29kZS4gQSAyLWxldHRlciBJU08gMzE2Ni0xIGNvdW50cnkgY29kZS4gVXNlIFpaIHRvIGNsZWFyLiAqL1xuICByZWFkb25seSBjb3VudHJ5Q29kZTogQ291bnRyeUNvZGUgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGxvY2FsZS4gKi9cbiAgcmVhZG9ubHkgbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIHBhc3N3b3JkLiAqL1xuICByZWFkb25seSBwYXNzd29yZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogUmVxdWlyZWQgaWYgcGFzc3dvcmQgb3IgZW1haWwgaXMgbm90IG51bGwuIFVubGVzcyB0aGUgcmVxdWVzdCBpcyBtYWRlIGJ5IFJPT1QuICovXG4gIHJlYWRvbmx5IGN1cnJlbnRQYXNzd29yZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBmYWNlYm9vayBkZXRhaWxzLiAqL1xuICByZWFkb25seSBmYWNlYm9vazogRmFjZWJvb2tEZXRhaWxzIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBnb29nbGUgZGV0YWlscy4gKi9cbiAgcmVhZG9ubHkgZ29vZ2xlOiBHb29nbGVEZXRhaWxzIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBPYXV0aCBkZXRhaWxzLiAqL1xuICByZWFkb25seSBvYXV0aEFjY291bnQ6IE9hdXRoQWNjb3VudCB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgY3JlZGVudGlhbHMuICovXG4gIHJlYWRvbmx5IGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscyB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIHNldCwgcmVtb3ZlIHRoZSByZWxldmFudCBvYXV0aCBhY2NvdW50IGZyb20gdGhlIHVzZXIuICovXG4gIHJlYWRvbmx5IG9hdXRoUGxhdGZvcm1Ub0RlbGV0ZTogUGxhdGZvcm0gfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBzZXQsIGdlbmVyYXRlIGFuIEFQSSBrZXkgZm9yIHRoaXMgdXNlci4gKi9cbiAgcmVhZG9ubHkgZ2VuZXJhdGVBcGlLZXlXaXRoVHlwZTogS2V5VHlwZSB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIElmIHNldCwgdXBkYXRlIHRoZSB1aUluZm8gSlNPTiBibG9iIGZvciB0aGlzIHVzZXIuXG4gICAqIERlcHJlY2F0ZWQsIHVzZSB1c2VyIGF0dHJpYnV0ZXMgaW5zdGVhZC4gU2VlIFVzZXJBdHRyaWJ1dGUgYmVsb3cuXG4gICAqIElmIHRoYXQgZG9lc24ndCBmaXQgeW91ciByZXF1aXJlbWVudHMgc3BlYWsgdG8gcHJvZmlsZSB0ZWFtLlxuICAgKi9cbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIHJlYWRvbmx5IHVpSW5mb0pzb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3Mgbm90aWZpY2F0aW9uIHNldHRpbmdzLiAqL1xuICByZWFkb25seSB1c2VyTm90aWZpY2F0aW9uU2V0dGluZ3M6IFVzZXJOb3RpZmljYXRpb25TZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgcHJvZmVzc2lvbi4gKi9cbiAgcmVhZG9ubHkgcHJvZmVzc2lvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBwcm9mZXNzaW9uYWwgcm9sZS4gKi9cbiAgcmVhZG9ubHkgcHJvZmVzc2lvbmFsUm9sZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgdXNlciBqb3VybmV5IG9wdGlvbiB0aGUgdXNlciBzZWxlY3RlZCBhZnRlciBzaWdudXAgKi9cbiAgcmVhZG9ubHkgam91cm5leTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIEdEUFIgY29tcGxpYW5jZSBwcml2YWN5IHBvbGljeSBmbGFnLiAqL1xuICByZWFkb25seSBwcml2YWN5UG9saWN5Tm90aWZpZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIC8qKiBIMiBpcyBmdWxseSByb2xsZWQgb3V0LCBubyBuZWVkIHRvIHVwZGF0ZSB0aGlzIGFueW1vcmUuICovXG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICByZWFkb25seSBwcmVmZXJyZWRIb21lcGFnZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogSWYgc2V0IGFuZCB0cnVlLCByZXR1cm4gYW4gVXBkYXRlVXNlckVycm9yUmVzcG9uc2UgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBleGNlcHRpb25cbiAgICogd2hlbiBhbiBleHBlY3RlZCBlcnJvciAoaS5lLiwgYW4gZXJyb3Igc3VwcG9ydGVkIGJ5IHRoZSBiYWNrZW5kKSBvY2N1cnMuXG4gICAqL1xuICByZWFkb25seSBzdXBwb3J0RXJyb3JSZXNwb25zZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIHRoZSBpZCBvZiB0aGUgdXNlciB0byBiZSB1cGRhdGVkLiAqL1xuICAgIHVzZXI6IHN0cmluZyxcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBlbWFpbC4gKi9cbiAgICBlbWFpbD86IHN0cmluZyxcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyB1c2VybmFtZS4gKi9cbiAgICB1c2VybmFtZT86IHN0cmluZyxcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBkaXNwbGF5IG5hbWUuICovXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgZmlyc3QgbmFtZS4gKi9cbiAgICBmaXJzdE5hbWU/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgbGFzdCBuYW1lLiAqL1xuICAgIGxhc3ROYW1lPzogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3Mgcm9sZXMuXG4gICAgICogZGVwcmVjYXRlZCwgdXNlIFVwZGF0ZVVzZXJSZXF1ZXN0I3JvbGVUb0FkZCBhbmQgVXBkYXRlVXNlclJlcXVlc3Qjcm9sZVRvUmVtb3ZlIGluc3RlYWRcbiAgICAgKi9cbiAgICByb2xlcz86IHJlYWRvbmx5IFVzZXJSb2xlW10sXG4gICAgLyoqIGlmIHNldCwgYWRkIHRoZSBnaXZlbiByb2xlIHRvIHRoZSBnaXZlbiB1c2VycyBsaXN0IG9mIHJvbGVzICovXG4gICAgcm9sZVRvQWRkPzogVXNlclJvbGUsXG4gICAgLyoqIGlmIHNldCwgcmVtb3ZlIHRoZSBnaXZlbiByb2xlIGZyb20gdGhlIGdpdmVuIHVzZXJzIGxpc3Qgb2Ygcm9sZXMgKi9cbiAgICByb2xlVG9SZW1vdmU/OiBVc2VyUm9sZSxcbiAgICAvKiogQW4gb3B0aW9uYWwgYXZhdGFyIGJ1bmRsZSBpZC4gSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBhdmF0YXIuICovXG4gICAgYXZhdGFyPzogbnVtYmVyLFxuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGhvbWVwYWdlLiAqL1xuICAgIGhvbWVwYWdlPzogc3RyaW5nLFxuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGNpdHkuICovXG4gICAgY2l0eT86IHN0cmluZyxcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBjb3VudHJ5IGNvZGUuIEEgMi1sZXR0ZXIgSVNPIDMxNjYtMSBjb3VudHJ5IGNvZGUuIFVzZSBaWiB0byBjbGVhci4gKi9cbiAgICBjb3VudHJ5Q29kZT86IENvdW50cnlDb2RlLFxuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGxvY2FsZS4gKi9cbiAgICBsb2NhbGU/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgcGFzc3dvcmQuICovXG4gICAgcGFzc3dvcmQ/OiBzdHJpbmcsXG4gICAgLyoqIFJlcXVpcmVkIGlmIHBhc3N3b3JkIG9yIGVtYWlsIGlzIG5vdCBudWxsLiBVbmxlc3MgdGhlIHJlcXVlc3QgaXMgbWFkZSBieSBST09ULiAqL1xuICAgIGN1cnJlbnRQYXNzd29yZD86IHN0cmluZyxcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBmYWNlYm9vayBkZXRhaWxzLiAqL1xuICAgIGZhY2Vib29rPzogRmFjZWJvb2tEZXRhaWxzLFxuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGdvb2dsZSBkZXRhaWxzLiAqL1xuICAgIGdvb2dsZT86IEdvb2dsZURldGFpbHMsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgT2F1dGggZGV0YWlscy4gKi9cbiAgICBvYXV0aEFjY291bnQ/OiBPYXV0aEFjY291bnQsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgY3JlZGVudGlhbHMuICovXG4gICAgY3JlZGVudGlhbHM/OiBDcmVkZW50aWFscyxcbiAgICAvKiogSWYgc2V0LCByZW1vdmUgdGhlIHJlbGV2YW50IG9hdXRoIGFjY291bnQgZnJvbSB0aGUgdXNlci4gKi9cbiAgICBvYXV0aFBsYXRmb3JtVG9EZWxldGU/OiBQbGF0Zm9ybSxcbiAgICAvKiogSWYgc2V0LCBnZW5lcmF0ZSBhbiBBUEkga2V5IGZvciB0aGlzIHVzZXIuICovXG4gICAgZ2VuZXJhdGVBcGlLZXlXaXRoVHlwZT86IEtleVR5cGUsXG4gICAgLyoqXG4gICAgICogSWYgc2V0LCB1cGRhdGUgdGhlIHVpSW5mbyBKU09OIGJsb2IgZm9yIHRoaXMgdXNlci5cbiAgICAgKiBEZXByZWNhdGVkLCB1c2UgdXNlciBhdHRyaWJ1dGVzIGluc3RlYWQuIFNlZSBVc2VyQXR0cmlidXRlIGJlbG93LlxuICAgICAqIElmIHRoYXQgZG9lc24ndCBmaXQgeW91ciByZXF1aXJlbWVudHMgc3BlYWsgdG8gcHJvZmlsZSB0ZWFtLlxuICAgICAqL1xuICAgIHVpSW5mb0pzb24/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3Mgbm90aWZpY2F0aW9uIHNldHRpbmdzLiAqL1xuICAgIHVzZXJOb3RpZmljYXRpb25TZXR0aW5ncz86IFVzZXJOb3RpZmljYXRpb25TZXR0aW5ncyxcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBwcm9mZXNzaW9uLiAqL1xuICAgIHByb2Zlc3Npb24/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgcHJvZmVzc2lvbmFsIHJvbGUuICovXG4gICAgcHJvZmVzc2lvbmFsUm9sZT86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgdXNlciBqb3VybmV5IG9wdGlvbiB0aGUgdXNlciBzZWxlY3RlZCBhZnRlciBzaWdudXAgKi9cbiAgICBqb3VybmV5Pzogc3RyaW5nLFxuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgR0RQUiBjb21wbGlhbmNlIHByaXZhY3kgcG9saWN5IGZsYWcuICovXG4gICAgcHJpdmFjeVBvbGljeU5vdGlmaWVkPzogYm9vbGVhbixcbiAgICAvKiogSDIgaXMgZnVsbHkgcm9sbGVkIG91dCwgbm8gbmVlZCB0byB1cGRhdGUgdGhpcyBhbnltb3JlLiAqL1xuICAgIHByZWZlcnJlZEhvbWVwYWdlPzogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIElmIHNldCBhbmQgdHJ1ZSwgcmV0dXJuIGFuIFVwZGF0ZVVzZXJFcnJvclJlc3BvbnNlIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXhjZXB0aW9uXG4gICAgICogd2hlbiBhbiBleHBlY3RlZCBlcnJvciAoaS5lLiwgYW4gZXJyb3Igc3VwcG9ydGVkIGJ5IHRoZSBiYWNrZW5kKSBvY2N1cnMuXG4gICAgICovXG4gICAgc3VwcG9ydEVycm9yUmVzcG9uc2U/OiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqIHRoZSBpZCBvZiB0aGUgdXNlciB0byBiZSB1cGRhdGVkLiAqL1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBlbWFpbC4gKi9cbiAgICB0aGlzLmVtYWlsID0gb3B0cy5lbWFpbDtcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyB1c2VybmFtZS4gKi9cbiAgICB0aGlzLnVzZXJuYW1lID0gb3B0cy51c2VybmFtZTtcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBkaXNwbGF5IG5hbWUuICovXG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IG9wdHMuZGlzcGxheU5hbWU7XG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgZmlyc3QgbmFtZS4gKi9cbiAgICB0aGlzLmZpcnN0TmFtZSA9IG9wdHMuZmlyc3ROYW1lO1xuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIGxhc3QgbmFtZS4gKi9cbiAgICB0aGlzLmxhc3ROYW1lID0gb3B0cy5sYXN0TmFtZTtcbiAgICAvKipcbiAgICAgKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIHJvbGVzLlxuICAgICAqIGRlcHJlY2F0ZWQsIHVzZSBVcGRhdGVVc2VyUmVxdWVzdCNyb2xlVG9BZGQgYW5kIFVwZGF0ZVVzZXJSZXF1ZXN0I3JvbGVUb1JlbW92ZSBpbnN0ZWFkXG4gICAgICovXG4gICAgdGhpcy5yb2xlcyA9IG9wdHMucm9sZXMgfHwgW107XG4gICAgLyoqIGlmIHNldCwgYWRkIHRoZSBnaXZlbiByb2xlIHRvIHRoZSBnaXZlbiB1c2VycyBsaXN0IG9mIHJvbGVzICovXG4gICAgdGhpcy5yb2xlVG9BZGQgPSBvcHRzLnJvbGVUb0FkZDtcbiAgICAvKiogaWYgc2V0LCByZW1vdmUgdGhlIGdpdmVuIHJvbGUgZnJvbSB0aGUgZ2l2ZW4gdXNlcnMgbGlzdCBvZiByb2xlcyAqL1xuICAgIHRoaXMucm9sZVRvUmVtb3ZlID0gb3B0cy5yb2xlVG9SZW1vdmU7XG4gICAgLyoqIEFuIG9wdGlvbmFsIGF2YXRhciBidW5kbGUgaWQuIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgYXZhdGFyLiAqL1xuICAgIHRoaXMuYXZhdGFyID0gb3B0cy5hdmF0YXI7XG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgaG9tZXBhZ2UuICovXG4gICAgdGhpcy5ob21lcGFnZSA9IG9wdHMuaG9tZXBhZ2U7XG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgY2l0eS4gKi9cbiAgICB0aGlzLmNpdHkgPSBvcHRzLmNpdHk7XG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgY291bnRyeSBjb2RlLiBBIDItbGV0dGVyIElTTyAzMTY2LTEgY291bnRyeSBjb2RlLiBVc2UgWlogdG8gY2xlYXIuICovXG4gICAgdGhpcy5jb3VudHJ5Q29kZSA9IG9wdHMuY291bnRyeUNvZGU7XG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgbG9jYWxlLiAqL1xuICAgIHRoaXMubG9jYWxlID0gb3B0cy5sb2NhbGU7XG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgcGFzc3dvcmQuICovXG4gICAgdGhpcy5wYXNzd29yZCA9IG9wdHMucGFzc3dvcmQ7XG4gICAgLyoqIFJlcXVpcmVkIGlmIHBhc3N3b3JkIG9yIGVtYWlsIGlzIG5vdCBudWxsLiBVbmxlc3MgdGhlIHJlcXVlc3QgaXMgbWFkZSBieSBST09ULiAqL1xuICAgIHRoaXMuY3VycmVudFBhc3N3b3JkID0gb3B0cy5jdXJyZW50UGFzc3dvcmQ7XG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3MgZmFjZWJvb2sgZGV0YWlscy4gKi9cbiAgICB0aGlzLmZhY2Vib29rID0gb3B0cy5mYWNlYm9vaztcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBnb29nbGUgZGV0YWlscy4gKi9cbiAgICB0aGlzLmdvb2dsZSA9IG9wdHMuZ29vZ2xlO1xuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIE9hdXRoIGRldGFpbHMuICovXG4gICAgdGhpcy5vYXV0aEFjY291bnQgPSBvcHRzLm9hdXRoQWNjb3VudDtcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBjcmVkZW50aWFscy4gKi9cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0cy5jcmVkZW50aWFscztcbiAgICAvKiogSWYgc2V0LCByZW1vdmUgdGhlIHJlbGV2YW50IG9hdXRoIGFjY291bnQgZnJvbSB0aGUgdXNlci4gKi9cbiAgICB0aGlzLm9hdXRoUGxhdGZvcm1Ub0RlbGV0ZSA9IG9wdHMub2F1dGhQbGF0Zm9ybVRvRGVsZXRlO1xuICAgIC8qKiBJZiBzZXQsIGdlbmVyYXRlIGFuIEFQSSBrZXkgZm9yIHRoaXMgdXNlci4gKi9cbiAgICB0aGlzLmdlbmVyYXRlQXBpS2V5V2l0aFR5cGUgPSBvcHRzLmdlbmVyYXRlQXBpS2V5V2l0aFR5cGU7XG4gICAgLyoqXG4gICAgICogSWYgc2V0LCB1cGRhdGUgdGhlIHVpSW5mbyBKU09OIGJsb2IgZm9yIHRoaXMgdXNlci5cbiAgICAgKiBEZXByZWNhdGVkLCB1c2UgdXNlciBhdHRyaWJ1dGVzIGluc3RlYWQuIFNlZSBVc2VyQXR0cmlidXRlIGJlbG93LlxuICAgICAqIElmIHRoYXQgZG9lc24ndCBmaXQgeW91ciByZXF1aXJlbWVudHMgc3BlYWsgdG8gcHJvZmlsZSB0ZWFtLlxuICAgICAqL1xuICAgIHRoaXMudWlJbmZvSnNvbiA9IG9wdHMudWlJbmZvSnNvbjtcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBub3RpZmljYXRpb24gc2V0dGluZ3MuICovXG4gICAgdGhpcy51c2VyTm90aWZpY2F0aW9uU2V0dGluZ3MgPSBvcHRzLnVzZXJOb3RpZmljYXRpb25TZXR0aW5ncztcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBwcm9mZXNzaW9uLiAqL1xuICAgIHRoaXMucHJvZmVzc2lvbiA9IG9wdHMucHJvZmVzc2lvbjtcbiAgICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIHVzZXIncyBwcm9mZXNzaW9uYWwgcm9sZS4gKi9cbiAgICB0aGlzLnByb2Zlc3Npb25hbFJvbGUgPSBvcHRzLnByb2Zlc3Npb25hbFJvbGU7XG4gICAgLyoqIE9wdGlvbmFsIHVzZXIgam91cm5leSBvcHRpb24gdGhlIHVzZXIgc2VsZWN0ZWQgYWZ0ZXIgc2lnbnVwICovXG4gICAgdGhpcy5qb3VybmV5ID0gb3B0cy5qb3VybmV5O1xuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgR0RQUiBjb21wbGlhbmNlIHByaXZhY3kgcG9saWN5IGZsYWcuICovXG4gICAgdGhpcy5wcml2YWN5UG9saWN5Tm90aWZpZWQgPSBvcHRzLnByaXZhY3lQb2xpY3lOb3RpZmllZDtcbiAgICAvKiogSDIgaXMgZnVsbHkgcm9sbGVkIG91dCwgbm8gbmVlZCB0byB1cGRhdGUgdGhpcyBhbnltb3JlLiAqL1xuICAgIHRoaXMucHJlZmVycmVkSG9tZXBhZ2UgPSBvcHRzLnByZWZlcnJlZEhvbWVwYWdlO1xuICAgIC8qKlxuICAgICAqIElmIHNldCBhbmQgdHJ1ZSwgcmV0dXJuIGFuIFVwZGF0ZVVzZXJFcnJvclJlc3BvbnNlIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXhjZXB0aW9uXG4gICAgICogd2hlbiBhbiBleHBlY3RlZCBlcnJvciAoaS5lLiwgYW4gZXJyb3Igc3VwcG9ydGVkIGJ5IHRoZSBiYWNrZW5kKSBvY2N1cnMuXG4gICAgICovXG4gICAgdGhpcy5zdXBwb3J0RXJyb3JSZXNwb25zZSA9IG9wdHMuc3VwcG9ydEVycm9yUmVzcG9uc2UgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuc3VwcG9ydEVycm9yUmVzcG9uc2VcbiAgICAgICAgOiBmYWxzZTtcblxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVVc2VyUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG0udXNlciksXG4gICAgICAnZW1haWwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdlbWFpbCcsIG0uZW1haWwpLFxuICAgICAgJ3VzZXJuYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcm5hbWUnLCBtLnVzZXJuYW1lKSxcbiAgICAgICdkaXNwbGF5TmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rpc3BsYXlOYW1lJywgbS5kaXNwbGF5TmFtZSksXG4gICAgICAnZmlyc3ROYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZmlyc3ROYW1lJywgbS5maXJzdE5hbWUpLFxuICAgICAgJ2xhc3ROYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbGFzdE5hbWUnLCBtLmxhc3ROYW1lKSxcbiAgICAgICdyb2xlcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKFVzZXJSb2xlVXRpbC5zZXJpYWxpemUsICdyb2xlcycsIG0ucm9sZXMpLFxuICAgICAgJ3JvbGVUb0FkZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKFVzZXJSb2xlVXRpbC5zZXJpYWxpemUsICdyb2xlVG9BZGQnLCBtLnJvbGVUb0FkZCksXG4gICAgICAncm9sZVRvUmVtb3ZlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW0oVXNlclJvbGVVdGlsLnNlcmlhbGl6ZSwgJ3JvbGVUb1JlbW92ZScsIG0ucm9sZVRvUmVtb3ZlKSxcbiAgICAgICdhdmF0YXInOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdhdmF0YXInLCBtLmF2YXRhciksXG4gICAgICAnaG9tZXBhZ2UnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdob21lcGFnZScsIG0uaG9tZXBhZ2UpLFxuICAgICAgJ2NpdHknOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjaXR5JywgbS5jaXR5KSxcbiAgICAgICdjb3VudHJ5Q29kZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKENvdW50cnlDb2RlVXRpbC5zZXJpYWxpemUsICdjb3VudHJ5Q29kZScsIG0uY291bnRyeUNvZGUpLFxuICAgICAgJ2xvY2FsZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIG0ubG9jYWxlKSxcbiAgICAgICdwYXNzd29yZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3Bhc3N3b3JkJywgbS5wYXNzd29yZCksXG4gICAgICAnY3VycmVudFBhc3N3b3JkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY3VycmVudFBhc3N3b3JkJywgbS5jdXJyZW50UGFzc3dvcmQpLFxuICAgICAgJ2ZhY2Vib29rJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChGYWNlYm9va0RldGFpbHMuc2VyaWFsaXplLCAnZmFjZWJvb2snLCBtLmZhY2Vib29rKSxcbiAgICAgICdnb29nbGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEdvb2dsZURldGFpbHMuc2VyaWFsaXplLCAnZ29vZ2xlJywgbS5nb29nbGUpLFxuICAgICAgJ29hdXRoQWNjb3VudCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoT2F1dGhBY2NvdW50LnNlcmlhbGl6ZSwgJ29hdXRoQWNjb3VudCcsIG0ub2F1dGhBY2NvdW50KSxcbiAgICAgICdjcmVkZW50aWFscyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQ3JlZGVudGlhbHMuc2VyaWFsaXplLCAnY3JlZGVudGlhbHMnLCBtLmNyZWRlbnRpYWxzKSxcbiAgICAgICdvYXV0aFBsYXRmb3JtVG9EZWxldGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShQbGF0Zm9ybVV0aWwuc2VyaWFsaXplLCAnb2F1dGhQbGF0Zm9ybVRvRGVsZXRlJywgbS5vYXV0aFBsYXRmb3JtVG9EZWxldGUpLFxuICAgICAgJ2dlbmVyYXRlQXBpS2V5V2l0aFR5cGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShLZXlUeXBlVXRpbC5zZXJpYWxpemUsICdnZW5lcmF0ZUFwaUtleVdpdGhUeXBlJywgbS5nZW5lcmF0ZUFwaUtleVdpdGhUeXBlKSxcbiAgICAgICd1aUluZm9Kc29uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndWlJbmZvSnNvbicsIG0udWlJbmZvSnNvbiksXG4gICAgICAndXNlck5vdGlmaWNhdGlvblNldHRpbmdzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChVc2VyTm90aWZpY2F0aW9uU2V0dGluZ3Muc2VyaWFsaXplLCAndXNlck5vdGlmaWNhdGlvblNldHRpbmdzJywgbS51c2VyTm90aWZpY2F0aW9uU2V0dGluZ3MpLFxuICAgICAgJ3Byb2Zlc3Npb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdwcm9mZXNzaW9uJywgbS5wcm9mZXNzaW9uKSxcbiAgICAgICdwcm9mZXNzaW9uYWxSb2xlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncHJvZmVzc2lvbmFsUm9sZScsIG0ucHJvZmVzc2lvbmFsUm9sZSksXG4gICAgICAnam91cm5leSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2pvdXJuZXknLCBtLmpvdXJuZXkpLFxuICAgICAgJ3ByaXZhY3lQb2xpY3lOb3RpZmllZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdwcml2YWN5UG9saWN5Tm90aWZpZWQnLCBtLnByaXZhY3lQb2xpY3lOb3RpZmllZCksXG4gICAgICAncHJlZmVycmVkSG9tZXBhZ2UnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdwcmVmZXJyZWRIb21lcGFnZScsIG0ucHJlZmVycmVkSG9tZXBhZ2UpLFxuICAgICAgJ3N1cHBvcnRFcnJvclJlc3BvbnNlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3N1cHBvcnRFcnJvclJlc3BvbnNlJywgbS5zdXBwb3J0RXJyb3JSZXNwb25zZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVVc2VyUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVVc2VyUmVxdWVzdCh7XG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICAgIGVtYWlsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2VtYWlsJywgbyksXG4gICAgICB1c2VybmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VybmFtZScsIG8pLFxuICAgICAgZGlzcGxheU5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGlzcGxheU5hbWUnLCBvKSxcbiAgICAgIGZpcnN0TmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdmaXJzdE5hbWUnLCBvKSxcbiAgICAgIGxhc3ROYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2xhc3ROYW1lJywgbyksXG4gICAgICByb2xlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxVc2VyUm9sZT4oVXNlclJvbGVVdGlsLmRlc2VyaWFsaXplLCAncm9sZXMnLCBvKSxcbiAgICAgIHJvbGVUb0FkZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bTxVc2VyUm9sZT4oVXNlclJvbGVVdGlsLmRlc2VyaWFsaXplLCAncm9sZVRvQWRkJywgbyksXG4gICAgICByb2xlVG9SZW1vdmU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08VXNlclJvbGU+KFVzZXJSb2xlVXRpbC5kZXNlcmlhbGl6ZSwgJ3JvbGVUb1JlbW92ZScsIG8pLFxuICAgICAgYXZhdGFyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2F2YXRhcicsIG8pLFxuICAgICAgaG9tZXBhZ2U6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaG9tZXBhZ2UnLCBvKSxcbiAgICAgIGNpdHk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY2l0eScsIG8pLFxuICAgICAgY291bnRyeUNvZGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08Q291bnRyeUNvZGU+KENvdW50cnlDb2RlVXRpbC5kZXNlcmlhbGl6ZSwgJ2NvdW50cnlDb2RlJywgbyksXG4gICAgICBsb2NhbGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbG9jYWxlJywgbyksXG4gICAgICBwYXNzd29yZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdwYXNzd29yZCcsIG8pLFxuICAgICAgY3VycmVudFBhc3N3b3JkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2N1cnJlbnRQYXNzd29yZCcsIG8pLFxuICAgICAgZmFjZWJvb2s6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChGYWNlYm9va0RldGFpbHMuZGVzZXJpYWxpemUsICdmYWNlYm9vaycsIG8pLFxuICAgICAgZ29vZ2xlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoR29vZ2xlRGV0YWlscy5kZXNlcmlhbGl6ZSwgJ2dvb2dsZScsIG8pLFxuICAgICAgb2F1dGhBY2NvdW50OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoT2F1dGhBY2NvdW50LmRlc2VyaWFsaXplLCAnb2F1dGhBY2NvdW50JywgbyksXG4gICAgICBjcmVkZW50aWFsczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KENyZWRlbnRpYWxzLmRlc2VyaWFsaXplLCAnY3JlZGVudGlhbHMnLCBvKSxcbiAgICAgIG9hdXRoUGxhdGZvcm1Ub0RlbGV0ZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bTxQbGF0Zm9ybT4oUGxhdGZvcm1VdGlsLmRlc2VyaWFsaXplLCAnb2F1dGhQbGF0Zm9ybVRvRGVsZXRlJywgbyksXG4gICAgICBnZW5lcmF0ZUFwaUtleVdpdGhUeXBlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtPEtleVR5cGU+KEtleVR5cGVVdGlsLmRlc2VyaWFsaXplLCAnZ2VuZXJhdGVBcGlLZXlXaXRoVHlwZScsIG8pLFxuICAgICAgdWlJbmZvSnNvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1aUluZm9Kc29uJywgbyksXG4gICAgICB1c2VyTm90aWZpY2F0aW9uU2V0dGluZ3M6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChVc2VyTm90aWZpY2F0aW9uU2V0dGluZ3MuZGVzZXJpYWxpemUsICd1c2VyTm90aWZpY2F0aW9uU2V0dGluZ3MnLCBvKSxcbiAgICAgIHByb2Zlc3Npb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncHJvZmVzc2lvbicsIG8pLFxuICAgICAgcHJvZmVzc2lvbmFsUm9sZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdwcm9mZXNzaW9uYWxSb2xlJywgbyksXG4gICAgICBqb3VybmV5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2pvdXJuZXknLCBvKSxcbiAgICAgIHByaXZhY3lQb2xpY3lOb3RpZmllZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncHJpdmFjeVBvbGljeU5vdGlmaWVkJywgbyksXG4gICAgICBwcmVmZXJyZWRIb21lcGFnZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdwcmVmZXJyZWRIb21lcGFnZScsIG8pLFxuICAgICAgc3VwcG9ydEVycm9yUmVzcG9uc2U6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3N1cHBvcnRFcnJvclJlc3BvbnNlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgVXBkYXRlVXNlclJlc3BvbnNlXG4gICAgPSBVcGRhdGVVc2VyU3VjY2Vzc1Jlc3BvbnNlXG4gICAgfCBVcGRhdGVVc2VyRXJyb3JSZXNwb25zZTtcblxuZXhwb3J0IGNvbnN0IFVwZGF0ZVVzZXJSZXNwb25zZSA9IHtcbiAgc2VyaWFsaXplKHU6IFVwZGF0ZVVzZXJSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgc3dpdGNoICh1LnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NVQ0NFU1MnOiByZXR1cm4gVXBkYXRlVXNlclN1Y2Nlc3NSZXNwb25zZS5zZXJpYWxpemUodSk7XG4gICAgICBjYXNlICdFUlJPUic6IHJldHVybiBVcGRhdGVVc2VyRXJyb3JSZXNwb25zZS5zZXJpYWxpemUodSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih1KTtcbiAgICB9XG4gIH0sXG5cbiAgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVXBkYXRlVXNlclJlc3BvbnNlIHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdTVUNDRVNTJzogcmV0dXJuIFVwZGF0ZVVzZXJTdWNjZXNzUmVzcG9uc2UuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdFUlJPUic6IHJldHVybiBVcGRhdGVVc2VyRXJyb3JSZXNwb25zZS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBjYXNlOiAke2thc2V9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNsYXNzIFVwZGF0ZVVzZXJTdWNjZXNzUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ1NVQ0NFU1MnO1xuXG4gIHJlYWRvbmx5IHVzZXI6IFVzZXJEZXRhaWxzO1xuICAvKipcbiAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHNlcnZlciBkZWNpZGVkIHRvIHZlcmlmeSB0aGUgZW1haWwgYWRkcmVzcyBzcGVjaWZpZWRcbiAgICogaW4gdGhlIHJlcXVlc3QgcmF0aGVyIHRoYW4gYWNjZXB0IGl0IGltbWVkaWF0ZWx5LlxuICAgKi9cbiAgcmVhZG9ubHkgdmVyaWZpY2F0aW9uRW1haWxTZW50OiBib29sZWFuO1xuICAvKiogVGhlIGFjY291bnQgd2FzIGxpbmtlZCB3aXRoIGZhY2Vib29rIGluIHRoaXMgcmVxdWVzdC4gKi9cbiAgcmVhZG9ubHkgbGlua2VkV2l0aEZhY2Vib29rOiBib29sZWFuO1xuICAvKiogVGhlIGFjY291bnQgd2FzIGxpbmtlZCB3aXRoIGdvb2dsZSBpbiB0aGlzIHJlcXVlc3QuICovXG4gIHJlYWRvbmx5IGxpbmtlZFdpdGhHb29nbGU6IGJvb2xlYW47XG4gIC8qKiBUaGUgdXNlciBuYW1lIHdhcyB1cGRhdGVkLiAqL1xuICByZWFkb25seSB1c2VybmFtZVVwZGF0ZWQ6IGJvb2xlYW47XG4gIC8qKiBUaGUgZGlzcGxheSBuYW1lIHdhcyB1cGRhdGVkLiAqL1xuICByZWFkb25seSBkaXNwbGF5TmFtZVVwZGF0ZWQ6IGJvb2xlYW47XG4gIC8qKiBUaGUgZmlyc3QgbmFtZSB3YXMgdXBkYXRlZC4gKi9cbiAgcmVhZG9ubHkgZmlyc3ROYW1lVXBkYXRlZDogYm9vbGVhbjtcbiAgLyoqIFRoZSBsYXN0IG5hbWUgd2FzIHVwZGF0ZWQuICovXG4gIHJlYWRvbmx5IGxhc3ROYW1lVXBkYXRlZDogYm9vbGVhbjtcbiAgLyoqIFRoZSBsb2NhbGUgd2FzIHVwZGF0ZWQuICovXG4gIHJlYWRvbmx5IGxvY2FsZVVwZGF0ZWQ6IGJvb2xlYW47XG4gIC8qKiBUaGUgdXNlciBwcm9mZXNzaW9uIHdhcyB1cGRhdGVkLiAqL1xuICByZWFkb25seSBwcm9mZXNzaW9uVXBkYXRlZDogYm9vbGVhbjtcbiAgLyoqIFRoZSB1c2VyIHByb2Zlc3Npb25hbCByb2xlIHdhcyB1cGRhdGVkLiAqL1xuICByZWFkb25seSBwcm9mZXNzaW9uYWxSb2xlVXBkYXRlZDogYm9vbGVhbjtcbiAgLyoqIFRoZSB1c2VyIGpvdXJuZXkgcm9sZSB3YXMgdXBkYXRlZC4gKi9cbiAgcmVhZG9ubHkgam91cm5leVJvbGVVcGRhdGVkOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICB1c2VyOiBVc2VyRGV0YWlscyxcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhhdCB0aGUgc2VydmVyIGRlY2lkZWQgdG8gdmVyaWZ5IHRoZSBlbWFpbCBhZGRyZXNzIHNwZWNpZmllZFxuICAgICAqIGluIHRoZSByZXF1ZXN0IHJhdGhlciB0aGFuIGFjY2VwdCBpdCBpbW1lZGlhdGVseS5cbiAgICAgKi9cbiAgICB2ZXJpZmljYXRpb25FbWFpbFNlbnQ/OiBib29sZWFuLFxuICAgIC8qKiBUaGUgYWNjb3VudCB3YXMgbGlua2VkIHdpdGggZmFjZWJvb2sgaW4gdGhpcyByZXF1ZXN0LiAqL1xuICAgIGxpbmtlZFdpdGhGYWNlYm9vaz86IGJvb2xlYW4sXG4gICAgLyoqIFRoZSBhY2NvdW50IHdhcyBsaW5rZWQgd2l0aCBnb29nbGUgaW4gdGhpcyByZXF1ZXN0LiAqL1xuICAgIGxpbmtlZFdpdGhHb29nbGU/OiBib29sZWFuLFxuICAgIC8qKiBUaGUgdXNlciBuYW1lIHdhcyB1cGRhdGVkLiAqL1xuICAgIHVzZXJuYW1lVXBkYXRlZD86IGJvb2xlYW4sXG4gICAgLyoqIFRoZSBkaXNwbGF5IG5hbWUgd2FzIHVwZGF0ZWQuICovXG4gICAgZGlzcGxheU5hbWVVcGRhdGVkPzogYm9vbGVhbixcbiAgICAvKiogVGhlIGZpcnN0IG5hbWUgd2FzIHVwZGF0ZWQuICovXG4gICAgZmlyc3ROYW1lVXBkYXRlZD86IGJvb2xlYW4sXG4gICAgLyoqIFRoZSBsYXN0IG5hbWUgd2FzIHVwZGF0ZWQuICovXG4gICAgbGFzdE5hbWVVcGRhdGVkPzogYm9vbGVhbixcbiAgICAvKiogVGhlIGxvY2FsZSB3YXMgdXBkYXRlZC4gKi9cbiAgICBsb2NhbGVVcGRhdGVkPzogYm9vbGVhbixcbiAgICAvKiogVGhlIHVzZXIgcHJvZmVzc2lvbiB3YXMgdXBkYXRlZC4gKi9cbiAgICBwcm9mZXNzaW9uVXBkYXRlZD86IGJvb2xlYW4sXG4gICAgLyoqIFRoZSB1c2VyIHByb2Zlc3Npb25hbCByb2xlIHdhcyB1cGRhdGVkLiAqL1xuICAgIHByb2Zlc3Npb25hbFJvbGVVcGRhdGVkPzogYm9vbGVhbixcbiAgICAvKiogVGhlIHVzZXIgam91cm5leSByb2xlIHdhcyB1cGRhdGVkLiAqL1xuICAgIGpvdXJuZXlSb2xlVXBkYXRlZD86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoYXQgdGhlIHNlcnZlciBkZWNpZGVkIHRvIHZlcmlmeSB0aGUgZW1haWwgYWRkcmVzcyBzcGVjaWZpZWRcbiAgICAgKiBpbiB0aGUgcmVxdWVzdCByYXRoZXIgdGhhbiBhY2NlcHQgaXQgaW1tZWRpYXRlbHkuXG4gICAgICovXG4gICAgdGhpcy52ZXJpZmljYXRpb25FbWFpbFNlbnQgPSBvcHRzLnZlcmlmaWNhdGlvbkVtYWlsU2VudCAhPSBudWxsXG4gICAgICAgID8gb3B0cy52ZXJpZmljYXRpb25FbWFpbFNlbnRcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUaGUgYWNjb3VudCB3YXMgbGlua2VkIHdpdGggZmFjZWJvb2sgaW4gdGhpcyByZXF1ZXN0LiAqL1xuICAgIHRoaXMubGlua2VkV2l0aEZhY2Vib29rID0gb3B0cy5saW5rZWRXaXRoRmFjZWJvb2sgIT0gbnVsbFxuICAgICAgICA/IG9wdHMubGlua2VkV2l0aEZhY2Vib29rXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKiogVGhlIGFjY291bnQgd2FzIGxpbmtlZCB3aXRoIGdvb2dsZSBpbiB0aGlzIHJlcXVlc3QuICovXG4gICAgdGhpcy5saW5rZWRXaXRoR29vZ2xlID0gb3B0cy5saW5rZWRXaXRoR29vZ2xlICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmxpbmtlZFdpdGhHb29nbGVcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUaGUgdXNlciBuYW1lIHdhcyB1cGRhdGVkLiAqL1xuICAgIHRoaXMudXNlcm5hbWVVcGRhdGVkID0gb3B0cy51c2VybmFtZVVwZGF0ZWQgIT0gbnVsbFxuICAgICAgICA/IG9wdHMudXNlcm5hbWVVcGRhdGVkXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKiogVGhlIGRpc3BsYXkgbmFtZSB3YXMgdXBkYXRlZC4gKi9cbiAgICB0aGlzLmRpc3BsYXlOYW1lVXBkYXRlZCA9IG9wdHMuZGlzcGxheU5hbWVVcGRhdGVkICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmRpc3BsYXlOYW1lVXBkYXRlZFxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqIFRoZSBmaXJzdCBuYW1lIHdhcyB1cGRhdGVkLiAqL1xuICAgIHRoaXMuZmlyc3ROYW1lVXBkYXRlZCA9IG9wdHMuZmlyc3ROYW1lVXBkYXRlZCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5maXJzdE5hbWVVcGRhdGVkXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKiogVGhlIGxhc3QgbmFtZSB3YXMgdXBkYXRlZC4gKi9cbiAgICB0aGlzLmxhc3ROYW1lVXBkYXRlZCA9IG9wdHMubGFzdE5hbWVVcGRhdGVkICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmxhc3ROYW1lVXBkYXRlZFxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqIFRoZSBsb2NhbGUgd2FzIHVwZGF0ZWQuICovXG4gICAgdGhpcy5sb2NhbGVVcGRhdGVkID0gb3B0cy5sb2NhbGVVcGRhdGVkICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmxvY2FsZVVwZGF0ZWRcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUaGUgdXNlciBwcm9mZXNzaW9uIHdhcyB1cGRhdGVkLiAqL1xuICAgIHRoaXMucHJvZmVzc2lvblVwZGF0ZWQgPSBvcHRzLnByb2Zlc3Npb25VcGRhdGVkICE9IG51bGxcbiAgICAgICAgPyBvcHRzLnByb2Zlc3Npb25VcGRhdGVkXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKiogVGhlIHVzZXIgcHJvZmVzc2lvbmFsIHJvbGUgd2FzIHVwZGF0ZWQuICovXG4gICAgdGhpcy5wcm9mZXNzaW9uYWxSb2xlVXBkYXRlZCA9IG9wdHMucHJvZmVzc2lvbmFsUm9sZVVwZGF0ZWQgIT0gbnVsbFxuICAgICAgICA/IG9wdHMucHJvZmVzc2lvbmFsUm9sZVVwZGF0ZWRcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUaGUgdXNlciBqb3VybmV5IHJvbGUgd2FzIHVwZGF0ZWQuICovXG4gICAgdGhpcy5qb3VybmV5Um9sZVVwZGF0ZWQgPSBvcHRzLmpvdXJuZXlSb2xlVXBkYXRlZCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5qb3VybmV5Um9sZVVwZGF0ZWRcbiAgICAgICAgOiBmYWxzZTtcblxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVVc2VyU3VjY2Vzc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU1VDQ0VTUycsXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoVXNlckRldGFpbHMuc2VyaWFsaXplLCAndXNlcicsIG0udXNlciksXG4gICAgICAndmVyaWZpY2F0aW9uRW1haWxTZW50JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3ZlcmlmaWNhdGlvbkVtYWlsU2VudCcsIG0udmVyaWZpY2F0aW9uRW1haWxTZW50KSxcbiAgICAgICdsaW5rZWRXaXRoRmFjZWJvb2snOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGlua2VkV2l0aEZhY2Vib29rJywgbS5saW5rZWRXaXRoRmFjZWJvb2spLFxuICAgICAgJ2xpbmtlZFdpdGhHb29nbGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGlua2VkV2l0aEdvb2dsZScsIG0ubGlua2VkV2l0aEdvb2dsZSksXG4gICAgICAndXNlcm5hbWVVcGRhdGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3VzZXJuYW1lVXBkYXRlZCcsIG0udXNlcm5hbWVVcGRhdGVkKSxcbiAgICAgICdkaXNwbGF5TmFtZVVwZGF0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignZGlzcGxheU5hbWVVcGRhdGVkJywgbS5kaXNwbGF5TmFtZVVwZGF0ZWQpLFxuICAgICAgJ2ZpcnN0TmFtZVVwZGF0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignZmlyc3ROYW1lVXBkYXRlZCcsIG0uZmlyc3ROYW1lVXBkYXRlZCksXG4gICAgICAnbGFzdE5hbWVVcGRhdGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2xhc3ROYW1lVXBkYXRlZCcsIG0ubGFzdE5hbWVVcGRhdGVkKSxcbiAgICAgICdsb2NhbGVVcGRhdGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2xvY2FsZVVwZGF0ZWQnLCBtLmxvY2FsZVVwZGF0ZWQpLFxuICAgICAgJ3Byb2Zlc3Npb25VcGRhdGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3Byb2Zlc3Npb25VcGRhdGVkJywgbS5wcm9mZXNzaW9uVXBkYXRlZCksXG4gICAgICAncHJvZmVzc2lvbmFsUm9sZVVwZGF0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncHJvZmVzc2lvbmFsUm9sZVVwZGF0ZWQnLCBtLnByb2Zlc3Npb25hbFJvbGVVcGRhdGVkKSxcbiAgICAgICdqb3VybmV5Um9sZVVwZGF0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignam91cm5leVJvbGVVcGRhdGVkJywgbS5qb3VybmV5Um9sZVVwZGF0ZWQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVXBkYXRlVXNlclN1Y2Nlc3NSZXNwb25zZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1NVQ0NFU1MnKTtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZVVzZXJTdWNjZXNzUmVzcG9uc2Uoe1xuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KFVzZXJEZXRhaWxzLmRlc2VyaWFsaXplLCAndXNlcicsIG8pLFxuICAgICAgdmVyaWZpY2F0aW9uRW1haWxTZW50OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd2ZXJpZmljYXRpb25FbWFpbFNlbnQnLCBvKSxcbiAgICAgIGxpbmtlZFdpdGhGYWNlYm9vazogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGlua2VkV2l0aEZhY2Vib29rJywgbyksXG4gICAgICBsaW5rZWRXaXRoR29vZ2xlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdsaW5rZWRXaXRoR29vZ2xlJywgbyksXG4gICAgICB1c2VybmFtZVVwZGF0ZWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3VzZXJuYW1lVXBkYXRlZCcsIG8pLFxuICAgICAgZGlzcGxheU5hbWVVcGRhdGVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdkaXNwbGF5TmFtZVVwZGF0ZWQnLCBvKSxcbiAgICAgIGZpcnN0TmFtZVVwZGF0ZWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2ZpcnN0TmFtZVVwZGF0ZWQnLCBvKSxcbiAgICAgIGxhc3ROYW1lVXBkYXRlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGFzdE5hbWVVcGRhdGVkJywgbyksXG4gICAgICBsb2NhbGVVcGRhdGVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdsb2NhbGVVcGRhdGVkJywgbyksXG4gICAgICBwcm9mZXNzaW9uVXBkYXRlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncHJvZmVzc2lvblVwZGF0ZWQnLCBvKSxcbiAgICAgIHByb2Zlc3Npb25hbFJvbGVVcGRhdGVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdwcm9mZXNzaW9uYWxSb2xlVXBkYXRlZCcsIG8pLFxuICAgICAgam91cm5leVJvbGVVcGRhdGVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdqb3VybmV5Um9sZVVwZGF0ZWQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlVXNlckVycm9yUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ0VSUk9SJztcblxuICAvKiogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudCB3cm9uZy4gKi9cbiAgcmVhZG9ubHkgbWVzc2FnZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudCB3cm9uZy4gKi9cbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudCB3cm9uZy4gKi9cbiAgICB0aGlzLm1lc3NhZ2UgPSBvcHRzLm1lc3NhZ2U7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZVVzZXJFcnJvclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRVJST1InLFxuICAgICAgJ21lc3NhZ2UnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZXNzYWdlJywgbS5tZXNzYWdlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZVVzZXJFcnJvclJlc3BvbnNlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnRVJST1InKTtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZVVzZXJFcnJvclJlc3BvbnNlKHtcbiAgICAgIG1lc3NhZ2U6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnbWVzc2FnZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRBcGlTdGF0dXNSZXF1ZXN0IHtcbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHJlZmVycmVyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGtleTogc3RyaW5nLFxuICAgIHJlZmVycmVyOiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLmtleSA9IG9wdHMua2V5O1xuICAgIHRoaXMucmVmZXJyZXIgPSBvcHRzLnJlZmVycmVyO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRBcGlTdGF0dXNSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2tleSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2tleScsIG0ua2V5KSxcbiAgICAgICdyZWZlcnJlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3JlZmVycmVyJywgbS5yZWZlcnJlciksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRBcGlTdGF0dXNSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEdldEFwaVN0YXR1c1JlcXVlc3Qoe1xuICAgICAga2V5OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2tleScsIG8pLFxuICAgICAgcmVmZXJyZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncmVmZXJyZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0QXBpU3RhdHVzUmVzcG9uc2Uge1xuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldEFwaVN0YXR1c1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0QXBpU3RhdHVzUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0QXBpU3RhdHVzUmVzcG9uc2UoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0QnJhbmRNZW1iZXJzaGlwUmVxdWVzdCB7XG4gIHJlYWRvbmx5IGJyYW5kOiBzdHJpbmc7XG4gIC8qKiBJZiBwcmVzZW50LCByZXRyaWV2ZXMgdGhlIGJyYW5kIG1lbWJlcnNoaXAgYXMgaXQgd2FzIGF0IHRoZSBnaXZlbiB0aW1lLiAqL1xuICByZWFkb25seSBiZWZvcmVUaW1lOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBwcmVzZW50LCB0aGVuIHJldHJpZXZlIHRoZSBicmFuZCBtZW1iZXJzaGlwIGZvciB0aGlzIHVzZXIsIHdpdGhpbiB0aGUgYnJhbmQuICovXG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICAvKiogSWYgcHJlc2VudCwgcmV0cmlldmVzIHRoZSBicmFuZCBtZW1iZXJzaGlwIGFzIGl0IHdhcyBhdCB0aGUgZ2l2ZW4gdGltZS4gKi9cbiAgICBiZWZvcmVUaW1lPzogbnVtYmVyLFxuICAgIC8qKiBJZiBwcmVzZW50LCB0aGVuIHJldHJpZXZlIHRoZSBicmFuZCBtZW1iZXJzaGlwIGZvciB0aGlzIHVzZXIsIHdpdGhpbiB0aGUgYnJhbmQuICovXG4gICAgdXNlcj86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuYnJhbmQgPSBvcHRzLmJyYW5kO1xuICAgIC8qKiBJZiBwcmVzZW50LCByZXRyaWV2ZXMgdGhlIGJyYW5kIG1lbWJlcnNoaXAgYXMgaXQgd2FzIGF0IHRoZSBnaXZlbiB0aW1lLiAqL1xuICAgIHRoaXMuYmVmb3JlVGltZSA9IG9wdHMuYmVmb3JlVGltZTtcbiAgICAvKiogSWYgcHJlc2VudCwgdGhlbiByZXRyaWV2ZSB0aGUgYnJhbmQgbWVtYmVyc2hpcCBmb3IgdGhpcyB1c2VyLCB3aXRoaW4gdGhlIGJyYW5kLiAqL1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0QnJhbmRNZW1iZXJzaGlwUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAnYmVmb3JlVGltZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2JlZm9yZVRpbWUnLCBtLmJlZm9yZVRpbWUpLFxuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldEJyYW5kTWVtYmVyc2hpcFJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgR2V0QnJhbmRNZW1iZXJzaGlwUmVxdWVzdCh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgYmVmb3JlVGltZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdiZWZvcmVUaW1lJywgbyksXG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0QnJhbmRNZW1iZXJzaGlwUmVzcG9uc2Uge1xuICAvKipcbiAgICogVGhlIGJyYW5kLiBUaGlzIGZpZWxkIGlzIHByb3ZpZGVkIHRvIGRpc3Rpbmd1aXNoIHJlc3BvbnNlcyB3aGVuIHVzaW5nXG4gICAqIEdldEJyYW5kTWVtYmVyc2hpcEJhdGNoUmVxdWVzdC5cbiAgICovXG4gIHJlYWRvbmx5IGJyYW5kOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBJZiBwcmVzZW50IHRoZSB1c2VyLCB3aXRoaW4gdGhlIGJyYW5kLiBUaGlzIGZpZWxkIGlzIHByb3ZpZGVkIHRvIGRpc3Rpbmd1aXNoIHJlc3BvbnNlcyB3aGVuXG4gICAqIHVzaW5nIEdldEJyYW5kTWVtYmVyc2hpcEJhdGNoUmVxdWVzdC5cbiAgICovXG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIFRoZSBxdWFudGl0eSBvZiB1c2VycyBpbiB0aGUgYnJhbmQuIElmIGEgdXNlciB3YXMgc3BlY2lmaWVkLCB0aGVuIHRoaXMgd2lsbCBlaXRoZXIgYmUgMSBpZiB0aGVcbiAgICogdXNlciBpcyBpbiB0aGUgYnJhbmQsIG90aGVyd2lzZSAwLlxuICAgKi9cbiAgcmVhZG9ubHkgcXVhbnRpdHk6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBtb3N0IHJlY2VudCBicmFuZCBtZW1iZXIgZXZlbnQsIGZvciB0aGUgcmVxdWVzdGVkIGJyYW5kLCBhdCB0aGUgdGltZSB0aGlzIHF1YW50aXR5XG4gICAqIHNuYXBzaG90IHdhcyByZXRyaWV2ZWQuXG4gICAqL1xuICByZWFkb25seSBsYXRlc3RCcmFuZE1lbWJlcnNoaXBFdmVudDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKipcbiAgICAgKiBUaGUgYnJhbmQuIFRoaXMgZmllbGQgaXMgcHJvdmlkZWQgdG8gZGlzdGluZ3Vpc2ggcmVzcG9uc2VzIHdoZW4gdXNpbmdcbiAgICAgKiBHZXRCcmFuZE1lbWJlcnNoaXBCYXRjaFJlcXVlc3QuXG4gICAgICovXG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJZiBwcmVzZW50IHRoZSB1c2VyLCB3aXRoaW4gdGhlIGJyYW5kLiBUaGlzIGZpZWxkIGlzIHByb3ZpZGVkIHRvIGRpc3Rpbmd1aXNoIHJlc3BvbnNlcyB3aGVuXG4gICAgICogdXNpbmcgR2V0QnJhbmRNZW1iZXJzaGlwQmF0Y2hSZXF1ZXN0LlxuICAgICAqL1xuICAgIHVzZXI/OiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogVGhlIHF1YW50aXR5IG9mIHVzZXJzIGluIHRoZSBicmFuZC4gSWYgYSB1c2VyIHdhcyBzcGVjaWZpZWQsIHRoZW4gdGhpcyB3aWxsIGVpdGhlciBiZSAxIGlmIHRoZVxuICAgICAqIHVzZXIgaXMgaW4gdGhlIGJyYW5kLCBvdGhlcndpc2UgMC5cbiAgICAgKi9cbiAgICBxdWFudGl0eTogbnVtYmVyLFxuICAgIC8qKlxuICAgICAqIFRoZSBtb3N0IHJlY2VudCBicmFuZCBtZW1iZXIgZXZlbnQsIGZvciB0aGUgcmVxdWVzdGVkIGJyYW5kLCBhdCB0aGUgdGltZSB0aGlzIHF1YW50aXR5XG4gICAgICogc25hcHNob3Qgd2FzIHJldHJpZXZlZC5cbiAgICAgKi9cbiAgICBsYXRlc3RCcmFuZE1lbWJlcnNoaXBFdmVudDogbnVtYmVyLFxuICB9KSB7XG4gICAgLyoqXG4gICAgICogVGhlIGJyYW5kLiBUaGlzIGZpZWxkIGlzIHByb3ZpZGVkIHRvIGRpc3Rpbmd1aXNoIHJlc3BvbnNlcyB3aGVuIHVzaW5nXG4gICAgICogR2V0QnJhbmRNZW1iZXJzaGlwQmF0Y2hSZXF1ZXN0LlxuICAgICAqL1xuICAgIHRoaXMuYnJhbmQgPSBvcHRzLmJyYW5kO1xuICAgIC8qKlxuICAgICAqIElmIHByZXNlbnQgdGhlIHVzZXIsIHdpdGhpbiB0aGUgYnJhbmQuIFRoaXMgZmllbGQgaXMgcHJvdmlkZWQgdG8gZGlzdGluZ3Vpc2ggcmVzcG9uc2VzIHdoZW5cbiAgICAgKiB1c2luZyBHZXRCcmFuZE1lbWJlcnNoaXBCYXRjaFJlcXVlc3QuXG4gICAgICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICAgIC8qKlxuICAgICAqIFRoZSBxdWFudGl0eSBvZiB1c2VycyBpbiB0aGUgYnJhbmQuIElmIGEgdXNlciB3YXMgc3BlY2lmaWVkLCB0aGVuIHRoaXMgd2lsbCBlaXRoZXIgYmUgMSBpZiB0aGVcbiAgICAgKiB1c2VyIGlzIGluIHRoZSBicmFuZCwgb3RoZXJ3aXNlIDAuXG4gICAgICovXG4gICAgdGhpcy5xdWFudGl0eSA9IG9wdHMucXVhbnRpdHk7XG4gICAgLyoqXG4gICAgICogVGhlIG1vc3QgcmVjZW50IGJyYW5kIG1lbWJlciBldmVudCwgZm9yIHRoZSByZXF1ZXN0ZWQgYnJhbmQsIGF0IHRoZSB0aW1lIHRoaXMgcXVhbnRpdHlcbiAgICAgKiBzbmFwc2hvdCB3YXMgcmV0cmlldmVkLlxuICAgICAqL1xuICAgIHRoaXMubGF0ZXN0QnJhbmRNZW1iZXJzaGlwRXZlbnQgPSBvcHRzLmxhdGVzdEJyYW5kTWVtYmVyc2hpcEV2ZW50O1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRCcmFuZE1lbWJlcnNoaXBSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgICAgJ3F1YW50aXR5JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcigncXVhbnRpdHknLCBtLnF1YW50aXR5KSxcbiAgICAgICdsYXRlc3RCcmFuZE1lbWJlcnNoaXBFdmVudCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2xhdGVzdEJyYW5kTWVtYmVyc2hpcEV2ZW50JywgbS5sYXRlc3RCcmFuZE1lbWJlcnNoaXBFdmVudCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRCcmFuZE1lbWJlcnNoaXBSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBHZXRCcmFuZE1lbWJlcnNoaXBSZXNwb25zZSh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbyksXG4gICAgICBxdWFudGl0eTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdxdWFudGl0eScsIG8pLFxuICAgICAgbGF0ZXN0QnJhbmRNZW1iZXJzaGlwRXZlbnQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGF0ZXN0QnJhbmRNZW1iZXJzaGlwRXZlbnQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0QnJhbmRNZW1iZXJzaGlwQmF0Y2hSZXF1ZXN0IHtcbiAgLyoqIFRoZSBnZXRCcmFuZE1lbWJlcnNoaXAgcmVxdWVzdHMgdG8gcGVyZm9ybS4gKi9cbiAgcmVhZG9ubHkgcmVxdWVzdHM6IHJlYWRvbmx5IEdldEJyYW5kTWVtYmVyc2hpcFJlcXVlc3RbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRoZSBnZXRCcmFuZE1lbWJlcnNoaXAgcmVxdWVzdHMgdG8gcGVyZm9ybS4gKi9cbiAgICByZXF1ZXN0cz86IHJlYWRvbmx5IEdldEJyYW5kTWVtYmVyc2hpcFJlcXVlc3RbXSxcbiAgfSkge1xuICAgIC8qKiBUaGUgZ2V0QnJhbmRNZW1iZXJzaGlwIHJlcXVlc3RzIHRvIHBlcmZvcm0uICovXG4gICAgdGhpcy5yZXF1ZXN0cyA9IG9wdHMucmVxdWVzdHMgfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldEJyYW5kTWVtYmVyc2hpcEJhdGNoUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdyZXF1ZXN0cyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoR2V0QnJhbmRNZW1iZXJzaGlwUmVxdWVzdC5zZXJpYWxpemUsICdyZXF1ZXN0cycsIG0ucmVxdWVzdHMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0QnJhbmRNZW1iZXJzaGlwQmF0Y2hSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEdldEJyYW5kTWVtYmVyc2hpcEJhdGNoUmVxdWVzdCh7XG4gICAgICByZXF1ZXN0czogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEdldEJyYW5kTWVtYmVyc2hpcFJlcXVlc3QuZGVzZXJpYWxpemUsICdyZXF1ZXN0cycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRCcmFuZE1lbWJlcnNoaXBCYXRjaFJlc3BvbnNlIHtcbiAgLyoqIFRoZSBnZXRCcmFuZE1lbWJlcnNoaXAgcmVzcG9uc2VzLiAqL1xuICByZWFkb25seSByZXNwb25zZXM6IHJlYWRvbmx5IEdldEJyYW5kTWVtYmVyc2hpcFJlc3BvbnNlW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBUaGUgZ2V0QnJhbmRNZW1iZXJzaGlwIHJlc3BvbnNlcy4gKi9cbiAgICByZXNwb25zZXM/OiByZWFkb25seSBHZXRCcmFuZE1lbWJlcnNoaXBSZXNwb25zZVtdLFxuICB9KSB7XG4gICAgLyoqIFRoZSBnZXRCcmFuZE1lbWJlcnNoaXAgcmVzcG9uc2VzLiAqL1xuICAgIHRoaXMucmVzcG9uc2VzID0gb3B0cy5yZXNwb25zZXMgfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldEJyYW5kTWVtYmVyc2hpcEJhdGNoUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncmVzcG9uc2VzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChHZXRCcmFuZE1lbWJlcnNoaXBSZXNwb25zZS5zZXJpYWxpemUsICdyZXNwb25zZXMnLCBtLnJlc3BvbnNlcyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRCcmFuZE1lbWJlcnNoaXBCYXRjaFJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IEdldEJyYW5kTWVtYmVyc2hpcEJhdGNoUmVzcG9uc2Uoe1xuICAgICAgcmVzcG9uc2VzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoR2V0QnJhbmRNZW1iZXJzaGlwUmVzcG9uc2UuZGVzZXJpYWxpemUsICdyZXNwb25zZXMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEJyYW5kTWVtYmVyc2hpcEV2ZW50c1JlcXVlc3Qge1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogRmlsdGVyIGJyYW5kIG1lbWJlciBldmVudHMgYnkgdXNlciwgaWYgYXZhaWxhYmxlLiAqL1xuICByZWFkb25seSB1c2VyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBGaW5kIGFsbCBicmFuZCBtZW1iZXIgZXZlbnRzIHdoaWNoIGhhdmUgSUQgbm90IHNtYWxsZXIgdGhhbiB0aGlzLiBJZiBudWxsLCBzdGFydCBmcm9tIHRoZSBzdGFydC4gKi9cbiAgcmVhZG9ubHkgbWluQnJhbmRNZW1iZXJzaGlwRXZlbnQ6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSBjb250aW51YXRpb24gdG9rZW4sIHVzZWQgZm9yIHBhZ2luYXRpb24uICovXG4gIHJlYWRvbmx5IGNvbnRpbnVhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogbWF4aW11bSBudW1iZXIgb2YgcmVjb3JkcyB0byByZXR1cm4gKi9cbiAgcmVhZG9ubHkgbGltaXQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICAvKiogRmlsdGVyIGJyYW5kIG1lbWJlciBldmVudHMgYnkgdXNlciwgaWYgYXZhaWxhYmxlLiAqL1xuICAgIHVzZXI/OiBzdHJpbmcsXG4gICAgLyoqIEZpbmQgYWxsIGJyYW5kIG1lbWJlciBldmVudHMgd2hpY2ggaGF2ZSBJRCBub3Qgc21hbGxlciB0aGFuIHRoaXMuIElmIG51bGwsIHN0YXJ0IGZyb20gdGhlIHN0YXJ0LiAqL1xuICAgIG1pbkJyYW5kTWVtYmVyc2hpcEV2ZW50PzogbnVtYmVyLFxuICAgIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgICAvKiogbWF4aW11bSBudW1iZXIgb2YgcmVjb3JkcyB0byByZXR1cm4gKi9cbiAgICBsaW1pdDogbnVtYmVyLFxuICB9KSB7XG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIEZpbHRlciBicmFuZCBtZW1iZXIgZXZlbnRzIGJ5IHVzZXIsIGlmIGF2YWlsYWJsZS4gKi9cbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgLyoqIEZpbmQgYWxsIGJyYW5kIG1lbWJlciBldmVudHMgd2hpY2ggaGF2ZSBJRCBub3Qgc21hbGxlciB0aGFuIHRoaXMuIElmIG51bGwsIHN0YXJ0IGZyb20gdGhlIHN0YXJ0LiAqL1xuICAgIHRoaXMubWluQnJhbmRNZW1iZXJzaGlwRXZlbnQgPSBvcHRzLm1pbkJyYW5kTWVtYmVyc2hpcEV2ZW50O1xuICAgIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gICAgLyoqIG1heGltdW0gbnVtYmVyIG9mIHJlY29yZHMgdG8gcmV0dXJuICovXG4gICAgdGhpcy5saW1pdCA9IG9wdHMubGltaXQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRCcmFuZE1lbWJlcnNoaXBFdmVudHNSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcicsIG0udXNlciksXG4gICAgICAnbWluQnJhbmRNZW1iZXJzaGlwRXZlbnQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdtaW5CcmFuZE1lbWJlcnNoaXBFdmVudCcsIG0ubWluQnJhbmRNZW1iZXJzaGlwRXZlbnQpLFxuICAgICAgJ2NvbnRpbnVhdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG0uY29udGludWF0aW9uKSxcbiAgICAgICdsaW1pdCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2xpbWl0JywgbS5saW1pdCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kQnJhbmRNZW1iZXJzaGlwRXZlbnRzUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBGaW5kQnJhbmRNZW1iZXJzaGlwRXZlbnRzUmVxdWVzdCh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbyksXG4gICAgICBtaW5CcmFuZE1lbWJlcnNoaXBFdmVudDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdtaW5CcmFuZE1lbWJlcnNoaXBFdmVudCcsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgbGltaXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXNlcldpdGhUb2tlbiB7XG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcbiAgcmVhZG9ubHkgdG9rZW46IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdXNlcjogc3RyaW5nLFxuICAgIHRva2VuOiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgdGhpcy50b2tlbiA9IG9wdHMudG9rZW47XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVzZXJXaXRoVG9rZW4pOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgICAgJ3Rva2VuJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndG9rZW4nLCBtLnRva2VuKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVzZXJXaXRoVG9rZW4ge1xuICAgIHJldHVybiBuZXcgVXNlcldpdGhUb2tlbih7XG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICAgIHRva2VuOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZUJyYW5kTWVtYmVyc1JlcXVlc3Qge1xuICAvKiogQnJhbmQgdG8gdXBkYXRlLCByZXF1aXJlZCBmb3IgYWxsIHVwZGF0ZXMgZXhjZXB0IHtAbGluayAjYWRkQnlUb2tlbn0uICovXG4gIHJlYWRvbmx5IGJyYW5kOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBub3QgZW1wdHksIHRoZXNlIG1lbWJlcnMgYXJlIGFkZGVkIHRvIHRoZSBicmFuZC4gKi9cbiAgcmVhZG9ubHkgYWRkOiBSZWFkb25seU1hcDxzdHJpbmcsIEJyYW5kVXNlclJvbGU+O1xuICAvKiogSWYgc2V0LCB0aGlzIHVzZXIgaXMgYWRkZWQgdG8gdGhlIGJyYW5kIHdpdGggcm9sZSBhcyBzcGVjaWZpZWQgYnkgdGhlIHRva2VuLiAqL1xuICByZWFkb25seSBhZGRCeVRva2VuOiBVc2VyV2l0aFRva2VuIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgbm90IGVtcHR5LCBhc3NpZ25zIHRoZXNlIHJvbGVzIHRvIGV4aXN0aW5nIG1lbWJlcnMuICovXG4gIHJlYWRvbmx5IHVwZGF0ZTogUmVhZG9ubHlNYXA8c3RyaW5nLCBCcmFuZFVzZXJSb2xlPjtcbiAgLyoqIElmIG5vdCBlbXB0eSwgdGhlc2UgbWVtYmVycyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBicmFuZC4gKi9cbiAgcmVhZG9ubHkgcmVtb3ZlOiByZWFkb25seSBzdHJpbmdbXTtcbiAgLyoqIElmIHRydWUsIHJldHVybmVkIHVzZXIgb2JqZWN0cyBpbmNsdWRlIGF2YXRhcnMgKi9cbiAgcmVhZG9ubHkgaW5jbHVkZUF2YXRhcnM6IGJvb2xlYW47XG4gIC8qKiBJZiB0cnVlIHJldHVybiBhbiBVcGRhdGVCcmFuZE1lbWJlcnNFcnJvclJlc3BvbnNlIGluc3RlYWQgb2YgdGhyb3dpbmcgYW4gZXJyb3Igd2hlcmUgc2FuZSAqL1xuICByZWFkb25seSBzdXBwb3J0RXJyb3JSZXNwb25zZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEJyYW5kIHRvIHVwZGF0ZSwgcmVxdWlyZWQgZm9yIGFsbCB1cGRhdGVzIGV4Y2VwdCB7QGxpbmsgI2FkZEJ5VG9rZW59LiAqL1xuICAgIGJyYW5kPzogc3RyaW5nLFxuICAgIC8qKiBJZiBub3QgZW1wdHksIHRoZXNlIG1lbWJlcnMgYXJlIGFkZGVkIHRvIHRoZSBicmFuZC4gKi9cbiAgICBhZGQ/OiBSZWFkb25seU1hcDxzdHJpbmcsIEJyYW5kVXNlclJvbGU+LFxuICAgIC8qKiBJZiBzZXQsIHRoaXMgdXNlciBpcyBhZGRlZCB0byB0aGUgYnJhbmQgd2l0aCByb2xlIGFzIHNwZWNpZmllZCBieSB0aGUgdG9rZW4uICovXG4gICAgYWRkQnlUb2tlbj86IFVzZXJXaXRoVG9rZW4sXG4gICAgLyoqIElmIG5vdCBlbXB0eSwgYXNzaWducyB0aGVzZSByb2xlcyB0byBleGlzdGluZyBtZW1iZXJzLiAqL1xuICAgIHVwZGF0ZT86IFJlYWRvbmx5TWFwPHN0cmluZywgQnJhbmRVc2VyUm9sZT4sXG4gICAgLyoqIElmIG5vdCBlbXB0eSwgdGhlc2UgbWVtYmVycyBhcmUgcmVtb3ZlZCBmcm9tIHRoZSBicmFuZC4gKi9cbiAgICByZW1vdmU/OiByZWFkb25seSBzdHJpbmdbXSxcbiAgICAvKiogSWYgdHJ1ZSwgcmV0dXJuZWQgdXNlciBvYmplY3RzIGluY2x1ZGUgYXZhdGFycyAqL1xuICAgIGluY2x1ZGVBdmF0YXJzPzogYm9vbGVhbixcbiAgICAvKiogSWYgdHJ1ZSByZXR1cm4gYW4gVXBkYXRlQnJhbmRNZW1iZXJzRXJyb3JSZXNwb25zZSBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yIHdoZXJlIHNhbmUgKi9cbiAgICBzdXBwb3J0RXJyb3JSZXNwb25zZT86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICAvKiogQnJhbmQgdG8gdXBkYXRlLCByZXF1aXJlZCBmb3IgYWxsIHVwZGF0ZXMgZXhjZXB0IHtAbGluayAjYWRkQnlUb2tlbn0uICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIElmIG5vdCBlbXB0eSwgdGhlc2UgbWVtYmVycyBhcmUgYWRkZWQgdG8gdGhlIGJyYW5kLiAqL1xuICAgIHRoaXMuYWRkID0gb3B0cy5hZGQgfHwgbmV3IE1hcCgpO1xuICAgIC8qKiBJZiBzZXQsIHRoaXMgdXNlciBpcyBhZGRlZCB0byB0aGUgYnJhbmQgd2l0aCByb2xlIGFzIHNwZWNpZmllZCBieSB0aGUgdG9rZW4uICovXG4gICAgdGhpcy5hZGRCeVRva2VuID0gb3B0cy5hZGRCeVRva2VuO1xuICAgIC8qKiBJZiBub3QgZW1wdHksIGFzc2lnbnMgdGhlc2Ugcm9sZXMgdG8gZXhpc3RpbmcgbWVtYmVycy4gKi9cbiAgICB0aGlzLnVwZGF0ZSA9IG9wdHMudXBkYXRlIHx8IG5ldyBNYXAoKTtcbiAgICAvKiogSWYgbm90IGVtcHR5LCB0aGVzZSBtZW1iZXJzIGFyZSByZW1vdmVkIGZyb20gdGhlIGJyYW5kLiAqL1xuICAgIHRoaXMucmVtb3ZlID0gb3B0cy5yZW1vdmUgfHwgW107XG4gICAgLyoqIElmIHRydWUsIHJldHVybmVkIHVzZXIgb2JqZWN0cyBpbmNsdWRlIGF2YXRhcnMgKi9cbiAgICB0aGlzLmluY2x1ZGVBdmF0YXJzID0gb3B0cy5pbmNsdWRlQXZhdGFycyAhPSBudWxsXG4gICAgICAgID8gb3B0cy5pbmNsdWRlQXZhdGFyc1xuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqIElmIHRydWUgcmV0dXJuIGFuIFVwZGF0ZUJyYW5kTWVtYmVyc0Vycm9yUmVzcG9uc2UgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBlcnJvciB3aGVyZSBzYW5lICovXG4gICAgdGhpcy5zdXBwb3J0RXJyb3JSZXNwb25zZSA9IG9wdHMuc3VwcG9ydEVycm9yUmVzcG9uc2UgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuc3VwcG9ydEVycm9yUmVzcG9uc2VcbiAgICAgICAgOiBmYWxzZTtcblxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVCcmFuZE1lbWJlcnNSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICdhZGQnOiBTZXJpYWxpemF0aW9uLnN0cmluZ0VudW1NYXAoQnJhbmRVc2VyUm9sZVV0aWwuc2VyaWFsaXplLCAnYWRkJywgbS5hZGQpLFxuICAgICAgJ2FkZEJ5VG9rZW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVzZXJXaXRoVG9rZW4uc2VyaWFsaXplLCAnYWRkQnlUb2tlbicsIG0uYWRkQnlUb2tlbiksXG4gICAgICAndXBkYXRlJzogU2VyaWFsaXphdGlvbi5zdHJpbmdFbnVtTWFwKEJyYW5kVXNlclJvbGVVdGlsLnNlcmlhbGl6ZSwgJ3VwZGF0ZScsIG0udXBkYXRlKSxcbiAgICAgICdyZW1vdmUnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdyZW1vdmUnLCBtLnJlbW92ZSksXG4gICAgICAnaW5jbHVkZUF2YXRhcnMnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaW5jbHVkZUF2YXRhcnMnLCBtLmluY2x1ZGVBdmF0YXJzKSxcbiAgICAgICdzdXBwb3J0RXJyb3JSZXNwb25zZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdzdXBwb3J0RXJyb3JSZXNwb25zZScsIG0uc3VwcG9ydEVycm9yUmVzcG9uc2UpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVXBkYXRlQnJhbmRNZW1iZXJzUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVCcmFuZE1lbWJlcnNSZXF1ZXN0KHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICBhZGQ6IERlc2VyaWFsaXphdGlvbi5zdHJpbmdFbnVtTWFwKEJyYW5kVXNlclJvbGVVdGlsLmRlc2VyaWFsaXplLCAnYWRkJywgbyksXG4gICAgICBhZGRCeVRva2VuOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoVXNlcldpdGhUb2tlbi5kZXNlcmlhbGl6ZSwgJ2FkZEJ5VG9rZW4nLCBvKSxcbiAgICAgIHVwZGF0ZTogRGVzZXJpYWxpemF0aW9uLnN0cmluZ0VudW1NYXAoQnJhbmRVc2VyUm9sZVV0aWwuZGVzZXJpYWxpemUsICd1cGRhdGUnLCBvKSxcbiAgICAgIHJlbW92ZTogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdyZW1vdmUnLCBvKSxcbiAgICAgIGluY2x1ZGVBdmF0YXJzOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdpbmNsdWRlQXZhdGFycycsIG8pLFxuICAgICAgc3VwcG9ydEVycm9yUmVzcG9uc2U6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3N1cHBvcnRFcnJvclJlc3BvbnNlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgVXBkYXRlQnJhbmRNZW1iZXJzUmVzcG9uc2VcbiAgICA9IFVwZGF0ZUJyYW5kTWVtYmVyc1N1Y2Nlc3NSZXNwb25zZVxuICAgIHwgVXBkYXRlQnJhbmRNZW1iZXJzRXJyb3JSZXNwb25zZTtcblxuZXhwb3J0IGNvbnN0IFVwZGF0ZUJyYW5kTWVtYmVyc1Jlc3BvbnNlID0ge1xuICBzZXJpYWxpemUodTogVXBkYXRlQnJhbmRNZW1iZXJzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHN3aXRjaCAodS50eXBlKSB7XG4gICAgICBjYXNlICdTVUNDRVNTJzogcmV0dXJuIFVwZGF0ZUJyYW5kTWVtYmVyc1N1Y2Nlc3NSZXNwb25zZS5zZXJpYWxpemUodSk7XG4gICAgICBjYXNlICdFUlJPUic6IHJldHVybiBVcGRhdGVCcmFuZE1lbWJlcnNFcnJvclJlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVCcmFuZE1lbWJlcnNSZXNwb25zZSB7XG4gICAgY29uc3Qga2FzZSA9IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndHlwZScsIG8pO1xuICAgIHN3aXRjaCAoa2FzZSkge1xuICAgICAgY2FzZSAnU1VDQ0VTUyc6IHJldHVybiBVcGRhdGVCcmFuZE1lbWJlcnNTdWNjZXNzUmVzcG9uc2UuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdFUlJPUic6IHJldHVybiBVcGRhdGVCcmFuZE1lbWJlcnNFcnJvclJlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgVXBkYXRlQnJhbmRNZW1iZXJzU3VjY2Vzc1Jlc3BvbnNlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdTVUNDRVNTJztcblxuICAvKiogQnJhbmQgdGhhdCB3YXMgdXBkYXRlZC4gKi9cbiAgcmVhZG9ubHkgdXBkYXRlZEJyYW5kOiBCcmFuZDtcbiAgLyoqIExpc3Qgb2YgY3JlYXRlZC91cGRhdGVkIG1lbWJlcnMuIEVtcHR5IGxpc3QgZm9yIHJlbW92ZXMuICovXG4gIHJlYWRvbmx5IG1lbWJlcnM6IHJlYWRvbmx5IEJyYW5kTWVtYmVyW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBCcmFuZCB0aGF0IHdhcyB1cGRhdGVkLiAqL1xuICAgIHVwZGF0ZWRCcmFuZDogQnJhbmQsXG4gICAgLyoqIExpc3Qgb2YgY3JlYXRlZC91cGRhdGVkIG1lbWJlcnMuIEVtcHR5IGxpc3QgZm9yIHJlbW92ZXMuICovXG4gICAgbWVtYmVycz86IHJlYWRvbmx5IEJyYW5kTWVtYmVyW10sXG4gIH0pIHtcbiAgICAvKiogQnJhbmQgdGhhdCB3YXMgdXBkYXRlZC4gKi9cbiAgICB0aGlzLnVwZGF0ZWRCcmFuZCA9IG9wdHMudXBkYXRlZEJyYW5kO1xuICAgIC8qKiBMaXN0IG9mIGNyZWF0ZWQvdXBkYXRlZCBtZW1iZXJzLiBFbXB0eSBsaXN0IGZvciByZW1vdmVzLiAqL1xuICAgIHRoaXMubWVtYmVycyA9IG9wdHMubWVtYmVycyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlQnJhbmRNZW1iZXJzU3VjY2Vzc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU1VDQ0VTUycsXG4gICAgICAndXBkYXRlZEJyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChCcmFuZC5zZXJpYWxpemUsICd1cGRhdGVkQnJhbmQnLCBtLnVwZGF0ZWRCcmFuZCksXG4gICAgICAnbWVtYmVycyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoQnJhbmRNZW1iZXIuc2VyaWFsaXplLCAnbWVtYmVycycsIG0ubWVtYmVycyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVCcmFuZE1lbWJlcnNTdWNjZXNzUmVzcG9uc2Uge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdTVUNDRVNTJyk7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVCcmFuZE1lbWJlcnNTdWNjZXNzUmVzcG9uc2Uoe1xuICAgICAgdXBkYXRlZEJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoQnJhbmQuZGVzZXJpYWxpemUsICd1cGRhdGVkQnJhbmQnLCBvKSxcbiAgICAgIG1lbWJlcnM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChCcmFuZE1lbWJlci5kZXNlcmlhbGl6ZSwgJ21lbWJlcnMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlQnJhbmRNZW1iZXJzRXJyb3JSZXNwb25zZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnRVJST1InO1xuXG4gIC8qKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50IHdyb25nLiAqL1xuICByZWFkb25seSBtZXNzYWdlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50IHdyb25nLiAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50IHdyb25nLiAqL1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdHMubWVzc2FnZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlQnJhbmRNZW1iZXJzRXJyb3JSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ0VSUk9SJyxcbiAgICAgICdtZXNzYWdlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnbWVzc2FnZScsIG0ubWVzc2FnZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVCcmFuZE1lbWJlcnNFcnJvclJlc3BvbnNlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnRVJST1InKTtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZUJyYW5kTWVtYmVyc0Vycm9yUmVzcG9uc2Uoe1xuICAgICAgbWVzc2FnZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZXNzYWdlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEJyYW5kTWVtYmVyc2hpcEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoaXMgZmllbGQgYnJlYWtzIHdpdGggdGhlIGNvbnZlbnRpb24gb2Ygc3RyaW5nIGlkcyBhcyBpdCBpcyBpbnRlbmRlZCB0byBiZSBzdG9yZWQgYW5kIHRoZW5cbiAgICogdXNlZCBhcyBtaW5fYnJhbmRfbWVtYmVyc2hpcF9ldmVudD1pZCsxIHdoZW4gY2FsbGluZyBGaW5kQnJhbmRNZW1iZXJzaGlwRXZlbnRzUmVxdWVzdC5cbiAgICovXG4gIHJlYWRvbmx5IGlkOiBudW1iZXI7XG4gIHJlYWRvbmx5IGJyYW5kOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcbiAgLyoqIFRoZSB0eXBlIG9mIGV2ZW50LCBlaXRoZXIgYWRkaXRpb24gb3IgcmVtb3ZhbC4gKi9cbiAgcmVhZG9ubHkgdHlwZTogQnJhbmRNZW1iZXJFdmVudFR5cGU7XG4gIC8qKiBUaGUgZGF0ZSB0aGUgY2hhbmdlIG9jY3VycmVkLiAqL1xuICByZWFkb25seSBjaGFuZ2VEYXRlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKlxuICAgICAqIFRoaXMgZmllbGQgYnJlYWtzIHdpdGggdGhlIGNvbnZlbnRpb24gb2Ygc3RyaW5nIGlkcyBhcyBpdCBpcyBpbnRlbmRlZCB0byBiZSBzdG9yZWQgYW5kIHRoZW5cbiAgICAgKiB1c2VkIGFzIG1pbl9icmFuZF9tZW1iZXJzaGlwX2V2ZW50PWlkKzEgd2hlbiBjYWxsaW5nIEZpbmRCcmFuZE1lbWJlcnNoaXBFdmVudHNSZXF1ZXN0LlxuICAgICAqL1xuICAgIGlkOiBudW1iZXIsXG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICB1c2VyOiBzdHJpbmcsXG4gICAgLyoqIFRoZSB0eXBlIG9mIGV2ZW50LCBlaXRoZXIgYWRkaXRpb24gb3IgcmVtb3ZhbC4gKi9cbiAgICB0eXBlOiBCcmFuZE1lbWJlckV2ZW50VHlwZSxcbiAgICAvKiogVGhlIGRhdGUgdGhlIGNoYW5nZSBvY2N1cnJlZC4gKi9cbiAgICBjaGFuZ2VEYXRlOiBudW1iZXIsXG4gIH0pIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIGZpZWxkIGJyZWFrcyB3aXRoIHRoZSBjb252ZW50aW9uIG9mIHN0cmluZyBpZHMgYXMgaXQgaXMgaW50ZW5kZWQgdG8gYmUgc3RvcmVkIGFuZCB0aGVuXG4gICAgICogdXNlZCBhcyBtaW5fYnJhbmRfbWVtYmVyc2hpcF9ldmVudD1pZCsxIHdoZW4gY2FsbGluZyBGaW5kQnJhbmRNZW1iZXJzaGlwRXZlbnRzUmVxdWVzdC5cbiAgICAgKi9cbiAgICB0aGlzLmlkID0gb3B0cy5pZDtcbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgLyoqIFRoZSB0eXBlIG9mIGV2ZW50LCBlaXRoZXIgYWRkaXRpb24gb3IgcmVtb3ZhbC4gKi9cbiAgICB0aGlzLnR5cGUgPSBvcHRzLnR5cGU7XG4gICAgLyoqIFRoZSBkYXRlIHRoZSBjaGFuZ2Ugb2NjdXJyZWQuICovXG4gICAgdGhpcy5jaGFuZ2VEYXRlID0gb3B0cy5jaGFuZ2VEYXRlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBCcmFuZE1lbWJlcnNoaXBFdmVudCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2lkJywgbS5pZCksXG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICAgICd0eXBlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oQnJhbmRNZW1iZXJFdmVudFR5cGVVdGlsLnNlcmlhbGl6ZSwgJ3R5cGUnLCBtLnR5cGUpLFxuICAgICAgJ2NoYW5nZURhdGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdjaGFuZ2VEYXRlJywgbS5jaGFuZ2VEYXRlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJyYW5kTWVtYmVyc2hpcEV2ZW50IHtcbiAgICByZXR1cm4gbmV3IEJyYW5kTWVtYmVyc2hpcEV2ZW50KHtcbiAgICAgIGlkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2lkJywgbyksXG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbyksXG4gICAgICB0eXBlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPEJyYW5kTWVtYmVyRXZlbnRUeXBlPihCcmFuZE1lbWJlckV2ZW50VHlwZVV0aWwuZGVzZXJpYWxpemUsICd0eXBlJywgbyksXG4gICAgICBjaGFuZ2VEYXRlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2NoYW5nZURhdGUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEJyYW5kTWVtYmVyc2hpcEV2ZW50c1Jlc3BvbnNlIHtcbiAgcmVhZG9ubHkgZXZlbnRzOiByZWFkb25seSBCcmFuZE1lbWJlcnNoaXBFdmVudFtdO1xuICAvKiogVGhlIGNvbnRpbnVhdGlvbiB0b2tlbi4gSWYgbm90IG51bGwsIHRoZXJlIGFyZSBtb3JlIHJlY29yZHMgdGhhdCBuZWVkIHRvIGJlIHJlcXVlc3RlZC4gKi9cbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGV2ZW50cz86IHJlYWRvbmx5IEJyYW5kTWVtYmVyc2hpcEV2ZW50W10sXG4gICAgLyoqIFRoZSBjb250aW51YXRpb24gdG9rZW4uIElmIG5vdCBudWxsLCB0aGVyZSBhcmUgbW9yZSByZWNvcmRzIHRoYXQgbmVlZCB0byBiZSByZXF1ZXN0ZWQuICovXG4gICAgY29udGludWF0aW9uPzogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5ldmVudHMgPSBvcHRzLmV2ZW50cyB8fCBbXTtcbiAgICAvKiogVGhlIGNvbnRpbnVhdGlvbiB0b2tlbi4gSWYgbm90IG51bGwsIHRoZXJlIGFyZSBtb3JlIHJlY29yZHMgdGhhdCBuZWVkIHRvIGJlIHJlcXVlc3RlZC4gKi9cbiAgICB0aGlzLmNvbnRpbnVhdGlvbiA9IG9wdHMuY29udGludWF0aW9uO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kQnJhbmRNZW1iZXJzaGlwRXZlbnRzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZXZlbnRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChCcmFuZE1lbWJlcnNoaXBFdmVudC5zZXJpYWxpemUsICdldmVudHMnLCBtLmV2ZW50cyksXG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZEJyYW5kTWVtYmVyc2hpcEV2ZW50c1Jlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IEZpbmRCcmFuZE1lbWJlcnNoaXBFdmVudHNSZXNwb25zZSh7XG4gICAgICBldmVudHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChCcmFuZE1lbWJlcnNoaXBFdmVudC5kZXNlcmlhbGl6ZSwgJ2V2ZW50cycsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VyTm90aWZpY2F0aW9uU2V0dGluZ3Mge1xuICByZWFkb25seSByZWNlaXZlU29jaWFsRW1haWxzOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICByZWNlaXZlU29jaWFsRW1haWxzOiBib29sZWFuLFxuICB9KSB7XG4gICAgdGhpcy5yZWNlaXZlU29jaWFsRW1haWxzID0gb3B0cy5yZWNlaXZlU29jaWFsRW1haWxzO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVc2VyTm90aWZpY2F0aW9uU2V0dGluZ3MpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncmVjZWl2ZVNvY2lhbEVtYWlscyc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZWNlaXZlU29jaWFsRW1haWxzJywgbS5yZWNlaXZlU29jaWFsRW1haWxzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVzZXJOb3RpZmljYXRpb25TZXR0aW5ncyB7XG4gICAgcmV0dXJuIG5ldyBVc2VyTm90aWZpY2F0aW9uU2V0dGluZ3Moe1xuICAgICAgcmVjZWl2ZVNvY2lhbEVtYWlsczogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVjZWl2ZVNvY2lhbEVtYWlscycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVc2VyRGV0YWlscyB7XG4gIC8qKiBVc2VyIGlkICovXG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gIC8qKiBEYXRlIHRoaXMgdXNlciB3YXMgY3JlYXRlZC4gKi9cbiAgcmVhZG9ubHkgY3JlYXRpb25EYXRlOiBudW1iZXI7XG4gIC8qKiBUcnVlIGlmIHRoaXMgaXMgYSBkZWFjdGl2YXRlZCB1c2VyLiAqL1xuICByZWFkb25seSBkZWFjdGl2YXRlZDogYm9vbGVhbjtcbiAgLyoqIFRydWUgaWYgdGhpcyBpcyBhIHRlbXBvcmFyeSB1c2VyLiAqL1xuICByZWFkb25seSB0ZW1wb3Jhcnk6IGJvb2xlYW47XG4gIC8qKiBVc2VyJ3MgZGlzcGxheSBuYW1lLCB1c2VkIHRvIHJlcHJlc2VudCB0aGlzIHVzZXIgd2l0aCB0ZXh0IGluIGEgVUkuICovXG4gIHJlYWRvbmx5IGRpc3BsYXlOYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCB1c2VyIGZpcnN0IG5hbWUuICovXG4gIHJlYWRvbmx5IGZpcnN0TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgdXNlciBsYXN0IG5hbWUuICovXG4gIHJlYWRvbmx5IGxhc3ROYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBVc2VyJ3MgZW1haWwgYWRkcmVzcy4gKi9cbiAgcmVhZG9ubHkgZW1haWw6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFVzZXIncyBlbWFpbCBzdGF0dXMuIE5vbi1udWxsIGlmIGVtYWlsIGlzIG5vbi1udWxsLiAqL1xuICByZWFkb25seSBlbWFpbFN0YXR1czogRW1haWxTdGF0dXMgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCB1c2VyJ3MgcGhvbmUgbnVtYmVyLiAqL1xuICByZWFkb25seSBwaG9uZU51bWJlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgdXNlcm5hbWUgb24gQ2FudmEsIHVzZWQgaW4gVVJMIHBhdGhzLiAqL1xuICByZWFkb25seSB1c2VybmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgaG9tZXBhZ2UsIHNob3duIG9uIHVzZXIncyBwdWJsaWMgcHJvZmlsZSBwYWdlICovXG4gIHJlYWRvbmx5IGhvbWVwYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBjaXR5LCBzaG93biBvbiB1c2VyJ3MgcHVibGljIHByb2ZpbGUgcGFnZSAqL1xuICByZWFkb25seSBjaXR5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBjb3VudHJ5Q29kZSwgc2hvd24gb24gdXNlcidzIHB1YmxpYyBwcm9maWxlIHBhZ2UgKi9cbiAgcmVhZG9ubHkgY291bnRyeUNvZGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSBzdXBwb3J0ZWQgbG9jYWxlIGZvciB0aGlzIHVzZXIuICovXG4gIHJlYWRvbmx5IGxvY2FsZTogc3RyaW5nO1xuICAvKiogT3B0aW9uYWwgQ2FudmEgbG9naW4gZGV0YWlscy4gKi9cbiAgcmVhZG9ubHkgY3JlZGVudGlhbHM6IExvZ2luRGV0YWlscyB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIEZhY2Vib29rIGRldGFpbHMuICovXG4gIHJlYWRvbmx5IGZhY2Vib29rOiBGYWNlYm9va0RldGFpbHMgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBHb29nbGUgZGV0YWlscy4gKi9cbiAgcmVhZG9ubHkgZ29vZ2xlOiBHb29nbGVEZXRhaWxzIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgT0F1dGggYWNjb3VudHMuICovXG4gIHJlYWRvbmx5IG9hdXRoQWNjb3VudHM6IHJlYWRvbmx5IE9hdXRoQWNjb3VudFtdO1xuICAvKiogVXNlcidzIGFwaSBkZXRhaWxzLCBpZiBwcmVzZW50LiAqL1xuICByZWFkb25seSBhcGlEZXRhaWxzOiBBcGlEZXRhaWxzIHwgdW5kZWZpbmVkO1xuICAvKiogQ2FudmEgcm9sZXMgZ3JhbnRlZCB0byB0aGlzIHVzZXIuICovXG4gIHJlYWRvbmx5IHJvbGVzOiByZWFkb25seSBVc2VyUm9sZVtdO1xuICByZWFkb25seSB1c2VyQ2FwYWJpbGl0aWVzOiBVc2VyQ2FwYWJpbGl0aWVzIHwgdW5kZWZpbmVkO1xuICAvKiogVXNlcidzIHBlcnNvbmFsIGJyYW5kLCB3aGljaCBpcyBhIG1lbWJlciBvZiB7QGxpbmsgI2JyYW5kc30uICovXG4gIHJlYWRvbmx5IHBlcnNvbmFsQnJhbmQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIEFsbCB0aGUgYnJhbmRzIHRvIHdoaWNoIHRoaXMgdXNlciBiZWxvbmdzLCBhbmQgdGhlaXIgcm9sZSBpbiB0aGUgYnJhbmQuICovXG4gIHJlYWRvbmx5IGJyYW5kczogUmVhZG9ubHlNYXA8c3RyaW5nLCBCcmFuZFVzZXJSb2xlPjtcbiAgLyoqXG4gICAqIFVJIGluZm9ybWF0aW9uIGZvciB0aGlzIHVzZXIuIEpTT04gZW5jb2RlZCBhcyBhIHN0cmluZyBmb3IgLnByb3RvLlxuICAgKiBEZXByZWNhdGVkLCB1c2UgdXNlciBhdHR0cmlidXRlcyBvciBzcGVhayB0byBwcm9maWxlIHRlYW0uXG4gICAqL1xuICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgcmVhZG9ubHkgdWlJbmZvSnNvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgYXZhdGFyLiAqL1xuICByZWFkb25seSBhdmF0YXI6IEF2YXRhckJ1bmRsZSB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIGlkZW50aWZpZXIgbWFya2luZyBzaWdudXBzIGZsb3dpbmcgZnJvbSwgZWcsIHRoZSBkZXNpZ24gc2Nob29sIG9yIHRocm91Z2ggYW4gYWQuICovXG4gIHJlYWRvbmx5IHNpZ251cFJlZmVycmVyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBOb3RpZmljYXRpb24gc2V0dGluZ3MgZm9yIHRoZSB1c2VyLiAqL1xuICByZWFkb25seSB1c2VyTm90aWZpY2F0aW9uU2V0dGluZ3M6IFVzZXJOb3RpZmljYXRpb25TZXR0aW5ncyB8IHVuZGVmaW5lZDtcbiAgLyoqIFVzZXIgcHJvZmVzc2lvbiBzZWxlY3RlZCBkdXJpbmcgc2lnbnVwICovXG4gIHJlYWRvbmx5IHByb2Zlc3Npb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFVzZXIgcHJvZmVzc2lvbmFsIHJvbGUgc2VsZWN0ZWQgZHVyaW5nIG9uYm9hcmRpbmcgd2l6YXJkICovXG4gIHJlYWRvbmx5IHByb2Zlc3Npb25hbFJvbGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIEhhcyB0aGUgdXNlciBhY2tub3dsZWRnZWQgdGhlIEdEUFIgY29tcGxpYW50IHByaXZhY3kgcG9saWN5ICovXG4gIHJlYWRvbmx5IHByaXZhY3lQb2xpY3lOb3RpZmllZDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKiogVXNlciBqb3VybmV5IHNlbGVjdGVkIGR1cmluZyBzaWdudXAgKi9cbiAgcmVhZG9ubHkgam91cm5leTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKipcbiAgICogVXNlciBzZWxlY3Rpb24gb2YgRTEgdnMgRTIgaG9tZXBhZ2VcbiAgICogSDIgaXMgZnVsbHkgcm9sbGVkIG91dCwgdGhpcyBmbGFnIHNob3VsZCBiZSB1bnVzZWQgbm93LlxuICAgKi9cbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIHJlYWRvbmx5IHByZWZlcnJlZEhvbWVwYWdlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBmbGFnIHRvIGluZGljYXRlIHdoZXRoZXIgYSB1c2VyIGlzICd2ZXJpZmllZCcuIEEgdXNlciBpcyB2ZXJpZmllZCB3aGVuIG9uZSBvZiB0aGVcbiAgICogZm9sbG93aW5nIGlzIHRydWU6XG4gICAqIC0gdGhlIGVtYWlsIGhhcyBiZWVuIHZlcmlmaWVkXG4gICAqIC0gdGhlIHBob25lIG51bWJlciBoYXMgYmVlbiB2ZXJpZmllZFxuICAgKiAtIHRoZSB1c2VyIGxvZ2dlZCBpbiB2aWEgb2F1dGhcbiAgICogXG4gICAqIFRoaXMgZmxhZyB3aWxsIGJlIDxjb2RlPm51bGw8L2NvZGU+IHVubGVzcyBVc2VyRGV0YWlsc0NvbXBvbmVudC5PQVVUSF9BQ0NPVU5UUyBoYXMgYmVlblxuICAgKiBzcGVjaWZpZWQgaW4gdGhlIEdldFVzZXJEZXRhaWxzUmVxdWVzdC5cbiAgICovXG4gIHJlYWRvbmx5IHZlcmlmaWVkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogVXNlciBpZCAqL1xuICAgIGlkOiBzdHJpbmcsXG4gICAgLyoqIERhdGUgdGhpcyB1c2VyIHdhcyBjcmVhdGVkLiAqL1xuICAgIGNyZWF0aW9uRGF0ZTogbnVtYmVyLFxuICAgIC8qKiBUcnVlIGlmIHRoaXMgaXMgYSBkZWFjdGl2YXRlZCB1c2VyLiAqL1xuICAgIGRlYWN0aXZhdGVkPzogYm9vbGVhbixcbiAgICAvKiogVHJ1ZSBpZiB0aGlzIGlzIGEgdGVtcG9yYXJ5IHVzZXIuICovXG4gICAgdGVtcG9yYXJ5PzogYm9vbGVhbixcbiAgICAvKiogVXNlcidzIGRpc3BsYXkgbmFtZSwgdXNlZCB0byByZXByZXNlbnQgdGhpcyB1c2VyIHdpdGggdGV4dCBpbiBhIFVJLiAqL1xuICAgIGRpc3BsYXlOYW1lPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCB1c2VyIGZpcnN0IG5hbWUuICovXG4gICAgZmlyc3ROYW1lPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCB1c2VyIGxhc3QgbmFtZS4gKi9cbiAgICBsYXN0TmFtZT86IHN0cmluZyxcbiAgICAvKiogVXNlcidzIGVtYWlsIGFkZHJlc3MuICovXG4gICAgZW1haWw/OiBzdHJpbmcsXG4gICAgLyoqIFVzZXIncyBlbWFpbCBzdGF0dXMuIE5vbi1udWxsIGlmIGVtYWlsIGlzIG5vbi1udWxsLiAqL1xuICAgIGVtYWlsU3RhdHVzPzogRW1haWxTdGF0dXMsXG4gICAgLyoqIE9wdGlvbmFsIHVzZXIncyBwaG9uZSBudW1iZXIuICovXG4gICAgcGhvbmVOdW1iZXI/OiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIHVzZXJuYW1lIG9uIENhbnZhLCB1c2VkIGluIFVSTCBwYXRocy4gKi9cbiAgICB1c2VybmFtZT86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgaG9tZXBhZ2UsIHNob3duIG9uIHVzZXIncyBwdWJsaWMgcHJvZmlsZSBwYWdlICovXG4gICAgaG9tZXBhZ2U/OiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIGNpdHksIHNob3duIG9uIHVzZXIncyBwdWJsaWMgcHJvZmlsZSBwYWdlICovXG4gICAgY2l0eT86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgY291bnRyeUNvZGUsIHNob3duIG9uIHVzZXIncyBwdWJsaWMgcHJvZmlsZSBwYWdlICovXG4gICAgY291bnRyeUNvZGU/OiBzdHJpbmcsXG4gICAgLyoqIFRoZSBzdXBwb3J0ZWQgbG9jYWxlIGZvciB0aGlzIHVzZXIuICovXG4gICAgbG9jYWxlOiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIENhbnZhIGxvZ2luIGRldGFpbHMuICovXG4gICAgY3JlZGVudGlhbHM/OiBMb2dpbkRldGFpbHMsXG4gICAgLyoqIE9wdGlvbmFsIEZhY2Vib29rIGRldGFpbHMuICovXG4gICAgZmFjZWJvb2s/OiBGYWNlYm9va0RldGFpbHMsXG4gICAgLyoqIE9wdGlvbmFsIEdvb2dsZSBkZXRhaWxzLiAqL1xuICAgIGdvb2dsZT86IEdvb2dsZURldGFpbHMsXG4gICAgLyoqIE9wdGlvbmFsIE9BdXRoIGFjY291bnRzLiAqL1xuICAgIG9hdXRoQWNjb3VudHM/OiByZWFkb25seSBPYXV0aEFjY291bnRbXSxcbiAgICAvKiogVXNlcidzIGFwaSBkZXRhaWxzLCBpZiBwcmVzZW50LiAqL1xuICAgIGFwaURldGFpbHM/OiBBcGlEZXRhaWxzLFxuICAgIC8qKiBDYW52YSByb2xlcyBncmFudGVkIHRvIHRoaXMgdXNlci4gKi9cbiAgICByb2xlcz86IHJlYWRvbmx5IFVzZXJSb2xlW10sXG4gICAgdXNlckNhcGFiaWxpdGllcz86IFVzZXJDYXBhYmlsaXRpZXMsXG4gICAgLyoqIFVzZXIncyBwZXJzb25hbCBicmFuZCwgd2hpY2ggaXMgYSBtZW1iZXIgb2Yge0BsaW5rICNicmFuZHN9LiAqL1xuICAgIHBlcnNvbmFsQnJhbmQ/OiBzdHJpbmcsXG4gICAgLyoqIEFsbCB0aGUgYnJhbmRzIHRvIHdoaWNoIHRoaXMgdXNlciBiZWxvbmdzLCBhbmQgdGhlaXIgcm9sZSBpbiB0aGUgYnJhbmQuICovXG4gICAgYnJhbmRzPzogUmVhZG9ubHlNYXA8c3RyaW5nLCBCcmFuZFVzZXJSb2xlPixcbiAgICAvKipcbiAgICAgKiBVSSBpbmZvcm1hdGlvbiBmb3IgdGhpcyB1c2VyLiBKU09OIGVuY29kZWQgYXMgYSBzdHJpbmcgZm9yIC5wcm90by5cbiAgICAgKiBEZXByZWNhdGVkLCB1c2UgdXNlciBhdHR0cmlidXRlcyBvciBzcGVhayB0byBwcm9maWxlIHRlYW0uXG4gICAgICovXG4gICAgdWlJbmZvSnNvbj86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgYXZhdGFyLiAqL1xuICAgIGF2YXRhcj86IEF2YXRhckJ1bmRsZSxcbiAgICAvKiogT3B0aW9uYWwgaWRlbnRpZmllciBtYXJraW5nIHNpZ251cHMgZmxvd2luZyBmcm9tLCBlZywgdGhlIGRlc2lnbiBzY2hvb2wgb3IgdGhyb3VnaCBhbiBhZC4gKi9cbiAgICBzaWdudXBSZWZlcnJlcj86IHN0cmluZyxcbiAgICAvKiogTm90aWZpY2F0aW9uIHNldHRpbmdzIGZvciB0aGUgdXNlci4gKi9cbiAgICB1c2VyTm90aWZpY2F0aW9uU2V0dGluZ3M/OiBVc2VyTm90aWZpY2F0aW9uU2V0dGluZ3MsXG4gICAgLyoqIFVzZXIgcHJvZmVzc2lvbiBzZWxlY3RlZCBkdXJpbmcgc2lnbnVwICovXG4gICAgcHJvZmVzc2lvbj86IHN0cmluZyxcbiAgICAvKiogVXNlciBwcm9mZXNzaW9uYWwgcm9sZSBzZWxlY3RlZCBkdXJpbmcgb25ib2FyZGluZyB3aXphcmQgKi9cbiAgICBwcm9mZXNzaW9uYWxSb2xlPzogc3RyaW5nLFxuICAgIC8qKiBIYXMgdGhlIHVzZXIgYWNrbm93bGVkZ2VkIHRoZSBHRFBSIGNvbXBsaWFudCBwcml2YWN5IHBvbGljeSAqL1xuICAgIHByaXZhY3lQb2xpY3lOb3RpZmllZD86IG51bWJlcixcbiAgICAvKiogVXNlciBqb3VybmV5IHNlbGVjdGVkIGR1cmluZyBzaWdudXAgKi9cbiAgICBqb3VybmV5Pzogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFVzZXIgc2VsZWN0aW9uIG9mIEUxIHZzIEUyIGhvbWVwYWdlXG4gICAgICogSDIgaXMgZnVsbHkgcm9sbGVkIG91dCwgdGhpcyBmbGFnIHNob3VsZCBiZSB1bnVzZWQgbm93LlxuICAgICAqL1xuICAgIHByZWZlcnJlZEhvbWVwYWdlPzogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBhIHVzZXIgaXMgJ3ZlcmlmaWVkJy4gQSB1c2VyIGlzIHZlcmlmaWVkIHdoZW4gb25lIG9mIHRoZVxuICAgICAqIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAqIC0gdGhlIGVtYWlsIGhhcyBiZWVuIHZlcmlmaWVkXG4gICAgICogLSB0aGUgcGhvbmUgbnVtYmVyIGhhcyBiZWVuIHZlcmlmaWVkXG4gICAgICogLSB0aGUgdXNlciBsb2dnZWQgaW4gdmlhIG9hdXRoXG4gICAgICogXG4gICAgICogVGhpcyBmbGFnIHdpbGwgYmUgPGNvZGU+bnVsbDwvY29kZT4gdW5sZXNzIFVzZXJEZXRhaWxzQ29tcG9uZW50Lk9BVVRIX0FDQ09VTlRTIGhhcyBiZWVuXG4gICAgICogc3BlY2lmaWVkIGluIHRoZSBHZXRVc2VyRGV0YWlsc1JlcXVlc3QuXG4gICAgICovXG4gICAgdmVyaWZpZWQ/OiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqIFVzZXIgaWQgKi9cbiAgICB0aGlzLmlkID0gb3B0cy5pZDtcbiAgICAvKiogRGF0ZSB0aGlzIHVzZXIgd2FzIGNyZWF0ZWQuICovXG4gICAgdGhpcy5jcmVhdGlvbkRhdGUgPSBvcHRzLmNyZWF0aW9uRGF0ZTtcbiAgICAvKiogVHJ1ZSBpZiB0aGlzIGlzIGEgZGVhY3RpdmF0ZWQgdXNlci4gKi9cbiAgICB0aGlzLmRlYWN0aXZhdGVkID0gb3B0cy5kZWFjdGl2YXRlZCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5kZWFjdGl2YXRlZFxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqIFRydWUgaWYgdGhpcyBpcyBhIHRlbXBvcmFyeSB1c2VyLiAqL1xuICAgIHRoaXMudGVtcG9yYXJ5ID0gb3B0cy50ZW1wb3JhcnkgIT0gbnVsbFxuICAgICAgICA/IG9wdHMudGVtcG9yYXJ5XG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKiogVXNlcidzIGRpc3BsYXkgbmFtZSwgdXNlZCB0byByZXByZXNlbnQgdGhpcyB1c2VyIHdpdGggdGV4dCBpbiBhIFVJLiAqL1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHRzLmRpc3BsYXlOYW1lO1xuICAgIC8qKiBPcHRpb25hbCB1c2VyIGZpcnN0IG5hbWUuICovXG4gICAgdGhpcy5maXJzdE5hbWUgPSBvcHRzLmZpcnN0TmFtZTtcbiAgICAvKiogT3B0aW9uYWwgdXNlciBsYXN0IG5hbWUuICovXG4gICAgdGhpcy5sYXN0TmFtZSA9IG9wdHMubGFzdE5hbWU7XG4gICAgLyoqIFVzZXIncyBlbWFpbCBhZGRyZXNzLiAqL1xuICAgIHRoaXMuZW1haWwgPSBvcHRzLmVtYWlsO1xuICAgIC8qKiBVc2VyJ3MgZW1haWwgc3RhdHVzLiBOb24tbnVsbCBpZiBlbWFpbCBpcyBub24tbnVsbC4gKi9cbiAgICB0aGlzLmVtYWlsU3RhdHVzID0gb3B0cy5lbWFpbFN0YXR1cztcbiAgICAvKiogT3B0aW9uYWwgdXNlcidzIHBob25lIG51bWJlci4gKi9cbiAgICB0aGlzLnBob25lTnVtYmVyID0gb3B0cy5waG9uZU51bWJlcjtcbiAgICAvKiogT3B0aW9uYWwgdXNlcm5hbWUgb24gQ2FudmEsIHVzZWQgaW4gVVJMIHBhdGhzLiAqL1xuICAgIHRoaXMudXNlcm5hbWUgPSBvcHRzLnVzZXJuYW1lO1xuICAgIC8qKiBPcHRpb25hbCBob21lcGFnZSwgc2hvd24gb24gdXNlcidzIHB1YmxpYyBwcm9maWxlIHBhZ2UgKi9cbiAgICB0aGlzLmhvbWVwYWdlID0gb3B0cy5ob21lcGFnZTtcbiAgICAvKiogT3B0aW9uYWwgY2l0eSwgc2hvd24gb24gdXNlcidzIHB1YmxpYyBwcm9maWxlIHBhZ2UgKi9cbiAgICB0aGlzLmNpdHkgPSBvcHRzLmNpdHk7XG4gICAgLyoqIE9wdGlvbmFsIGNvdW50cnlDb2RlLCBzaG93biBvbiB1c2VyJ3MgcHVibGljIHByb2ZpbGUgcGFnZSAqL1xuICAgIHRoaXMuY291bnRyeUNvZGUgPSBvcHRzLmNvdW50cnlDb2RlO1xuICAgIC8qKiBUaGUgc3VwcG9ydGVkIGxvY2FsZSBmb3IgdGhpcyB1c2VyLiAqL1xuICAgIHRoaXMubG9jYWxlID0gb3B0cy5sb2NhbGU7XG4gICAgLyoqIE9wdGlvbmFsIENhbnZhIGxvZ2luIGRldGFpbHMuICovXG4gICAgdGhpcy5jcmVkZW50aWFscyA9IG9wdHMuY3JlZGVudGlhbHM7XG4gICAgLyoqIE9wdGlvbmFsIEZhY2Vib29rIGRldGFpbHMuICovXG4gICAgdGhpcy5mYWNlYm9vayA9IG9wdHMuZmFjZWJvb2s7XG4gICAgLyoqIE9wdGlvbmFsIEdvb2dsZSBkZXRhaWxzLiAqL1xuICAgIHRoaXMuZ29vZ2xlID0gb3B0cy5nb29nbGU7XG4gICAgLyoqIE9wdGlvbmFsIE9BdXRoIGFjY291bnRzLiAqL1xuICAgIHRoaXMub2F1dGhBY2NvdW50cyA9IG9wdHMub2F1dGhBY2NvdW50cyB8fCBbXTtcbiAgICAvKiogVXNlcidzIGFwaSBkZXRhaWxzLCBpZiBwcmVzZW50LiAqL1xuICAgIHRoaXMuYXBpRGV0YWlscyA9IG9wdHMuYXBpRGV0YWlscztcbiAgICAvKiogQ2FudmEgcm9sZXMgZ3JhbnRlZCB0byB0aGlzIHVzZXIuICovXG4gICAgdGhpcy5yb2xlcyA9IG9wdHMucm9sZXMgfHwgW107XG4gICAgdGhpcy51c2VyQ2FwYWJpbGl0aWVzID0gb3B0cy51c2VyQ2FwYWJpbGl0aWVzO1xuICAgIC8qKiBVc2VyJ3MgcGVyc29uYWwgYnJhbmQsIHdoaWNoIGlzIGEgbWVtYmVyIG9mIHtAbGluayAjYnJhbmRzfS4gKi9cbiAgICB0aGlzLnBlcnNvbmFsQnJhbmQgPSBvcHRzLnBlcnNvbmFsQnJhbmQ7XG4gICAgLyoqIEFsbCB0aGUgYnJhbmRzIHRvIHdoaWNoIHRoaXMgdXNlciBiZWxvbmdzLCBhbmQgdGhlaXIgcm9sZSBpbiB0aGUgYnJhbmQuICovXG4gICAgdGhpcy5icmFuZHMgPSBvcHRzLmJyYW5kcyB8fCBuZXcgTWFwKCk7XG4gICAgLyoqXG4gICAgICogVUkgaW5mb3JtYXRpb24gZm9yIHRoaXMgdXNlci4gSlNPTiBlbmNvZGVkIGFzIGEgc3RyaW5nIGZvciAucHJvdG8uXG4gICAgICogRGVwcmVjYXRlZCwgdXNlIHVzZXIgYXR0dHJpYnV0ZXMgb3Igc3BlYWsgdG8gcHJvZmlsZSB0ZWFtLlxuICAgICAqL1xuICAgIHRoaXMudWlJbmZvSnNvbiA9IG9wdHMudWlJbmZvSnNvbjtcbiAgICAvKiogT3B0aW9uYWwgYXZhdGFyLiAqL1xuICAgIHRoaXMuYXZhdGFyID0gb3B0cy5hdmF0YXI7XG4gICAgLyoqIE9wdGlvbmFsIGlkZW50aWZpZXIgbWFya2luZyBzaWdudXBzIGZsb3dpbmcgZnJvbSwgZWcsIHRoZSBkZXNpZ24gc2Nob29sIG9yIHRocm91Z2ggYW4gYWQuICovXG4gICAgdGhpcy5zaWdudXBSZWZlcnJlciA9IG9wdHMuc2lnbnVwUmVmZXJyZXI7XG4gICAgLyoqIE5vdGlmaWNhdGlvbiBzZXR0aW5ncyBmb3IgdGhlIHVzZXIuICovXG4gICAgdGhpcy51c2VyTm90aWZpY2F0aW9uU2V0dGluZ3MgPSBvcHRzLnVzZXJOb3RpZmljYXRpb25TZXR0aW5ncztcbiAgICAvKiogVXNlciBwcm9mZXNzaW9uIHNlbGVjdGVkIGR1cmluZyBzaWdudXAgKi9cbiAgICB0aGlzLnByb2Zlc3Npb24gPSBvcHRzLnByb2Zlc3Npb247XG4gICAgLyoqIFVzZXIgcHJvZmVzc2lvbmFsIHJvbGUgc2VsZWN0ZWQgZHVyaW5nIG9uYm9hcmRpbmcgd2l6YXJkICovXG4gICAgdGhpcy5wcm9mZXNzaW9uYWxSb2xlID0gb3B0cy5wcm9mZXNzaW9uYWxSb2xlO1xuICAgIC8qKiBIYXMgdGhlIHVzZXIgYWNrbm93bGVkZ2VkIHRoZSBHRFBSIGNvbXBsaWFudCBwcml2YWN5IHBvbGljeSAqL1xuICAgIHRoaXMucHJpdmFjeVBvbGljeU5vdGlmaWVkID0gb3B0cy5wcml2YWN5UG9saWN5Tm90aWZpZWQ7XG4gICAgLyoqIFVzZXIgam91cm5leSBzZWxlY3RlZCBkdXJpbmcgc2lnbnVwICovXG4gICAgdGhpcy5qb3VybmV5ID0gb3B0cy5qb3VybmV5O1xuICAgIC8qKlxuICAgICAqIFVzZXIgc2VsZWN0aW9uIG9mIEUxIHZzIEUyIGhvbWVwYWdlXG4gICAgICogSDIgaXMgZnVsbHkgcm9sbGVkIG91dCwgdGhpcyBmbGFnIHNob3VsZCBiZSB1bnVzZWQgbm93LlxuICAgICAqL1xuICAgIHRoaXMucHJlZmVycmVkSG9tZXBhZ2UgPSBvcHRzLnByZWZlcnJlZEhvbWVwYWdlO1xuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGZsYWcgdG8gaW5kaWNhdGUgd2hldGhlciBhIHVzZXIgaXMgJ3ZlcmlmaWVkJy4gQSB1c2VyIGlzIHZlcmlmaWVkIHdoZW4gb25lIG9mIHRoZVxuICAgICAqIGZvbGxvd2luZyBpcyB0cnVlOlxuICAgICAqIC0gdGhlIGVtYWlsIGhhcyBiZWVuIHZlcmlmaWVkXG4gICAgICogLSB0aGUgcGhvbmUgbnVtYmVyIGhhcyBiZWVuIHZlcmlmaWVkXG4gICAgICogLSB0aGUgdXNlciBsb2dnZWQgaW4gdmlhIG9hdXRoXG4gICAgICogXG4gICAgICogVGhpcyBmbGFnIHdpbGwgYmUgPGNvZGU+bnVsbDwvY29kZT4gdW5sZXNzIFVzZXJEZXRhaWxzQ29tcG9uZW50Lk9BVVRIX0FDQ09VTlRTIGhhcyBiZWVuXG4gICAgICogc3BlY2lmaWVkIGluIHRoZSBHZXRVc2VyRGV0YWlsc1JlcXVlc3QuXG4gICAgICovXG4gICAgdGhpcy52ZXJpZmllZCA9IG9wdHMudmVyaWZpZWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVzZXJEZXRhaWxzKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2lkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBtLmlkKSxcbiAgICAgICdjcmVhdGlvbkRhdGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdjcmVhdGlvbkRhdGUnLCBtLmNyZWF0aW9uRGF0ZSksXG4gICAgICAnZGVhY3RpdmF0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignZGVhY3RpdmF0ZWQnLCBtLmRlYWN0aXZhdGVkKSxcbiAgICAgICd0ZW1wb3JhcnknOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndGVtcG9yYXJ5JywgbS50ZW1wb3JhcnkpLFxuICAgICAgJ2Rpc3BsYXlOYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGlzcGxheU5hbWUnLCBtLmRpc3BsYXlOYW1lKSxcbiAgICAgICdmaXJzdE5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdmaXJzdE5hbWUnLCBtLmZpcnN0TmFtZSksXG4gICAgICAnbGFzdE5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsYXN0TmFtZScsIG0ubGFzdE5hbWUpLFxuICAgICAgJ2VtYWlsJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZW1haWwnLCBtLmVtYWlsKSxcbiAgICAgICdlbWFpbFN0YXR1cyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKEVtYWlsU3RhdHVzVXRpbC5zZXJpYWxpemUsICdlbWFpbFN0YXR1cycsIG0uZW1haWxTdGF0dXMpLFxuICAgICAgJ3Bob25lTnVtYmVyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncGhvbmVOdW1iZXInLCBtLnBob25lTnVtYmVyKSxcbiAgICAgICd1c2VybmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXJuYW1lJywgbS51c2VybmFtZSksXG4gICAgICAnaG9tZXBhZ2UnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdob21lcGFnZScsIG0uaG9tZXBhZ2UpLFxuICAgICAgJ2NpdHknOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjaXR5JywgbS5jaXR5KSxcbiAgICAgICdjb3VudHJ5Q29kZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvdW50cnlDb2RlJywgbS5jb3VudHJ5Q29kZSksXG4gICAgICAnbG9jYWxlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnbG9jYWxlJywgbS5sb2NhbGUpLFxuICAgICAgJ2NyZWRlbnRpYWxzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChMb2dpbkRldGFpbHMuc2VyaWFsaXplLCAnY3JlZGVudGlhbHMnLCBtLmNyZWRlbnRpYWxzKSxcbiAgICAgICdmYWNlYm9vayc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoRmFjZWJvb2tEZXRhaWxzLnNlcmlhbGl6ZSwgJ2ZhY2Vib29rJywgbS5mYWNlYm9vayksXG4gICAgICAnZ29vZ2xlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChHb29nbGVEZXRhaWxzLnNlcmlhbGl6ZSwgJ2dvb2dsZScsIG0uZ29vZ2xlKSxcbiAgICAgICdvYXV0aEFjY291bnRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChPYXV0aEFjY291bnQuc2VyaWFsaXplLCAnb2F1dGhBY2NvdW50cycsIG0ub2F1dGhBY2NvdW50cyksXG4gICAgICAnYXBpRGV0YWlscyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQXBpRGV0YWlscy5zZXJpYWxpemUsICdhcGlEZXRhaWxzJywgbS5hcGlEZXRhaWxzKSxcbiAgICAgICdyb2xlcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKFVzZXJSb2xlVXRpbC5zZXJpYWxpemUsICdyb2xlcycsIG0ucm9sZXMpLFxuICAgICAgJ3VzZXJDYXBhYmlsaXRpZXMnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVzZXJDYXBhYmlsaXRpZXMuc2VyaWFsaXplLCAndXNlckNhcGFiaWxpdGllcycsIG0udXNlckNhcGFiaWxpdGllcyksXG4gICAgICAncGVyc29uYWxCcmFuZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3BlcnNvbmFsQnJhbmQnLCBtLnBlcnNvbmFsQnJhbmQpLFxuICAgICAgJ2JyYW5kcyc6IFNlcmlhbGl6YXRpb24uc3RyaW5nRW51bU1hcChCcmFuZFVzZXJSb2xlVXRpbC5zZXJpYWxpemUsICdicmFuZHMnLCBtLmJyYW5kcyksXG4gICAgICAndWlJbmZvSnNvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VpSW5mb0pzb24nLCBtLnVpSW5mb0pzb24pLFxuICAgICAgJ2F2YXRhcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQXZhdGFyQnVuZGxlLnNlcmlhbGl6ZSwgJ2F2YXRhcicsIG0uYXZhdGFyKSxcbiAgICAgICdzaWdudXBSZWZlcnJlcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3NpZ251cFJlZmVycmVyJywgbS5zaWdudXBSZWZlcnJlciksXG4gICAgICAndXNlck5vdGlmaWNhdGlvblNldHRpbmdzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChVc2VyTm90aWZpY2F0aW9uU2V0dGluZ3Muc2VyaWFsaXplLCAndXNlck5vdGlmaWNhdGlvblNldHRpbmdzJywgbS51c2VyTm90aWZpY2F0aW9uU2V0dGluZ3MpLFxuICAgICAgJ3Byb2Zlc3Npb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdwcm9mZXNzaW9uJywgbS5wcm9mZXNzaW9uKSxcbiAgICAgICdwcm9mZXNzaW9uYWxSb2xlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncHJvZmVzc2lvbmFsUm9sZScsIG0ucHJvZmVzc2lvbmFsUm9sZSksXG4gICAgICAncHJpdmFjeVBvbGljeU5vdGlmaWVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigncHJpdmFjeVBvbGljeU5vdGlmaWVkJywgbS5wcml2YWN5UG9saWN5Tm90aWZpZWQpLFxuICAgICAgJ2pvdXJuZXknOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdqb3VybmV5JywgbS5qb3VybmV5KSxcbiAgICAgICdwcmVmZXJyZWRIb21lcGFnZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3ByZWZlcnJlZEhvbWVwYWdlJywgbS5wcmVmZXJyZWRIb21lcGFnZSksXG4gICAgICAndmVyaWZpZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigndmVyaWZpZWQnLCBtLnZlcmlmaWVkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVzZXJEZXRhaWxzIHtcbiAgICByZXR1cm4gbmV3IFVzZXJEZXRhaWxzKHtcbiAgICAgIGlkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbyksXG4gICAgICBjcmVhdGlvbkRhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignY3JlYXRpb25EYXRlJywgbyksXG4gICAgICBkZWFjdGl2YXRlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignZGVhY3RpdmF0ZWQnLCBvKSxcbiAgICAgIHRlbXBvcmFyeTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndGVtcG9yYXJ5JywgbyksXG4gICAgICBkaXNwbGF5TmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkaXNwbGF5TmFtZScsIG8pLFxuICAgICAgZmlyc3ROYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ZpcnN0TmFtZScsIG8pLFxuICAgICAgbGFzdE5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbGFzdE5hbWUnLCBvKSxcbiAgICAgIGVtYWlsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2VtYWlsJywgbyksXG4gICAgICBlbWFpbFN0YXR1czogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bTxFbWFpbFN0YXR1cz4oRW1haWxTdGF0dXNVdGlsLmRlc2VyaWFsaXplLCAnZW1haWxTdGF0dXMnLCBvKSxcbiAgICAgIHBob25lTnVtYmVyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3Bob25lTnVtYmVyJywgbyksXG4gICAgICB1c2VybmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VybmFtZScsIG8pLFxuICAgICAgaG9tZXBhZ2U6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaG9tZXBhZ2UnLCBvKSxcbiAgICAgIGNpdHk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY2l0eScsIG8pLFxuICAgICAgY291bnRyeUNvZGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY291bnRyeUNvZGUnLCBvKSxcbiAgICAgIGxvY2FsZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdsb2NhbGUnLCBvKSxcbiAgICAgIGNyZWRlbnRpYWxzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoTG9naW5EZXRhaWxzLmRlc2VyaWFsaXplLCAnY3JlZGVudGlhbHMnLCBvKSxcbiAgICAgIGZhY2Vib29rOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoRmFjZWJvb2tEZXRhaWxzLmRlc2VyaWFsaXplLCAnZmFjZWJvb2snLCBvKSxcbiAgICAgIGdvb2dsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEdvb2dsZURldGFpbHMuZGVzZXJpYWxpemUsICdnb29nbGUnLCBvKSxcbiAgICAgIG9hdXRoQWNjb3VudHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChPYXV0aEFjY291bnQuZGVzZXJpYWxpemUsICdvYXV0aEFjY291bnRzJywgbyksXG4gICAgICBhcGlEZXRhaWxzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQXBpRGV0YWlscy5kZXNlcmlhbGl6ZSwgJ2FwaURldGFpbHMnLCBvKSxcbiAgICAgIHJvbGVzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtPFVzZXJSb2xlPihVc2VyUm9sZVV0aWwuZGVzZXJpYWxpemUsICdyb2xlcycsIG8pLFxuICAgICAgdXNlckNhcGFiaWxpdGllczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVzZXJDYXBhYmlsaXRpZXMuZGVzZXJpYWxpemUsICd1c2VyQ2FwYWJpbGl0aWVzJywgbyksXG4gICAgICBwZXJzb25hbEJyYW5kOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3BlcnNvbmFsQnJhbmQnLCBvKSxcbiAgICAgIGJyYW5kczogRGVzZXJpYWxpemF0aW9uLnN0cmluZ0VudW1NYXAoQnJhbmRVc2VyUm9sZVV0aWwuZGVzZXJpYWxpemUsICdicmFuZHMnLCBvKSxcbiAgICAgIHVpSW5mb0pzb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndWlJbmZvSnNvbicsIG8pLFxuICAgICAgYXZhdGFyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQXZhdGFyQnVuZGxlLmRlc2VyaWFsaXplLCAnYXZhdGFyJywgbyksXG4gICAgICBzaWdudXBSZWZlcnJlcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdzaWdudXBSZWZlcnJlcicsIG8pLFxuICAgICAgdXNlck5vdGlmaWNhdGlvblNldHRpbmdzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoVXNlck5vdGlmaWNhdGlvblNldHRpbmdzLmRlc2VyaWFsaXplLCAndXNlck5vdGlmaWNhdGlvblNldHRpbmdzJywgbyksXG4gICAgICBwcm9mZXNzaW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3Byb2Zlc3Npb24nLCBvKSxcbiAgICAgIHByb2Zlc3Npb25hbFJvbGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncHJvZmVzc2lvbmFsUm9sZScsIG8pLFxuICAgICAgcHJpdmFjeVBvbGljeU5vdGlmaWVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3ByaXZhY3lQb2xpY3lOb3RpZmllZCcsIG8pLFxuICAgICAgam91cm5leTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdqb3VybmV5JywgbyksXG4gICAgICBwcmVmZXJyZWRIb21lcGFnZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdwcmVmZXJyZWRIb21lcGFnZScsIG8pLFxuICAgICAgdmVyaWZpZWQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3ZlcmlmaWVkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vcm1hbGl6ZVBob25lTnVtYmVyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBJZiBhIGxvY2FsIG51bWJlciAoZS5nLiBcIjA0MDAgMTIzIDQ1NlwiKSB0aGUgY291bnRyeSBjb2RlIG11c3QgYmUgcHJvdmlkZWQsIG90aGVyd2lzZSBmb3IgYW5cbiAgICogaW50ZXJuYXRpb25hbCBudW1iZXIgKGUuZy4gXCIrNjEgNDAwIDEyMyA0NTZcIikgdGhlIGNvdW50cnkgY29kZSBpcyBvcHRpb25hbCBhbmQgaWYgb25lIGlzXG4gICAqIHByb3ZpZGVkIGl0IGlzIGlnbm9yZWQsIGFzIGl0IGlzIGluZmVycmVkIGZyb20gdGhlIGRpYWxsaW5nIGNvZGUgcHJvdmlkZWQgaW4gdGhlIHBob25lIG51bWJlci5cbiAgICovXG4gIHJlYWRvbmx5IHBob25lTnVtYmVyOiBzdHJpbmc7XG4gIC8qKiBUaGUgY291bnRyeSBjb2RlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcGhvbmUgbnVtYmVyIChlLmcuIFwiQVVcIikuICovXG4gIHJlYWRvbmx5IGNvdW50cnlDb2RlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKlxuICAgICAqIElmIGEgbG9jYWwgbnVtYmVyIChlLmcuIFwiMDQwMCAxMjMgNDU2XCIpIHRoZSBjb3VudHJ5IGNvZGUgbXVzdCBiZSBwcm92aWRlZCwgb3RoZXJ3aXNlIGZvciBhblxuICAgICAqIGludGVybmF0aW9uYWwgbnVtYmVyIChlLmcuIFwiKzYxIDQwMCAxMjMgNDU2XCIpIHRoZSBjb3VudHJ5IGNvZGUgaXMgb3B0aW9uYWwgYW5kIGlmIG9uZSBpc1xuICAgICAqIHByb3ZpZGVkIGl0IGlzIGlnbm9yZWQsIGFzIGl0IGlzIGluZmVycmVkIGZyb20gdGhlIGRpYWxsaW5nIGNvZGUgcHJvdmlkZWQgaW4gdGhlIHBob25lIG51bWJlci5cbiAgICAgKi9cbiAgICBwaG9uZU51bWJlcjogc3RyaW5nLFxuICAgIC8qKiBUaGUgY291bnRyeSBjb2RlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcGhvbmUgbnVtYmVyIChlLmcuIFwiQVVcIikuICovXG4gICAgY291bnRyeUNvZGU/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKipcbiAgICAgKiBJZiBhIGxvY2FsIG51bWJlciAoZS5nLiBcIjA0MDAgMTIzIDQ1NlwiKSB0aGUgY291bnRyeSBjb2RlIG11c3QgYmUgcHJvdmlkZWQsIG90aGVyd2lzZSBmb3IgYW5cbiAgICAgKiBpbnRlcm5hdGlvbmFsIG51bWJlciAoZS5nLiBcIis2MSA0MDAgMTIzIDQ1NlwiKSB0aGUgY291bnRyeSBjb2RlIGlzIG9wdGlvbmFsIGFuZCBpZiBvbmUgaXNcbiAgICAgKiBwcm92aWRlZCBpdCBpcyBpZ25vcmVkLCBhcyBpdCBpcyBpbmZlcnJlZCBmcm9tIHRoZSBkaWFsbGluZyBjb2RlIHByb3ZpZGVkIGluIHRoZSBwaG9uZSBudW1iZXIuXG4gICAgICovXG4gICAgdGhpcy5waG9uZU51bWJlciA9IG9wdHMucGhvbmVOdW1iZXI7XG4gICAgLyoqIFRoZSBjb3VudHJ5IGNvZGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwaG9uZSBudW1iZXIgKGUuZy4gXCJBVVwiKS4gKi9cbiAgICB0aGlzLmNvdW50cnlDb2RlID0gb3B0cy5jb3VudHJ5Q29kZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogTm9ybWFsaXplUGhvbmVOdW1iZXJSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3Bob25lTnVtYmVyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGhvbmVOdW1iZXInLCBtLnBob25lTnVtYmVyKSxcbiAgICAgICdjb3VudHJ5Q29kZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvdW50cnlDb2RlJywgbS5jb3VudHJ5Q29kZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBOb3JtYWxpemVQaG9uZU51bWJlclJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgTm9ybWFsaXplUGhvbmVOdW1iZXJSZXF1ZXN0KHtcbiAgICAgIHBob25lTnVtYmVyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bob25lTnVtYmVyJywgbyksXG4gICAgICBjb3VudHJ5Q29kZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb3VudHJ5Q29kZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBOb3JtYWxpemVQaG9uZU51bWJlclJlc3BvbnNlIHtcbiAgLyoqIEFuIGludGVybmF0aW9uYWxpemVkIHBob25lIG51bWJlciwgbm9ybWFsaXplZCBhY2NvcmRpbmcgdG8gRTE2NCBmb3JtYXQgKGUuZy4gKzYxNDAwMTIzNDU2KS4gKi9cbiAgcmVhZG9ubHkgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgLyoqIFRoZSBjb3VudHJ5IGNvZGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwaG9uZSBudW1iZXIgKGUuZy4gXCJBVVwiKS4gKi9cbiAgcmVhZG9ubHkgY291bnRyeUNvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBkaWFsaW5nIGNvZGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwaG9uZSBudW1iZXIgKGUuZy4gNjEpLiBBIGNsaWVudCBtYXkgdXNlIHRoaXMgdmFsdWUgdG9cbiAgICogc2VwYXJhdGUgdGhlIHBob25lIG51bWJlciBmcm9tIHRoZSBkaWFsaW5nIGNvZGUgYXMgbm90IGFsbCBjb2RlcyBhcmUgdGhlIHNhbWUgbGVuZ3RoIGFuZCBtYW51YWxcbiAgICogZXh0cmFjdGlvbiBvZiB0aGUgY29kZSBmcm9tIHRoZSBwaG9uZSBudW1iZXIgaXMgZXJyb3ItcHJvbmUuXG4gICAqL1xuICByZWFkb25seSBkaWFsaW5nQ29kZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogQW4gaW50ZXJuYXRpb25hbGl6ZWQgcGhvbmUgbnVtYmVyLCBub3JtYWxpemVkIGFjY29yZGluZyB0byBFMTY0IGZvcm1hdCAoZS5nLiArNjE0MDAxMjM0NTYpLiAqL1xuICAgIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gICAgLyoqIFRoZSBjb3VudHJ5IGNvZGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwaG9uZSBudW1iZXIgKGUuZy4gXCJBVVwiKS4gKi9cbiAgICBjb3VudHJ5Q29kZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRoZSBkaWFsaW5nIGNvZGUgYXNzb2NpYXRlZCB3aXRoIHRoZSBwaG9uZSBudW1iZXIgKGUuZy4gNjEpLiBBIGNsaWVudCBtYXkgdXNlIHRoaXMgdmFsdWUgdG9cbiAgICAgKiBzZXBhcmF0ZSB0aGUgcGhvbmUgbnVtYmVyIGZyb20gdGhlIGRpYWxpbmcgY29kZSBhcyBub3QgYWxsIGNvZGVzIGFyZSB0aGUgc2FtZSBsZW5ndGggYW5kIG1hbnVhbFxuICAgICAqIGV4dHJhY3Rpb24gb2YgdGhlIGNvZGUgZnJvbSB0aGUgcGhvbmUgbnVtYmVyIGlzIGVycm9yLXByb25lLlxuICAgICAqL1xuICAgIGRpYWxpbmdDb2RlOiBudW1iZXIsXG4gIH0pIHtcbiAgICAvKiogQW4gaW50ZXJuYXRpb25hbGl6ZWQgcGhvbmUgbnVtYmVyLCBub3JtYWxpemVkIGFjY29yZGluZyB0byBFMTY0IGZvcm1hdCAoZS5nLiArNjE0MDAxMjM0NTYpLiAqL1xuICAgIHRoaXMucGhvbmVOdW1iZXIgPSBvcHRzLnBob25lTnVtYmVyO1xuICAgIC8qKiBUaGUgY291bnRyeSBjb2RlIGFzc29jaWF0ZWQgd2l0aCB0aGUgcGhvbmUgbnVtYmVyIChlLmcuIFwiQVVcIikuICovXG4gICAgdGhpcy5jb3VudHJ5Q29kZSA9IG9wdHMuY291bnRyeUNvZGU7XG4gICAgLyoqXG4gICAgICogVGhlIGRpYWxpbmcgY29kZSBhc3NvY2lhdGVkIHdpdGggdGhlIHBob25lIG51bWJlciAoZS5nLiA2MSkuIEEgY2xpZW50IG1heSB1c2UgdGhpcyB2YWx1ZSB0b1xuICAgICAqIHNlcGFyYXRlIHRoZSBwaG9uZSBudW1iZXIgZnJvbSB0aGUgZGlhbGluZyBjb2RlIGFzIG5vdCBhbGwgY29kZXMgYXJlIHRoZSBzYW1lIGxlbmd0aCBhbmQgbWFudWFsXG4gICAgICogZXh0cmFjdGlvbiBvZiB0aGUgY29kZSBmcm9tIHRoZSBwaG9uZSBudW1iZXIgaXMgZXJyb3ItcHJvbmUuXG4gICAgICovXG4gICAgdGhpcy5kaWFsaW5nQ29kZSA9IG9wdHMuZGlhbGluZ0NvZGU7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IE5vcm1hbGl6ZVBob25lTnVtYmVyUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncGhvbmVOdW1iZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdwaG9uZU51bWJlcicsIG0ucGhvbmVOdW1iZXIpLFxuICAgICAgJ2NvdW50cnlDb2RlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnY291bnRyeUNvZGUnLCBtLmNvdW50cnlDb2RlKSxcbiAgICAgICdkaWFsaW5nQ29kZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2RpYWxpbmdDb2RlJywgbS5kaWFsaW5nQ29kZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBOb3JtYWxpemVQaG9uZU51bWJlclJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IE5vcm1hbGl6ZVBob25lTnVtYmVyUmVzcG9uc2Uoe1xuICAgICAgcGhvbmVOdW1iZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGhvbmVOdW1iZXInLCBvKSxcbiAgICAgIGNvdW50cnlDb2RlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2NvdW50cnlDb2RlJywgbyksXG4gICAgICBkaWFsaW5nQ29kZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdkaWFsaW5nQ29kZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGVVc2VyUmVxdWVzdCB7XG4gIHJlYWRvbmx5IGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGJyYW5kbmFtZS4gIElmIHN1cHBsaWVkLCBhdXRoZW50aWNhdGVzIHRoZSB1c2VyIHVuZGVyIHRoaXMgYnJhbmQsXG4gICAqIHJlcXVpcmluZyB0aGVtIHRvIGJlIGEgbWVtYmVyLlxuICAgKi9cbiAgcmVhZG9ubHkgYnJhbmRuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBzcGVjaWZpZWQsIHJlcXVpcmVzIHRoZSBwZXJzb25hbCBzdGF0dXMgb2YgdGhlIHNlbGVjdGVkIGJyYW5kIHRvIG1hdGNoLiAqL1xuICByZWFkb25seSBwZXJzb25hbDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIElmIHNwZWNpZmllZCwgcmVxdWlyZXMgdGhlIGNvbnRyaWJ1dG9yIHN0YXR1cyBvZiB0aGUgc2VsZWN0ZWQgYnJhbmQgdG8gbWF0Y2gsIGFuZCBpZiB0cnVlXG4gICAqIHRoYXQgdGhlIGJyYW5kIGJlIGFuIGFjdGl2ZSBjb250cmlidXRvci5cbiAgICovXG4gIHJlYWRvbmx5IGNvbnRyaWJ1dG9yOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc3BlY2lmaWVkLCByZXF1aXJlcyB0aGUgdGhpcmQtcGFydHkgc3RhdHVzIG9mIHRoZSBzZWxlY3RlZCBicmFuZCB0byBtYXRjaC4gKi9cbiAgcmVhZG9ubHkgdGhpcmRQYXJ0eTogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIElmIHNldCBhbmQgdHJ1ZSwgcmV0dXJuIGFuIEF1dGhlbnRpY2F0ZVVzZXJFcnJvclJlc3BvbnNlIGluc3RlYWQgb2YgdGhyb3dpbmdcbiAgICogYW4gZXhjZXB0aW9uIHdoZW4gYW4gZXhwZWN0ZWQgZXJyb3IgKGkuZS4sIGFuIGVycm9yIHN1cHBvcnRlZCBieSB0aGVcbiAgICogYmFja2VuZCkgb2NjdXJzLlxuICAgKi9cbiAgcmVhZG9ubHkgc3VwcG9ydEVycm9yUmVzcG9uc2U6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscyxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBicmFuZG5hbWUuICBJZiBzdXBwbGllZCwgYXV0aGVudGljYXRlcyB0aGUgdXNlciB1bmRlciB0aGlzIGJyYW5kLFxuICAgICAqIHJlcXVpcmluZyB0aGVtIHRvIGJlIGEgbWVtYmVyLlxuICAgICAqL1xuICAgIGJyYW5kbmFtZT86IHN0cmluZyxcbiAgICAvKiogSWYgc3BlY2lmaWVkLCByZXF1aXJlcyB0aGUgcGVyc29uYWwgc3RhdHVzIG9mIHRoZSBzZWxlY3RlZCBicmFuZCB0byBtYXRjaC4gKi9cbiAgICBwZXJzb25hbD86IGJvb2xlYW4sXG4gICAgLyoqXG4gICAgICogSWYgc3BlY2lmaWVkLCByZXF1aXJlcyB0aGUgY29udHJpYnV0b3Igc3RhdHVzIG9mIHRoZSBzZWxlY3RlZCBicmFuZCB0byBtYXRjaCwgYW5kIGlmIHRydWVcbiAgICAgKiB0aGF0IHRoZSBicmFuZCBiZSBhbiBhY3RpdmUgY29udHJpYnV0b3IuXG4gICAgICovXG4gICAgY29udHJpYnV0b3I/OiBib29sZWFuLFxuICAgIC8qKiBJZiBzcGVjaWZpZWQsIHJlcXVpcmVzIHRoZSB0aGlyZC1wYXJ0eSBzdGF0dXMgb2YgdGhlIHNlbGVjdGVkIGJyYW5kIHRvIG1hdGNoLiAqL1xuICAgIHRoaXJkUGFydHk/OiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIElmIHNldCBhbmQgdHJ1ZSwgcmV0dXJuIGFuIEF1dGhlbnRpY2F0ZVVzZXJFcnJvclJlc3BvbnNlIGluc3RlYWQgb2YgdGhyb3dpbmdcbiAgICAgKiBhbiBleGNlcHRpb24gd2hlbiBhbiBleHBlY3RlZCBlcnJvciAoaS5lLiwgYW4gZXJyb3Igc3VwcG9ydGVkIGJ5IHRoZVxuICAgICAqIGJhY2tlbmQpIG9jY3Vycy5cbiAgICAgKi9cbiAgICBzdXBwb3J0RXJyb3JSZXNwb25zZT86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0cy5jcmVkZW50aWFscztcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBicmFuZG5hbWUuICBJZiBzdXBwbGllZCwgYXV0aGVudGljYXRlcyB0aGUgdXNlciB1bmRlciB0aGlzIGJyYW5kLFxuICAgICAqIHJlcXVpcmluZyB0aGVtIHRvIGJlIGEgbWVtYmVyLlxuICAgICAqL1xuICAgIHRoaXMuYnJhbmRuYW1lID0gb3B0cy5icmFuZG5hbWU7XG4gICAgLyoqIElmIHNwZWNpZmllZCwgcmVxdWlyZXMgdGhlIHBlcnNvbmFsIHN0YXR1cyBvZiB0aGUgc2VsZWN0ZWQgYnJhbmQgdG8gbWF0Y2guICovXG4gICAgdGhpcy5wZXJzb25hbCA9IG9wdHMucGVyc29uYWw7XG4gICAgLyoqXG4gICAgICogSWYgc3BlY2lmaWVkLCByZXF1aXJlcyB0aGUgY29udHJpYnV0b3Igc3RhdHVzIG9mIHRoZSBzZWxlY3RlZCBicmFuZCB0byBtYXRjaCwgYW5kIGlmIHRydWVcbiAgICAgKiB0aGF0IHRoZSBicmFuZCBiZSBhbiBhY3RpdmUgY29udHJpYnV0b3IuXG4gICAgICovXG4gICAgdGhpcy5jb250cmlidXRvciA9IG9wdHMuY29udHJpYnV0b3I7XG4gICAgLyoqIElmIHNwZWNpZmllZCwgcmVxdWlyZXMgdGhlIHRoaXJkLXBhcnR5IHN0YXR1cyBvZiB0aGUgc2VsZWN0ZWQgYnJhbmQgdG8gbWF0Y2guICovXG4gICAgdGhpcy50aGlyZFBhcnR5ID0gb3B0cy50aGlyZFBhcnR5O1xuICAgIC8qKlxuICAgICAqIElmIHNldCBhbmQgdHJ1ZSwgcmV0dXJuIGFuIEF1dGhlbnRpY2F0ZVVzZXJFcnJvclJlc3BvbnNlIGluc3RlYWQgb2YgdGhyb3dpbmdcbiAgICAgKiBhbiBleGNlcHRpb24gd2hlbiBhbiBleHBlY3RlZCBlcnJvciAoaS5lLiwgYW4gZXJyb3Igc3VwcG9ydGVkIGJ5IHRoZVxuICAgICAqIGJhY2tlbmQpIG9jY3Vycy5cbiAgICAgKi9cbiAgICB0aGlzLnN1cHBvcnRFcnJvclJlc3BvbnNlID0gb3B0cy5zdXBwb3J0RXJyb3JSZXNwb25zZSAhPSBudWxsXG4gICAgICAgID8gb3B0cy5zdXBwb3J0RXJyb3JSZXNwb25zZVxuICAgICAgICA6IGZhbHNlO1xuXG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEF1dGhlbnRpY2F0ZVVzZXJSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2NyZWRlbnRpYWxzJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChDcmVkZW50aWFscy5zZXJpYWxpemUsICdjcmVkZW50aWFscycsIG0uY3JlZGVudGlhbHMpLFxuICAgICAgJ2JyYW5kbmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kbmFtZScsIG0uYnJhbmRuYW1lKSxcbiAgICAgICdwZXJzb25hbCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdwZXJzb25hbCcsIG0ucGVyc29uYWwpLFxuICAgICAgJ2NvbnRyaWJ1dG9yJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2NvbnRyaWJ1dG9yJywgbS5jb250cmlidXRvciksXG4gICAgICAndGhpcmRQYXJ0eSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCd0aGlyZFBhcnR5JywgbS50aGlyZFBhcnR5KSxcbiAgICAgICdzdXBwb3J0RXJyb3JSZXNwb25zZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdzdXBwb3J0RXJyb3JSZXNwb25zZScsIG0uc3VwcG9ydEVycm9yUmVzcG9uc2UpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQXV0aGVudGljYXRlVXNlclJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgQXV0aGVudGljYXRlVXNlclJlcXVlc3Qoe1xuICAgICAgY3JlZGVudGlhbHM6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChDcmVkZW50aWFscy5kZXNlcmlhbGl6ZSwgJ2NyZWRlbnRpYWxzJywgbyksXG4gICAgICBicmFuZG5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmRuYW1lJywgbyksXG4gICAgICBwZXJzb25hbDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncGVyc29uYWwnLCBvKSxcbiAgICAgIGNvbnRyaWJ1dG9yOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjb250cmlidXRvcicsIG8pLFxuICAgICAgdGhpcmRQYXJ0eTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigndGhpcmRQYXJ0eScsIG8pLFxuICAgICAgc3VwcG9ydEVycm9yUmVzcG9uc2U6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3N1cHBvcnRFcnJvclJlc3BvbnNlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgQXV0aGVudGljYXRlVXNlclJlc3BvbnNlXG4gICAgPSBBdXRoZW50aWNhdGVVc2VyU3VjY2Vzc1Jlc3BvbnNlXG4gICAgfCBBdXRoZW50aWNhdGVVc2VyRXJyb3JSZXNwb25zZTtcblxuZXhwb3J0IGNvbnN0IEF1dGhlbnRpY2F0ZVVzZXJSZXNwb25zZSA9IHtcbiAgc2VyaWFsaXplKHU6IEF1dGhlbnRpY2F0ZVVzZXJSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgc3dpdGNoICh1LnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NVQ0NFU1MnOiByZXR1cm4gQXV0aGVudGljYXRlVXNlclN1Y2Nlc3NSZXNwb25zZS5zZXJpYWxpemUodSk7XG4gICAgICBjYXNlICdFUlJPUic6IHJldHVybiBBdXRoZW50aWNhdGVVc2VyRXJyb3JSZXNwb25zZS5zZXJpYWxpemUodSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih1KTtcbiAgICB9XG4gIH0sXG5cbiAgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQXV0aGVudGljYXRlVXNlclJlc3BvbnNlIHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdTVUNDRVNTJzogcmV0dXJuIEF1dGhlbnRpY2F0ZVVzZXJTdWNjZXNzUmVzcG9uc2UuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdFUlJPUic6IHJldHVybiBBdXRoZW50aWNhdGVVc2VyRXJyb3JSZXNwb25zZS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBjYXNlOiAke2thc2V9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNsYXNzIEF1dGhlbnRpY2F0ZVVzZXJTdWNjZXNzUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ1NVQ0NFU1MnO1xuXG4gIHJlYWRvbmx5IHVzZXI6IFVzZXJEZXRhaWxzO1xuICByZWFkb25seSBicmFuZDogQnJhbmQ7XG4gIHJlYWRvbmx5IHVzZXJSZWFjdGl2YXRlZDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdXNlcjogVXNlckRldGFpbHMsXG4gICAgYnJhbmQ6IEJyYW5kLFxuICAgIHVzZXJSZWFjdGl2YXRlZD86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgdGhpcy51c2VyUmVhY3RpdmF0ZWQgPSBvcHRzLnVzZXJSZWFjdGl2YXRlZCAhPSBudWxsXG4gICAgICAgID8gb3B0cy51c2VyUmVhY3RpdmF0ZWRcbiAgICAgICAgOiBmYWxzZTtcblxuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBBdXRoZW50aWNhdGVVc2VyU3VjY2Vzc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU1VDQ0VTUycsXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoVXNlckRldGFpbHMuc2VyaWFsaXplLCAndXNlcicsIG0udXNlciksXG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEJyYW5kLnNlcmlhbGl6ZSwgJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAndXNlclJlYWN0aXZhdGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3VzZXJSZWFjdGl2YXRlZCcsIG0udXNlclJlYWN0aXZhdGVkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEF1dGhlbnRpY2F0ZVVzZXJTdWNjZXNzUmVzcG9uc2Uge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdTVUNDRVNTJyk7XG4gICAgcmV0dXJuIG5ldyBBdXRoZW50aWNhdGVVc2VyU3VjY2Vzc1Jlc3BvbnNlKHtcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChVc2VyRGV0YWlscy5kZXNlcmlhbGl6ZSwgJ3VzZXInLCBvKSxcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoQnJhbmQuZGVzZXJpYWxpemUsICdicmFuZCcsIG8pLFxuICAgICAgdXNlclJlYWN0aXZhdGVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd1c2VyUmVhY3RpdmF0ZWQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRlVXNlckVycm9yUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ0VSUk9SJztcblxuICAvKipcbiAgICogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudFxuICAgKiB3cm9uZy5cbiAgICovXG4gIHJlYWRvbmx5IG1lc3NhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqIElmIHRydWUsIGF1dGhlbnRpY2F0aW9uIHZpYSBvQXV0aCBmYWlsZWQgYmVjYXVzZSBhIENhbnZhIGFjY291bnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBzYW1lIGVtYWlsXG4gICAqIGFkZHJlc3MgYXMgdGhlIG9BdXRoIGFjY291bnQgYWxyZWFkeSBleGlzdHMgYnV0IHRoZSBlbWFpbCBhZGRyZXNzIGlzIG5vdCB2ZXJpZmllZC5cbiAgICogT25jZSB0aGUgZW1haWwgYWRkcmVzcyBpcyB2ZXJpZmllZCwgYSBzdWJzZXF1ZW50IGF0dGVtcHQgdG8gYXV0aGVudGljYXRlIHZpYSBvQXV0aCB3aWxsXG4gICAqIHN1Y2Nlc3NmdWxseSBhdHRhY2ggdGhlIG9BdXRoIGNyZWRlbnRpYWxzIHRvIHRoZSBleGlzdGluZyBhY2NvdW50LlxuICAgKiBGb3Igc2VjdXJpdHksIHRoaXMgb0F1dGggYXV0by1hdHRhY2ggYmVoYXZpb3VyIGlzIGJsb2NrZWQgdW50aWwgZW1haWwgYWRkcmVzcyBpcyB2ZXJpZmllZC5cbiAgICovXG4gIHJlYWRvbmx5IHVudmVyaWZpZWRFbWFpbDogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqXG4gICAgICogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudFxuICAgICAqIHdyb25nLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBhdXRoZW50aWNhdGlvbiB2aWEgb0F1dGggZmFpbGVkIGJlY2F1c2UgYSBDYW52YSBhY2NvdW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgc2FtZSBlbWFpbFxuICAgICAqIGFkZHJlc3MgYXMgdGhlIG9BdXRoIGFjY291bnQgYWxyZWFkeSBleGlzdHMgYnV0IHRoZSBlbWFpbCBhZGRyZXNzIGlzIG5vdCB2ZXJpZmllZC5cbiAgICAgKiBPbmNlIHRoZSBlbWFpbCBhZGRyZXNzIGlzIHZlcmlmaWVkLCBhIHN1YnNlcXVlbnQgYXR0ZW1wdCB0byBhdXRoZW50aWNhdGUgdmlhIG9BdXRoIHdpbGxcbiAgICAgKiBzdWNjZXNzZnVsbHkgYXR0YWNoIHRoZSBvQXV0aCBjcmVkZW50aWFscyB0byB0aGUgZXhpc3RpbmcgYWNjb3VudC5cbiAgICAgKiBGb3Igc2VjdXJpdHksIHRoaXMgb0F1dGggYXV0by1hdHRhY2ggYmVoYXZpb3VyIGlzIGJsb2NrZWQgdW50aWwgZW1haWwgYWRkcmVzcyBpcyB2ZXJpZmllZC5cbiAgICAgKi9cbiAgICB1bnZlcmlmaWVkRW1haWw/OiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqXG4gICAgICogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudFxuICAgICAqIHdyb25nLlxuICAgICAqL1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdHMubWVzc2FnZTtcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBhdXRoZW50aWNhdGlvbiB2aWEgb0F1dGggZmFpbGVkIGJlY2F1c2UgYSBDYW52YSBhY2NvdW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgc2FtZSBlbWFpbFxuICAgICAqIGFkZHJlc3MgYXMgdGhlIG9BdXRoIGFjY291bnQgYWxyZWFkeSBleGlzdHMgYnV0IHRoZSBlbWFpbCBhZGRyZXNzIGlzIG5vdCB2ZXJpZmllZC5cbiAgICAgKiBPbmNlIHRoZSBlbWFpbCBhZGRyZXNzIGlzIHZlcmlmaWVkLCBhIHN1YnNlcXVlbnQgYXR0ZW1wdCB0byBhdXRoZW50aWNhdGUgdmlhIG9BdXRoIHdpbGxcbiAgICAgKiBzdWNjZXNzZnVsbHkgYXR0YWNoIHRoZSBvQXV0aCBjcmVkZW50aWFscyB0byB0aGUgZXhpc3RpbmcgYWNjb3VudC5cbiAgICAgKiBGb3Igc2VjdXJpdHksIHRoaXMgb0F1dGggYXV0by1hdHRhY2ggYmVoYXZpb3VyIGlzIGJsb2NrZWQgdW50aWwgZW1haWwgYWRkcmVzcyBpcyB2ZXJpZmllZC5cbiAgICAgKi9cbiAgICB0aGlzLnVudmVyaWZpZWRFbWFpbCA9IG9wdHMudW52ZXJpZmllZEVtYWlsICE9IG51bGxcbiAgICAgICAgPyBvcHRzLnVudmVyaWZpZWRFbWFpbFxuICAgICAgICA6IGZhbHNlO1xuXG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEF1dGhlbnRpY2F0ZVVzZXJFcnJvclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRVJST1InLFxuICAgICAgJ21lc3NhZ2UnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZXNzYWdlJywgbS5tZXNzYWdlKSxcbiAgICAgICd1bnZlcmlmaWVkRW1haWwnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndW52ZXJpZmllZEVtYWlsJywgbS51bnZlcmlmaWVkRW1haWwpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQXV0aGVudGljYXRlVXNlckVycm9yUmVzcG9uc2Uge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdFUlJPUicpO1xuICAgIHJldHVybiBuZXcgQXV0aGVudGljYXRlVXNlckVycm9yUmVzcG9uc2Uoe1xuICAgICAgbWVzc2FnZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZXNzYWdlJywgbyksXG4gICAgICB1bnZlcmlmaWVkRW1haWw6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3VudmVyaWZpZWRFbWFpbCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTZW5kVmVyaWZpY2F0aW9uRW1haWxSZXF1ZXN0IHtcbiAgLyoqIElmIG9mIHRoZSB1c2VyIHdobyB3aWxsIHJlY2VpdmUgYSB2ZXJpZmljYXRpb24gZW1haWwuICovXG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIElmIG9mIHRoZSB1c2VyIHdobyB3aWxsIHJlY2VpdmUgYSB2ZXJpZmljYXRpb24gZW1haWwuICovXG4gICAgdXNlcjogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIElmIG9mIHRoZSB1c2VyIHdobyB3aWxsIHJlY2VpdmUgYSB2ZXJpZmljYXRpb24gZW1haWwuICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBTZW5kVmVyaWZpY2F0aW9uRW1haWxSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgU2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVxdWVzdCh7XG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVzcG9uc2Uge1xuICBzdGF0aWMgc2VyaWFsaXplKG06IFNlbmRWZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogU2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgU2VuZFZlcmlmaWNhdGlvbkVtYWlsUmVzcG9uc2UoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmVyaWZ5RW1haWxSZXF1ZXN0IHtcbiAgLyoqIEVtYWlsIHZlcmlmaWNhdGlvbiB0b2tlbiBmcm9tIGxpbmsgc2VudCB0byB1c2VyJ3MgZW1haWwgYWRkcmVzcy4gKi9cbiAgcmVhZG9ubHkgdG9rZW46IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEVtYWlsIHZlcmlmaWNhdGlvbiB0b2tlbiBmcm9tIGxpbmsgc2VudCB0byB1c2VyJ3MgZW1haWwgYWRkcmVzcy4gKi9cbiAgICB0b2tlbjogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIEVtYWlsIHZlcmlmaWNhdGlvbiB0b2tlbiBmcm9tIGxpbmsgc2VudCB0byB1c2VyJ3MgZW1haWwgYWRkcmVzcy4gKi9cbiAgICB0aGlzLnRva2VuID0gb3B0cy50b2tlbjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVmVyaWZ5RW1haWxSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3Rva2VuJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndG9rZW4nLCBtLnRva2VuKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFZlcmlmeUVtYWlsUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBWZXJpZnlFbWFpbFJlcXVlc3Qoe1xuICAgICAgdG9rZW46IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndG9rZW4nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmVyaWZ5RW1haWxSZXNwb25zZSB7XG4gIC8qKiBJZCBvZiB0aGUgdmVyaWZpZWQgdXNlci4gKi9cbiAgcmVhZG9ubHkgdXNlcklkOiBzdHJpbmc7XG4gIC8qKiBWZXJpZmllZCBlbWFpbCBhZGRyZXNzLiAqL1xuICByZWFkb25seSBlbWFpbDogc3RyaW5nO1xuICAvKiogRm9yIGFub255bW91cyBlbWFpbCB2ZXJpZmljYXRpb24sIHRoZSBicmFuZCB0aGUgY2FsbGVyIHNob3VsZCBiZSBsb2dnZWQgaW50by4gT3RoZXJ3aXNlLCBudWxsLiAqL1xuICByZWFkb25seSBicmFuZElkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBJZCBvZiB0aGUgdmVyaWZpZWQgdXNlci4gKi9cbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICAvKiogVmVyaWZpZWQgZW1haWwgYWRkcmVzcy4gKi9cbiAgICBlbWFpbDogc3RyaW5nLFxuICAgIC8qKiBGb3IgYW5vbnltb3VzIGVtYWlsIHZlcmlmaWNhdGlvbiwgdGhlIGJyYW5kIHRoZSBjYWxsZXIgc2hvdWxkIGJlIGxvZ2dlZCBpbnRvLiBPdGhlcndpc2UsIG51bGwuICovXG4gICAgYnJhbmRJZD86IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBJZCBvZiB0aGUgdmVyaWZpZWQgdXNlci4gKi9cbiAgICB0aGlzLnVzZXJJZCA9IG9wdHMudXNlcklkO1xuICAgIC8qKiBWZXJpZmllZCBlbWFpbCBhZGRyZXNzLiAqL1xuICAgIHRoaXMuZW1haWwgPSBvcHRzLmVtYWlsO1xuICAgIC8qKiBGb3IgYW5vbnltb3VzIGVtYWlsIHZlcmlmaWNhdGlvbiwgdGhlIGJyYW5kIHRoZSBjYWxsZXIgc2hvdWxkIGJlIGxvZ2dlZCBpbnRvLiBPdGhlcndpc2UsIG51bGwuICovXG4gICAgdGhpcy5icmFuZElkID0gb3B0cy5icmFuZElkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBWZXJpZnlFbWFpbFJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXJJZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXJJZCcsIG0udXNlcklkKSxcbiAgICAgICdlbWFpbCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2VtYWlsJywgbS5lbWFpbCksXG4gICAgICAnYnJhbmRJZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kSWQnLCBtLmJyYW5kSWQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVmVyaWZ5RW1haWxSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBWZXJpZnlFbWFpbFJlc3BvbnNlKHtcbiAgICAgIHVzZXJJZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VySWQnLCBvKSxcbiAgICAgIGVtYWlsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2VtYWlsJywgbyksXG4gICAgICBicmFuZElkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kSWQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogU2VuZHMgYSBwYXNzd29yZCByZXNldCBtZXNzYWdlLiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyBTTVMgcGFzc3dvcmQgcmVzZXQuICovXG5leHBvcnQgY2xhc3MgU2VuZFBhc3N3b3JkUmVzZXRDb2RlUmVxdWVzdCB7XG4gIHJlYWRvbmx5IG1vZGU6IFZlcmlmaWNhdGlvbk1vZGU7XG4gIC8qKiBUaGUgdXNlcnMgcGhvbmUgbnVtYmVyLCByZXF1aXJlZCBmb3IgU01TIHBhc3N3b3JkIHJlc2V0LiAqL1xuICByZWFkb25seSBwaG9uZU51bWJlcjogc3RyaW5nO1xuICAvKipcbiAgICogQ2xpZW50IGRlZmluZWQgc3RhdGUgdG8gYmUgdXNlZCBpbiBhbGwgc3Vic2VxdWVudCBjYWxscy4gVGhpcyBzdGF0ZSBpcyBwcm92aWRlZCB3aGVuIHRoZVxuICAgKiB2ZXJpZmljYXRpb24gY29kZSBpcyBjaGVja2VkIGFuZCBlbnN1cmVzIHRoYXQgdGhlIGNsaWVudCB0aGF0IHNlbnQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGlzXG4gICAqIHNhbWUgY2xpZW50IHRvIGNoZWNrIGl0LlxuICAgKi9cbiAgcmVhZG9ubHkgc3RhdGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgbW9kZTogVmVyaWZpY2F0aW9uTW9kZSxcbiAgICAvKiogVGhlIHVzZXJzIHBob25lIG51bWJlciwgcmVxdWlyZWQgZm9yIFNNUyBwYXNzd29yZCByZXNldC4gKi9cbiAgICBwaG9uZU51bWJlcjogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIENsaWVudCBkZWZpbmVkIHN0YXRlIHRvIGJlIHVzZWQgaW4gYWxsIHN1YnNlcXVlbnQgY2FsbHMuIFRoaXMgc3RhdGUgaXMgcHJvdmlkZWQgd2hlbiB0aGVcbiAgICAgKiB2ZXJpZmljYXRpb24gY29kZSBpcyBjaGVja2VkIGFuZCBlbnN1cmVzIHRoYXQgdGhlIGNsaWVudCB0aGF0IHNlbnQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGlzXG4gICAgICogc2FtZSBjbGllbnQgdG8gY2hlY2sgaXQuXG4gICAgICovXG4gICAgc3RhdGU6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMubW9kZSA9IG9wdHMubW9kZTtcbiAgICAvKiogVGhlIHVzZXJzIHBob25lIG51bWJlciwgcmVxdWlyZWQgZm9yIFNNUyBwYXNzd29yZCByZXNldC4gKi9cbiAgICB0aGlzLnBob25lTnVtYmVyID0gb3B0cy5waG9uZU51bWJlcjtcbiAgICAvKipcbiAgICAgKiBDbGllbnQgZGVmaW5lZCBzdGF0ZSB0byBiZSB1c2VkIGluIGFsbCBzdWJzZXF1ZW50IGNhbGxzLiBUaGlzIHN0YXRlIGlzIHByb3ZpZGVkIHdoZW4gdGhlXG4gICAgICogdmVyaWZpY2F0aW9uIGNvZGUgaXMgY2hlY2tlZCBhbmQgZW5zdXJlcyB0aGF0IHRoZSBjbGllbnQgdGhhdCBzZW50IHRoZSB2ZXJpZmljYXRpb24gY29kZSBpc1xuICAgICAqIHNhbWUgY2xpZW50IHRvIGNoZWNrIGl0LlxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBvcHRzLnN0YXRlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBTZW5kUGFzc3dvcmRSZXNldENvZGVSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ21vZGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShWZXJpZmljYXRpb25Nb2RlVXRpbC5zZXJpYWxpemUsICdtb2RlJywgbS5tb2RlKSxcbiAgICAgICdwaG9uZU51bWJlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bob25lTnVtYmVyJywgbS5waG9uZU51bWJlciksXG4gICAgICAnc3RhdGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdzdGF0ZScsIG0uc3RhdGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogU2VuZFBhc3N3b3JkUmVzZXRDb2RlUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBTZW5kUGFzc3dvcmRSZXNldENvZGVSZXF1ZXN0KHtcbiAgICAgIG1vZGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08VmVyaWZpY2F0aW9uTW9kZT4oVmVyaWZpY2F0aW9uTW9kZVV0aWwuZGVzZXJpYWxpemUsICdtb2RlJywgbyksXG4gICAgICBwaG9uZU51bWJlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdwaG9uZU51bWJlcicsIG8pLFxuICAgICAgc3RhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnc3RhdGUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VuZFBhc3N3b3JkUmVzZXRDb2RlUmVzcG9uc2Uge1xuICAvKipcbiAgICogRW5jcnlwdGVkIHZlcmlmaWNhdGlvbiB0b2tlbiB0byBiZSBpbmNsdWRlZCBpbiBzdWJzZXF1ZW50IGNhbGxzIHRvIGNoZWNrIGFuZCBwZXJmb3JtIHRoZVxuICAgKiBwYXNzd29yZCByZXNldC5cbiAgICovXG4gIHJlYWRvbmx5IHRva2VuOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKlxuICAgICAqIEVuY3J5cHRlZCB2ZXJpZmljYXRpb24gdG9rZW4gdG8gYmUgaW5jbHVkZWQgaW4gc3Vic2VxdWVudCBjYWxscyB0byBjaGVjayBhbmQgcGVyZm9ybSB0aGVcbiAgICAgKiBwYXNzd29yZCByZXNldC5cbiAgICAgKi9cbiAgICB0b2tlbjogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqXG4gICAgICogRW5jcnlwdGVkIHZlcmlmaWNhdGlvbiB0b2tlbiB0byBiZSBpbmNsdWRlZCBpbiBzdWJzZXF1ZW50IGNhbGxzIHRvIGNoZWNrIGFuZCBwZXJmb3JtIHRoZVxuICAgICAqIHBhc3N3b3JkIHJlc2V0LlxuICAgICAqL1xuICAgIHRoaXMudG9rZW4gPSBvcHRzLnRva2VuO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBTZW5kUGFzc3dvcmRSZXNldENvZGVSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0b2tlbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbS50b2tlbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBTZW5kUGFzc3dvcmRSZXNldENvZGVSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBTZW5kUGFzc3dvcmRSZXNldENvZGVSZXNwb25zZSh7XG4gICAgICB0b2tlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0b2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKiBTZW5kcyBhIHBhc3N3b3JkIHJlc2V0IGVtYWlsIHRvIHRoZSBzcGVjaWZpZWQgdXNlciAoZWl0aGVyIGJ5IGVtYWlsIGFkZHJlc3Mgb3IgdXNlciBpZCkgKi9cbmV4cG9ydCBjbGFzcyBTZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVxdWVzdCB7XG4gIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgZW1haWw/OiBzdHJpbmcsXG4gICAgdXNlcj86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuZW1haWwgPSBvcHRzLmVtYWlsO1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogU2VuZFBhc3N3b3JkUmVzZXRFbWFpbFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZW1haWwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdlbWFpbCcsIG0uZW1haWwpLFxuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IFNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0KHtcbiAgICAgIGVtYWlsOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2VtYWlsJywgbyksXG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2VuZFBhc3N3b3JkUmVzZXRFbWFpbFJlc3BvbnNlIHtcbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBTZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBTZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgU2VuZFBhc3N3b3JkUmVzZXRFbWFpbFJlc3BvbnNlKCk7XG4gIH1cbn1cblxuLyoqIENoZWNrcyBhIHBhc3N3b3JkIHJlc2V0IHZlcmlmaWNhdGlvbiBjb2RlLiBDdXJyZW50bHkgb25seSBzdXBwb3J0cyBTTVMgcGFzc3dvcmQgcmVzZXQuICovXG5leHBvcnQgY2xhc3MgQ2hlY2tQYXNzd29yZFJlc2V0Q29kZVJlcXVlc3Qge1xuICByZWFkb25seSBtb2RlOiBWZXJpZmljYXRpb25Nb2RlO1xuICAvKiogVGhlIHVzZXJzIHBob25lIG51bWJlciwgcmVxdWlyZWQgZm9yIFNNUyBwYXNzd29yZCByZXNldC4gKi9cbiAgcmVhZG9ubHkgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgLyoqIFVzZXIgZW50ZXJlZCB2ZXJpZmljYXRpb24gY29kZTsgKi9cbiAgcmVhZG9ubHkgY29kZTogc3RyaW5nO1xuICAvKipcbiAgICogQ2xpZW50IGRlZmluZWQgc3RhdGUgdGhhdCB3YXMgdXNlZCB3aGVuIHRoZSB2ZXJpZmljYXRpb24gY29kZSB3YXMgc2VudC4gRW5zdXJlcyB0aGF0IHRoZVxuICAgKiBjbGllbnQgY2hlY2tpbmcgdGhlIHRoZSB2ZXJpZmljYXRpb24gY29kZSBpcyB0aGUgc2FtZSBjbGllbnQgdGhhdCBzZW50IHRoZSB2ZXJpZmljYXRpb24gY29kZS5cbiAgICovXG4gIHJlYWRvbmx5IHN0YXRlOiBzdHJpbmc7XG4gIC8qKiBFbmNyeXB0ZWQgdmVyaWZpY2F0aW9uIHRva2VuIHByb3ZpZGVkIHdoZW4gdGhlIHBhc3N3b3JkIHJlc2V0IHdhcyBpbml0aWF0ZWQuICovXG4gIHJlYWRvbmx5IHRva2VuOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIG1vZGU6IFZlcmlmaWNhdGlvbk1vZGUsXG4gICAgLyoqIFRoZSB1c2VycyBwaG9uZSBudW1iZXIsIHJlcXVpcmVkIGZvciBTTVMgcGFzc3dvcmQgcmVzZXQuICovXG4gICAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgICAvKiogVXNlciBlbnRlcmVkIHZlcmlmaWNhdGlvbiBjb2RlOyAqL1xuICAgIGNvZGU6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBDbGllbnQgZGVmaW5lZCBzdGF0ZSB0aGF0IHdhcyB1c2VkIHdoZW4gdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHdhcyBzZW50LiBFbnN1cmVzIHRoYXQgdGhlXG4gICAgICogY2xpZW50IGNoZWNraW5nIHRoZSB0aGUgdmVyaWZpY2F0aW9uIGNvZGUgaXMgdGhlIHNhbWUgY2xpZW50IHRoYXQgc2VudCB0aGUgdmVyaWZpY2F0aW9uIGNvZGUuXG4gICAgICovXG4gICAgc3RhdGU6IHN0cmluZyxcbiAgICAvKiogRW5jcnlwdGVkIHZlcmlmaWNhdGlvbiB0b2tlbiBwcm92aWRlZCB3aGVuIHRoZSBwYXNzd29yZCByZXNldCB3YXMgaW5pdGlhdGVkLiAqL1xuICAgIHRva2VuOiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLm1vZGUgPSBvcHRzLm1vZGU7XG4gICAgLyoqIFRoZSB1c2VycyBwaG9uZSBudW1iZXIsIHJlcXVpcmVkIGZvciBTTVMgcGFzc3dvcmQgcmVzZXQuICovXG4gICAgdGhpcy5waG9uZU51bWJlciA9IG9wdHMucGhvbmVOdW1iZXI7XG4gICAgLyoqIFVzZXIgZW50ZXJlZCB2ZXJpZmljYXRpb24gY29kZTsgKi9cbiAgICB0aGlzLmNvZGUgPSBvcHRzLmNvZGU7XG4gICAgLyoqXG4gICAgICogQ2xpZW50IGRlZmluZWQgc3RhdGUgdGhhdCB3YXMgdXNlZCB3aGVuIHRoZSB2ZXJpZmljYXRpb24gY29kZSB3YXMgc2VudC4gRW5zdXJlcyB0aGF0IHRoZVxuICAgICAqIGNsaWVudCBjaGVja2luZyB0aGUgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGlzIHRoZSBzYW1lIGNsaWVudCB0aGF0IHNlbnQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlLlxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBvcHRzLnN0YXRlO1xuICAgIC8qKiBFbmNyeXB0ZWQgdmVyaWZpY2F0aW9uIHRva2VuIHByb3ZpZGVkIHdoZW4gdGhlIHBhc3N3b3JkIHJlc2V0IHdhcyBpbml0aWF0ZWQuICovXG4gICAgdGhpcy50b2tlbiA9IG9wdHMudG9rZW47XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENoZWNrUGFzc3dvcmRSZXNldENvZGVSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ21vZGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShWZXJpZmljYXRpb25Nb2RlVXRpbC5zZXJpYWxpemUsICdtb2RlJywgbS5tb2RlKSxcbiAgICAgICdwaG9uZU51bWJlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bob25lTnVtYmVyJywgbS5waG9uZU51bWJlciksXG4gICAgICAnY29kZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2NvZGUnLCBtLmNvZGUpLFxuICAgICAgJ3N0YXRlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnc3RhdGUnLCBtLnN0YXRlKSxcbiAgICAgICd0b2tlbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbS50b2tlbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDaGVja1Bhc3N3b3JkUmVzZXRDb2RlUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBDaGVja1Bhc3N3b3JkUmVzZXRDb2RlUmVxdWVzdCh7XG4gICAgICBtb2RlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPFZlcmlmaWNhdGlvbk1vZGU+KFZlcmlmaWNhdGlvbk1vZGVVdGlsLmRlc2VyaWFsaXplLCAnbW9kZScsIG8pLFxuICAgICAgcGhvbmVOdW1iZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGhvbmVOdW1iZXInLCBvKSxcbiAgICAgIGNvZGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnY29kZScsIG8pLFxuICAgICAgc3RhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnc3RhdGUnLCBvKSxcbiAgICAgIHRva2VuOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrUGFzc3dvcmRSZXNldENvZGVSZXNwb25zZSB7XG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ2hlY2tQYXNzd29yZFJlc2V0Q29kZVJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ2hlY2tQYXNzd29yZFJlc2V0Q29kZVJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IENoZWNrUGFzc3dvcmRSZXNldENvZGVSZXNwb25zZSgpO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIGEgcGFzc3dvcmQgcmVzZXQgdmVyaWZpY2F0aW9uIGNvZGUgYW5kIHBlcmZvcm1zIHRoZSByZXNldC4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydHMgU01TXG4gKiBwYXNzd29yZCByZXNldC5cbiAqL1xuZXhwb3J0IGNsYXNzIFJlc2V0UGFzc3dvcmRXaXRoQ29kZVJlcXVlc3Qge1xuICByZWFkb25seSBtb2RlOiBWZXJpZmljYXRpb25Nb2RlO1xuICAvKiogT25seSBzdXBwb3J0cyBVbnZlcmlmaWVkUGhvbmVQYXNzd29yZENyZWRlbnRpYWxzLiAqL1xuICByZWFkb25seSBjcmVkZW50aWFsczogQ3JlZGVudGlhbHM7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIG1vZGU6IFZlcmlmaWNhdGlvbk1vZGUsXG4gICAgLyoqIE9ubHkgc3VwcG9ydHMgVW52ZXJpZmllZFBob25lUGFzc3dvcmRDcmVkZW50aWFscy4gKi9cbiAgICBjcmVkZW50aWFsczogQ3JlZGVudGlhbHMsXG4gIH0pIHtcbiAgICB0aGlzLm1vZGUgPSBvcHRzLm1vZGU7XG4gICAgLyoqIE9ubHkgc3VwcG9ydHMgVW52ZXJpZmllZFBob25lUGFzc3dvcmRDcmVkZW50aWFscy4gKi9cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0cy5jcmVkZW50aWFscztcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogUmVzZXRQYXNzd29yZFdpdGhDb2RlUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdtb2RlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oVmVyaWZpY2F0aW9uTW9kZVV0aWwuc2VyaWFsaXplLCAnbW9kZScsIG0ubW9kZSksXG4gICAgICAnY3JlZGVudGlhbHMnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KENyZWRlbnRpYWxzLnNlcmlhbGl6ZSwgJ2NyZWRlbnRpYWxzJywgbS5jcmVkZW50aWFscyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBSZXNldFBhc3N3b3JkV2l0aENvZGVSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IFJlc2V0UGFzc3dvcmRXaXRoQ29kZVJlcXVlc3Qoe1xuICAgICAgbW9kZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxWZXJpZmljYXRpb25Nb2RlPihWZXJpZmljYXRpb25Nb2RlVXRpbC5kZXNlcmlhbGl6ZSwgJ21vZGUnLCBvKSxcbiAgICAgIGNyZWRlbnRpYWxzOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoQ3JlZGVudGlhbHMuZGVzZXJpYWxpemUsICdjcmVkZW50aWFscycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNldFBhc3N3b3JkV2l0aENvZGVSZXNwb25zZSB7XG4gIHN0YXRpYyBzZXJpYWxpemUobTogUmVzZXRQYXNzd29yZFdpdGhDb2RlUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBSZXNldFBhc3N3b3JkV2l0aENvZGVSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBSZXNldFBhc3N3b3JkV2l0aENvZGVSZXNwb25zZSgpO1xuICB9XG59XG5cbi8qKiBSZXNldCBwYXNzd29yZC4gT25seSBzdXBwb3J0cyByZXNldHRpbmcgcGFzc3dvcmRzIGZvciB1c2VycyB3aXRoIGFuIGVtYWlsIGFkZHJlc3MuICovXG5leHBvcnQgY2xhc3MgUmVzZXRQYXNzd29yZFJlcXVlc3Qge1xuICByZWFkb25seSBwYXNzd29yZDogc3RyaW5nO1xuICByZWFkb25seSB0b2tlbjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBwYXNzd29yZDogc3RyaW5nLFxuICAgIHRva2VuOiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLnBhc3N3b3JkID0gb3B0cy5wYXNzd29yZDtcbiAgICB0aGlzLnRva2VuID0gb3B0cy50b2tlbjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogUmVzZXRQYXNzd29yZFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncGFzc3dvcmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdwYXNzd29yZCcsIG0ucGFzc3dvcmQpLFxuICAgICAgJ3Rva2VuJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndG9rZW4nLCBtLnRva2VuKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFJlc2V0UGFzc3dvcmRSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IFJlc2V0UGFzc3dvcmRSZXF1ZXN0KHtcbiAgICAgIHBhc3N3b3JkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Bhc3N3b3JkJywgbyksXG4gICAgICB0b2tlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0b2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZXNldFBhc3N3b3JkUmVzcG9uc2Uge1xuICByZWFkb25seSBlbWFpbDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBlbWFpbDogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5lbWFpbCA9IG9wdHMuZW1haWw7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFJlc2V0UGFzc3dvcmRSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdlbWFpbCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2VtYWlsJywgbS5lbWFpbCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBSZXNldFBhc3N3b3JkUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgUmVzZXRQYXNzd29yZFJlc3BvbnNlKHtcbiAgICAgIGVtYWlsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2VtYWlsJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIEEgZ3JvdXAgb2YgdXNlcnMsIHdpdGhpbiBhIGJyYW5kICovXG5leHBvcnQgY2xhc3MgR3JvdXAge1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICAvKiogVGhlIGJyYW5kIHRoYXQgb3ducyB0aGlzIGdyb3VwLiAqL1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogVGhlIGRpc3BsYXkgbmFtZSBvZiB0aGUgZ3JvdXAuICovXG4gIHJlYWRvbmx5IGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgZ3JvdXAuICovXG4gIHJlYWRvbmx5IGRlc2NyaXB0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBXaGV0aGVyIHRoZSBncm91cCBpcyBwcml2YXRlLiAqL1xuICByZWFkb25seSBwcml2YXRlOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIHNldCBvZiBhY3Rpb25zIHRoZSBjYWxsaW5nIHVzZXIgaXMgYWxsb3dlZCB0byBwZXJmb3JtIHdpdGhpbiB0aGlzIGdyb3VwLlxuICAgKiBXaWxsIG9ubHkgYmUgcG9wdWxhdGVkIGlmIHRoZSBDQVBBQklMSVRJRVMgY29tcG9uZW50IHdhcyBwcm92aWRlZCBpbiB0aGUgcHJvamVjdGlvbi5cbiAgICovXG4gIHJlYWRvbmx5IGNhcGFiaWxpdGllczogR3JvdXBDYXBhYmlsaXRpZXMgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGlkOiBzdHJpbmcsXG4gICAgLyoqIFRoZSBicmFuZCB0aGF0IG93bnMgdGhpcyBncm91cC4gKi9cbiAgICBicmFuZDogc3RyaW5nLFxuICAgIC8qKiBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSBncm91cC4gKi9cbiAgICBkaXNwbGF5TmFtZTogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgZ3JvdXAuICovXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmcsXG4gICAgLyoqIFdoZXRoZXIgdGhlIGdyb3VwIGlzIHByaXZhdGUuICovXG4gICAgcHJpdmF0ZT86IGJvb2xlYW4sXG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiBhY3Rpb25zIHRoZSBjYWxsaW5nIHVzZXIgaXMgYWxsb3dlZCB0byBwZXJmb3JtIHdpdGhpbiB0aGlzIGdyb3VwLlxuICAgICAqIFdpbGwgb25seSBiZSBwb3B1bGF0ZWQgaWYgdGhlIENBUEFCSUxJVElFUyBjb21wb25lbnQgd2FzIHByb3ZpZGVkIGluIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIGNhcGFiaWxpdGllcz86IEdyb3VwQ2FwYWJpbGl0aWVzLFxuICB9KSB7XG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gICAgLyoqIFRoZSBicmFuZCB0aGF0IG93bnMgdGhpcyBncm91cC4gKi9cbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICAvKiogVGhlIGRpc3BsYXkgbmFtZSBvZiB0aGUgZ3JvdXAuICovXG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IG9wdHMuZGlzcGxheU5hbWU7XG4gICAgLyoqIE9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHRoZSBncm91cC4gKi9cbiAgICB0aGlzLmRlc2NyaXB0aW9uID0gb3B0cy5kZXNjcmlwdGlvbjtcbiAgICAvKiogV2hldGhlciB0aGUgZ3JvdXAgaXMgcHJpdmF0ZS4gKi9cbiAgICB0aGlzLnByaXZhdGUgPSBvcHRzLnByaXZhdGUgIT0gbnVsbFxuICAgICAgICA/IG9wdHMucHJpdmF0ZVxuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiBhY3Rpb25zIHRoZSBjYWxsaW5nIHVzZXIgaXMgYWxsb3dlZCB0byBwZXJmb3JtIHdpdGhpbiB0aGlzIGdyb3VwLlxuICAgICAqIFdpbGwgb25seSBiZSBwb3B1bGF0ZWQgaWYgdGhlIENBUEFCSUxJVElFUyBjb21wb25lbnQgd2FzIHByb3ZpZGVkIGluIHRoZSBwcm9qZWN0aW9uLlxuICAgICAqL1xuICAgIHRoaXMuY2FwYWJpbGl0aWVzID0gb3B0cy5jYXBhYmlsaXRpZXM7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdyb3VwKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2lkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBtLmlkKSxcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAnZGlzcGxheU5hbWUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdkaXNwbGF5TmFtZScsIG0uZGlzcGxheU5hbWUpLFxuICAgICAgJ2Rlc2NyaXB0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzY3JpcHRpb24nLCBtLmRlc2NyaXB0aW9uKSxcbiAgICAgICdwcml2YXRlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3ByaXZhdGUnLCBtLnByaXZhdGUpLFxuICAgICAgJ2NhcGFiaWxpdGllcyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoR3JvdXBDYXBhYmlsaXRpZXMuc2VyaWFsaXplLCAnY2FwYWJpbGl0aWVzJywgbS5jYXBhYmlsaXRpZXMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR3JvdXAge1xuICAgIHJldHVybiBuZXcgR3JvdXAoe1xuICAgICAgaWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBvKSxcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICBkaXNwbGF5TmFtZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdkaXNwbGF5TmFtZScsIG8pLFxuICAgICAgZGVzY3JpcHRpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzY3JpcHRpb24nLCBvKSxcbiAgICAgIHByaXZhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3ByaXZhdGUnLCBvKSxcbiAgICAgIGNhcGFiaWxpdGllczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEdyb3VwQ2FwYWJpbGl0aWVzLmRlc2VyaWFsaXplLCAnY2FwYWJpbGl0aWVzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIEFuc3dlcnMgXCJDYW4gdGhlIGNhbGxpbmcgdXNlciBkbyBmb28gdG8gdGhpcyBHcm91cD9cIiAqL1xuZXhwb3J0IGNsYXNzIEdyb3VwQ2FwYWJpbGl0aWVzIHtcbiAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIHVwZGF0ZSB0aGUgZ3JvdXAgbmFtZS4gT3RoZXJ3aXNlLCBmYWxzZS4gKi9cbiAgcmVhZG9ubHkgY2FuRWRpdEdyb3VwTmFtZTogYm9vbGVhbjtcbiAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIGFkZCBvdGhlciB1c2VycyB0byB0aGUgZ3JvdXAgYXMgcmVndWxhciBtZW1iZXJzLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICByZWFkb25seSBjYW5BZGRNZW1iZXJzOiBib29sZWFuO1xuICAvKipcbiAgICogSWYgdGhlIHVzZXIgY2FuIGFkZCB1c2VycyB0byB0aGUgZ3JvdXAgb3IgbW9kaWZ5IHRoZSByb2xlIG9mIG90aGVyIHVzZXJzLCB0aGUgcGVybWl0dGVkIHJvbGVzLlxuICAgKiBPdGhlcndpc2UsIGVtcHR5LlxuICAgKi9cbiAgcmVhZG9ubHkgYWxsb3dlZE1lbWJlclJvbGVzOiByZWFkb25seSBHcm91cFJvbGVbXTtcbiAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIG1vZGlmeSB0aGUgcm9sZSBvZiBvdGhlciBncm91cCBtZW1iZXJzLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICByZWFkb25seSBjYW5Nb2RpZnlNZW1iZXJSb2xlczogYm9vbGVhbjtcbiAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIGRlbGV0ZSB0aGUgZ3JvdXAuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gIHJlYWRvbmx5IGNhbkRlbGV0ZUdyb3VwOiBib29sZWFuO1xuICAvKiogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gY2hhbmdlIGdyb3VwIHByaXZhdGUgc2V0dGluZy4gT3RoZXJ3aXNlLCBmYWxzZS4gKi9cbiAgcmVhZG9ubHkgY2FuQ2hhbmdlUHJpdmF0ZVNldHRpbmc6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiB1cGRhdGUgdGhlIGdyb3VwIG5hbWUuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gICAgY2FuRWRpdEdyb3VwTmFtZT86IGJvb2xlYW4sXG4gICAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIGFkZCBvdGhlciB1c2VycyB0byB0aGUgZ3JvdXAgYXMgcmVndWxhciBtZW1iZXJzLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICAgIGNhbkFkZE1lbWJlcnM/OiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIElmIHRoZSB1c2VyIGNhbiBhZGQgdXNlcnMgdG8gdGhlIGdyb3VwIG9yIG1vZGlmeSB0aGUgcm9sZSBvZiBvdGhlciB1c2VycywgdGhlIHBlcm1pdHRlZCByb2xlcy5cbiAgICAgKiBPdGhlcndpc2UsIGVtcHR5LlxuICAgICAqL1xuICAgIGFsbG93ZWRNZW1iZXJSb2xlcz86IHJlYWRvbmx5IEdyb3VwUm9sZVtdLFxuICAgIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiBtb2RpZnkgdGhlIHJvbGUgb2Ygb3RoZXIgZ3JvdXAgbWVtYmVycy4gT3RoZXJ3aXNlLCBmYWxzZS4gKi9cbiAgICBjYW5Nb2RpZnlNZW1iZXJSb2xlcz86IGJvb2xlYW4sXG4gICAgLyoqIFRydWUgaWYgdGhlIHVzZXIgY2FuIGRlbGV0ZSB0aGUgZ3JvdXAuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gICAgY2FuRGVsZXRlR3JvdXA/OiBib29sZWFuLFxuICAgIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiBjaGFuZ2UgZ3JvdXAgcHJpdmF0ZSBzZXR0aW5nLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICAgIGNhbkNoYW5nZVByaXZhdGVTZXR0aW5nPzogYm9vbGVhbixcbiAgfSkge1xuICAgIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiB1cGRhdGUgdGhlIGdyb3VwIG5hbWUuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gICAgdGhpcy5jYW5FZGl0R3JvdXBOYW1lID0gb3B0cy5jYW5FZGl0R3JvdXBOYW1lICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmNhbkVkaXRHcm91cE5hbWVcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiBhZGQgb3RoZXIgdXNlcnMgdG8gdGhlIGdyb3VwIGFzIHJlZ3VsYXIgbWVtYmVycy4gT3RoZXJ3aXNlLCBmYWxzZS4gKi9cbiAgICB0aGlzLmNhbkFkZE1lbWJlcnMgPSBvcHRzLmNhbkFkZE1lbWJlcnMgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuY2FuQWRkTWVtYmVyc1xuICAgICAgICA6IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogSWYgdGhlIHVzZXIgY2FuIGFkZCB1c2VycyB0byB0aGUgZ3JvdXAgb3IgbW9kaWZ5IHRoZSByb2xlIG9mIG90aGVyIHVzZXJzLCB0aGUgcGVybWl0dGVkIHJvbGVzLlxuICAgICAqIE90aGVyd2lzZSwgZW1wdHkuXG4gICAgICovXG4gICAgdGhpcy5hbGxvd2VkTWVtYmVyUm9sZXMgPSBvcHRzLmFsbG93ZWRNZW1iZXJSb2xlcyB8fCBbXTtcbiAgICAvKiogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gbW9kaWZ5IHRoZSByb2xlIG9mIG90aGVyIGdyb3VwIG1lbWJlcnMuIE90aGVyd2lzZSwgZmFsc2UuICovXG4gICAgdGhpcy5jYW5Nb2RpZnlNZW1iZXJSb2xlcyA9IG9wdHMuY2FuTW9kaWZ5TWVtYmVyUm9sZXMgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuY2FuTW9kaWZ5TWVtYmVyUm9sZXNcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKiBUcnVlIGlmIHRoZSB1c2VyIGNhbiBkZWxldGUgdGhlIGdyb3VwLiBPdGhlcndpc2UsIGZhbHNlLiAqL1xuICAgIHRoaXMuY2FuRGVsZXRlR3JvdXAgPSBvcHRzLmNhbkRlbGV0ZUdyb3VwICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmNhbkRlbGV0ZUdyb3VwXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKiogVHJ1ZSBpZiB0aGUgdXNlciBjYW4gY2hhbmdlIGdyb3VwIHByaXZhdGUgc2V0dGluZy4gT3RoZXJ3aXNlLCBmYWxzZS4gKi9cbiAgICB0aGlzLmNhbkNoYW5nZVByaXZhdGVTZXR0aW5nID0gb3B0cy5jYW5DaGFuZ2VQcml2YXRlU2V0dGluZyAhPSBudWxsXG4gICAgICAgID8gb3B0cy5jYW5DaGFuZ2VQcml2YXRlU2V0dGluZ1xuICAgICAgICA6IGZhbHNlO1xuXG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdyb3VwQ2FwYWJpbGl0aWVzKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ0EnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY2FuRWRpdEdyb3VwTmFtZScsIG0uY2FuRWRpdEdyb3VwTmFtZSksXG4gICAgICAnQyc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjYW5BZGRNZW1iZXJzJywgbS5jYW5BZGRNZW1iZXJzKSxcbiAgICAgICdEJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW0oR3JvdXBSb2xlVXRpbC5zZXJpYWxpemUsICdhbGxvd2VkTWVtYmVyUm9sZXMnLCBtLmFsbG93ZWRNZW1iZXJSb2xlcyksXG4gICAgICAnRSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjYW5Nb2RpZnlNZW1iZXJSb2xlcycsIG0uY2FuTW9kaWZ5TWVtYmVyUm9sZXMpLFxuICAgICAgJ0YnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY2FuRGVsZXRlR3JvdXAnLCBtLmNhbkRlbGV0ZUdyb3VwKSxcbiAgICAgICdHJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2NhbkNoYW5nZVByaXZhdGVTZXR0aW5nJywgbS5jYW5DaGFuZ2VQcml2YXRlU2V0dGluZyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHcm91cENhcGFiaWxpdGllcyB7XG4gICAgcmV0dXJuIG5ldyBHcm91cENhcGFiaWxpdGllcyh7XG4gICAgICBjYW5FZGl0R3JvdXBOYW1lOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdBJywgbyksXG4gICAgICBjYW5BZGRNZW1iZXJzOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdDJywgbyksXG4gICAgICBhbGxvd2VkTWVtYmVyUm9sZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08R3JvdXBSb2xlPihHcm91cFJvbGVVdGlsLmRlc2VyaWFsaXplLCAnRCcsIG8pLFxuICAgICAgY2FuTW9kaWZ5TWVtYmVyUm9sZXM6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ0UnLCBvKSxcbiAgICAgIGNhbkRlbGV0ZUdyb3VwOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdGJywgbyksXG4gICAgICBjYW5DaGFuZ2VQcml2YXRlU2V0dGluZzogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignRycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVHcm91cFJlcXVlc3Qge1xuICAvKiogVGhlIGJyYW5kIHRoYXQgb3ducyB0aGlzIGdyb3VwLiAqL1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogVGhlIGRpc3BsYXkgbmFtZSBvZiB0aGUgZ3JvdXAuICovXG4gIHJlYWRvbmx5IGRpc3BsYXlOYW1lOiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgZ3JvdXAuICovXG4gIHJlYWRvbmx5IGRlc2NyaXB0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBPcHRpb25hbCB1c2VyIGlkLiBJZiBzZXQsIG1ha2UgdGhpcyB1c2VyIGFuIGFkbWluIG9mIHRoZSBncm91cC5cbiAgICogRm9yIHJlZ3VsYXIgdXNlcnMsIHRoZSBvbmx5IGFsbG93YWJsZSB2YWx1ZSBpcyB0aGVpciBvd24gdXNlciBpZC5cbiAgICogRm9yIHN1cHBvcnQgdGhpcyBjYW4gYmUgYW55IG1lbWJlciBvZiB0aGUgZ3JvdXAncyBicmFuZC5cbiAgICovXG4gIHJlYWRvbmx5IGdyb3VwQWRtaW46IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsLiBBIGxpc3Qgb2YgdXNlcnMgYW5kIHRoZWlyIHJvbGUgaW4gdGhlIG5ldyBncm91cC4gKi9cbiAgcmVhZG9ubHkgbWVtYmVyc2hpcHM6IHJlYWRvbmx5IEdyb3VwTWVtYmVyc2hpcEFkZGl0aW9uW107XG4gIC8qKlxuICAgKiBJZiB0cnVlLCBzZXQgdGhlIGdyb3VwIHRvIGJlIHByaXZhdGUuXG4gICAqIElmIGZhbHNlLCBzZXQgdGhlIGdyb3VwIHRvIGJlIHZpc2libGUgdG8gYWxsIGJyYW5kIG1lbWJlcnMuXG4gICAqL1xuICByZWFkb25seSBwcml2YXRlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogVGhlIGJyYW5kIHRoYXQgb3ducyB0aGlzIGdyb3VwLiAqL1xuICAgIGJyYW5kOiBzdHJpbmcsXG4gICAgLyoqIFRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIGdyb3VwLiAqL1xuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHRoZSBncm91cC4gKi9cbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCB1c2VyIGlkLiBJZiBzZXQsIG1ha2UgdGhpcyB1c2VyIGFuIGFkbWluIG9mIHRoZSBncm91cC5cbiAgICAgKiBGb3IgcmVndWxhciB1c2VycywgdGhlIG9ubHkgYWxsb3dhYmxlIHZhbHVlIGlzIHRoZWlyIG93biB1c2VyIGlkLlxuICAgICAqIEZvciBzdXBwb3J0IHRoaXMgY2FuIGJlIGFueSBtZW1iZXIgb2YgdGhlIGdyb3VwJ3MgYnJhbmQuXG4gICAgICovXG4gICAgZ3JvdXBBZG1pbj86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwuIEEgbGlzdCBvZiB1c2VycyBhbmQgdGhlaXIgcm9sZSBpbiB0aGUgbmV3IGdyb3VwLiAqL1xuICAgIG1lbWJlcnNoaXBzPzogcmVhZG9ubHkgR3JvdXBNZW1iZXJzaGlwQWRkaXRpb25bXSxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBzZXQgdGhlIGdyb3VwIHRvIGJlIHByaXZhdGUuXG4gICAgICogSWYgZmFsc2UsIHNldCB0aGUgZ3JvdXAgdG8gYmUgdmlzaWJsZSB0byBhbGwgYnJhbmQgbWVtYmVycy5cbiAgICAgKi9cbiAgICBwcml2YXRlPzogYm9vbGVhbixcbiAgfSkge1xuICAgIC8qKiBUaGUgYnJhbmQgdGhhdCBvd25zIHRoaXMgZ3JvdXAuICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIFRoZSBkaXNwbGF5IG5hbWUgb2YgdGhlIGdyb3VwLiAqL1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHRzLmRpc3BsYXlOYW1lO1xuICAgIC8qKiBPcHRpb25hbCBkZXNjcmlwdGlvbiBvZiB0aGUgZ3JvdXAuICovXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdHMuZGVzY3JpcHRpb247XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgdXNlciBpZC4gSWYgc2V0LCBtYWtlIHRoaXMgdXNlciBhbiBhZG1pbiBvZiB0aGUgZ3JvdXAuXG4gICAgICogRm9yIHJlZ3VsYXIgdXNlcnMsIHRoZSBvbmx5IGFsbG93YWJsZSB2YWx1ZSBpcyB0aGVpciBvd24gdXNlciBpZC5cbiAgICAgKiBGb3Igc3VwcG9ydCB0aGlzIGNhbiBiZSBhbnkgbWVtYmVyIG9mIHRoZSBncm91cCdzIGJyYW5kLlxuICAgICAqL1xuICAgIHRoaXMuZ3JvdXBBZG1pbiA9IG9wdHMuZ3JvdXBBZG1pbjtcbiAgICAvKiogT3B0aW9uYWwuIEEgbGlzdCBvZiB1c2VycyBhbmQgdGhlaXIgcm9sZSBpbiB0aGUgbmV3IGdyb3VwLiAqL1xuICAgIHRoaXMubWVtYmVyc2hpcHMgPSBvcHRzLm1lbWJlcnNoaXBzIHx8IFtdO1xuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHNldCB0aGUgZ3JvdXAgdG8gYmUgcHJpdmF0ZS5cbiAgICAgKiBJZiBmYWxzZSwgc2V0IHRoZSBncm91cCB0byBiZSB2aXNpYmxlIHRvIGFsbCBicmFuZCBtZW1iZXJzLlxuICAgICAqL1xuICAgIHRoaXMucHJpdmF0ZSA9IG9wdHMucHJpdmF0ZSAhPSBudWxsXG4gICAgICAgID8gb3B0cy5wcml2YXRlXG4gICAgICAgIDogZmFsc2U7XG5cbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlR3JvdXBSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICdkaXNwbGF5TmFtZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2Rpc3BsYXlOYW1lJywgbS5kaXNwbGF5TmFtZSksXG4gICAgICAnZGVzY3JpcHRpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkZXNjcmlwdGlvbicsIG0uZGVzY3JpcHRpb24pLFxuICAgICAgJ2dyb3VwQWRtaW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdncm91cEFkbWluJywgbS5ncm91cEFkbWluKSxcbiAgICAgICdtZW1iZXJzaGlwcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoR3JvdXBNZW1iZXJzaGlwQWRkaXRpb24uc2VyaWFsaXplLCAnbWVtYmVyc2hpcHMnLCBtLm1lbWJlcnNoaXBzKSxcbiAgICAgICdwcml2YXRlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3ByaXZhdGUnLCBtLnByaXZhdGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlR3JvdXBSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IENyZWF0ZUdyb3VwUmVxdWVzdCh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgZGlzcGxheU5hbWU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZGlzcGxheU5hbWUnLCBvKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2NyaXB0aW9uJywgbyksXG4gICAgICBncm91cEFkbWluOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2dyb3VwQWRtaW4nLCBvKSxcbiAgICAgIG1lbWJlcnNoaXBzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoR3JvdXBNZW1iZXJzaGlwQWRkaXRpb24uZGVzZXJpYWxpemUsICdtZW1iZXJzaGlwcycsIG8pLFxuICAgICAgcHJpdmF0ZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncHJpdmF0ZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIENyZWF0ZUdyb3VwUmVzcG9uc2VcbiAgICA9IENyZWF0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlXG4gICAgfCBDcmVhdGVHcm91cEVycm9yUmVzcG9uc2U7XG5cbmV4cG9ydCBjb25zdCBDcmVhdGVHcm91cFJlc3BvbnNlID0ge1xuICBzZXJpYWxpemUodTogQ3JlYXRlR3JvdXBSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgc3dpdGNoICh1LnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NVQ0NFU1MnOiByZXR1cm4gQ3JlYXRlR3JvdXBTdWNjZXNzUmVzcG9uc2Uuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnRVJST1InOiByZXR1cm4gQ3JlYXRlR3JvdXBFcnJvclJlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVHcm91cFJlc3BvbnNlIHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdTVUNDRVNTJzogcmV0dXJuIENyZWF0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnRVJST1InOiByZXR1cm4gQ3JlYXRlR3JvdXBFcnJvclJlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgQ3JlYXRlR3JvdXBTdWNjZXNzUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ1NVQ0NFU1MnO1xuXG4gIHJlYWRvbmx5IGdyb3VwOiBHcm91cDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgZ3JvdXA6IEdyb3VwLFxuICB9KSB7XG4gICAgdGhpcy5ncm91cCA9IG9wdHMuZ3JvdXA7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENyZWF0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU1VDQ0VTUycsXG4gICAgICAnZ3JvdXAnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEdyb3VwLnNlcmlhbGl6ZSwgJ2dyb3VwJywgbS5ncm91cCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVHcm91cFN1Y2Nlc3NSZXNwb25zZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1NVQ0NFU1MnKTtcbiAgICByZXR1cm4gbmV3IENyZWF0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlKHtcbiAgICAgIGdyb3VwOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoR3JvdXAuZGVzZXJpYWxpemUsICdncm91cCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVHcm91cEVycm9yUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ0VSUk9SJztcblxuICAvKiogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudCB3cm9uZy4gKi9cbiAgcmVhZG9ubHkgbWVzc2FnZTogc3RyaW5nO1xuICAvKiogQSBncm91cCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgYnJhbmQgd2l0aCB0aGUgZGlzcGxheV9uYW1lLiAqL1xuICByZWFkb25seSBkaXNwbGF5TmFtZVVuYXZhaWxhYmxlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudCB3cm9uZy4gKi9cbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgLyoqIEEgZ3JvdXAgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGJyYW5kIHdpdGggdGhlIGRpc3BsYXlfbmFtZS4gKi9cbiAgICBkaXNwbGF5TmFtZVVuYXZhaWxhYmxlPzogYm9vbGVhbixcbiAgfSkge1xuICAgIC8qKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50IHdyb25nLiAqL1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdHMubWVzc2FnZTtcbiAgICAvKiogQSBncm91cCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgYnJhbmQgd2l0aCB0aGUgZGlzcGxheV9uYW1lLiAqL1xuICAgIHRoaXMuZGlzcGxheU5hbWVVbmF2YWlsYWJsZSA9IG9wdHMuZGlzcGxheU5hbWVVbmF2YWlsYWJsZSAhPSBudWxsXG4gICAgICAgID8gb3B0cy5kaXNwbGF5TmFtZVVuYXZhaWxhYmxlXG4gICAgICAgIDogZmFsc2U7XG5cbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlR3JvdXBFcnJvclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRVJST1InLFxuICAgICAgJ21lc3NhZ2UnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZXNzYWdlJywgbS5tZXNzYWdlKSxcbiAgICAgICdkaXNwbGF5TmFtZVVuYXZhaWxhYmxlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2Rpc3BsYXlOYW1lVW5hdmFpbGFibGUnLCBtLmRpc3BsYXlOYW1lVW5hdmFpbGFibGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlR3JvdXBFcnJvclJlc3BvbnNlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnRVJST1InKTtcbiAgICByZXR1cm4gbmV3IENyZWF0ZUdyb3VwRXJyb3JSZXNwb25zZSh7XG4gICAgICBtZXNzYWdlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21lc3NhZ2UnLCBvKSxcbiAgICAgIGRpc3BsYXlOYW1lVW5hdmFpbGFibGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2Rpc3BsYXlOYW1lVW5hdmFpbGFibGUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0R3JvdXBSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgZ3JvdXA6IHN0cmluZztcbiAgLyoqIFNldCBvZiBhZGRpdGlvbmFsIGdyb3VwIGNvbXBvbmVudHMgdG8gcHJvdmlkZSBpbiB0aGUgcmVzcG9uc2UuICovXG4gIHJlYWRvbmx5IHByb2plY3Rpb246IHJlYWRvbmx5IEdyb3VwQ29tcG9uZW50W107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGdyb3VwOiBzdHJpbmcsXG4gICAgLyoqIFNldCBvZiBhZGRpdGlvbmFsIGdyb3VwIGNvbXBvbmVudHMgdG8gcHJvdmlkZSBpbiB0aGUgcmVzcG9uc2UuICovXG4gICAgcHJvamVjdGlvbj86IHJlYWRvbmx5IEdyb3VwQ29tcG9uZW50W10sXG4gIH0pIHtcbiAgICB0aGlzLmdyb3VwID0gb3B0cy5ncm91cDtcbiAgICAvKiogU2V0IG9mIGFkZGl0aW9uYWwgZ3JvdXAgY29tcG9uZW50cyB0byBwcm92aWRlIGluIHRoZSByZXNwb25zZS4gKi9cbiAgICB0aGlzLnByb2plY3Rpb24gPSBvcHRzLnByb2plY3Rpb24gfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldEdyb3VwUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdncm91cCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2dyb3VwJywgbS5ncm91cCksXG4gICAgICAncHJvamVjdGlvbic6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKEdyb3VwQ29tcG9uZW50VXRpbC5zZXJpYWxpemUsICdwcm9qZWN0aW9uJywgbS5wcm9qZWN0aW9uKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldEdyb3VwUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRHcm91cFJlcXVlc3Qoe1xuICAgICAgZ3JvdXA6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZ3JvdXAnLCBvKSxcbiAgICAgIHByb2plY3Rpb246IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08R3JvdXBDb21wb25lbnQ+KEdyb3VwQ29tcG9uZW50VXRpbC5kZXNlcmlhbGl6ZSwgJ3Byb2plY3Rpb24nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0R3JvdXBSZXNwb25zZSB7XG4gIHJlYWRvbmx5IGdyb3VwOiBHcm91cDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgZ3JvdXA6IEdyb3VwLFxuICB9KSB7XG4gICAgdGhpcy5ncm91cCA9IG9wdHMuZ3JvdXA7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldEdyb3VwUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZ3JvdXAnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEdyb3VwLnNlcmlhbGl6ZSwgJ2dyb3VwJywgbS5ncm91cCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRHcm91cFJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IEdldEdyb3VwUmVzcG9uc2Uoe1xuICAgICAgZ3JvdXA6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChHcm91cC5kZXNlcmlhbGl6ZSwgJ2dyb3VwJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZUdyb3VwUmVxdWVzdCB7XG4gIC8qKiBUaGUgZ3JvdXAgdG8gdXBkYXRlLiAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICAvKiogSWYgc2V0LCB1cGRhdGUgdGhlIGRpc3BsYXkgbmFtZS4gKi9cbiAgcmVhZG9ubHkgZGlzcGxheU5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSBkZXNjcmlwdGlvbi4gKi9cbiAgcmVhZG9ubHkgZGVzY3JpcHRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIElmIHRydWUsIHNldCB0aGUgZ3JvdXAgdG8gYmUgcHJpdmF0ZS5cbiAgICogSWYgZmFsc2UsIHNldCB0aGUgZ3JvdXAgdG8gYmUgdmlzaWJsZSB0byBhbGwgYnJhbmQgbWVtYmVycy5cbiAgICovXG4gIHJlYWRvbmx5IHByaXZhdGU6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBUaGUgZ3JvdXAgdG8gdXBkYXRlLiAqL1xuICAgIGlkOiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSBkaXNwbGF5IG5hbWUuICovXG4gICAgZGlzcGxheU5hbWU/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSBkZXNjcmlwdGlvbi4gKi9cbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBJZiB0cnVlLCBzZXQgdGhlIGdyb3VwIHRvIGJlIHByaXZhdGUuXG4gICAgICogSWYgZmFsc2UsIHNldCB0aGUgZ3JvdXAgdG8gYmUgdmlzaWJsZSB0byBhbGwgYnJhbmQgbWVtYmVycy5cbiAgICAgKi9cbiAgICBwcml2YXRlPzogYm9vbGVhbixcbiAgfSkge1xuICAgIC8qKiBUaGUgZ3JvdXAgdG8gdXBkYXRlLiAqL1xuICAgIHRoaXMuaWQgPSBvcHRzLmlkO1xuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgZGlzcGxheSBuYW1lLiAqL1xuICAgIHRoaXMuZGlzcGxheU5hbWUgPSBvcHRzLmRpc3BsYXlOYW1lO1xuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgZGVzY3JpcHRpb24uICovXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdHMuZGVzY3JpcHRpb247XG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgc2V0IHRoZSBncm91cCB0byBiZSBwcml2YXRlLlxuICAgICAqIElmIGZhbHNlLCBzZXQgdGhlIGdyb3VwIHRvIGJlIHZpc2libGUgdG8gYWxsIGJyYW5kIG1lbWJlcnMuXG4gICAgICovXG4gICAgdGhpcy5wcml2YXRlID0gb3B0cy5wcml2YXRlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVHcm91cFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnaWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG0uaWQpLFxuICAgICAgJ2Rpc3BsYXlOYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGlzcGxheU5hbWUnLCBtLmRpc3BsYXlOYW1lKSxcbiAgICAgICdkZXNjcmlwdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2NyaXB0aW9uJywgbS5kZXNjcmlwdGlvbiksXG4gICAgICAncHJpdmF0ZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdwcml2YXRlJywgbS5wcml2YXRlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZUdyb3VwUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVHcm91cFJlcXVlc3Qoe1xuICAgICAgaWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBvKSxcbiAgICAgIGRpc3BsYXlOYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rpc3BsYXlOYW1lJywgbyksXG4gICAgICBkZXNjcmlwdGlvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkZXNjcmlwdGlvbicsIG8pLFxuICAgICAgcHJpdmF0ZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncHJpdmF0ZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZUdyb3VwUmVzcG9uc2VcbiAgICA9IFVwZGF0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlXG4gICAgfCBVcGRhdGVHcm91cEVycm9yUmVzcG9uc2U7XG5cbmV4cG9ydCBjb25zdCBVcGRhdGVHcm91cFJlc3BvbnNlID0ge1xuICBzZXJpYWxpemUodTogVXBkYXRlR3JvdXBSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgc3dpdGNoICh1LnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NVQ0NFU1MnOiByZXR1cm4gVXBkYXRlR3JvdXBTdWNjZXNzUmVzcG9uc2Uuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnRVJST1InOiByZXR1cm4gVXBkYXRlR3JvdXBFcnJvclJlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVHcm91cFJlc3BvbnNlIHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdTVUNDRVNTJzogcmV0dXJuIFVwZGF0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnRVJST1InOiByZXR1cm4gVXBkYXRlR3JvdXBFcnJvclJlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgVXBkYXRlR3JvdXBTdWNjZXNzUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ1NVQ0NFU1MnO1xuXG4gIHJlYWRvbmx5IGdyb3VwOiBHcm91cDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgZ3JvdXA6IEdyb3VwLFxuICB9KSB7XG4gICAgdGhpcy5ncm91cCA9IG9wdHMuZ3JvdXA7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU1VDQ0VTUycsXG4gICAgICAnZ3JvdXAnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEdyb3VwLnNlcmlhbGl6ZSwgJ2dyb3VwJywgbS5ncm91cCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVHcm91cFN1Y2Nlc3NSZXNwb25zZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1NVQ0NFU1MnKTtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlKHtcbiAgICAgIGdyb3VwOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoR3JvdXAuZGVzZXJpYWxpemUsICdncm91cCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVHcm91cEVycm9yUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ0VSUk9SJztcblxuICAvKiogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudCB3cm9uZy4gKi9cbiAgcmVhZG9ubHkgbWVzc2FnZTogc3RyaW5nO1xuICAvKiogQSBncm91cCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgYnJhbmQgd2l0aCB0aGUgZGlzcGxheV9uYW1lLiAqL1xuICByZWFkb25seSBkaXNwbGF5TmFtZVVuYXZhaWxhYmxlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogQSBsb2NhbGl6ZWQgbWVzc2FnZSB0byBkaXNwbGF5IHRvIHRoZSB1c2VyIHRvIGhlbHAgaW5mb3JtIHRoZSB1c2VyIHdoYXQgd2VudCB3cm9uZy4gKi9cbiAgICBtZXNzYWdlOiBzdHJpbmcsXG4gICAgLyoqIEEgZ3JvdXAgYWxyZWFkeSBleGlzdHMgaW4gdGhlIGJyYW5kIHdpdGggdGhlIGRpc3BsYXlfbmFtZS4gKi9cbiAgICBkaXNwbGF5TmFtZVVuYXZhaWxhYmxlPzogYm9vbGVhbixcbiAgfSkge1xuICAgIC8qKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50IHdyb25nLiAqL1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdHMubWVzc2FnZTtcbiAgICAvKiogQSBncm91cCBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgYnJhbmQgd2l0aCB0aGUgZGlzcGxheV9uYW1lLiAqL1xuICAgIHRoaXMuZGlzcGxheU5hbWVVbmF2YWlsYWJsZSA9IG9wdHMuZGlzcGxheU5hbWVVbmF2YWlsYWJsZSAhPSBudWxsXG4gICAgICAgID8gb3B0cy5kaXNwbGF5TmFtZVVuYXZhaWxhYmxlXG4gICAgICAgIDogZmFsc2U7XG5cbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlR3JvdXBFcnJvclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRVJST1InLFxuICAgICAgJ21lc3NhZ2UnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZXNzYWdlJywgbS5tZXNzYWdlKSxcbiAgICAgICdkaXNwbGF5TmFtZVVuYXZhaWxhYmxlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2Rpc3BsYXlOYW1lVW5hdmFpbGFibGUnLCBtLmRpc3BsYXlOYW1lVW5hdmFpbGFibGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVXBkYXRlR3JvdXBFcnJvclJlc3BvbnNlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnRVJST1InKTtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZUdyb3VwRXJyb3JSZXNwb25zZSh7XG4gICAgICBtZXNzYWdlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21lc3NhZ2UnLCBvKSxcbiAgICAgIGRpc3BsYXlOYW1lVW5hdmFpbGFibGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2Rpc3BsYXlOYW1lVW5hdmFpbGFibGUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBGaW5kR3JvdXBzTW9kZVxuICAgID0gRmluZEdyb3Vwc0J5TmFtZVxuICAgIHwgRmluZEdyb3Vwc0J5SWQ7XG5cbmV4cG9ydCBjb25zdCBGaW5kR3JvdXBzTW9kZSA9IHtcbiAgc2VyaWFsaXplKHU6IEZpbmRHcm91cHNNb2RlKTogb2JqZWN0IHtcbiAgICBzd2l0Y2ggKHUudHlwZSkge1xuICAgICAgY2FzZSAnQllfTkFNRSc6IHJldHVybiBGaW5kR3JvdXBzQnlOYW1lLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0JZX0lEJzogcmV0dXJuIEZpbmRHcm91cHNCeUlkLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kR3JvdXBzTW9kZSB7XG4gICAgY29uc3Qga2FzZSA9IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndHlwZScsIG8pO1xuICAgIHN3aXRjaCAoa2FzZSkge1xuICAgICAgY2FzZSAnQllfTkFNRSc6IHJldHVybiBGaW5kR3JvdXBzQnlOYW1lLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnQllfSUQnOiByZXR1cm4gRmluZEdyb3Vwc0J5SWQuZGVzZXJpYWxpemUobyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gY2FzZTogJHtrYXNlfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjbGFzcyBGaW5kR3JvdXBzQnlOYW1lIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdCWV9OQU1FJztcblxuICAvKiogQSBwYXJ0aWFsIG5hbWUgdG8gbWF0Y2ggZ3JvdXBzIGJ5ICovXG4gIHJlYWRvbmx5IHF1ZXJ5OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBBIHBhcnRpYWwgbmFtZSB0byBtYXRjaCBncm91cHMgYnkgKi9cbiAgICBxdWVyeTogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIEEgcGFydGlhbCBuYW1lIHRvIG1hdGNoIGdyb3VwcyBieSAqL1xuICAgIHRoaXMucXVlcnkgPSBvcHRzLnF1ZXJ5O1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kR3JvdXBzQnlOYW1lKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnQllfTkFNRScsXG4gICAgICAncXVlcnknOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdxdWVyeScsIG0ucXVlcnkpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZEdyb3Vwc0J5TmFtZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ0JZX05BTUUnKTtcbiAgICByZXR1cm4gbmV3IEZpbmRHcm91cHNCeU5hbWUoe1xuICAgICAgcXVlcnk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncXVlcnknLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogTk9URTogbm90IHlldCBzdXBwb3J0ZWQsIHBsZWFzZSB1c2UgYEZpbmRHcm91cHNSZXF1ZXN0Lmdyb3Vwc2AgZm9yIG5vdyAqL1xuZXhwb3J0IGNsYXNzIEZpbmRHcm91cHNCeUlkIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdCWV9JRCc7XG5cbiAgLyoqIE9ubHkgcmV0dXJuIHRoZSBncm91cHMgd2l0aCB0aGVzZSBpZHMgKi9cbiAgcmVhZG9ubHkgaWRzOiByZWFkb25seSBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIE9ubHkgcmV0dXJuIHRoZSBncm91cHMgd2l0aCB0aGVzZSBpZHMgKi9cbiAgICBpZHM/OiByZWFkb25seSBzdHJpbmdbXSxcbiAgfSkge1xuICAgIC8qKiBPbmx5IHJldHVybiB0aGUgZ3JvdXBzIHdpdGggdGhlc2UgaWRzICovXG4gICAgdGhpcy5pZHMgPSBvcHRzLmlkcyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZEdyb3Vwc0J5SWQpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdCWV9JRCcsXG4gICAgICAnaWRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnaWRzJywgbS5pZHMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZEdyb3Vwc0J5SWQge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdCWV9JRCcpO1xuICAgIHJldHVybiBuZXcgRmluZEdyb3Vwc0J5SWQoe1xuICAgICAgaWRzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2lkcycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kR3JvdXBzUmVxdWVzdCB7XG4gIC8qKiBGaW5kIGdyb3VwcyB0aGF0IGFyZSBvd25lZCBieSB0aGlzIGJyYW5kLiAqL1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogRmlsdGVyIGZvciBncm91cHMgKi9cbiAgcmVhZG9ubHkgbW9kZTogRmluZEdyb3Vwc01vZGUgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBsaXN0IG9mIGdyb3VwIGlkcy4gSWYgaW5jbHVkZWQsIG9ubHkgcmV0dXJuIHRoZXNlIGdyb3Vwcy4gKi9cbiAgcmVhZG9ubHkgZ3JvdXBzOiByZWFkb25seSBzdHJpbmdbXTtcbiAgLyoqIFRoZSBjb250aW51YXRpb24gdG9rZW4sIHVzZWQgZm9yIHBhZ2luYXRpb24uICovXG4gIHJlYWRvbmx5IGNvbnRpbnVhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuLiAqL1xuICByZWFkb25seSBsaW1pdDogbnVtYmVyO1xuICAvKiogU2V0IG9mIGFkZGl0aW9uYWwgZ3JvdXAgY29tcG9uZW50cyB0byBwcm92aWRlIGluIHRoZSByZXNwb25zZS4gKi9cbiAgcmVhZG9ubHkgcHJvamVjdGlvbjogcmVhZG9ubHkgR3JvdXBDb21wb25lbnRbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEZpbmQgZ3JvdXBzIHRoYXQgYXJlIG93bmVkIGJ5IHRoaXMgYnJhbmQuICovXG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICAvKiogRmlsdGVyIGZvciBncm91cHMgKi9cbiAgICBtb2RlPzogRmluZEdyb3Vwc01vZGUsXG4gICAgLyoqIE9wdGlvbmFsIGxpc3Qgb2YgZ3JvdXAgaWRzLiBJZiBpbmNsdWRlZCwgb25seSByZXR1cm4gdGhlc2UgZ3JvdXBzLiAqL1xuICAgIGdyb3Vwcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuLiAqL1xuICAgIGxpbWl0PzogbnVtYmVyLFxuICAgIC8qKiBTZXQgb2YgYWRkaXRpb25hbCBncm91cCBjb21wb25lbnRzIHRvIHByb3ZpZGUgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICAgIHByb2plY3Rpb24/OiByZWFkb25seSBHcm91cENvbXBvbmVudFtdLFxuICB9KSB7XG4gICAgLyoqIEZpbmQgZ3JvdXBzIHRoYXQgYXJlIG93bmVkIGJ5IHRoaXMgYnJhbmQuICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIEZpbHRlciBmb3IgZ3JvdXBzICovXG4gICAgdGhpcy5tb2RlID0gb3B0cy5tb2RlO1xuICAgIC8qKiBPcHRpb25hbCBsaXN0IG9mIGdyb3VwIGlkcy4gSWYgaW5jbHVkZWQsIG9ubHkgcmV0dXJuIHRoZXNlIGdyb3Vwcy4gKi9cbiAgICB0aGlzLmdyb3VwcyA9IG9wdHMuZ3JvdXBzIHx8IFtdO1xuICAgIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gICAgLyoqIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gKi9cbiAgICB0aGlzLmxpbWl0ID0gb3B0cy5saW1pdCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5saW1pdFxuICAgICAgICA6IDEwMDtcblxuICAgIC8qKiBTZXQgb2YgYWRkaXRpb25hbCBncm91cCBjb21wb25lbnRzIHRvIHByb3ZpZGUgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICAgIHRoaXMucHJvamVjdGlvbiA9IG9wdHMucHJvamVjdGlvbiB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZEdyb3Vwc1JlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ21vZGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEZpbmRHcm91cHNNb2RlLnNlcmlhbGl6ZSwgJ21vZGUnLCBtLm1vZGUpLFxuICAgICAgJ2dyb3Vwcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2dyb3VwcycsIG0uZ3JvdXBzKSxcbiAgICAgICdjb250aW51YXRpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBtLmNvbnRpbnVhdGlvbiksXG4gICAgICAnbGltaXQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdsaW1pdCcsIG0ubGltaXQpLFxuICAgICAgJ3Byb2plY3Rpb24nOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bShHcm91cENvbXBvbmVudFV0aWwuc2VyaWFsaXplLCAncHJvamVjdGlvbicsIG0ucHJvamVjdGlvbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kR3JvdXBzUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBGaW5kR3JvdXBzUmVxdWVzdCh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgbW9kZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEZpbmRHcm91cHNNb2RlLmRlc2VyaWFsaXplLCAnbW9kZScsIG8pLFxuICAgICAgZ3JvdXBzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2dyb3VwcycsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgbGltaXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBvKSxcbiAgICAgIHByb2plY3Rpb246IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08R3JvdXBDb21wb25lbnQ+KEdyb3VwQ29tcG9uZW50VXRpbC5kZXNlcmlhbGl6ZSwgJ3Byb2plY3Rpb24nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEdyb3Vwc1Jlc3BvbnNlIHtcbiAgcmVhZG9ubHkgZ3JvdXBzOiByZWFkb25seSBHcm91cFtdO1xuICAvKiogVGhlIGNvbnRpbnVhdGlvbiB0b2tlbiwgdXNlZCBmb3IgcGFnaW5hdGlvbi4gKi9cbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGdyb3Vwcz86IHJlYWRvbmx5IEdyb3VwW10sXG4gICAgLyoqIFRoZSBjb250aW51YXRpb24gdG9rZW4sIHVzZWQgZm9yIHBhZ2luYXRpb24uICovXG4gICAgY29udGludWF0aW9uPzogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5ncm91cHMgPSBvcHRzLmdyb3VwcyB8fCBbXTtcbiAgICAvKiogVGhlIGNvbnRpbnVhdGlvbiB0b2tlbiwgdXNlZCBmb3IgcGFnaW5hdGlvbi4gKi9cbiAgICB0aGlzLmNvbnRpbnVhdGlvbiA9IG9wdHMuY29udGludWF0aW9uO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kR3JvdXBzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZ3JvdXBzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChHcm91cC5zZXJpYWxpemUsICdncm91cHMnLCBtLmdyb3VwcyksXG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZEdyb3Vwc1Jlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IEZpbmRHcm91cHNSZXNwb25zZSh7XG4gICAgICBncm91cHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChHcm91cC5kZXNlcmlhbGl6ZSwgJ2dyb3VwcycsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGVHcm91cFJlcXVlc3Qge1xuICAvKiogVGhlIGlkIG9mIHRoZSBncm91cCAqL1xuICByZWFkb25seSBncm91cDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogVGhlIGlkIG9mIHRoZSBncm91cCAqL1xuICAgIGdyb3VwOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogVGhlIGlkIG9mIHRoZSBncm91cCAqL1xuICAgIHRoaXMuZ3JvdXAgPSBvcHRzLmdyb3VwO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBEZWxldGVHcm91cFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZ3JvdXAnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdncm91cCcsIG0uZ3JvdXApLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRGVsZXRlR3JvdXBSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IERlbGV0ZUdyb3VwUmVxdWVzdCh7XG4gICAgICBncm91cDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdncm91cCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIERlbGV0ZUdyb3VwUmVzcG9uc2VcbiAgICA9IERlbGV0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlXG4gICAgfCBEZWxldGVHcm91cEVycm9yUmVzcG9uc2U7XG5cbmV4cG9ydCBjb25zdCBEZWxldGVHcm91cFJlc3BvbnNlID0ge1xuICBzZXJpYWxpemUodTogRGVsZXRlR3JvdXBSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgc3dpdGNoICh1LnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NVQ0NFU1MnOiByZXR1cm4gRGVsZXRlR3JvdXBTdWNjZXNzUmVzcG9uc2Uuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnRVJST1InOiByZXR1cm4gRGVsZXRlR3JvdXBFcnJvclJlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBEZWxldGVHcm91cFJlc3BvbnNlIHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdTVUNDRVNTJzogcmV0dXJuIERlbGV0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnRVJST1InOiByZXR1cm4gRGVsZXRlR3JvdXBFcnJvclJlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgRGVsZXRlR3JvdXBTdWNjZXNzUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ1NVQ0NFU1MnO1xuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRGVsZXRlR3JvdXBTdWNjZXNzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdTVUNDRVNTJyxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IERlbGV0ZUdyb3VwU3VjY2Vzc1Jlc3BvbnNlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnU1VDQ0VTUycpO1xuICAgIHJldHVybiBuZXcgRGVsZXRlR3JvdXBTdWNjZXNzUmVzcG9uc2UoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlR3JvdXBFcnJvclJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdFUlJPUic7XG5cbiAgLyoqIEEgbG9jYWxpemVkIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciB0byBoZWxwIGluZm9ybSB0aGUgdXNlciB3aGF0IHdlbnQgd3JvbmcuICovXG4gIHJlYWRvbmx5IG1lc3NhZ2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEEgbG9jYWxpemVkIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciB0byBoZWxwIGluZm9ybSB0aGUgdXNlciB3aGF0IHdlbnQgd3JvbmcuICovXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIEEgbG9jYWxpemVkIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciB0byBoZWxwIGluZm9ybSB0aGUgdXNlciB3aGF0IHdlbnQgd3JvbmcuICovXG4gICAgdGhpcy5tZXNzYWdlID0gb3B0cy5tZXNzYWdlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBEZWxldGVHcm91cEVycm9yUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdFUlJPUicsXG4gICAgICAnbWVzc2FnZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21lc3NhZ2UnLCBtLm1lc3NhZ2UpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRGVsZXRlR3JvdXBFcnJvclJlc3BvbnNlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnRVJST1InKTtcbiAgICByZXR1cm4gbmV3IERlbGV0ZUdyb3VwRXJyb3JSZXNwb25zZSh7XG4gICAgICBtZXNzYWdlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21lc3NhZ2UnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1JlcXVlc3Qge1xuICAvKiogVGhlIGlkIG9mIHRoZSBncm91cCAqL1xuICByZWFkb25seSBncm91cDogc3RyaW5nO1xuICAvKiogQSBsaXN0IG9mIHVzZXJzIGFuZCB0aGVpciByb2xlIGluIHRoZSBncm91cCAqL1xuICByZWFkb25seSBtZW1iZXJzaGlwczogcmVhZG9ubHkgR3JvdXBNZW1iZXJzaGlwQWRkaXRpb25bXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgZ3JvdXAgKi9cbiAgICBncm91cDogc3RyaW5nLFxuICAgIC8qKiBBIGxpc3Qgb2YgdXNlcnMgYW5kIHRoZWlyIHJvbGUgaW4gdGhlIGdyb3VwICovXG4gICAgbWVtYmVyc2hpcHM/OiByZWFkb25seSBHcm91cE1lbWJlcnNoaXBBZGRpdGlvbltdLFxuICB9KSB7XG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgZ3JvdXAgKi9cbiAgICB0aGlzLmdyb3VwID0gb3B0cy5ncm91cDtcbiAgICAvKiogQSBsaXN0IG9mIHVzZXJzIGFuZCB0aGVpciByb2xlIGluIHRoZSBncm91cCAqL1xuICAgIHRoaXMubWVtYmVyc2hpcHMgPSBvcHRzLm1lbWJlcnNoaXBzIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVHcm91cE1lbWJlcnNoaXBzUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdncm91cCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2dyb3VwJywgbS5ncm91cCksXG4gICAgICAnbWVtYmVyc2hpcHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEdyb3VwTWVtYmVyc2hpcEFkZGl0aW9uLnNlcmlhbGl6ZSwgJ21lbWJlcnNoaXBzJywgbS5tZW1iZXJzaGlwcyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVHcm91cE1lbWJlcnNoaXBzUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBDcmVhdGVHcm91cE1lbWJlcnNoaXBzUmVxdWVzdCh7XG4gICAgICBncm91cDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdncm91cCcsIG8pLFxuICAgICAgbWVtYmVyc2hpcHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChHcm91cE1lbWJlcnNoaXBBZGRpdGlvbi5kZXNlcmlhbGl6ZSwgJ21lbWJlcnNoaXBzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdyb3VwTWVtYmVyc2hpcEFkZGl0aW9uIHtcbiAgLyoqIFRoZSBpZCBvZiB0aGUgdXNlciAqL1xuICByZWFkb25seSB1c2VyOiBzdHJpbmc7XG4gIC8qKiBUaGUgcm9sZSBvZiB0aGUgdXNlciB3aXRoaW4gdGhlIGdyb3VwICovXG4gIHJlYWRvbmx5IHJvbGU6IEdyb3VwUm9sZTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgdXNlciAqL1xuICAgIHVzZXI6IHN0cmluZyxcbiAgICAvKiogVGhlIHJvbGUgb2YgdGhlIHVzZXIgd2l0aGluIHRoZSBncm91cCAqL1xuICAgIHJvbGU6IEdyb3VwUm9sZSxcbiAgfSkge1xuICAgIC8qKiBUaGUgaWQgb2YgdGhlIHVzZXIgKi9cbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgLyoqIFRoZSByb2xlIG9mIHRoZSB1c2VyIHdpdGhpbiB0aGUgZ3JvdXAgKi9cbiAgICB0aGlzLnJvbGUgPSBvcHRzLnJvbGU7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdyb3VwTWVtYmVyc2hpcEFkZGl0aW9uKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICAgICdyb2xlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oR3JvdXBSb2xlVXRpbC5zZXJpYWxpemUsICdyb2xlJywgbS5yb2xlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdyb3VwTWVtYmVyc2hpcEFkZGl0aW9uIHtcbiAgICByZXR1cm4gbmV3IEdyb3VwTWVtYmVyc2hpcEFkZGl0aW9uKHtcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG8pLFxuICAgICAgcm9sZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxHcm91cFJvbGU+KEdyb3VwUm9sZVV0aWwuZGVzZXJpYWxpemUsICdyb2xlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIERlZmluZXMgcm9sZXMgb2YgYSB1c2VyIHdpdGhpbiBhIGdyb3VwLiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gR3JvdXBSb2xlIHtcbiAgQURNSU4gPSAxLFxuICBNRU1CRVIsXG59XG5cbmV4cG9ydCBjb25zdCBHcm91cFJvbGVVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBHcm91cFJvbGVbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEdyb3VwUm9sZS5BRE1JTixcbiAgICAgIEdyb3VwUm9sZS5NRU1CRVIsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IEdyb3VwUm9sZSk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBHcm91cFJvbGUuQURNSU46IHJldHVybiAnQURNSU4nO1xuICAgICAgY2FzZSBHcm91cFJvbGUuTUVNQkVSOiByZXR1cm4gJ01FTUJFUic7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBHcm91cFJvbGUgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ0FETUlOJzogcmV0dXJuIEdyb3VwUm9sZS5BRE1JTjtcbiAgICAgIGNhc2UgJ01FTUJFUic6IHJldHVybiBHcm91cFJvbGUuTUVNQkVSO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnR3JvdXBSb2xlJyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNsYXNzIEdyb3VwTWVtYmVyc2hpcCB7XG4gIC8qKiBUaGUgaWQgb2YgdGhlIG93bmluZyBicmFuZCBvZiB0aGlzIGdyb3VwLiAqL1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogVGhlIGlkIG9mIHRoZSBncm91cCAqL1xuICByZWFkb25seSBncm91cDogc3RyaW5nO1xuICAvKiogVGhlIGlkIG9mIHRoZSB1c2VyICovXG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcbiAgLyoqIFRoZSByb2xlIG9mIHRoZSB1c2VyIHdpdGhpbiB0aGUgZ3JvdXAgKi9cbiAgcmVhZG9ubHkgcm9sZTogR3JvdXBSb2xlO1xuICAvKiogVXNlciBpbmZvcm1hdGlvbiwgcmV0dXJuZWQgYXMgcmVxdWlyZWQgYnkgdGhlIHByb2plY3Rpb24gKi9cbiAgcmVhZG9ubHkgdXNlclByb2plY3Rpb246IFVzZXIgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBUaGUgaWQgb2YgdGhlIG93bmluZyBicmFuZCBvZiB0aGlzIGdyb3VwLiAqL1xuICAgIGJyYW5kOiBzdHJpbmcsXG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgZ3JvdXAgKi9cbiAgICBncm91cDogc3RyaW5nLFxuICAgIC8qKiBUaGUgaWQgb2YgdGhlIHVzZXIgKi9cbiAgICB1c2VyOiBzdHJpbmcsXG4gICAgLyoqIFRoZSByb2xlIG9mIHRoZSB1c2VyIHdpdGhpbiB0aGUgZ3JvdXAgKi9cbiAgICByb2xlOiBHcm91cFJvbGUsXG4gICAgLyoqIFVzZXIgaW5mb3JtYXRpb24sIHJldHVybmVkIGFzIHJlcXVpcmVkIGJ5IHRoZSBwcm9qZWN0aW9uICovXG4gICAgdXNlclByb2plY3Rpb24/OiBVc2VyLFxuICB9KSB7XG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgb3duaW5nIGJyYW5kIG9mIHRoaXMgZ3JvdXAuICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgZ3JvdXAgKi9cbiAgICB0aGlzLmdyb3VwID0gb3B0cy5ncm91cDtcbiAgICAvKiogVGhlIGlkIG9mIHRoZSB1c2VyICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICAgIC8qKiBUaGUgcm9sZSBvZiB0aGUgdXNlciB3aXRoaW4gdGhlIGdyb3VwICovXG4gICAgdGhpcy5yb2xlID0gb3B0cy5yb2xlO1xuICAgIC8qKiBVc2VyIGluZm9ybWF0aW9uLCByZXR1cm5lZCBhcyByZXF1aXJlZCBieSB0aGUgcHJvamVjdGlvbiAqL1xuICAgIHRoaXMudXNlclByb2plY3Rpb24gPSBvcHRzLnVzZXJQcm9qZWN0aW9uO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHcm91cE1lbWJlcnNoaXApOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ2dyb3VwJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZ3JvdXAnLCBtLmdyb3VwKSxcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG0udXNlciksXG4gICAgICAncm9sZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtKEdyb3VwUm9sZVV0aWwuc2VyaWFsaXplLCAncm9sZScsIG0ucm9sZSksXG4gICAgICAndXNlclByb2plY3Rpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVzZXIuc2VyaWFsaXplLCAndXNlclByb2plY3Rpb24nLCBtLnVzZXJQcm9qZWN0aW9uKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdyb3VwTWVtYmVyc2hpcCB7XG4gICAgcmV0dXJuIG5ldyBHcm91cE1lbWJlcnNoaXAoe1xuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBvKSxcbiAgICAgIGdyb3VwOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2dyb3VwJywgbyksXG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICAgIHJvbGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08R3JvdXBSb2xlPihHcm91cFJvbGVVdGlsLmRlc2VyaWFsaXplLCAncm9sZScsIG8pLFxuICAgICAgdXNlclByb2plY3Rpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChVc2VyLmRlc2VyaWFsaXplLCAndXNlclByb2plY3Rpb24nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDcmVhdGVHcm91cE1lbWJlcnNoaXBzUmVzcG9uc2VcbiAgICA9IENyZWF0ZUdyb3VwTWVtYmVyc2hpcHNTdWNjZXNzUmVzcG9uc2VcbiAgICB8IENyZWF0ZUdyb3VwTWVtYmVyc2hpcHNFcnJvclJlc3BvbnNlO1xuXG5leHBvcnQgY29uc3QgQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1Jlc3BvbnNlID0ge1xuICBzZXJpYWxpemUodTogQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICBzd2l0Y2ggKHUudHlwZSkge1xuICAgICAgY2FzZSAnU1VDQ0VTUyc6IHJldHVybiBDcmVhdGVHcm91cE1lbWJlcnNoaXBzU3VjY2Vzc1Jlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0VSUk9SJzogcmV0dXJuIENyZWF0ZUdyb3VwTWVtYmVyc2hpcHNFcnJvclJlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVHcm91cE1lbWJlcnNoaXBzUmVzcG9uc2Uge1xuICAgIGNvbnN0IGthc2UgPSBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3R5cGUnLCBvKTtcbiAgICBzd2l0Y2ggKGthc2UpIHtcbiAgICAgIGNhc2UgJ1NVQ0NFU1MnOiByZXR1cm4gQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1N1Y2Nlc3NSZXNwb25zZS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0VSUk9SJzogcmV0dXJuIENyZWF0ZUdyb3VwTWVtYmVyc2hpcHNFcnJvclJlc3BvbnNlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1N1Y2Nlc3NSZXNwb25zZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnU1VDQ0VTUyc7XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVHcm91cE1lbWJlcnNoaXBzU3VjY2Vzc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU1VDQ0VTUycsXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVHcm91cE1lbWJlcnNoaXBzU3VjY2Vzc1Jlc3BvbnNlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnU1VDQ0VTUycpO1xuICAgIHJldHVybiBuZXcgQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1N1Y2Nlc3NSZXNwb25zZSgpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVHcm91cE1lbWJlcnNoaXBzRXJyb3JSZXNwb25zZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnRVJST1InO1xuXG4gIC8qKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50IHdyb25nLiAqL1xuICByZWFkb25seSBtZXNzYWdlOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50IHdyb25nLiAqL1xuICAgIG1lc3NhZ2U6IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBBIGxvY2FsaXplZCBtZXNzYWdlIHRvIGRpc3BsYXkgdG8gdGhlIHVzZXIgdG8gaGVscCBpbmZvcm0gdGhlIHVzZXIgd2hhdCB3ZW50IHdyb25nLiAqL1xuICAgIHRoaXMubWVzc2FnZSA9IG9wdHMubWVzc2FnZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc0Vycm9yUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdFUlJPUicsXG4gICAgICAnbWVzc2FnZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21lc3NhZ2UnLCBtLm1lc3NhZ2UpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc0Vycm9yUmVzcG9uc2Uge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdFUlJPUicpO1xuICAgIHJldHVybiBuZXcgQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc0Vycm9yUmVzcG9uc2Uoe1xuICAgICAgbWVzc2FnZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZXNzYWdlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZUdyb3VwTWVtYmVyc2hpcFJlcXVlc3Qge1xuICAvKiogVGhlIGlkIG9mIHRoZSBncm91cCAqL1xuICByZWFkb25seSBncm91cDogc3RyaW5nO1xuICAvKiogVGhlIGlkIG9mIHRoZSB1c2VyICovXG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcbiAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3Mgcm9sZSB3aXRoaW4gdGhlIGdyb3VwLiAqL1xuICByZWFkb25seSByb2xlOiBHcm91cFJvbGUgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiB0cnVlLCByZW1vdmUgdGhlIHVzZXIgZnJvbSB0aGUgZ3JvdXAuICovXG4gIHJlYWRvbmx5IHJlbW92ZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgZ3JvdXAgKi9cbiAgICBncm91cDogc3RyaW5nLFxuICAgIC8qKiBUaGUgaWQgb2YgdGhlIHVzZXIgKi9cbiAgICB1c2VyOiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgdXBkYXRlIHRoZSB1c2VyJ3Mgcm9sZSB3aXRoaW4gdGhlIGdyb3VwLiAqL1xuICAgIHJvbGU/OiBHcm91cFJvbGUsXG4gICAgLyoqIElmIHRydWUsIHJlbW92ZSB0aGUgdXNlciBmcm9tIHRoZSBncm91cC4gKi9cbiAgICByZW1vdmU/OiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgZ3JvdXAgKi9cbiAgICB0aGlzLmdyb3VwID0gb3B0cy5ncm91cDtcbiAgICAvKiogVGhlIGlkIG9mIHRoZSB1c2VyICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICAgIC8qKiBJZiBzZXQsIHVwZGF0ZSB0aGUgdXNlcidzIHJvbGUgd2l0aGluIHRoZSBncm91cC4gKi9cbiAgICB0aGlzLnJvbGUgPSBvcHRzLnJvbGU7XG4gICAgLyoqIElmIHRydWUsIHJlbW92ZSB0aGUgdXNlciBmcm9tIHRoZSBncm91cC4gKi9cbiAgICB0aGlzLnJlbW92ZSA9IG9wdHMucmVtb3ZlICE9IG51bGxcbiAgICAgICAgPyBvcHRzLnJlbW92ZVxuICAgICAgICA6IGZhbHNlO1xuXG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZUdyb3VwTWVtYmVyc2hpcFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZ3JvdXAnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdncm91cCcsIG0uZ3JvdXApLFxuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICAgICdyb2xlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW0oR3JvdXBSb2xlVXRpbC5zZXJpYWxpemUsICdyb2xlJywgbS5yb2xlKSxcbiAgICAgICdyZW1vdmUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVtb3ZlJywgbS5yZW1vdmUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVXBkYXRlR3JvdXBNZW1iZXJzaGlwUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVHcm91cE1lbWJlcnNoaXBSZXF1ZXN0KHtcbiAgICAgIGdyb3VwOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2dyb3VwJywgbyksXG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICAgIHJvbGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08R3JvdXBSb2xlPihHcm91cFJvbGVVdGlsLmRlc2VyaWFsaXplLCAncm9sZScsIG8pLFxuICAgICAgcmVtb3ZlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZW1vdmUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBVcGRhdGVHcm91cE1lbWJlcnNoaXBSZXNwb25zZVxuICAgID0gVXBkYXRlR3JvdXBNZW1iZXJzaGlwU3VjY2Vzc1Jlc3BvbnNlXG4gICAgfCBVcGRhdGVHcm91cE1lbWJlcnNoaXBFcnJvclJlc3BvbnNlO1xuXG5leHBvcnQgY29uc3QgVXBkYXRlR3JvdXBNZW1iZXJzaGlwUmVzcG9uc2UgPSB7XG4gIHNlcmlhbGl6ZSh1OiBVcGRhdGVHcm91cE1lbWJlcnNoaXBSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgc3dpdGNoICh1LnR5cGUpIHtcbiAgICAgIGNhc2UgJ1NVQ0NFU1MnOiByZXR1cm4gVXBkYXRlR3JvdXBNZW1iZXJzaGlwU3VjY2Vzc1Jlc3BvbnNlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0VSUk9SJzogcmV0dXJuIFVwZGF0ZUdyb3VwTWVtYmVyc2hpcEVycm9yUmVzcG9uc2Uuc2VyaWFsaXplKHUpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodSk7XG4gICAgfVxuICB9LFxuXG4gIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZUdyb3VwTWVtYmVyc2hpcFJlc3BvbnNlIHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdTVUNDRVNTJzogcmV0dXJuIFVwZGF0ZUdyb3VwTWVtYmVyc2hpcFN1Y2Nlc3NSZXNwb25zZS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0VSUk9SJzogcmV0dXJuIFVwZGF0ZUdyb3VwTWVtYmVyc2hpcEVycm9yUmVzcG9uc2UuZGVzZXJpYWxpemUobyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gY2FzZTogJHtrYXNlfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVHcm91cE1lbWJlcnNoaXBTdWNjZXNzUmVzcG9uc2Uge1xuICByZWFkb25seSB0eXBlID0gJ1NVQ0NFU1MnO1xuXG4gIC8qKiBUaGUgdXBkYXRlZCBncm91cCBtZW1iZXJzaGlwLCB1bmxlc3MgdGhlIHJlcXVlc3Qgd2FzIHRvIHJlbW92ZSB0aGUgdXNlciBmcm9tIHRoZSBncm91cC4gKi9cbiAgcmVhZG9ubHkgdXBkYXRlZE1lbWJlcnNoaXA6IEdyb3VwTWVtYmVyc2hpcCB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRoZSB1cGRhdGVkIGdyb3VwIG1lbWJlcnNoaXAsIHVubGVzcyB0aGUgcmVxdWVzdCB3YXMgdG8gcmVtb3ZlIHRoZSB1c2VyIGZyb20gdGhlIGdyb3VwLiAqL1xuICAgIHVwZGF0ZWRNZW1iZXJzaGlwPzogR3JvdXBNZW1iZXJzaGlwLFxuICB9KSB7XG4gICAgLyoqIFRoZSB1cGRhdGVkIGdyb3VwIG1lbWJlcnNoaXAsIHVubGVzcyB0aGUgcmVxdWVzdCB3YXMgdG8gcmVtb3ZlIHRoZSB1c2VyIGZyb20gdGhlIGdyb3VwLiAqL1xuICAgIHRoaXMudXBkYXRlZE1lbWJlcnNoaXAgPSBvcHRzLnVwZGF0ZWRNZW1iZXJzaGlwO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVHcm91cE1lbWJlcnNoaXBTdWNjZXNzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdTVUNDRVNTJyxcbiAgICAgICd1cGRhdGVkTWVtYmVyc2hpcCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoR3JvdXBNZW1iZXJzaGlwLnNlcmlhbGl6ZSwgJ3VwZGF0ZWRNZW1iZXJzaGlwJywgbS51cGRhdGVkTWVtYmVyc2hpcCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVHcm91cE1lbWJlcnNoaXBTdWNjZXNzUmVzcG9uc2Uge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdTVUNDRVNTJyk7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVHcm91cE1lbWJlcnNoaXBTdWNjZXNzUmVzcG9uc2Uoe1xuICAgICAgdXBkYXRlZE1lbWJlcnNoaXA6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChHcm91cE1lbWJlcnNoaXAuZGVzZXJpYWxpemUsICd1cGRhdGVkTWVtYmVyc2hpcCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVHcm91cE1lbWJlcnNoaXBFcnJvclJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdFUlJPUic7XG5cbiAgLyoqIEEgbG9jYWxpemVkIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciB0byBoZWxwIGluZm9ybSB0aGUgdXNlciB3aGF0IHdlbnQgd3JvbmcuICovXG4gIHJlYWRvbmx5IG1lc3NhZ2U6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEEgbG9jYWxpemVkIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciB0byBoZWxwIGluZm9ybSB0aGUgdXNlciB3aGF0IHdlbnQgd3JvbmcuICovXG4gICAgbWVzc2FnZTogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIEEgbG9jYWxpemVkIG1lc3NhZ2UgdG8gZGlzcGxheSB0byB0aGUgdXNlciB0byBoZWxwIGluZm9ybSB0aGUgdXNlciB3aGF0IHdlbnQgd3JvbmcuICovXG4gICAgdGhpcy5tZXNzYWdlID0gb3B0cy5tZXNzYWdlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVHcm91cE1lbWJlcnNoaXBFcnJvclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRVJST1InLFxuICAgICAgJ21lc3NhZ2UnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZXNzYWdlJywgbS5tZXNzYWdlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZUdyb3VwTWVtYmVyc2hpcEVycm9yUmVzcG9uc2Uge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdFUlJPUicpO1xuICAgIHJldHVybiBuZXcgVXBkYXRlR3JvdXBNZW1iZXJzaGlwRXJyb3JSZXNwb25zZSh7XG4gICAgICBtZXNzYWdlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21lc3NhZ2UnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogRmluZCB0aGUgdXNlcnMgd2hvIGFyZSBtZW1iZXJzIG9mIGEgZ3JvdXAgYW5kIHRoZWlyIHJvbGUgd2l0aGluIHRoZSBncm91cC4gKi9cbmV4cG9ydCB0eXBlIEZpbmRHcm91cE1lbWJlcnNoaXBzUmVxdWVzdFxuICAgID0gRmluZEdyb3VwTWVtYmVyc2hpcHNCeVVzZXJSZXF1ZXN0XG4gICAgfCBGaW5kR3JvdXBNZW1iZXJzaGlwc0J5R3JvdXBSZXF1ZXN0O1xuXG5leHBvcnQgY29uc3QgRmluZEdyb3VwTWVtYmVyc2hpcHNSZXF1ZXN0ID0ge1xuICBzZXJpYWxpemUodTogRmluZEdyb3VwTWVtYmVyc2hpcHNSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICBzd2l0Y2ggKHUudHlwZSkge1xuICAgICAgY2FzZSAnQllfVVNFUic6IHJldHVybiBGaW5kR3JvdXBNZW1iZXJzaGlwc0J5VXNlclJlcXVlc3Quc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnQllfR1JPVVAnOiByZXR1cm4gRmluZEdyb3VwTWVtYmVyc2hpcHNCeUdyb3VwUmVxdWVzdC5zZXJpYWxpemUodSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih1KTtcbiAgICB9XG4gIH0sXG5cbiAgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZEdyb3VwTWVtYmVyc2hpcHNSZXF1ZXN0IHtcbiAgICBjb25zdCBrYXNlID0gRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0eXBlJywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdCWV9VU0VSJzogcmV0dXJuIEZpbmRHcm91cE1lbWJlcnNoaXBzQnlVc2VyUmVxdWVzdC5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0JZX0dST1VQJzogcmV0dXJuIEZpbmRHcm91cE1lbWJlcnNoaXBzQnlHcm91cFJlcXVlc3QuZGVzZXJpYWxpemUobyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gY2FzZTogJHtrYXNlfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjbGFzcyBGaW5kR3JvdXBNZW1iZXJzaGlwc0J5VXNlclJlcXVlc3Qge1xuICByZWFkb25seSB0eXBlID0gJ0JZX1VTRVInO1xuXG4gIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICByZWFkb25seSBjb250aW51YXRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gKi9cbiAgcmVhZG9ubHkgbGltaXQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIE9wdGlvbmFsLiBJZiBzZXQsIG9ubHkgZmluZCBtZW1iZXJzaGlwcyB3aXRoaW4gdGhpcyBicmFuZC5cbiAgICogT3RoZXJ3aXNlLCBmaW5kIGdyb3VwIG1lbWJlcnNoaXBzIGZvciBhbGwgYnJhbmRzIHRoZSB1c2VyIGlzIGEgbWVtYmVyIG9mLlxuICAgKi9cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIEZpbmQgbWVtYmVyc2hpcHMgZm9yIHRoaXMgdXNlckBicmFuZCBvciB0aGlzIHVzZXIuICovXG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRoZSBjb250aW51YXRpb24gdG9rZW4sIHVzZWQgZm9yIHBhZ2luYXRpb24uICovXG4gICAgY29udGludWF0aW9uPzogc3RyaW5nLFxuICAgIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm4uICovXG4gICAgbGltaXQ/OiBudW1iZXIsXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwuIElmIHNldCwgb25seSBmaW5kIG1lbWJlcnNoaXBzIHdpdGhpbiB0aGlzIGJyYW5kLlxuICAgICAqIE90aGVyd2lzZSwgZmluZCBncm91cCBtZW1iZXJzaGlwcyBmb3IgYWxsIGJyYW5kcyB0aGUgdXNlciBpcyBhIG1lbWJlciBvZi5cbiAgICAgKi9cbiAgICBicmFuZD86IHN0cmluZyxcbiAgICAvKiogRmluZCBtZW1iZXJzaGlwcyBmb3IgdGhpcyB1c2VyQGJyYW5kIG9yIHRoaXMgdXNlci4gKi9cbiAgICB1c2VyOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogVGhlIGNvbnRpbnVhdGlvbiB0b2tlbiwgdXNlZCBmb3IgcGFnaW5hdGlvbi4gKi9cbiAgICB0aGlzLmNvbnRpbnVhdGlvbiA9IG9wdHMuY29udGludWF0aW9uO1xuICAgIC8qKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgcmVzdWx0cyB0byByZXR1cm4uICovXG4gICAgdGhpcy5saW1pdCA9IG9wdHMubGltaXQgIT0gbnVsbFxuICAgICAgICA/IG9wdHMubGltaXRcbiAgICAgICAgOiAxMDA7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25hbC4gSWYgc2V0LCBvbmx5IGZpbmQgbWVtYmVyc2hpcHMgd2l0aGluIHRoaXMgYnJhbmQuXG4gICAgICogT3RoZXJ3aXNlLCBmaW5kIGdyb3VwIG1lbWJlcnNoaXBzIGZvciBhbGwgYnJhbmRzIHRoZSB1c2VyIGlzIGEgbWVtYmVyIG9mLlxuICAgICAqL1xuICAgIHRoaXMuYnJhbmQgPSBvcHRzLmJyYW5kO1xuICAgIC8qKiBGaW5kIG1lbWJlcnNoaXBzIGZvciB0aGlzIHVzZXJAYnJhbmQgb3IgdGhpcyB1c2VyLiAqL1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZEdyb3VwTWVtYmVyc2hpcHNCeVVzZXJSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnQllfVVNFUicsXG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgICAgJ2xpbWl0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBtLmxpbWl0KSxcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZEdyb3VwTWVtYmVyc2hpcHNCeVVzZXJSZXF1ZXN0IHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnQllfVVNFUicpO1xuICAgIHJldHVybiBuZXcgRmluZEdyb3VwTWVtYmVyc2hpcHNCeVVzZXJSZXF1ZXN0KHtcbiAgICAgIGNvbnRpbnVhdGlvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBvKSxcbiAgICAgIGxpbWl0OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2xpbWl0JywgbyksXG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIENvbXBvbmVudHMgb2YgYSBncm91cCBtZW1iZXJzaGlwIHRoYXQgY2FuIGJlIGZpbHRlcmVkIGZyb20gcXVlcmllcyB2aWEgYSBwcm9qZWN0aW9uLiAqL1xuZXhwb3J0IGNvbnN0IGVudW0gR3JvdXBNZW1iZXJzaGlwQ29tcG9uZW50IHtcbiAgVVNFUiA9IDEsXG59XG5cbmV4cG9ydCBjb25zdCBHcm91cE1lbWJlcnNoaXBDb21wb25lbnRVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBHcm91cE1lbWJlcnNoaXBDb21wb25lbnRbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEdyb3VwTWVtYmVyc2hpcENvbXBvbmVudC5VU0VSLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBHcm91cE1lbWJlcnNoaXBDb21wb25lbnQpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgR3JvdXBNZW1iZXJzaGlwQ29tcG9uZW50LlVTRVI6IHJldHVybiAnVVNFUic7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBHcm91cE1lbWJlcnNoaXBDb21wb25lbnQgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ1VTRVInOiByZXR1cm4gR3JvdXBNZW1iZXJzaGlwQ29tcG9uZW50LlVTRVI7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdHcm91cE1lbWJlcnNoaXBDb21wb25lbnQnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgRmluZEdyb3VwTWVtYmVyc2hpcHNCeUdyb3VwUmVxdWVzdCB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnQllfR1JPVVAnO1xuXG4gIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICByZWFkb25seSBjb250aW51YXRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gKi9cbiAgcmVhZG9ubHkgbGltaXQ6IG51bWJlcjtcbiAgLyoqIEZpbmQgbWVtYmVyc2hpcHMgd2l0aGluIHRoaXMgZ3JvdXAuICovXG4gIHJlYWRvbmx5IGdyb3VwOiBzdHJpbmc7XG4gIC8qKiBTZXQgb2YgZ3JvdXAgbWVtYmVyc2hpcCBwcm9qZWN0aW9ucyB0byBpbmNsdWRlIGluIHRoZSByZXNwb25zZS4gKi9cbiAgcmVhZG9ubHkgcHJvamVjdGlvbjogcmVhZG9ubHkgR3JvdXBNZW1iZXJzaGlwQ29tcG9uZW50W107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgICAvKiogVGhlIG1heGltdW0gbnVtYmVyIG9mIHJlc3VsdHMgdG8gcmV0dXJuLiAqL1xuICAgIGxpbWl0PzogbnVtYmVyLFxuICAgIC8qKiBGaW5kIG1lbWJlcnNoaXBzIHdpdGhpbiB0aGlzIGdyb3VwLiAqL1xuICAgIGdyb3VwOiBzdHJpbmcsXG4gICAgLyoqIFNldCBvZiBncm91cCBtZW1iZXJzaGlwIHByb2plY3Rpb25zIHRvIGluY2x1ZGUgaW4gdGhlIHJlc3BvbnNlLiAqL1xuICAgIHByb2plY3Rpb24/OiByZWFkb25seSBHcm91cE1lbWJlcnNoaXBDb21wb25lbnRbXSxcbiAgfSkge1xuICAgIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gICAgLyoqIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXN1bHRzIHRvIHJldHVybi4gKi9cbiAgICB0aGlzLmxpbWl0ID0gb3B0cy5saW1pdCAhPSBudWxsXG4gICAgICAgID8gb3B0cy5saW1pdFxuICAgICAgICA6IDEwMDtcblxuICAgIC8qKiBGaW5kIG1lbWJlcnNoaXBzIHdpdGhpbiB0aGlzIGdyb3VwLiAqL1xuICAgIHRoaXMuZ3JvdXAgPSBvcHRzLmdyb3VwO1xuICAgIC8qKiBTZXQgb2YgZ3JvdXAgbWVtYmVyc2hpcCBwcm9qZWN0aW9ucyB0byBpbmNsdWRlIGluIHRoZSByZXNwb25zZS4gKi9cbiAgICB0aGlzLnByb2plY3Rpb24gPSBvcHRzLnByb2plY3Rpb24gfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRHcm91cE1lbWJlcnNoaXBzQnlHcm91cFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdCWV9HUk9VUCcsXG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgICAgJ2xpbWl0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBtLmxpbWl0KSxcbiAgICAgICdncm91cCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2dyb3VwJywgbS5ncm91cCksXG4gICAgICAncHJvamVjdGlvbic6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKEdyb3VwTWVtYmVyc2hpcENvbXBvbmVudFV0aWwuc2VyaWFsaXplLCAncHJvamVjdGlvbicsIG0ucHJvamVjdGlvbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kR3JvdXBNZW1iZXJzaGlwc0J5R3JvdXBSZXF1ZXN0IHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnQllfR1JPVVAnKTtcbiAgICByZXR1cm4gbmV3IEZpbmRHcm91cE1lbWJlcnNoaXBzQnlHcm91cFJlcXVlc3Qoe1xuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgbGltaXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBvKSxcbiAgICAgIGdyb3VwOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2dyb3VwJywgbyksXG4gICAgICBwcm9qZWN0aW9uOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtPEdyb3VwTWVtYmVyc2hpcENvbXBvbmVudD4oR3JvdXBNZW1iZXJzaGlwQ29tcG9uZW50VXRpbC5kZXNlcmlhbGl6ZSwgJ3Byb2plY3Rpb24nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEdyb3VwTWVtYmVyc2hpcHNSZXNwb25zZSB7XG4gIHJlYWRvbmx5IG1lbWJlcnNoaXBzOiByZWFkb25seSBHcm91cE1lbWJlcnNoaXBbXTtcbiAgLyoqIFRoZSBjb250aW51YXRpb24gdG9rZW4sIHVzZWQgZm9yIHBhZ2luYXRpb24uICovXG4gIHJlYWRvbmx5IGNvbnRpbnVhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBtZW1iZXJzaGlwcz86IHJlYWRvbmx5IEdyb3VwTWVtYmVyc2hpcFtdLFxuICAgIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMubWVtYmVyc2hpcHMgPSBvcHRzLm1lbWJlcnNoaXBzIHx8IFtdO1xuICAgIC8qKiBUaGUgY29udGludWF0aW9uIHRva2VuLCB1c2VkIGZvciBwYWdpbmF0aW9uLiAqL1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRHcm91cE1lbWJlcnNoaXBzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbWVtYmVyc2hpcHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEdyb3VwTWVtYmVyc2hpcC5zZXJpYWxpemUsICdtZW1iZXJzaGlwcycsIG0ubWVtYmVyc2hpcHMpLFxuICAgICAgJ2NvbnRpbnVhdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG0uY29udGludWF0aW9uKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRHcm91cE1lbWJlcnNoaXBzUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgRmluZEdyb3VwTWVtYmVyc2hpcHNSZXNwb25zZSh7XG4gICAgICBtZW1iZXJzaGlwczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KEdyb3VwTWVtYmVyc2hpcC5kZXNlcmlhbGl6ZSwgJ21lbWJlcnNoaXBzJywgbyksXG4gICAgICBjb250aW51YXRpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZVVzZXJSZXF1ZXN0IHtcbiAgLyoqIFVzZXIgdG8gZGVsZXRlLiAqL1xuICByZWFkb25seSB1c2VyOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBVc2VyIHRvIGRlbGV0ZS4gKi9cbiAgICB1c2VyOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogVXNlciB0byBkZWxldGUuICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBEZWxldGVVc2VyUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG0udXNlciksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBEZWxldGVVc2VyUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBEZWxldGVVc2VyUmVxdWVzdCh7XG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlVXNlclJlc3BvbnNlIHtcbiAgLyoqIElkIG9mIHRoZSB1c2VyIHRoYXQgd2FzIGRlbGV0ZWQuICovXG4gIHJlYWRvbmx5IGFuYWx5dGljc0lkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBJZCBvZiB0aGUgdXNlciB0aGF0IHdhcyBkZWxldGVkLiAqL1xuICAgIGFuYWx5dGljc0lkOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogSWQgb2YgdGhlIHVzZXIgdGhhdCB3YXMgZGVsZXRlZC4gKi9cbiAgICB0aGlzLmFuYWx5dGljc0lkID0gb3B0cy5hbmFseXRpY3NJZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRGVsZXRlVXNlclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2FuYWx5dGljc0lkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYW5hbHl0aWNzSWQnLCBtLmFuYWx5dGljc0lkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IERlbGV0ZVVzZXJSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBEZWxldGVVc2VyUmVzcG9uc2Uoe1xuICAgICAgYW5hbHl0aWNzSWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYW5hbHl0aWNzSWQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVhY3RpdmF0ZVVzZXJSZXF1ZXN0IHtcbiAgLyoqIFVzZXIgdG8gZGVhY3RpdmF0ZS4gKi9cbiAgcmVhZG9ubHkgdXNlcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogVXNlciB0byBkZWFjdGl2YXRlLiAqL1xuICAgIHVzZXI6IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBVc2VyIHRvIGRlYWN0aXZhdGUuICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBEZWFjdGl2YXRlVXNlclJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRGVhY3RpdmF0ZVVzZXJSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IERlYWN0aXZhdGVVc2VyUmVxdWVzdCh7XG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVhY3RpdmF0ZVVzZXJSZXNwb25zZSB7XG4gIC8qKiBJZCBvZiB0aGUgdXNlciB0aGF0IHdhcyBkZWFjdGl2YXRlZC4gKi9cbiAgcmVhZG9ubHkgYW5hbHl0aWNzSWQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIElkIG9mIHRoZSB1c2VyIHRoYXQgd2FzIGRlYWN0aXZhdGVkLiAqL1xuICAgIGFuYWx5dGljc0lkOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogSWQgb2YgdGhlIHVzZXIgdGhhdCB3YXMgZGVhY3RpdmF0ZWQuICovXG4gICAgdGhpcy5hbmFseXRpY3NJZCA9IG9wdHMuYW5hbHl0aWNzSWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IERlYWN0aXZhdGVVc2VyUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYW5hbHl0aWNzSWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhbmFseXRpY3NJZCcsIG0uYW5hbHl0aWNzSWQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRGVhY3RpdmF0ZVVzZXJSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBEZWFjdGl2YXRlVXNlclJlc3BvbnNlKHtcbiAgICAgIGFuYWx5dGljc0lkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2FuYWx5dGljc0lkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlYWN0aXZhdGVVc2VyUmVxdWVzdCB7XG4gIC8qKiBVc2VyIHRvIHJlYWN0aXZhdGUuICovXG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFVzZXIgdG8gcmVhY3RpdmF0ZS4gKi9cbiAgICB1c2VyOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogVXNlciB0byByZWFjdGl2YXRlLiAqL1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogUmVhY3RpdmF0ZVVzZXJSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFJlYWN0aXZhdGVVc2VyUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBSZWFjdGl2YXRlVXNlclJlcXVlc3Qoe1xuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlYWN0aXZhdGVVc2VyUmVzcG9uc2Uge1xuICAvKiogSWQgb2YgdGhlIHVzZXIgdGhhdCB3YXMgcmVhY3RpdmF0ZWQuICovXG4gIHJlYWRvbmx5IGFuYWx5dGljc0lkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBJZCBvZiB0aGUgdXNlciB0aGF0IHdhcyByZWFjdGl2YXRlZC4gKi9cbiAgICBhbmFseXRpY3NJZDogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIElkIG9mIHRoZSB1c2VyIHRoYXQgd2FzIHJlYWN0aXZhdGVkLiAqL1xuICAgIHRoaXMuYW5hbHl0aWNzSWQgPSBvcHRzLmFuYWx5dGljc0lkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBSZWFjdGl2YXRlVXNlclJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2FuYWx5dGljc0lkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYW5hbHl0aWNzSWQnLCBtLmFuYWx5dGljc0lkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFJlYWN0aXZhdGVVc2VyUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgUmVhY3RpdmF0ZVVzZXJSZXNwb25zZSh7XG4gICAgICBhbmFseXRpY3NJZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdhbmFseXRpY3NJZCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVVc2VyQXZhdGFyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBJZCBvZiB0aGUgdXNlci4gT3B0aW9uYWwgYmV0d2VlbiBjbGllbnQgYW5kIGFmZS4gUmVxdWlyZWQgYnkgcHJvZmlsZSBzZXJ2aWNlLlxuICAgKiBQb3B1bGF0ZWQgYnkgYWZlIHdpdGggdXNlciBpZCBmcm9tIHRoZSByZXF1ZXN0IHBhdGguXG4gICAqL1xuICByZWFkb25seSB1c2VyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IG1pbWVUeXBlOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHNpZ25hdHVyZVY0OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKipcbiAgICAgKiBJZCBvZiB0aGUgdXNlci4gT3B0aW9uYWwgYmV0d2VlbiBjbGllbnQgYW5kIGFmZS4gUmVxdWlyZWQgYnkgcHJvZmlsZSBzZXJ2aWNlLlxuICAgICAqIFBvcHVsYXRlZCBieSBhZmUgd2l0aCB1c2VyIGlkIGZyb20gdGhlIHJlcXVlc3QgcGF0aC5cbiAgICAgKi9cbiAgICB1c2VyPzogc3RyaW5nLFxuICAgIG1pbWVUeXBlOiBzdHJpbmcsXG4gICAgc2lnbmF0dXJlVjQ/OiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqXG4gICAgICogSWQgb2YgdGhlIHVzZXIuIE9wdGlvbmFsIGJldHdlZW4gY2xpZW50IGFuZCBhZmUuIFJlcXVpcmVkIGJ5IHByb2ZpbGUgc2VydmljZS5cbiAgICAgKiBQb3B1bGF0ZWQgYnkgYWZlIHdpdGggdXNlciBpZCBmcm9tIHRoZSByZXF1ZXN0IHBhdGguXG4gICAgICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICAgIHRoaXMubWltZVR5cGUgPSBvcHRzLm1pbWVUeXBlO1xuICAgIHRoaXMuc2lnbmF0dXJlVjQgPSBvcHRzLnNpZ25hdHVyZVY0O1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVVc2VyQXZhdGFyUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcicsIG0udXNlciksXG4gICAgICAnbWltZVR5cGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtaW1lVHlwZScsIG0ubWltZVR5cGUpLFxuICAgICAgJ3NpZ25hdHVyZVY0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3NpZ25hdHVyZVY0JywgbS5zaWduYXR1cmVWNCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVVc2VyQXZhdGFyUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBDcmVhdGVVc2VyQXZhdGFyUmVxdWVzdCh7XG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICAgIG1pbWVUeXBlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21pbWVUeXBlJywgbyksXG4gICAgICBzaWduYXR1cmVWNDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignc2lnbmF0dXJlVjQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlVXNlckF2YXRhclJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgdmVyc2lvbjogbnVtYmVyO1xuICAvKipcbiAgICogVVJMIHRvIHdoaWNoIGEgbmV3IGF2YXRhciBpbWFnZSBjYW4gYmUgUE9TVGVkLlxuICAgKiBPbmx5IHNldCBmb3IgYSB7QGxpbmsgQ3JlYXRlVXNlckF2YXRhclJlcXVlc3R9IHJlcXVlc3QuXG4gICAqL1xuICByZWFkb25seSBmb3JtUG9zdFVybDogc3RyaW5nO1xuICByZWFkb25seSBmb3JtRmllbGRzOiBSZWFkb25seU1hcDxzdHJpbmcsIHN0cmluZz47XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHZlcnNpb246IG51bWJlcixcbiAgICAvKipcbiAgICAgKiBVUkwgdG8gd2hpY2ggYSBuZXcgYXZhdGFyIGltYWdlIGNhbiBiZSBQT1NUZWQuXG4gICAgICogT25seSBzZXQgZm9yIGEge0BsaW5rIENyZWF0ZVVzZXJBdmF0YXJSZXF1ZXN0fSByZXF1ZXN0LlxuICAgICAqL1xuICAgIGZvcm1Qb3N0VXJsOiBzdHJpbmcsXG4gICAgZm9ybUZpZWxkcz86IFJlYWRvbmx5TWFwPHN0cmluZywgc3RyaW5nPixcbiAgfSkge1xuICAgIHRoaXMudmVyc2lvbiA9IG9wdHMudmVyc2lvbjtcbiAgICAvKipcbiAgICAgKiBVUkwgdG8gd2hpY2ggYSBuZXcgYXZhdGFyIGltYWdlIGNhbiBiZSBQT1NUZWQuXG4gICAgICogT25seSBzZXQgZm9yIGEge0BsaW5rIENyZWF0ZVVzZXJBdmF0YXJSZXF1ZXN0fSByZXF1ZXN0LlxuICAgICAqL1xuICAgIHRoaXMuZm9ybVBvc3RVcmwgPSBvcHRzLmZvcm1Qb3N0VXJsO1xuICAgIHRoaXMuZm9ybUZpZWxkcyA9IG9wdHMuZm9ybUZpZWxkcyB8fCBuZXcgTWFwKCk7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENyZWF0ZVVzZXJBdmF0YXJSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd2ZXJzaW9uJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcigndmVyc2lvbicsIG0udmVyc2lvbiksXG4gICAgICAnZm9ybVBvc3RVcmwnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdmb3JtUG9zdFVybCcsIG0uZm9ybVBvc3RVcmwpLFxuICAgICAgJ2Zvcm1GaWVsZHMnOiBTZXJpYWxpemF0aW9uLnN0cmluZ1N0cmluZ01hcCgnZm9ybUZpZWxkcycsIG0uZm9ybUZpZWxkcyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVVc2VyQXZhdGFyUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgQ3JlYXRlVXNlckF2YXRhclJlc3BvbnNlKHtcbiAgICAgIHZlcnNpb246IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcigndmVyc2lvbicsIG8pLFxuICAgICAgZm9ybVBvc3RVcmw6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZm9ybVBvc3RVcmwnLCBvKSxcbiAgICAgIGZvcm1GaWVsZHM6IERlc2VyaWFsaXphdGlvbi5zdHJpbmdTdHJpbmdNYXAoJ2Zvcm1GaWVsZHMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0VXNlckF2YXRhclJlcXVlc3Qge1xuICAvKiogSWQgb2YgdGhlIHVzZXIuICovXG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcbiAgLyoqIFZlcnNpb24gb2YgdGhlIHVzZXIncyBhdmF0YXIuICovXG4gIHJlYWRvbmx5IHZlcnNpb246IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIElkIG9mIHRoZSB1c2VyLiAqL1xuICAgIHVzZXI6IHN0cmluZyxcbiAgICAvKiogVmVyc2lvbiBvZiB0aGUgdXNlcidzIGF2YXRhci4gKi9cbiAgICB2ZXJzaW9uOiBudW1iZXIsXG4gIH0pIHtcbiAgICAvKiogSWQgb2YgdGhlIHVzZXIuICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICAgIC8qKiBWZXJzaW9uIG9mIHRoZSB1c2VyJ3MgYXZhdGFyLiAqL1xuICAgIHRoaXMudmVyc2lvbiA9IG9wdHMudmVyc2lvbjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0VXNlckF2YXRhclJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgICAgJ3ZlcnNpb24nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCd2ZXJzaW9uJywgbS52ZXJzaW9uKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldFVzZXJBdmF0YXJSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEdldFVzZXJBdmF0YXJSZXF1ZXN0KHtcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG8pLFxuICAgICAgdmVyc2lvbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCd2ZXJzaW9uJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldFVzZXJBdmF0YXJSZXNwb25zZSB7XG4gIHJlYWRvbmx5IGF2YXRhcjogQXZhdGFyQnVuZGxlO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBhdmF0YXI6IEF2YXRhckJ1bmRsZSxcbiAgfSkge1xuICAgIHRoaXMuYXZhdGFyID0gb3B0cy5hdmF0YXI7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldFVzZXJBdmF0YXJSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdhdmF0YXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEF2YXRhckJ1bmRsZS5zZXJpYWxpemUsICdhdmF0YXInLCBtLmF2YXRhciksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRVc2VyQXZhdGFyUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0VXNlckF2YXRhclJlc3BvbnNlKHtcbiAgICAgIGF2YXRhcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEF2YXRhckJ1bmRsZS5kZXNlcmlhbGl6ZSwgJ2F2YXRhcicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBJbXBvcnRVc2VyQXZhdGFyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBJZCBvZiB0aGUgdXNlci4gT3B0aW9uYWwgYmV0d2VlbiBjbGllbnQgYW5kIGFmZS4gUmVxdWlyZWQgYnkgcHJvZmlsZSBzZXJ2aWNlLlxuICAgKiBQb3B1bGF0ZWQgYnkgYWZlIHdpdGggdXNlciBpZCBmcm9tIHRoZSByZXF1ZXN0IHBhdGguXG4gICAqL1xuICByZWFkb25seSB1c2VyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBWZXJzaW9uIG9mIHRoZSB1c2VyJ3MgYXZhdGFyLiBPcHRpb25hbCBiZXR3ZWVuIGNsaWVudCBhbmQgYWZlLiBSZXF1aXJlZCBieSBwcm9maWxlIHNlcnZpY2UuXG4gICAqIFBvcHVsYXRlZCBieSBhZmUgd2l0aCBhIHZlcnNpb24gZnJvbSB0aGUgcmVxdWVzdCBwYXRoLlxuICAgKi9cbiAgcmVhZG9ubHkgdmVyc2lvbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKiogTWltZSB0eXBlIG9mIHRoZSBpbWFnZSB0byBiZSBpbXBvcnRlZC4gKi9cbiAgcmVhZG9ubHkgbWltZVR5cGU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqXG4gICAgICogSWQgb2YgdGhlIHVzZXIuIE9wdGlvbmFsIGJldHdlZW4gY2xpZW50IGFuZCBhZmUuIFJlcXVpcmVkIGJ5IHByb2ZpbGUgc2VydmljZS5cbiAgICAgKiBQb3B1bGF0ZWQgYnkgYWZlIHdpdGggdXNlciBpZCBmcm9tIHRoZSByZXF1ZXN0IHBhdGguXG4gICAgICovXG4gICAgdXNlcj86IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBWZXJzaW9uIG9mIHRoZSB1c2VyJ3MgYXZhdGFyLiBPcHRpb25hbCBiZXR3ZWVuIGNsaWVudCBhbmQgYWZlLiBSZXF1aXJlZCBieSBwcm9maWxlIHNlcnZpY2UuXG4gICAgICogUG9wdWxhdGVkIGJ5IGFmZSB3aXRoIGEgdmVyc2lvbiBmcm9tIHRoZSByZXF1ZXN0IHBhdGguXG4gICAgICovXG4gICAgdmVyc2lvbj86IG51bWJlcixcbiAgICAvKiogTWltZSB0eXBlIG9mIHRoZSBpbWFnZSB0byBiZSBpbXBvcnRlZC4gKi9cbiAgICBtaW1lVHlwZTogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqXG4gICAgICogSWQgb2YgdGhlIHVzZXIuIE9wdGlvbmFsIGJldHdlZW4gY2xpZW50IGFuZCBhZmUuIFJlcXVpcmVkIGJ5IHByb2ZpbGUgc2VydmljZS5cbiAgICAgKiBQb3B1bGF0ZWQgYnkgYWZlIHdpdGggdXNlciBpZCBmcm9tIHRoZSByZXF1ZXN0IHBhdGguXG4gICAgICovXG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICAgIC8qKlxuICAgICAqIFZlcnNpb24gb2YgdGhlIHVzZXIncyBhdmF0YXIuIE9wdGlvbmFsIGJldHdlZW4gY2xpZW50IGFuZCBhZmUuIFJlcXVpcmVkIGJ5IHByb2ZpbGUgc2VydmljZS5cbiAgICAgKiBQb3B1bGF0ZWQgYnkgYWZlIHdpdGggYSB2ZXJzaW9uIGZyb20gdGhlIHJlcXVlc3QgcGF0aC5cbiAgICAgKi9cbiAgICB0aGlzLnZlcnNpb24gPSBvcHRzLnZlcnNpb247XG4gICAgLyoqIE1pbWUgdHlwZSBvZiB0aGUgaW1hZ2UgdG8gYmUgaW1wb3J0ZWQuICovXG4gICAgdGhpcy5taW1lVHlwZSA9IG9wdHMubWltZVR5cGU7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEltcG9ydFVzZXJBdmF0YXJSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICAgICd2ZXJzaW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigndmVyc2lvbicsIG0udmVyc2lvbiksXG4gICAgICAnbWltZVR5cGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtaW1lVHlwZScsIG0ubWltZVR5cGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogSW1wb3J0VXNlckF2YXRhclJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgSW1wb3J0VXNlckF2YXRhclJlcXVlc3Qoe1xuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbyksXG4gICAgICB2ZXJzaW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3ZlcnNpb24nLCBvKSxcbiAgICAgIG1pbWVUeXBlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21pbWVUeXBlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEltcG9ydFVzZXJBdmF0YXJSZXNwb25zZSB7XG4gIHJlYWRvbmx5IG9rOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBvazogYm9vbGVhbixcbiAgfSkge1xuICAgIHRoaXMub2sgPSBvcHRzLm9rO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBJbXBvcnRVc2VyQXZhdGFyUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnb2snOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignb2snLCBtLm9rKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEltcG9ydFVzZXJBdmF0YXJSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBJbXBvcnRVc2VyQXZhdGFyUmVzcG9uc2Uoe1xuICAgICAgb2s6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ29rJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldEF2YWlsYWJpbGl0eVJlcXVlc3Qge1xuICAvKiogSWYgc2V0LCBjaGVjayBpZiB0aGlzIGVtYWlsIGlzIGF2YWlsYWJsZS4gKi9cbiAgcmVhZG9ubHkgZW1haWw6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIHNldCwgY2hlY2sgaWYgdGhpcyB1c2VybmFtZSBpcyBhdmFpbGFibGUuICovXG4gIHJlYWRvbmx5IHVzZXJuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBJZiBzZXQsIGNoZWNrIGlmIHRoaXMgYnJhbmRuYW1lIGlzIGF2YWlsYWJsZS4gKi9cbiAgcmVhZG9ubHkgYnJhbmRuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBicmFuZCBvciB1c2VyLiBJZiBzZXQsIHRoZSBxdWVyeSBpcyBhc2tpbmcgaWYgdGhpcyBwYXJ0aWN1bGFyXG4gICAqIGFzc2lnbmVlIGNhbiBhZG9wdCB0aGUgcHJvcGVydGllcyBhYm92ZSwgbWVhbmluZyB0aGF0IHRoZXkgYXJlIGdlbmVyYWxseVxuICAgKiBhdmFpbGFibGUgb3IgYWxyZWFkeSBhc3NpZ25lZCB0byB0aGF0IGFzc2lnbmVlLlxuICAgKi9cbiAgcmVhZG9ubHkgYXNzaWduZWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIElmIHNldCwgY2hlY2sgaWYgdGhpcyBlbWFpbCBpcyBhdmFpbGFibGUuICovXG4gICAgZW1haWw/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgY2hlY2sgaWYgdGhpcyB1c2VybmFtZSBpcyBhdmFpbGFibGUuICovXG4gICAgdXNlcm5hbWU/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNldCwgY2hlY2sgaWYgdGhpcyBicmFuZG5hbWUgaXMgYXZhaWxhYmxlLiAqL1xuICAgIGJyYW5kbmFtZT86IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCBicmFuZCBvciB1c2VyLiBJZiBzZXQsIHRoZSBxdWVyeSBpcyBhc2tpbmcgaWYgdGhpcyBwYXJ0aWN1bGFyXG4gICAgICogYXNzaWduZWUgY2FuIGFkb3B0IHRoZSBwcm9wZXJ0aWVzIGFib3ZlLCBtZWFuaW5nIHRoYXQgdGhleSBhcmUgZ2VuZXJhbGx5XG4gICAgICogYXZhaWxhYmxlIG9yIGFscmVhZHkgYXNzaWduZWQgdG8gdGhhdCBhc3NpZ25lZS5cbiAgICAgKi9cbiAgICBhc3NpZ25lZT86IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBJZiBzZXQsIGNoZWNrIGlmIHRoaXMgZW1haWwgaXMgYXZhaWxhYmxlLiAqL1xuICAgIHRoaXMuZW1haWwgPSBvcHRzLmVtYWlsO1xuICAgIC8qKiBJZiBzZXQsIGNoZWNrIGlmIHRoaXMgdXNlcm5hbWUgaXMgYXZhaWxhYmxlLiAqL1xuICAgIHRoaXMudXNlcm5hbWUgPSBvcHRzLnVzZXJuYW1lO1xuICAgIC8qKiBJZiBzZXQsIGNoZWNrIGlmIHRoaXMgYnJhbmRuYW1lIGlzIGF2YWlsYWJsZS4gKi9cbiAgICB0aGlzLmJyYW5kbmFtZSA9IG9wdHMuYnJhbmRuYW1lO1xuICAgIC8qKlxuICAgICAqIEFuIG9wdGlvbmFsIGJyYW5kIG9yIHVzZXIuIElmIHNldCwgdGhlIHF1ZXJ5IGlzIGFza2luZyBpZiB0aGlzIHBhcnRpY3VsYXJcbiAgICAgKiBhc3NpZ25lZSBjYW4gYWRvcHQgdGhlIHByb3BlcnRpZXMgYWJvdmUsIG1lYW5pbmcgdGhhdCB0aGV5IGFyZSBnZW5lcmFsbHlcbiAgICAgKiBhdmFpbGFibGUgb3IgYWxyZWFkeSBhc3NpZ25lZCB0byB0aGF0IGFzc2lnbmVlLlxuICAgICAqL1xuICAgIHRoaXMuYXNzaWduZWUgPSBvcHRzLmFzc2lnbmVlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRBdmFpbGFiaWxpdHlSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2VtYWlsJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZW1haWwnLCBtLmVtYWlsKSxcbiAgICAgICd1c2VybmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXJuYW1lJywgbS51c2VybmFtZSksXG4gICAgICAnYnJhbmRuYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmRuYW1lJywgbS5icmFuZG5hbWUpLFxuICAgICAgJ2Fzc2lnbmVlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYXNzaWduZWUnLCBtLmFzc2lnbmVlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldEF2YWlsYWJpbGl0eVJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgR2V0QXZhaWxhYmlsaXR5UmVxdWVzdCh7XG4gICAgICBlbWFpbDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdlbWFpbCcsIG8pLFxuICAgICAgdXNlcm5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcm5hbWUnLCBvKSxcbiAgICAgIGJyYW5kbmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZG5hbWUnLCBvKSxcbiAgICAgIGFzc2lnbmVlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Fzc2lnbmVlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGVudW0gQnJhbmRSZXNlcnZhdGlvblR5cGUge1xuICBUSElSRF9QQVJUWSA9IDEsXG59XG5cbmV4cG9ydCBjb25zdCBCcmFuZFJlc2VydmF0aW9uVHlwZVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IEJyYW5kUmVzZXJ2YXRpb25UeXBlW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBCcmFuZFJlc2VydmF0aW9uVHlwZS5USElSRF9QQVJUWSxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogQnJhbmRSZXNlcnZhdGlvblR5cGUpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgQnJhbmRSZXNlcnZhdGlvblR5cGUuVEhJUkRfUEFSVFk6IHJldHVybiAnVEhJUkRfUEFSVFknO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogQnJhbmRSZXNlcnZhdGlvblR5cGUgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ1RISVJEX1BBUlRZJzogcmV0dXJuIEJyYW5kUmVzZXJ2YXRpb25UeXBlLlRISVJEX1BBUlRZO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnQnJhbmRSZXNlcnZhdGlvblR5cGUnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgQnJhbmRSZXNlcnZhdGlvbiB7XG4gIHJlYWRvbmx5IGlkOiBudW1iZXI7XG4gIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHdlYnNpdGU6IHN0cmluZztcbiAgcmVhZG9ubHkgY3JlYXRpb25EYXRlOiBudW1iZXI7XG4gIHJlYWRvbmx5IHRyYWZmaWNFc3RpbWF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBicmFuZG5hbWU6IHN0cmluZztcbiAgcmVhZG9ubHkgdHlwZTogQnJhbmRSZXNlcnZhdGlvblR5cGU7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGlkOiBudW1iZXIsXG4gICAgZW1haWw6IHN0cmluZyxcbiAgICB3ZWJzaXRlOiBzdHJpbmcsXG4gICAgY3JlYXRpb25EYXRlOiBudW1iZXIsXG4gICAgdHJhZmZpY0VzdGltYXRlPzogc3RyaW5nLFxuICAgIGJyYW5kbmFtZTogc3RyaW5nLFxuICAgIHR5cGU6IEJyYW5kUmVzZXJ2YXRpb25UeXBlLFxuICB9KSB7XG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gICAgdGhpcy5lbWFpbCA9IG9wdHMuZW1haWw7XG4gICAgdGhpcy53ZWJzaXRlID0gb3B0cy53ZWJzaXRlO1xuICAgIHRoaXMuY3JlYXRpb25EYXRlID0gb3B0cy5jcmVhdGlvbkRhdGU7XG4gICAgdGhpcy50cmFmZmljRXN0aW1hdGUgPSBvcHRzLnRyYWZmaWNFc3RpbWF0ZTtcbiAgICB0aGlzLmJyYW5kbmFtZSA9IG9wdHMuYnJhbmRuYW1lO1xuICAgIHRoaXMudHlwZSA9IG9wdHMudHlwZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQnJhbmRSZXNlcnZhdGlvbik6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2lkJywgbS5pZCksXG4gICAgICAnZW1haWwnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdlbWFpbCcsIG0uZW1haWwpLFxuICAgICAgJ3dlYnNpdGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd3ZWJzaXRlJywgbS53ZWJzaXRlKSxcbiAgICAgICdjcmVhdGlvbkRhdGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdjcmVhdGlvbkRhdGUnLCBtLmNyZWF0aW9uRGF0ZSksXG4gICAgICAndHJhZmZpY0VzdGltYXRlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndHJhZmZpY0VzdGltYXRlJywgbS50cmFmZmljRXN0aW1hdGUpLFxuICAgICAgJ2JyYW5kbmFtZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kbmFtZScsIG0uYnJhbmRuYW1lKSxcbiAgICAgICd0eXBlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oQnJhbmRSZXNlcnZhdGlvblR5cGVVdGlsLnNlcmlhbGl6ZSwgJ3R5cGUnLCBtLnR5cGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQnJhbmRSZXNlcnZhdGlvbiB7XG4gICAgcmV0dXJuIG5ldyBCcmFuZFJlc2VydmF0aW9uKHtcbiAgICAgIGlkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2lkJywgbyksXG4gICAgICBlbWFpbDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdlbWFpbCcsIG8pLFxuICAgICAgd2Vic2l0ZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd3ZWJzaXRlJywgbyksXG4gICAgICBjcmVhdGlvbkRhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignY3JlYXRpb25EYXRlJywgbyksXG4gICAgICB0cmFmZmljRXN0aW1hdGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndHJhZmZpY0VzdGltYXRlJywgbyksXG4gICAgICBicmFuZG5hbWU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmRuYW1lJywgbyksXG4gICAgICB0eXBlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPEJyYW5kUmVzZXJ2YXRpb25UeXBlPihCcmFuZFJlc2VydmF0aW9uVHlwZVV0aWwuZGVzZXJpYWxpemUsICd0eXBlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldEF2YWlsYWJpbGl0eVJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgZW1haWw6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHVzZXJuYW1lOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBicmFuZG5hbWU6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGVtYWlsPzogYm9vbGVhbixcbiAgICB1c2VybmFtZT86IGJvb2xlYW4sXG4gICAgYnJhbmRuYW1lPzogYm9vbGVhbixcbiAgfSkge1xuICAgIHRoaXMuZW1haWwgPSBvcHRzLmVtYWlsO1xuICAgIHRoaXMudXNlcm5hbWUgPSBvcHRzLnVzZXJuYW1lO1xuICAgIHRoaXMuYnJhbmRuYW1lID0gb3B0cy5icmFuZG5hbWU7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldEF2YWlsYWJpbGl0eVJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2VtYWlsJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2VtYWlsJywgbS5lbWFpbCksXG4gICAgICAndXNlcm5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigndXNlcm5hbWUnLCBtLnVzZXJuYW1lKSxcbiAgICAgICdicmFuZG5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignYnJhbmRuYW1lJywgbS5icmFuZG5hbWUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0QXZhaWxhYmlsaXR5UmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0QXZhaWxhYmlsaXR5UmVzcG9uc2Uoe1xuICAgICAgZW1haWw6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2VtYWlsJywgbyksXG4gICAgICB1c2VybmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigndXNlcm5hbWUnLCBvKSxcbiAgICAgIGJyYW5kbmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignYnJhbmRuYW1lJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZUJyYW5kUmVzZXJ2YXRpb25SZXF1ZXN0IHtcbiAgcmVhZG9ubHkgZW1haWw6IHN0cmluZztcbiAgcmVhZG9ubHkgd2Vic2l0ZTogc3RyaW5nO1xuICByZWFkb25seSBicmFuZG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYnJhbmRuYW1lU2VlZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB0cmFmZmljRXN0aW1hdGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgdHlwZTogQnJhbmRSZXNlcnZhdGlvblR5cGU7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGVtYWlsOiBzdHJpbmcsXG4gICAgd2Vic2l0ZTogc3RyaW5nLFxuICAgIGJyYW5kbmFtZT86IHN0cmluZyxcbiAgICBicmFuZG5hbWVTZWVkPzogc3RyaW5nLFxuICAgIHRyYWZmaWNFc3RpbWF0ZT86IHN0cmluZyxcbiAgICB0eXBlOiBCcmFuZFJlc2VydmF0aW9uVHlwZSxcbiAgfSkge1xuICAgIHRoaXMuZW1haWwgPSBvcHRzLmVtYWlsO1xuICAgIHRoaXMud2Vic2l0ZSA9IG9wdHMud2Vic2l0ZTtcbiAgICB0aGlzLmJyYW5kbmFtZSA9IG9wdHMuYnJhbmRuYW1lO1xuICAgIHRoaXMuYnJhbmRuYW1lU2VlZCA9IG9wdHMuYnJhbmRuYW1lU2VlZDtcbiAgICB0aGlzLnRyYWZmaWNFc3RpbWF0ZSA9IG9wdHMudHJhZmZpY0VzdGltYXRlO1xuICAgIHRoaXMudHlwZSA9IG9wdHMudHlwZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlQnJhbmRSZXNlcnZhdGlvblJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZW1haWwnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdlbWFpbCcsIG0uZW1haWwpLFxuICAgICAgJ3dlYnNpdGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd3ZWJzaXRlJywgbS53ZWJzaXRlKSxcbiAgICAgICdicmFuZG5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZG5hbWUnLCBtLmJyYW5kbmFtZSksXG4gICAgICAnYnJhbmRuYW1lU2VlZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kbmFtZVNlZWQnLCBtLmJyYW5kbmFtZVNlZWQpLFxuICAgICAgJ3RyYWZmaWNFc3RpbWF0ZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3RyYWZmaWNFc3RpbWF0ZScsIG0udHJhZmZpY0VzdGltYXRlKSxcbiAgICAgICd0eXBlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oQnJhbmRSZXNlcnZhdGlvblR5cGVVdGlsLnNlcmlhbGl6ZSwgJ3R5cGUnLCBtLnR5cGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlQnJhbmRSZXNlcnZhdGlvblJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgQ3JlYXRlQnJhbmRSZXNlcnZhdGlvblJlcXVlc3Qoe1xuICAgICAgZW1haWw6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZW1haWwnLCBvKSxcbiAgICAgIHdlYnNpdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnd2Vic2l0ZScsIG8pLFxuICAgICAgYnJhbmRuYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kbmFtZScsIG8pLFxuICAgICAgYnJhbmRuYW1lU2VlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZG5hbWVTZWVkJywgbyksXG4gICAgICB0cmFmZmljRXN0aW1hdGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndHJhZmZpY0VzdGltYXRlJywgbyksXG4gICAgICB0eXBlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPEJyYW5kUmVzZXJ2YXRpb25UeXBlPihCcmFuZFJlc2VydmF0aW9uVHlwZVV0aWwuZGVzZXJpYWxpemUsICd0eXBlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENyZWF0ZUJyYW5kUmVzZXJ2YXRpb25SZXNwb25zZSB7XG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlQnJhbmRSZXNlcnZhdGlvblJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQ3JlYXRlQnJhbmRSZXNlcnZhdGlvblJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IENyZWF0ZUJyYW5kUmVzZXJ2YXRpb25SZXNwb25zZSgpO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVCcmFuZFJlc2VydmF0aW9uUmVxdWVzdCB7XG4gIC8qKiBSZXNlcnZhdGlvbiBpZC4gKi9cbiAgcmVhZG9ubHkgcmVzZXJ2YXRpb246IG51bWJlcjtcbiAgLyoqIElmIHRydWUsIGFwcHJvdmUgdGhlIHJlc2VydmF0aW9uLiAqL1xuICByZWFkb25seSBhcHByb3ZlOiBib29sZWFuO1xuICAvKiogSWYgdHJ1ZSwgcmVqZWN0IHRoZSByZXNlcnZhdGlvbi4gKi9cbiAgcmVhZG9ubHkgcmVqZWN0OiBib29sZWFuO1xuICAvKiogSWYgYXBwcm92ZWQsIENGRSBwYXRoIHRvIGRpcmVjdCBlbWFpbCByZWNpcGllbnQgdG8uIFNob3VsZCBhY2NlcHQgYSBcInRva2VuXCIgcGFyYW0uICovXG4gIHJlYWRvbmx5IGpvaW5QYXRoOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBleHRyYSB1cmwgcGFyYW1zIHRvIGFkZCB0byB7QGxpbmsgI2pvaW5QYXRofS4gKi9cbiAgcmVhZG9ubHkgam9pblBhcmFtczogUmVhZG9ubHlNYXA8c3RyaW5nLCBzdHJpbmc+O1xuICAvKiogSWYgcmVqZWN0LCBTaG9ydCByZWplY3Rpb24gbWVzc2FnZSB0byBiZSBzZW50IHRvIHRoZSB1c2VyLiAqL1xuICByZWFkb25seSByZWplY3Rpb25SZWFzb246IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFJlc2VydmF0aW9uIGlkLiAqL1xuICAgIHJlc2VydmF0aW9uOiBudW1iZXIsXG4gICAgLyoqIElmIHRydWUsIGFwcHJvdmUgdGhlIHJlc2VydmF0aW9uLiAqL1xuICAgIGFwcHJvdmU6IGJvb2xlYW4sXG4gICAgLyoqIElmIHRydWUsIHJlamVjdCB0aGUgcmVzZXJ2YXRpb24uICovXG4gICAgcmVqZWN0OiBib29sZWFuLFxuICAgIC8qKiBJZiBhcHByb3ZlZCwgQ0ZFIHBhdGggdG8gZGlyZWN0IGVtYWlsIHJlY2lwaWVudCB0by4gU2hvdWxkIGFjY2VwdCBhIFwidG9rZW5cIiBwYXJhbS4gKi9cbiAgICBqb2luUGF0aD86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgZXh0cmEgdXJsIHBhcmFtcyB0byBhZGQgdG8ge0BsaW5rICNqb2luUGF0aH0uICovXG4gICAgam9pblBhcmFtcz86IFJlYWRvbmx5TWFwPHN0cmluZywgc3RyaW5nPixcbiAgICAvKiogSWYgcmVqZWN0LCBTaG9ydCByZWplY3Rpb24gbWVzc2FnZSB0byBiZSBzZW50IHRvIHRoZSB1c2VyLiAqL1xuICAgIHJlamVjdGlvblJlYXNvbj86IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBSZXNlcnZhdGlvbiBpZC4gKi9cbiAgICB0aGlzLnJlc2VydmF0aW9uID0gb3B0cy5yZXNlcnZhdGlvbjtcbiAgICAvKiogSWYgdHJ1ZSwgYXBwcm92ZSB0aGUgcmVzZXJ2YXRpb24uICovXG4gICAgdGhpcy5hcHByb3ZlID0gb3B0cy5hcHByb3ZlO1xuICAgIC8qKiBJZiB0cnVlLCByZWplY3QgdGhlIHJlc2VydmF0aW9uLiAqL1xuICAgIHRoaXMucmVqZWN0ID0gb3B0cy5yZWplY3Q7XG4gICAgLyoqIElmIGFwcHJvdmVkLCBDRkUgcGF0aCB0byBkaXJlY3QgZW1haWwgcmVjaXBpZW50IHRvLiBTaG91bGQgYWNjZXB0IGEgXCJ0b2tlblwiIHBhcmFtLiAqL1xuICAgIHRoaXMuam9pblBhdGggPSBvcHRzLmpvaW5QYXRoO1xuICAgIC8qKiBPcHRpb25hbCBleHRyYSB1cmwgcGFyYW1zIHRvIGFkZCB0byB7QGxpbmsgI2pvaW5QYXRofS4gKi9cbiAgICB0aGlzLmpvaW5QYXJhbXMgPSBvcHRzLmpvaW5QYXJhbXMgfHwgbmV3IE1hcCgpO1xuICAgIC8qKiBJZiByZWplY3QsIFNob3J0IHJlamVjdGlvbiBtZXNzYWdlIHRvIGJlIHNlbnQgdG8gdGhlIHVzZXIuICovXG4gICAgdGhpcy5yZWplY3Rpb25SZWFzb24gPSBvcHRzLnJlamVjdGlvblJlYXNvbjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlQnJhbmRSZXNlcnZhdGlvblJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncmVzZXJ2YXRpb24nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdyZXNlcnZhdGlvbicsIG0ucmVzZXJ2YXRpb24pLFxuICAgICAgJ2FwcHJvdmUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignYXBwcm92ZScsIG0uYXBwcm92ZSksXG4gICAgICAncmVqZWN0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3JlamVjdCcsIG0ucmVqZWN0KSxcbiAgICAgICdqb2luUGF0aCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2pvaW5QYXRoJywgbS5qb2luUGF0aCksXG4gICAgICAnam9pblBhcmFtcyc6IFNlcmlhbGl6YXRpb24uc3RyaW5nU3RyaW5nTWFwKCdqb2luUGFyYW1zJywgbS5qb2luUGFyYW1zKSxcbiAgICAgICdyZWplY3Rpb25SZWFzb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWplY3Rpb25SZWFzb24nLCBtLnJlamVjdGlvblJlYXNvbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVCcmFuZFJlc2VydmF0aW9uUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVCcmFuZFJlc2VydmF0aW9uUmVxdWVzdCh7XG4gICAgICByZXNlcnZhdGlvbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdyZXNlcnZhdGlvbicsIG8pLFxuICAgICAgYXBwcm92ZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignYXBwcm92ZScsIG8pLFxuICAgICAgcmVqZWN0OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZWplY3QnLCBvKSxcbiAgICAgIGpvaW5QYXRoOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2pvaW5QYXRoJywgbyksXG4gICAgICBqb2luUGFyYW1zOiBEZXNlcmlhbGl6YXRpb24uc3RyaW5nU3RyaW5nTWFwKCdqb2luUGFyYW1zJywgbyksXG4gICAgICByZWplY3Rpb25SZWFzb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmVqZWN0aW9uUmVhc29uJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZUJyYW5kUmVzZXJ2YXRpb25SZXNwb25zZSB7XG4gIC8qKiBJZiBub24tbnVsbCwgdGhlIGJyYW5kIHRoYXQgd2FzIGNyZWF0ZWQgZnJvbSB0aGUgcmVzZXJ2YXRpb24gKi9cbiAgcmVhZG9ubHkgYnJhbmQ6IEJyYW5kIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogSWYgbm9uLW51bGwsIHRoZSBicmFuZCB0aGF0IHdhcyBjcmVhdGVkIGZyb20gdGhlIHJlc2VydmF0aW9uICovXG4gICAgYnJhbmQ/OiBCcmFuZCxcbiAgfSkge1xuICAgIC8qKiBJZiBub24tbnVsbCwgdGhlIGJyYW5kIHRoYXQgd2FzIGNyZWF0ZWQgZnJvbSB0aGUgcmVzZXJ2YXRpb24gKi9cbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlQnJhbmRSZXNlcnZhdGlvblJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChCcmFuZC5zZXJpYWxpemUsICdicmFuZCcsIG0uYnJhbmQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVXBkYXRlQnJhbmRSZXNlcnZhdGlvblJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZUJyYW5kUmVzZXJ2YXRpb25SZXNwb25zZSh7XG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kLmRlc2VyaWFsaXplLCAnYnJhbmQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZEJyYW5kUmVzZXJ2YXRpb25zUmVxdWVzdCB7XG4gIHJlYWRvbmx5IHNraXA6IG51bWJlcjtcbiAgcmVhZG9ubHkgbGltaXQ6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgc2tpcDogbnVtYmVyLFxuICAgIGxpbWl0OiBudW1iZXIsXG4gIH0pIHtcbiAgICB0aGlzLnNraXAgPSBvcHRzLnNraXA7XG4gICAgdGhpcy5saW1pdCA9IG9wdHMubGltaXQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRCcmFuZFJlc2VydmF0aW9uc1JlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnc2tpcCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3NraXAnLCBtLnNraXApLFxuICAgICAgJ2xpbWl0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBtLmxpbWl0KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRCcmFuZFJlc2VydmF0aW9uc1JlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgRmluZEJyYW5kUmVzZXJ2YXRpb25zUmVxdWVzdCh7XG4gICAgICBza2lwOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3NraXAnLCBvKSxcbiAgICAgIGxpbWl0OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2xpbWl0JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbmRCcmFuZFJlc2VydmF0aW9uc1Jlc3BvbnNlIHtcbiAgcmVhZG9ubHkgcmVzZXJ2YXRpb25zOiByZWFkb25seSBCcmFuZFJlc2VydmF0aW9uW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHJlc2VydmF0aW9ucz86IHJlYWRvbmx5IEJyYW5kUmVzZXJ2YXRpb25bXSxcbiAgfSkge1xuICAgIHRoaXMucmVzZXJ2YXRpb25zID0gb3B0cy5yZXNlcnZhdGlvbnMgfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRCcmFuZFJlc2VydmF0aW9uc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3Jlc2VydmF0aW9ucyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoQnJhbmRSZXNlcnZhdGlvbi5zZXJpYWxpemUsICdyZXNlcnZhdGlvbnMnLCBtLnJlc2VydmF0aW9ucyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kQnJhbmRSZXNlcnZhdGlvbnNSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBGaW5kQnJhbmRSZXNlcnZhdGlvbnNSZXNwb25zZSh7XG4gICAgICByZXNlcnZhdGlvbnM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChCcmFuZFJlc2VydmF0aW9uLmRlc2VyaWFsaXplLCAncmVzZXJ2YXRpb25zJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIEF2YWlsYWJsZSBhdHRyaWJ1dGVzIHRvIHVwZGF0ZSBhbmQgZmluZC4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIEF0dHJpYnV0ZU5hbWUge1xuICBTRUVOX09OQk9BUkRJTkcgPSAxLFxuICAvKiogVXNlciBoYXMgc2VlbiB0aGUgRTIgZGlhbG9nIGFzIHBhcnQgb2YgdGhlIGZvcmNlZCAobm8gb3B0IG91dCkgcm9sbG91dC4gKi9cbiAgU0VFTl9GT1JDRURfRTJfRElBTE9HLFxuICAvKiogVXNlciBoYXMgc2VlbiB0aGUgcHJvbW90aW9uYWwgXCJDYW52YSAyLjBcIiBvcHQtaW4gZGlhbG9nLiAqL1xuICBTRUVOX1BST01PX0NBTlZBXzJfT1BUX0lOX0RJQUxPRyxcbiAgLyoqIFVzZXIgaGFzIHNlZW4gdGhlIENhbnZhIDIuMCBicm93c2VyIGRlcHJlY2F0aW9uIG5vdGljZSBkaWFsb2cuICovXG4gIFNFRU5fQ0FOVkFfMl9CUk9XU0VSX0RFUFJFQ0FUSU9OX05PVElDRV9ESUFMT0csXG4gIC8qKiBVc2VyIGhhcyBzZWVuIHRoZSBub3RpY2UgZGlhbG9nIG9mIHVwY29taW5nIGZvcmNlZCBzd2l0Y2ggdG8gQ2FudmEgMi4wLiAqL1xuICBTRUVOX0NBTlZBXzJfRk9SQ0VEX1NXSVRDSF9OT1RJQ0VfRElBTE9HLFxuICAvKiogVXNlciBoYXMgc2VlbiBvbmJvYXJkaW5nIHRlYW1zIHBhZ2UgKi9cbiAgU0VFTl9PTkJPQVJESU5HX1RFQU1TX0lOVklURVIsXG4gIC8qKiBVc2VyIGhhcyBzZWVuIG9uYm9hcmRpbmcgZGVzaWduIHN0YXJ0ZXIgcGFnZSAqL1xuICBTRUVOX09OQk9BUkRJTkdfREVTSUdOX1NUQVJURVIsXG4gIC8qKiBVc2VyIGhhcyBzZWVuIG9uYm9hcmRpbmcgZmF2b3JpdGVzIHNlbGVjdG9yIHBhZ2UgKi9cbiAgU0VFTl9PTkJPQVJESU5HX0ZBVk9SSVRFU19TRUxFQ1RPUixcbiAgLyoqIFVzZXIgaGFzIHNlZW4gdGlueSBwcmljZSBiYWRnZSB1cGRhdGUgKi9cbiAgU0VFTl9QUklDRV9CQURHRV9VUERBVEUsXG4gIC8qKiBVc2VyIGhhcyBzZWVuIFQtc2hpcnRzIG9uYm9hcmRpbmcgZGlhbG9nICovXG4gIFNFRU5fT05CT0FSRElOR19UU0hJUlRTLFxuICAvKiogVXNlciBoYXMgc2VlbiByZWZlcnJhbHMgZGlhbG9nIGFmdGVyIGluLWVkaXRvciBwdWJsaXNoICovXG4gIFNFRU5fUkVGRVJSQUxTX1BVQkxJU0hfRElBTE9HLFxuICAvKiogVXNlciBoYXMgYmVlbiBzZWVuIGEgbWVzc2FnZSB3aXRoIHJlZ2FyZCB0byBzZXBhcmF0ZSBwaG90b3MgdGFiICovXG4gIFNFRU5fU0VQQVJBVEVfUEhPVE9TX1RBQl9NRVNTQUdFLFxufVxuXG5leHBvcnQgY29uc3QgQXR0cmlidXRlTmFtZVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IEF0dHJpYnV0ZU5hbWVbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEF0dHJpYnV0ZU5hbWUuU0VFTl9PTkJPQVJESU5HLFxuICAgICAgQXR0cmlidXRlTmFtZS5TRUVOX0ZPUkNFRF9FMl9ESUFMT0csXG4gICAgICBBdHRyaWJ1dGVOYW1lLlNFRU5fUFJPTU9fQ0FOVkFfMl9PUFRfSU5fRElBTE9HLFxuICAgICAgQXR0cmlidXRlTmFtZS5TRUVOX0NBTlZBXzJfQlJPV1NFUl9ERVBSRUNBVElPTl9OT1RJQ0VfRElBTE9HLFxuICAgICAgQXR0cmlidXRlTmFtZS5TRUVOX0NBTlZBXzJfRk9SQ0VEX1NXSVRDSF9OT1RJQ0VfRElBTE9HLFxuICAgICAgQXR0cmlidXRlTmFtZS5TRUVOX09OQk9BUkRJTkdfVEVBTVNfSU5WSVRFUixcbiAgICAgIEF0dHJpYnV0ZU5hbWUuU0VFTl9PTkJPQVJESU5HX0RFU0lHTl9TVEFSVEVSLFxuICAgICAgQXR0cmlidXRlTmFtZS5TRUVOX09OQk9BUkRJTkdfRkFWT1JJVEVTX1NFTEVDVE9SLFxuICAgICAgQXR0cmlidXRlTmFtZS5TRUVOX1BSSUNFX0JBREdFX1VQREFURSxcbiAgICAgIEF0dHJpYnV0ZU5hbWUuU0VFTl9PTkJPQVJESU5HX1RTSElSVFMsXG4gICAgICBBdHRyaWJ1dGVOYW1lLlNFRU5fUkVGRVJSQUxTX1BVQkxJU0hfRElBTE9HLFxuICAgICAgQXR0cmlidXRlTmFtZS5TRUVOX1NFUEFSQVRFX1BIT1RPU19UQUJfTUVTU0FHRSxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogQXR0cmlidXRlTmFtZSk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBBdHRyaWJ1dGVOYW1lLlNFRU5fT05CT0FSRElORzogcmV0dXJuICdBJztcbiAgICAgIGNhc2UgQXR0cmlidXRlTmFtZS5TRUVOX0ZPUkNFRF9FMl9ESUFMT0c6IHJldHVybiAnQic7XG4gICAgICBjYXNlIEF0dHJpYnV0ZU5hbWUuU0VFTl9QUk9NT19DQU5WQV8yX09QVF9JTl9ESUFMT0c6IHJldHVybiAnQyc7XG4gICAgICBjYXNlIEF0dHJpYnV0ZU5hbWUuU0VFTl9DQU5WQV8yX0JST1dTRVJfREVQUkVDQVRJT05fTk9USUNFX0RJQUxPRzogcmV0dXJuICdEJztcbiAgICAgIGNhc2UgQXR0cmlidXRlTmFtZS5TRUVOX0NBTlZBXzJfRk9SQ0VEX1NXSVRDSF9OT1RJQ0VfRElBTE9HOiByZXR1cm4gJ0UnO1xuICAgICAgY2FzZSBBdHRyaWJ1dGVOYW1lLlNFRU5fT05CT0FSRElOR19URUFNU19JTlZJVEVSOiByZXR1cm4gJ0YnO1xuICAgICAgY2FzZSBBdHRyaWJ1dGVOYW1lLlNFRU5fT05CT0FSRElOR19ERVNJR05fU1RBUlRFUjogcmV0dXJuICdHJztcbiAgICAgIGNhc2UgQXR0cmlidXRlTmFtZS5TRUVOX09OQk9BUkRJTkdfRkFWT1JJVEVTX1NFTEVDVE9SOiByZXR1cm4gJ0gnO1xuICAgICAgY2FzZSBBdHRyaWJ1dGVOYW1lLlNFRU5fUFJJQ0VfQkFER0VfVVBEQVRFOiByZXR1cm4gJ0knO1xuICAgICAgY2FzZSBBdHRyaWJ1dGVOYW1lLlNFRU5fT05CT0FSRElOR19UU0hJUlRTOiByZXR1cm4gJ0onO1xuICAgICAgY2FzZSBBdHRyaWJ1dGVOYW1lLlNFRU5fUkVGRVJSQUxTX1BVQkxJU0hfRElBTE9HOiByZXR1cm4gJ0snO1xuICAgICAgY2FzZSBBdHRyaWJ1dGVOYW1lLlNFRU5fU0VQQVJBVEVfUEhPVE9TX1RBQl9NRVNTQUdFOiByZXR1cm4gJ0wnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogQXR0cmlidXRlTmFtZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnQSc6IHJldHVybiBBdHRyaWJ1dGVOYW1lLlNFRU5fT05CT0FSRElORztcbiAgICAgIGNhc2UgJ0InOiByZXR1cm4gQXR0cmlidXRlTmFtZS5TRUVOX0ZPUkNFRF9FMl9ESUFMT0c7XG4gICAgICBjYXNlICdDJzogcmV0dXJuIEF0dHJpYnV0ZU5hbWUuU0VFTl9QUk9NT19DQU5WQV8yX09QVF9JTl9ESUFMT0c7XG4gICAgICBjYXNlICdEJzogcmV0dXJuIEF0dHJpYnV0ZU5hbWUuU0VFTl9DQU5WQV8yX0JST1dTRVJfREVQUkVDQVRJT05fTk9USUNFX0RJQUxPRztcbiAgICAgIGNhc2UgJ0UnOiByZXR1cm4gQXR0cmlidXRlTmFtZS5TRUVOX0NBTlZBXzJfRk9SQ0VEX1NXSVRDSF9OT1RJQ0VfRElBTE9HO1xuICAgICAgY2FzZSAnRic6IHJldHVybiBBdHRyaWJ1dGVOYW1lLlNFRU5fT05CT0FSRElOR19URUFNU19JTlZJVEVSO1xuICAgICAgY2FzZSAnRyc6IHJldHVybiBBdHRyaWJ1dGVOYW1lLlNFRU5fT05CT0FSRElOR19ERVNJR05fU1RBUlRFUjtcbiAgICAgIGNhc2UgJ0gnOiByZXR1cm4gQXR0cmlidXRlTmFtZS5TRUVOX09OQk9BUkRJTkdfRkFWT1JJVEVTX1NFTEVDVE9SO1xuICAgICAgY2FzZSAnSSc6IHJldHVybiBBdHRyaWJ1dGVOYW1lLlNFRU5fUFJJQ0VfQkFER0VfVVBEQVRFO1xuICAgICAgY2FzZSAnSic6IHJldHVybiBBdHRyaWJ1dGVOYW1lLlNFRU5fT05CT0FSRElOR19UU0hJUlRTO1xuICAgICAgY2FzZSAnSyc6IHJldHVybiBBdHRyaWJ1dGVOYW1lLlNFRU5fUkVGRVJSQUxTX1BVQkxJU0hfRElBTE9HO1xuICAgICAgY2FzZSAnTCc6IHJldHVybiBBdHRyaWJ1dGVOYW1lLlNFRU5fU0VQQVJBVEVfUEhPVE9TX1RBQl9NRVNTQUdFO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnQXR0cmlidXRlTmFtZScke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjbGFzcyBVc2VyQXR0cmlidXRlIHtcbiAgcmVhZG9ubHkgbmFtZTogQXR0cmlidXRlTmFtZTtcbiAgcmVhZG9ubHkgdmFsdWU6IEF0dHJpYnV0ZVZhbHVlO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBuYW1lOiBBdHRyaWJ1dGVOYW1lLFxuICAgIHZhbHVlOiBBdHRyaWJ1dGVWYWx1ZSxcbiAgfSkge1xuICAgIHRoaXMubmFtZSA9IG9wdHMubmFtZTtcbiAgICB0aGlzLnZhbHVlID0gb3B0cy52YWx1ZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXNlckF0dHJpYnV0ZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICduYW1lJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oQXR0cmlidXRlTmFtZVV0aWwuc2VyaWFsaXplLCAnbmFtZScsIG0ubmFtZSksXG4gICAgICAndmFsdWUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEF0dHJpYnV0ZVZhbHVlLnNlcmlhbGl6ZSwgJ3ZhbHVlJywgbS52YWx1ZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVc2VyQXR0cmlidXRlIHtcbiAgICByZXR1cm4gbmV3IFVzZXJBdHRyaWJ1dGUoe1xuICAgICAgbmFtZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxBdHRyaWJ1dGVOYW1lPihBdHRyaWJ1dGVOYW1lVXRpbC5kZXNlcmlhbGl6ZSwgJ25hbWUnLCBvKSxcbiAgICAgIHZhbHVlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoQXR0cmlidXRlVmFsdWUuZGVzZXJpYWxpemUsICd2YWx1ZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIEF0dHJpYnV0ZVZhbHVlXG4gICAgPSBCb29sZWFuVmFsdWVcbiAgICB8IFN0cmluZ1ZhbHVlO1xuXG5leHBvcnQgY29uc3QgQXR0cmlidXRlVmFsdWUgPSB7XG4gIHNlcmlhbGl6ZSh1OiBBdHRyaWJ1dGVWYWx1ZSk6IG9iamVjdCB7XG4gICAgc3dpdGNoICh1LnR5cGUpIHtcbiAgICAgIGNhc2UgJ0JPT0xFQU4nOiByZXR1cm4gQm9vbGVhblZhbHVlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ1NUUklORyc6IHJldHVybiBTdHJpbmdWYWx1ZS5zZXJpYWxpemUodSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih1KTtcbiAgICB9XG4gIH0sXG5cbiAgZGVzZXJpYWxpemUobzogb2JqZWN0KTogQXR0cmlidXRlVmFsdWUge1xuICAgIGNvbnN0IGthc2UgPSBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3R5cGUnLCBvKTtcbiAgICBzd2l0Y2ggKGthc2UpIHtcbiAgICAgIGNhc2UgJ0JPT0xFQU4nOiByZXR1cm4gQm9vbGVhblZhbHVlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnU1RSSU5HJzogcmV0dXJuIFN0cmluZ1ZhbHVlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgQm9vbGVhblZhbHVlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdCT09MRUFOJztcblxuICByZWFkb25seSB2YWx1ZTogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdmFsdWU6IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLnZhbHVlID0gb3B0cy52YWx1ZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQm9vbGVhblZhbHVlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnQk9PTEVBTicsXG4gICAgICAndmFsdWUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndmFsdWUnLCBtLnZhbHVlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJvb2xlYW5WYWx1ZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ0JPT0xFQU4nKTtcbiAgICByZXR1cm4gbmV3IEJvb2xlYW5WYWx1ZSh7XG4gICAgICB2YWx1ZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndmFsdWUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogVW5pbXBsZW1lbnRlZCBhdHRyaWJ1dGUgdmFsdWUgdHlwZS4gKi9cbmV4cG9ydCBjbGFzcyBTdHJpbmdWYWx1ZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnU1RSSU5HJztcblxuICByZWFkb25seSB2YWx1ZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICB2YWx1ZTogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy52YWx1ZSA9IG9wdHMudmFsdWU7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFN0cmluZ1ZhbHVlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnU1RSSU5HJyxcbiAgICAgICd2YWx1ZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3ZhbHVlJywgbS52YWx1ZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBTdHJpbmdWYWx1ZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1NUUklORycpO1xuICAgIHJldHVybiBuZXcgU3RyaW5nVmFsdWUoe1xuICAgICAgdmFsdWU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndmFsdWUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlVXNlckF0dHJpYnV0ZVJlcXVlc3Qge1xuICByZWFkb25seSB1c2VyOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGF0dHJpYnV0ZTogVXNlckF0dHJpYnV0ZTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdXNlcjogc3RyaW5nLFxuICAgIGF0dHJpYnV0ZTogVXNlckF0dHJpYnV0ZSxcbiAgfSkge1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgICB0aGlzLmF0dHJpYnV0ZSA9IG9wdHMuYXR0cmlidXRlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVVc2VyQXR0cmlidXRlUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG0udXNlciksXG4gICAgICAnYXR0cmlidXRlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChVc2VyQXR0cmlidXRlLnNlcmlhbGl6ZSwgJ2F0dHJpYnV0ZScsIG0uYXR0cmlidXRlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZVVzZXJBdHRyaWJ1dGVSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZVVzZXJBdHRyaWJ1dGVSZXF1ZXN0KHtcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG8pLFxuICAgICAgYXR0cmlidXRlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoVXNlckF0dHJpYnV0ZS5kZXNlcmlhbGl6ZSwgJ2F0dHJpYnV0ZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVVc2VyQXR0cmlidXRlUmVzcG9uc2Uge1xuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZVVzZXJBdHRyaWJ1dGVSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZVVzZXJBdHRyaWJ1dGVSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVVc2VyQXR0cmlidXRlUmVzcG9uc2UoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZFVzZXJBdHRyaWJ1dGVzUmVxdWVzdCB7XG4gIHJlYWRvbmx5IHVzZXI6IHN0cmluZztcbiAgLyoqIFRoZSBsaXN0IG9mIGF0dHJpYnV0ZSBuYW1lcyB0byBmaWx0ZXIgb24uIE11c3QgcHJvdmlkZSBhdGxlYXN0IGEgc2luZ2xlIGF0dHJpYnV0ZSBuYW1lLiAqL1xuICByZWFkb25seSBhdHRyaWJ1dGVzOiByZWFkb25seSBBdHRyaWJ1dGVOYW1lW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHVzZXI6IHN0cmluZyxcbiAgICAvKiogVGhlIGxpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGZpbHRlciBvbi4gTXVzdCBwcm92aWRlIGF0bGVhc3QgYSBzaW5nbGUgYXR0cmlidXRlIG5hbWUuICovXG4gICAgYXR0cmlidXRlcz86IHJlYWRvbmx5IEF0dHJpYnV0ZU5hbWVbXSxcbiAgfSkge1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgICAvKiogVGhlIGxpc3Qgb2YgYXR0cmlidXRlIG5hbWVzIHRvIGZpbHRlciBvbi4gTXVzdCBwcm92aWRlIGF0bGVhc3QgYSBzaW5nbGUgYXR0cmlidXRlIG5hbWUuICovXG4gICAgdGhpcy5hdHRyaWJ1dGVzID0gb3B0cy5hdHRyaWJ1dGVzIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kVXNlckF0dHJpYnV0ZXNSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICAgICdhdHRyaWJ1dGVzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW0oQXR0cmlidXRlTmFtZVV0aWwuc2VyaWFsaXplLCAnYXR0cmlidXRlcycsIG0uYXR0cmlidXRlcyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kVXNlckF0dHJpYnV0ZXNSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEZpbmRVc2VyQXR0cmlidXRlc1JlcXVlc3Qoe1xuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VyJywgbyksXG4gICAgICBhdHRyaWJ1dGVzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtPEF0dHJpYnV0ZU5hbWU+KEF0dHJpYnV0ZU5hbWVVdGlsLmRlc2VyaWFsaXplLCAnYXR0cmlidXRlcycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kVXNlckF0dHJpYnV0ZXNSZXNwb25zZSB7XG4gIHJlYWRvbmx5IGF0dHJpYnV0ZXM6IHJlYWRvbmx5IFVzZXJBdHRyaWJ1dGVbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYXR0cmlidXRlcz86IHJlYWRvbmx5IFVzZXJBdHRyaWJ1dGVbXSxcbiAgfSkge1xuICAgIHRoaXMuYXR0cmlidXRlcyA9IG9wdHMuYXR0cmlidXRlcyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZFVzZXJBdHRyaWJ1dGVzUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnYXR0cmlidXRlcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoVXNlckF0dHJpYnV0ZS5zZXJpYWxpemUsICdhdHRyaWJ1dGVzJywgbS5hdHRyaWJ1dGVzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRVc2VyQXR0cmlidXRlc1Jlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IEZpbmRVc2VyQXR0cmlidXRlc1Jlc3BvbnNlKHtcbiAgICAgIGF0dHJpYnV0ZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChVc2VyQXR0cmlidXRlLmRlc2VyaWFsaXplLCAnYXR0cmlidXRlcycsIG8pLFxuICAgIH0pO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUdBO0FBR0E7QUFJQTtBQUdBO0FBc0JBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQStQQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBMlBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBO0FBQ0E7QUFDQTs7Ozs7Ozs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBU0E7QUFSQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFKQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFNQTtBQUxBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUpBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVVBO0FBVEE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQVFBO0FBUEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBSkE7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBT0E7QUFOQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBVUE7QUFVQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBdUJBO0FBdUJBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7O0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFxQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBVUE7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFVQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFpQ0E7QUFpQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7QUFYQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQVJBO0FBZUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFtQkE7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFVQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFhQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQVJBO0FBZUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQVJBO0FBZUE7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUE0QkE7QUE0QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFZQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUF5QkE7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQVJBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBSkE7QUFPQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBO0FBQ0E7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUF3QkE7QUF3QkE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBZ0JBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFvQkE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFhQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFrQkE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFRQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWtCQTtBQWtCQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUF5QkE7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQTJFQTtBQXdFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQThCQTtBQTdCQTtBQXlEQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUxBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBc0JBO0FBc0JBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBV0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFnQkE7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBUEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUxBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWFBO0FBYUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQXNGQTtBQW9GQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7Ozs7Ozs7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFVQTtBQVVBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFZQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQXVCQTtBQXVCQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQU5BO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBaUJBO0FBaEJBO0FBK0JBOzs7QUFHQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFXQTtBQVdBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQU9BOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBZ0JBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWlCQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBcUJBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUpBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQVBBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBYUE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUpBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQVBBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBTUE7QUFMQTtBQVNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQU1BO0FBTEE7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBY0E7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFZQTtBQVZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUxBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBWUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQVlBO0FBVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBTEE7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUxBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBTEE7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFlQTtBQWRBO0FBMkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFZQTtBQVhBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQVNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFTQTtBQVNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBY0E7QUFjQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFjQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFjQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE2QkE7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFKQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUpBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///29\n");

/***/ }),
/* 30 */
/*!*******************************************!*\
  !*** ./src/services/api/api_key_proto.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KeyTypeUtil\", function() { return KeyTypeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"KeyDetails\", function() { return KeyDetails; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from services/api/api_key.proto.\r\n\r\n\r\n\r\nconst KeyTypeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* PRODUCTION */,\r\n            2 /* DEVELOPMENT */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* PRODUCTION */: return 'PRODUCTION';\r\n            case 2 /* DEVELOPMENT */: return 'DEVELOPMENT';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'PRODUCTION': return 1 /* PRODUCTION */;\r\n            case 'DEVELOPMENT': return 2 /* DEVELOPMENT */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'KeyType'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nclass KeyDetails {\r\n    constructor(opts) {\r\n        this.userId = opts.userId;\r\n        this.brandId = opts.brandId;\r\n        this.keyType = opts.keyType;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'userId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('userId', m.userId),\r\n            'brandId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brandId', m.brandId),\r\n            'keyType': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(KeyTypeUtil.serialize, 'keyType', m.keyType),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new KeyDetails({\r\n            userId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('userId', o),\r\n            brandId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brandId', o),\r\n            keyType: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(KeyTypeUtil.deserialize, 'keyType', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvYXBpL2FwaV9rZXlfcHJvdG8udHM/NzM1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZm9ybWF0dGVyOm9mZlxuLy8gQ29weXJpZ2h0IENhbnZhIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIEdlbmVyYXRlZCBmcm9tIHNlcnZpY2VzL2FwaS9hcGlfa2V5LnByb3RvLlxuXG5pbXBvcnQge1xuICBVbnJlYWNoYWJsZUVycm9yLFxufSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuaW1wb3J0IHtcbiAgRGVzZXJpYWxpemF0aW9uLFxufSBmcm9tICdiYXNlL3NlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uJztcbmltcG9ydCB7XG4gIFNlcmlhbGl6YXRpb24sXG59IGZyb20gJ2Jhc2Uvc2VyaWFsaXphdGlvbi9zZXJpYWxpemF0aW9uJztcblxuZXhwb3J0IGNvbnN0IGVudW0gS2V5VHlwZSB7XG4gIFBST0RVQ1RJT04gPSAxLFxuICBERVZFTE9QTUVOVCxcbn1cblxuZXhwb3J0IGNvbnN0IEtleVR5cGVVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBLZXlUeXBlW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBLZXlUeXBlLlBST0RVQ1RJT04sXG4gICAgICBLZXlUeXBlLkRFVkVMT1BNRU5ULFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBLZXlUeXBlKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIEtleVR5cGUuUFJPRFVDVElPTjogcmV0dXJuICdQUk9EVUNUSU9OJztcbiAgICAgIGNhc2UgS2V5VHlwZS5ERVZFTE9QTUVOVDogcmV0dXJuICdERVZFTE9QTUVOVCc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBLZXlUeXBlID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICdQUk9EVUNUSU9OJzogcmV0dXJuIEtleVR5cGUuUFJPRFVDVElPTjtcbiAgICAgIGNhc2UgJ0RFVkVMT1BNRU5UJzogcmV0dXJuIEtleVR5cGUuREVWRUxPUE1FTlQ7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdLZXlUeXBlJyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNsYXNzIEtleURldGFpbHMge1xuICByZWFkb25seSB1c2VySWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgYnJhbmRJZDogc3RyaW5nO1xuICByZWFkb25seSBrZXlUeXBlOiBLZXlUeXBlO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICB1c2VySWQ6IHN0cmluZyxcbiAgICBicmFuZElkOiBzdHJpbmcsXG4gICAga2V5VHlwZTogS2V5VHlwZSxcbiAgfSkge1xuICAgIHRoaXMudXNlcklkID0gb3B0cy51c2VySWQ7XG4gICAgdGhpcy5icmFuZElkID0gb3B0cy5icmFuZElkO1xuICAgIHRoaXMua2V5VHlwZSA9IG9wdHMua2V5VHlwZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogS2V5RGV0YWlscyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd1c2VySWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1c2VySWQnLCBtLnVzZXJJZCksXG4gICAgICAnYnJhbmRJZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kSWQnLCBtLmJyYW5kSWQpLFxuICAgICAgJ2tleVR5cGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShLZXlUeXBlVXRpbC5zZXJpYWxpemUsICdrZXlUeXBlJywgbS5rZXlUeXBlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEtleURldGFpbHMge1xuICAgIHJldHVybiBuZXcgS2V5RGV0YWlscyh7XG4gICAgICB1c2VySWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcklkJywgbyksXG4gICAgICBicmFuZElkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kSWQnLCBvKSxcbiAgICAgIGtleVR5cGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08S2V5VHlwZT4oS2V5VHlwZVV0aWwuZGVzZXJpYWxpemUsICdrZXlUeXBlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBU0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///30\n");

/***/ }),
/* 31 */
/*!*******************************************!*\
  !*** ./src/services/media/media_proto.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaQualityUtil\", function() { return MediaQualityUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaTypeUtil\", function() { return MediaTypeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QualityStyleUtil\", function() { return QualityStyleUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SpritesheetLayerTypeUtil\", function() { return SpritesheetLayerTypeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaImportStateUtil\", function() { return MediaImportStateUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaIngestionStatusUtil\", function() { return MediaIngestionStatusUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaAgeRatingUtil\", function() { return MediaAgeRatingUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ReadConsistencyUtil\", function() { return ReadConsistencyUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LicensingUtil\", function() { return LicensingUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaComponentUtil\", function() { return MediaComponentUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SetOperationUtil\", function() { return SetOperationUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ListUpdatePolicyUtil\", function() { return ListUpdatePolicyUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ExternalProviderUtil\", function() { return ExternalProviderUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaRef\", function() { return MediaRef; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LicensedMediaUrl\", function() { return LicensedMediaUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SpritesheetMetadata\", function() { return SpritesheetMetadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SpritesheetLayer\", function() { return SpritesheetLayer; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaFile\", function() { return MediaFile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Media\", function() { return Media; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SuperKeyword\", function() { return SuperKeyword; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContentMetadata\", function() { return ContentMetadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QualityMetadata\", function() { return QualityMetadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArtistMetadata\", function() { return ArtistMetadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LocalizedMetadata\", function() { return LocalizedMetadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaColorInfo\", function() { return MediaColorInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaBundle\", function() { return MediaBundle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LocalizedString\", function() { return LocalizedString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ProcessedFile\", function() { return ProcessedFile; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FontMetadata\", function() { return FontMetadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetLicensedMediaUrlRequest\", function() { return GetLicensedMediaUrlRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetLicensedMediaUrlResponse\", function() { return GetLicensedMediaUrlResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaRequest\", function() { return GetMediaRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaResponse\", function() { return GetMediaResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateMediaRequest\", function() { return CreateMediaRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateMediaRpcRequest\", function() { return CreateMediaRpcRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateMediaResponse\", function() { return CreateMediaResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaRpcRequest\", function() { return GetMediaRpcRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaRpcRequest\", function() { return FindMediaRpcRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaMode\", function() { return FindMediaMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaIdsMode\", function() { return FindMediaIdsMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaRefsMode\", function() { return FindMediaRefsMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaDesignIdsMode\", function() { return FindMediaDesignIdsMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaFilenameMode\", function() { return FindMediaFilenameMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaBrandMode\", function() { return FindMediaBrandMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaSetMode\", function() { return FindMediaSetMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaExternalProviderMode\", function() { return FindMediaExternalProviderMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaImportKeyMode\", function() { return FindMediaImportKeyMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaTypes\", function() { return FindMediaTypes; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaOptions\", function() { return FindMediaOptions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaRequest\", function() { return FindMediaRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaResponse\", function() { return FindMediaResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BundleMetadata\", function() { return BundleMetadata; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"BundleStyle\", function() { return BundleStyle; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ContentMetadataUpdate\", function() { return ContentMetadataUpdate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"QualityMetadataUpdate\", function() { return QualityMetadataUpdate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LocalizedMetadataUpdate\", function() { return LocalizedMetadataUpdate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ArtistMetadataUpdate\", function() { return ArtistMetadataUpdate; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateMediaRequestFiles\", function() { return UpdateMediaRequestFiles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateMediaRequestKeywords\", function() { return UpdateMediaRequestKeywords; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateMediaRequestProcessedFiles\", function() { return UpdateMediaRequestProcessedFiles; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateMediaRequestComponentMedia\", function() { return UpdateMediaRequestComponentMedia; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateMediaRequest\", function() { return UpdateMediaRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateMediaResponse\", function() { return UpdateMediaResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaBatchRpcRequest\", function() { return GetMediaBatchRpcRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaBatchMode\", function() { return GetMediaBatchMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaBatchIdsMode\", function() { return GetMediaBatchIdsMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaBatchRefsMode\", function() { return GetMediaBatchRefsMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaBatchRequest\", function() { return GetMediaBatchRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaBatchResponse\", function() { return GetMediaBatchResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaSet\", function() { return MediaSet; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateMediaSetRequest\", function() { return CreateMediaSetRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CreateMediaSetResponse\", function() { return CreateMediaSetResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaSetRequest\", function() { return GetMediaSetRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaSetResponse\", function() { return GetMediaSetResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateMediaSetRequest\", function() { return UpdateMediaSetRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateMediaSetResponse\", function() { return UpdateMediaSetResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaSetsMode\", function() { return FindMediaSetsMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaSetsBrandMode\", function() { return FindMediaSetsBrandMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaSetsBlobMode\", function() { return FindMediaSetsBlobMode; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaSetsRequest\", function() { return FindMediaSetsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FindMediaSetsResponse\", function() { return FindMediaSetsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteMediaSetRequest\", function() { return DeleteMediaSetRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteMediaSetResponse\", function() { return DeleteMediaSetResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteMediaRequest\", function() { return DeleteMediaRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DeleteMediaResponse\", function() { return DeleteMediaResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"MediaExternalRef\", function() { return MediaExternalRef; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaStorageRequest\", function() { return GetMediaStorageRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetMediaStorageResponse\", function() { return GetMediaStorageResponse; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from services/media/media.proto.\r\n\r\n\r\n\r\nconst MediaQualityUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* THUMBNAIL */,\r\n            2 /* THUMBNAIL_LARGE */,\r\n            3 /* SCREEN */,\r\n            4 /* SCREEN_2X */,\r\n            5 /* SCREEN_3X */,\r\n            6 /* PRINT */,\r\n            7 /* ORIGINAL */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* THUMBNAIL */: return 'THUMBNAIL';\r\n            case 2 /* THUMBNAIL_LARGE */: return 'THUMBNAIL_LARGE';\r\n            case 3 /* SCREEN */: return 'SCREEN';\r\n            case 4 /* SCREEN_2X */: return 'SCREEN_2X';\r\n            case 5 /* SCREEN_3X */: return 'SCREEN_3X';\r\n            case 6 /* PRINT */: return 'PRINT';\r\n            case 7 /* ORIGINAL */: return 'ORIGINAL';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'THUMBNAIL': return 1 /* THUMBNAIL */;\r\n            case 'THUMBNAIL_LARGE': return 2 /* THUMBNAIL_LARGE */;\r\n            case 'SCREEN': return 3 /* SCREEN */;\r\n            case 'SCREEN_2X': return 4 /* SCREEN_2X */;\r\n            case 'SCREEN_3X': return 5 /* SCREEN_3X */;\r\n            case 'PRINT': return 6 /* PRINT */;\r\n            case 'ORIGINAL': return 7 /* ORIGINAL */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'MediaQuality'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst MediaTypeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* RASTER */,\r\n            2 /* VECTOR */,\r\n            3 /* DESIGN */,\r\n            4 /* FONT */,\r\n            5 /* ELEMENT_GROUP */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* RASTER */: return 'RASTER';\r\n            case 2 /* VECTOR */: return 'VECTOR';\r\n            case 3 /* DESIGN */: return 'DESIGN';\r\n            case 4 /* FONT */: return 'FONT';\r\n            case 5 /* ELEMENT_GROUP */: return 'ELEMENT_GROUP';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'RASTER': return 1 /* RASTER */;\r\n            case 'VECTOR': return 2 /* VECTOR */;\r\n            case 'DESIGN': return 3 /* DESIGN */;\r\n            case 'FONT': return 4 /* FONT */;\r\n            case 'ELEMENT_GROUP': return 5 /* ELEMENT_GROUP */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'MediaType'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst QualityStyleUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* MODERN */,\r\n            2 /* STOCK */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* MODERN */: return 'MODERN';\r\n            case 2 /* STOCK */: return 'STOCK';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'MODERN': return 1 /* MODERN */;\r\n            case 'STOCK': return 2 /* STOCK */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'QualityStyle'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst SpritesheetLayerTypeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* RECOLORABLE */,\r\n            2 /* BACKGROUND_R */,\r\n            3 /* BACKGROUND_G */,\r\n            4 /* BACKGROUND_B */,\r\n            5 /* BACKGROUND_A */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* RECOLORABLE */: return 'RECOLORABLE';\r\n            case 2 /* BACKGROUND_R */: return 'BACKGROUND_R';\r\n            case 3 /* BACKGROUND_G */: return 'BACKGROUND_G';\r\n            case 4 /* BACKGROUND_B */: return 'BACKGROUND_B';\r\n            case 5 /* BACKGROUND_A */: return 'BACKGROUND_A';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'RECOLORABLE': return 1 /* RECOLORABLE */;\r\n            case 'BACKGROUND_R': return 2 /* BACKGROUND_R */;\r\n            case 'BACKGROUND_G': return 3 /* BACKGROUND_G */;\r\n            case 'BACKGROUND_B': return 4 /* BACKGROUND_B */;\r\n            case 'BACKGROUND_A': return 5 /* BACKGROUND_A */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'SpritesheetLayerType'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst MediaImportStateUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* PENDING_IMPORT */,\r\n            2 /* FAILED */,\r\n            3 /* IMPORTED */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* PENDING_IMPORT */: return 'PENDING_IMPORT';\r\n            case 2 /* FAILED */: return 'FAILED';\r\n            case 3 /* IMPORTED */: return 'IMPORTED';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'PENDING_IMPORT': return 1 /* PENDING_IMPORT */;\r\n            case 'FAILED': return 2 /* FAILED */;\r\n            case 'IMPORTED': return 3 /* IMPORTED */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'MediaImportState'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst MediaIngestionStatusUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* PENDING_SUBMISSION */,\r\n            2 /* PENDING_REVIEW */,\r\n            3 /* APPROVED */,\r\n            4 /* SOFT_REJECTED */,\r\n            5 /* HARD_REJECTED */,\r\n            6 /* ETCH_REJECTED */,\r\n            7 /* SET_REJECTED */,\r\n            8 /* DIFFICULT_VECTOR_REJECTED */,\r\n            9 /* CANCELLED */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* PENDING_SUBMISSION */: return 'PENDING_SUBMISSION';\r\n            case 2 /* PENDING_REVIEW */: return 'PENDING_REVIEW';\r\n            case 3 /* APPROVED */: return 'APPROVED';\r\n            case 4 /* SOFT_REJECTED */: return 'SOFT_REJECTED';\r\n            case 5 /* HARD_REJECTED */: return 'HARD_REJECTED';\r\n            case 6 /* ETCH_REJECTED */: return 'ETCH_REJECTED';\r\n            case 7 /* SET_REJECTED */: return 'SET_REJECTED';\r\n            case 8 /* DIFFICULT_VECTOR_REJECTED */: return 'DIFFICULT_VECTOR_REJECTED';\r\n            case 9 /* CANCELLED */: return 'CANCELLED';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'PENDING_SUBMISSION': return 1 /* PENDING_SUBMISSION */;\r\n            case 'PENDING_REVIEW': return 2 /* PENDING_REVIEW */;\r\n            case 'APPROVED': return 3 /* APPROVED */;\r\n            case 'SOFT_REJECTED': return 4 /* SOFT_REJECTED */;\r\n            case 'HARD_REJECTED': return 5 /* HARD_REJECTED */;\r\n            case 'ETCH_REJECTED': return 6 /* ETCH_REJECTED */;\r\n            case 'SET_REJECTED': return 7 /* SET_REJECTED */;\r\n            case 'DIFFICULT_VECTOR_REJECTED': return 8 /* DIFFICULT_VECTOR_REJECTED */;\r\n            case 'CANCELLED': return 9 /* CANCELLED */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'MediaIngestionStatus'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst MediaAgeRatingUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* GENERAL */,\r\n            2 /* PARENTAL_GUIDANCE */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* GENERAL */: return 'GENERAL';\r\n            case 2 /* PARENTAL_GUIDANCE */: return 'PARENTAL_GUIDANCE';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'GENERAL': return 1 /* GENERAL */;\r\n            case 'PARENTAL_GUIDANCE': return 2 /* PARENTAL_GUIDANCE */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'MediaAgeRating'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst ReadConsistencyUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* STRONG */,\r\n            2 /* EVENTUAL */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* STRONG */: return 'STRONG';\r\n            case 2 /* EVENTUAL */: return 'EVENTUAL';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'STRONG': return 1 /* STRONG */;\r\n            case 'EVENTUAL': return 2 /* EVENTUAL */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'ReadConsistency'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst LicensingUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* NOT_APPLICABLE */,\r\n            2 /* FREE */,\r\n            3 /* STANDARD */,\r\n            4 /* NONE */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* NOT_APPLICABLE */: return 'NOT_APPLICABLE';\r\n            case 2 /* FREE */: return 'FREE';\r\n            case 3 /* STANDARD */: return 'STANDARD';\r\n            case 4 /* NONE */: return 'NONE';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'NOT_APPLICABLE': return 1 /* NOT_APPLICABLE */;\r\n            case 'FREE': return 2 /* FREE */;\r\n            case 'STANDARD': return 3 /* STANDARD */;\r\n            case 'NONE': return 4 /* NONE */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'Licensing'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst MediaComponentUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* FILES */,\r\n            2 /* KEYWORDS */,\r\n            3 /* COMPONENTS */,\r\n            4 /* FONT_METADATA */,\r\n            5 /* SPRITESHEET_METADATA */,\r\n            6 /* PROCESSED_FILE */,\r\n            7 /* TITLES */,\r\n            8 /* DESCRIPTIONS */,\r\n            9 /* SET_MEMBERSHIP */,\r\n            10 /* EXTERNAL_REF */,\r\n            11 /* COLOR_INFO */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* FILES */: return 'F';\r\n            case 2 /* KEYWORDS */: return 'K';\r\n            case 3 /* COMPONENTS */: return 'C';\r\n            case 4 /* FONT_METADATA */: return 'M';\r\n            case 5 /* SPRITESHEET_METADATA */: return 'S';\r\n            case 6 /* PROCESSED_FILE */: return 'R';\r\n            case 7 /* TITLES */: return 'T';\r\n            case 8 /* DESCRIPTIONS */: return 'D';\r\n            case 9 /* SET_MEMBERSHIP */: return 'X';\r\n            case 10 /* EXTERNAL_REF */: return 'E';\r\n            case 11 /* COLOR_INFO */: return 'I';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'F': return 1 /* FILES */;\r\n            case 'K': return 2 /* KEYWORDS */;\r\n            case 'C': return 3 /* COMPONENTS */;\r\n            case 'M': return 4 /* FONT_METADATA */;\r\n            case 'S': return 5 /* SPRITESHEET_METADATA */;\r\n            case 'R': return 6 /* PROCESSED_FILE */;\r\n            case 'T': return 7 /* TITLES */;\r\n            case 'D': return 8 /* DESCRIPTIONS */;\r\n            case 'X': return 9 /* SET_MEMBERSHIP */;\r\n            case 'E': return 10 /* EXTERNAL_REF */;\r\n            case 'I': return 11 /* COLOR_INFO */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'MediaComponent'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst SetOperationUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* ADD */,\r\n            2 /* REMOVE */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* ADD */: return 'A';\r\n            case 2 /* REMOVE */: return 'R';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'A': return 1 /* ADD */;\r\n            case 'R': return 2 /* REMOVE */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'SetOperation'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst ListUpdatePolicyUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* MERGE */,\r\n            2 /* REPLACE */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* MERGE */: return 'MERGE';\r\n            case 2 /* REPLACE */: return 'REPLACE';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'MERGE': return 1 /* MERGE */;\r\n            case 'REPLACE': return 2 /* REPLACE */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'ListUpdatePolicy'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst ExternalProviderUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* DROPBOX */,\r\n            2 /* FACEBOOK */,\r\n            3 /* GETTY */,\r\n            4 /* INSTAGRAM */,\r\n            5 /* FLICKR */,\r\n            6 /* PEXELS */,\r\n            7 /* PIXABAY */,\r\n            8 /* STOCK_UNLIMITED */,\r\n            9 /* LENSDROP */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* DROPBOX */: return 'DROPBOX';\r\n            case 2 /* FACEBOOK */: return 'FACEBOOK';\r\n            case 3 /* GETTY */: return 'GETTY';\r\n            case 4 /* INSTAGRAM */: return 'INSTAGRAM';\r\n            case 5 /* FLICKR */: return 'FLICKR';\r\n            case 6 /* PEXELS */: return 'PEXELS';\r\n            case 7 /* PIXABAY */: return 'PIXABAY';\r\n            case 8 /* STOCK_UNLIMITED */: return 'STOCK_UNLIMITED';\r\n            case 9 /* LENSDROP */: return 'LENSDROP';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'DROPBOX': return 1 /* DROPBOX */;\r\n            case 'FACEBOOK': return 2 /* FACEBOOK */;\r\n            case 'GETTY': return 3 /* GETTY */;\r\n            case 'INSTAGRAM': return 4 /* INSTAGRAM */;\r\n            case 'FLICKR': return 5 /* FLICKR */;\r\n            case 'PEXELS': return 6 /* PEXELS */;\r\n            case 'PIXABAY': return 7 /* PIXABAY */;\r\n            case 'STOCK_UNLIMITED': return 8 /* STOCK_UNLIMITED */;\r\n            case 'LENSDROP': return 9 /* LENSDROP */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'ExternalProvider'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nclass MediaRef {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        this.version = opts.version;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'version': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('version', m.version),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new MediaRef({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            version: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('version', o),\r\n        });\r\n    }\r\n}\r\nclass LicensedMediaUrl {\r\n    constructor(opts) {\r\n        this.quality = opts.quality;\r\n        this.url = opts.url;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'quality': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(MediaQualityUtil.serialize, 'quality', m.quality),\r\n            'url': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('url', m.url),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new LicensedMediaUrl({\r\n            quality: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(MediaQualityUtil.deserialize, 'quality', o),\r\n            url: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('url', o),\r\n        });\r\n    }\r\n}\r\nclass SpritesheetMetadata {\r\n    constructor(opts) {\r\n        /** How many sprites wide the spritesheet is */\r\n        this.spritesWide = opts.spritesWide;\r\n        /** How many sprites high the spritesheet is */\r\n        this.spritesHigh = opts.spritesHigh;\r\n        /** Whether all elements of the vector are recolorable */\r\n        this.fullyRecolorable = opts.fullyRecolorable;\r\n        /** Color information for each layer sprite in the spritesheet */\r\n        this.layers = opts.layers || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'spritesWide': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('spritesWide', m.spritesWide),\r\n            'spritesHigh': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('spritesHigh', m.spritesHigh),\r\n            'fullyRecolorable': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('fullyRecolorable', m.fullyRecolorable),\r\n            'layers': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(SpritesheetLayer.serialize, 'layers', m.layers),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SpritesheetMetadata({\r\n            spritesWide: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('spritesWide', o),\r\n            spritesHigh: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('spritesHigh', o),\r\n            fullyRecolorable: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('fullyRecolorable', o),\r\n            layers: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(SpritesheetLayer.deserialize, 'layers', o),\r\n        });\r\n    }\r\n}\r\nclass SpritesheetLayer {\r\n    constructor(opts) {\r\n        this.type = opts.type;\r\n        this.layerIndex = opts.layerIndex;\r\n        this.color = opts.color;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(SpritesheetLayerTypeUtil.serialize, 'type', m.type),\r\n            'layerIndex': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('layerIndex', m.layerIndex),\r\n            'color': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('color', m.color),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SpritesheetLayer({\r\n            type: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(SpritesheetLayerTypeUtil.deserialize, 'type', o),\r\n            layerIndex: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('layerIndex', o),\r\n            color: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('color', o),\r\n        });\r\n    }\r\n}\r\nclass MediaFile {\r\n    constructor(opts) {\r\n        /**\r\n         * The zero-based page index of this media file. For non-paginated media, this value will always\r\n         * be zero.\r\n         */\r\n        this.page = opts.page;\r\n        this.quality = opts.quality;\r\n        this.bucket = opts.bucket;\r\n        this.key = opts.key;\r\n        this.width = opts.width;\r\n        this.height = opts.height;\r\n        this.watermarked = opts.watermarked;\r\n        this.spritesheet = opts.spritesheet;\r\n        /**\r\n         * A possibly-signed URL for the bucket/key combination, minted in transit by an authorizing\r\n         * component.\r\n         */\r\n        this.url = opts.url;\r\n        /**\r\n         * True if \"url\" is set but access to the url to this media file was not granted. Set in transit,\r\n         * when \"url\" is set.\r\n         */\r\n        this.urlDenied = opts.urlDenied;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'page': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('page', m.page),\r\n            'quality': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(MediaQualityUtil.serialize, 'quality', m.quality),\r\n            'bucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('bucket', m.bucket),\r\n            'key': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('key', m.key),\r\n            'width': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('width', m.width),\r\n            'height': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('height', m.height),\r\n            'watermarked': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('watermarked', m.watermarked),\r\n            'spritesheet': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('spritesheet', m.spritesheet),\r\n            'url': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('url', m.url),\r\n            'urlDenied': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('urlDenied', m.urlDenied),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new MediaFile({\r\n            page: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('page', o),\r\n            quality: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(MediaQualityUtil.deserialize, 'quality', o),\r\n            bucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('bucket', o),\r\n            key: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('key', o),\r\n            width: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('width', o),\r\n            height: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('height', o),\r\n            watermarked: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('watermarked', o),\r\n            spritesheet: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('spritesheet', o),\r\n            url: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('url', o),\r\n            urlDenied: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('urlDenied', o),\r\n        });\r\n    }\r\n}\r\n/** A media object. */\r\nclass Media {\r\n    constructor(opts) {\r\n        /** Id of this media object. */\r\n        this.id = opts.id;\r\n        /** Id of the brand that owns this media object. */\r\n        this.brand = opts.brand;\r\n        /** Id of the user that created this media object (optional). */\r\n        this.user = opts.user;\r\n        /** Bucket of the file that this media object represents. */\r\n        this.importBucket = opts.importBucket;\r\n        /** Key of the file that this media object represents. */\r\n        this.importKey = opts.importKey;\r\n        /** Name of the file that this media object represents. */\r\n        this.importFilename = opts.importFilename;\r\n        /** Type of this media object. */\r\n        this.type = opts.type;\r\n        /** Last-committed, or staging, bundle. */\r\n        this.bundle = opts.bundle;\r\n        /** True if this is deactivated. */\r\n        this.deactivated = opts.deactivated;\r\n        /** True if this media is discounted for eligible users. */\r\n        this.oneTimeUseDiscountable = opts.oneTimeUseDiscountable;\r\n        /** If the media is a design, the id of the design. */\r\n        this.design = opts.design;\r\n        /** Id of the set that media is a member of, if requested. */\r\n        this.set = opts.set;\r\n        /** External media reference of this media object. */\r\n        this.externalRef = opts.externalRef;\r\n        /** True if this is private, access restricted media. */\r\n        this.restrictedAccess = opts.restrictedAccess;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'importBucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importBucket', m.importBucket),\r\n            'importKey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importKey', m.importKey),\r\n            'importFilename': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importFilename', m.importFilename),\r\n            'type': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(MediaTypeUtil.serialize, 'type', m.type),\r\n            'bundle': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(MediaBundle.serialize, 'bundle', m.bundle),\r\n            'deactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('deactivated', m.deactivated),\r\n            'oneTimeUseDiscountable': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('oneTimeUseDiscountable', m.oneTimeUseDiscountable),\r\n            'design': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('design', m.design),\r\n            'set': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('set', m.set),\r\n            'externalRef': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(MediaExternalRef.serialize, 'externalRef', m.externalRef),\r\n            'restrictedAccess': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('restrictedAccess', m.restrictedAccess),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new Media({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            importBucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importBucket', o),\r\n            importKey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importKey', o),\r\n            importFilename: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importFilename', o),\r\n            type: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(MediaTypeUtil.deserialize, 'type', o),\r\n            bundle: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(MediaBundle.deserialize, 'bundle', o),\r\n            deactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('deactivated', o),\r\n            oneTimeUseDiscountable: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('oneTimeUseDiscountable', o),\r\n            design: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('design', o),\r\n            set: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('set', o),\r\n            externalRef: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(MediaExternalRef.deserialize, 'externalRef', o),\r\n            restrictedAccess: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('restrictedAccess', o),\r\n        });\r\n    }\r\n}\r\nclass SuperKeyword {\r\n    constructor(opts) {\r\n        /**\r\n         * Value should not be specified on updates, otherwise media will outright reject the request.\r\n         * For reads, this value will always be present.\r\n         */\r\n        this.timestamp = opts.timestamp;\r\n        /**\r\n         * Value is optional on updates, if not present media will derive it from the calling context.\r\n         * Setting this value, to something other than the calling context is allowed for privileged\r\n         * users only. For reads, this value will always be present.\r\n         */\r\n        this.author = opts.author;\r\n        this.keyword = opts.keyword;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'timestamp': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('timestamp', m.timestamp),\r\n            'author': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('author', m.author),\r\n            'keyword': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('keyword', m.keyword),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SuperKeyword({\r\n            timestamp: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('timestamp', o),\r\n            author: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('author', o),\r\n            keyword: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('keyword', o),\r\n        });\r\n    }\r\n}\r\n/** Metadata describing contents of a media. */\r\nclass ContentMetadata {\r\n    constructor(opts) {\r\n        /** Optional plain text title of this media object. */\r\n        this.title = opts.title;\r\n        /** Optional plain text description. */\r\n        this.description = opts.description;\r\n        /** Content keywords. */\r\n        this.keywords = opts.keywords || [];\r\n        /** the most salient keywords */\r\n        this.superKeywords = opts.superKeywords || [];\r\n        /** the most salient keywords v2 */\r\n        this.superKeywords2 = opts.superKeywords2 || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'title': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('title', m.title),\r\n            'description': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('description', m.description),\r\n            'keywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(LocalizedString.serialize, 'keywords', m.keywords),\r\n            'superKeywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(LocalizedString.serialize, 'superKeywords', m.superKeywords),\r\n            'superKeywords2': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(SuperKeyword.serialize, 'superKeywords2', m.superKeywords2),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ContentMetadata({\r\n            title: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('title', o),\r\n            description: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('description', o),\r\n            keywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(LocalizedString.deserialize, 'keywords', o),\r\n            superKeywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(LocalizedString.deserialize, 'superKeywords', o),\r\n            superKeywords2: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(SuperKeyword.deserialize, 'superKeywords2', o),\r\n        });\r\n    }\r\n}\r\nclass QualityMetadata {\r\n    constructor(opts) {\r\n        /** Legacy quality score for public media */\r\n        this.quality = opts.quality;\r\n        /** If true, media has been curated, if false, rejected, if null not yet reviewed */\r\n        this.curated = opts.curated;\r\n        /** Optional style indicator. */\r\n        this.style = opts.style;\r\n        /** Optional timestamp (in unix time) when media was \"featured\" */\r\n        this.featured = opts.featured;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'quality': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('quality', m.quality),\r\n            'curated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('curated', m.curated),\r\n            'style': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(QualityStyleUtil.serialize, 'style', m.style),\r\n            'featured': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('featured', m.featured),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new QualityMetadata({\r\n            quality: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('quality', o),\r\n            curated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('curated', o),\r\n            style: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(QualityStyleUtil.deserialize, 'style', o),\r\n            featured: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('featured', o),\r\n        });\r\n    }\r\n}\r\nclass ArtistMetadata {\r\n    constructor(opts) {\r\n        this.externalId = opts.externalId;\r\n        this.displayName = opts.displayName;\r\n        this.artistUrl = opts.artistUrl;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'externalId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('externalId', m.externalId),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'artistUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('artistUrl', m.artistUrl),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ArtistMetadata({\r\n            externalId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('externalId', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('displayName', o),\r\n            artistUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('artistUrl', o),\r\n        });\r\n    }\r\n}\r\n/** Metadata that is specific to a locale for a media */\r\nclass LocalizedMetadata {\r\n    constructor(opts) {\r\n        this.locale = opts.locale != null\r\n            ? opts.locale\r\n            : \"en\"; // tslint:disable-line quotemark max-len\r\n        this.title = opts.title;\r\n        this.description = opts.description;\r\n        this.keywords = opts.keywords || [];\r\n        this.superKeywords = opts.superKeywords || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('locale', m.locale),\r\n            'title': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('title', m.title),\r\n            'description': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('description', m.description),\r\n            'keywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('keywords', m.keywords),\r\n            'superKeywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('superKeywords', m.superKeywords),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new LocalizedMetadata({\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('locale', o),\r\n            title: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('title', o),\r\n            description: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('description', o),\r\n            keywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('keywords', o),\r\n            superKeywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('superKeywords', o),\r\n        });\r\n    }\r\n}\r\n/** encapsulates color information about a media. */\r\nclass MediaColorInfo {\r\n    constructor(opts) {\r\n        /** up to 5 dominant colors. key is RGB color hex string, value is percentage. */\r\n        this.dominantColors = opts.dominantColors || new Map();\r\n        /**\r\n         * rgb332 color histogram containing up to 100 buckets. key is 8-bit rgb332 color,\r\n         * value is percentage. Note that the colors in keys are only an approximation of the\r\n         * actual colors in the image palette, for the purposes of color indexing. As such, thet are not\r\n         * suitable for display to the user.\r\n         */\r\n        this.colorHistogram = opts.colorHistogram || new Map();\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'dominantColors': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringNumberMap('dominantColors', m.dominantColors),\r\n            'colorHistogram': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].numberNumberMap('colorHistogram', m.colorHistogram),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new MediaColorInfo({\r\n            dominantColors: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringNumberMap('dominantColors', o),\r\n            colorHistogram: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].numberNumberMap('colorHistogram', o),\r\n        });\r\n    }\r\n}\r\n/**\r\n * A media bundle is a unit of ingredience: something that can be used in a\r\n * design. A media object has a reference to its current bundle, and the\r\n * history of all bundles is retained forever. Before a bundle is referenced\r\n * by a media object, it can be updated. However, once a bundle is referenced\r\n * by a media object, it becomes frozen, and can not be updated.\r\n */\r\nclass MediaBundle {\r\n    constructor(opts) {\r\n        this.version = opts.version;\r\n        this.importVersion = opts.importVersion;\r\n        /** Optional temporary url to import file. */\r\n        this.importFileUrl = opts.importFileUrl;\r\n        /** If media is a design, the version of the design. */\r\n        this.designVersion = opts.designVersion;\r\n        /**\r\n         * If the media is a design, the design-type of the design.\r\n         * note: will be null until migration has been run\r\n         */\r\n        this.designType = opts.designType;\r\n        /** If media is a design, the schema version of the design. */\r\n        this.designSchemaVersion = opts.designSchemaVersion;\r\n        /**\r\n         * True if this media is 'listed', i.e. destined for, or in, the media library. When false,\r\n         * this media will not be included in the search index.\r\n         */\r\n        this.listed = opts.listed;\r\n        this.importState = opts.importState;\r\n        this.importMessage = opts.importMessage;\r\n        this.status = opts.status;\r\n        this.rejectionReason = opts.rejectionReason;\r\n        this.submittedBy = opts.submittedBy;\r\n        this.submittedDate = opts.submittedDate;\r\n        this.reviewedBy = opts.reviewedBy;\r\n        this.reviewedDate = opts.reviewedDate;\r\n        this.modifiedDate = opts.modifiedDate;\r\n        /** Display name of the creating artist. */\r\n        this.artist = opts.artist;\r\n        /**\r\n         * Optional plain text title of this media object.\r\n         * @deprecated Use MediaBundle#contentMetadata\r\n         */\r\n        this.title = opts.title;\r\n        /**\r\n         * Optional plain text description.\r\n         * @deprecated Use MediaBundle#contentMetadata\r\n         */\r\n        this.description = opts.description;\r\n        /** Optional locale. */\r\n        this.locale = opts.locale;\r\n        /** Image is suitable as a background. */\r\n        this.background = opts.background;\r\n        /** Image is cutout (isolated on transparent background). */\r\n        this.cutout = opts.cutout;\r\n        /** Image is isolated (isolated on solid background). */\r\n        this.isolated = opts.isolated;\r\n        /** Image can hold a photo. */\r\n        this.photoholder = opts.photoholder;\r\n        /** Image can hold text. */\r\n        this.textholder = opts.textholder;\r\n        /** Image should be repeated rather than scaled. */\r\n        this.repeating = opts.repeating;\r\n        /** Image can be recolored. */\r\n        this.recolorable = opts.recolorable;\r\n        /** Preferred colorspace (sRGB or Adobe RGB). */\r\n        this.colorSpace = opts.colorSpace;\r\n        /** Optional quality score [1,4]. */\r\n        this.quality = opts.quality;\r\n        /** Age rating of the media. */\r\n        this.ageRating = opts.ageRating;\r\n        /**\r\n         * the most salient keywords\r\n         * @deprecated Use MediaBundle#contentMetadata\r\n         */\r\n        this.superKeywords = opts.superKeywords || [];\r\n        /**\r\n         * Content keywords.\r\n         * @deprecated Use MediaBundle#contentMetadata\r\n         */\r\n        this.keywords = opts.keywords || [];\r\n        /** The files used to generate the media files for this media item. */\r\n        this.processedFiles = opts.processedFiles || [];\r\n        /**\r\n         * The files for this media item.\r\n         * TODO(media-team) - Rename files_ to files after 16/10/2019 [CA-16219]\r\n         */\r\n        this.files_ = opts.files_ || [];\r\n        /** Optional list of component media, if this media item has component media. */\r\n        this.componentMedia = opts.componentMedia || [];\r\n        /** Optional metadata for font media. Present if this media item is of type font. */\r\n        this.fontMetadata = opts.fontMetadata;\r\n        /**\r\n         * Optional metadata for recolorable vector images stored as spritesheets.\r\n         * Present if this media item has a spritesheet for SCREEN quality.\r\n         */\r\n        this.spritesheetMetadata = opts.spritesheetMetadata;\r\n        /** Licensing */\r\n        this.licensing = opts.licensing;\r\n        /** Optional content metadata. */\r\n        this.contentMetadata = opts.contentMetadata;\r\n        /** Optional size of the normalized import file in bytes. */\r\n        this.fileSize = opts.fileSize;\r\n        /** Optional color info for this bundle. */\r\n        this.colorInfo = opts.colorInfo;\r\n        /** Optional quality metadata */\r\n        this.qualityMetadata = opts.qualityMetadata;\r\n        /** Optional Map of localized metadata. Key is locale */\r\n        this.localizedMetadata = opts.localizedMetadata || new Map();\r\n        /** Optional artist metadata */\r\n        this.artistMetadata = opts.artistMetadata;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'version': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('version', m.version),\r\n            'importVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importVersion', m.importVersion),\r\n            'importFileUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importFileUrl', m.importFileUrl),\r\n            'designVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('designVersion', m.designVersion),\r\n            'designType': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('designType', m.designType),\r\n            'designSchemaVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('designSchemaVersion', m.designSchemaVersion),\r\n            'listed': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('listed', m.listed),\r\n            'importState': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(MediaImportStateUtil.serialize, 'importState', m.importState),\r\n            'importMessage': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importMessage', m.importMessage),\r\n            'status': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(MediaIngestionStatusUtil.serialize, 'status', m.status),\r\n            'rejectionReason': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('rejectionReason', m.rejectionReason),\r\n            'submittedBy': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('submittedBy', m.submittedBy),\r\n            'submittedDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('submittedDate', m.submittedDate),\r\n            'reviewedBy': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('reviewedBy', m.reviewedBy),\r\n            'reviewedDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('reviewedDate', m.reviewedDate),\r\n            'modifiedDate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('modifiedDate', m.modifiedDate),\r\n            'artist': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('artist', m.artist),\r\n            'title': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('title', m.title),\r\n            'description': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('description', m.description),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('locale', m.locale),\r\n            'background': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('background', m.background),\r\n            'cutout': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('cutout', m.cutout),\r\n            'isolated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('isolated', m.isolated),\r\n            'photoholder': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('photoholder', m.photoholder),\r\n            'textholder': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('textholder', m.textholder),\r\n            'repeating': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('repeating', m.repeating),\r\n            'recolorable': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('recolorable', m.recolorable),\r\n            'colorSpace': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('colorSpace', m.colorSpace),\r\n            'quality': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('quality', m.quality),\r\n            'ageRating': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(MediaAgeRatingUtil.serialize, 'ageRating', m.ageRating),\r\n            'superKeywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(LocalizedString.serialize, 'superKeywords', m.superKeywords),\r\n            'keywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(LocalizedString.serialize, 'keywords', m.keywords),\r\n            'processedFiles': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(ProcessedFile.serialize, 'processedFiles', m.processedFiles),\r\n            'files_': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(MediaFile.serialize, 'files_', m.files_),\r\n            'componentMedia': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(MediaRef.serialize, 'componentMedia', m.componentMedia),\r\n            'fontMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(FontMetadata.serialize, 'fontMetadata', m.fontMetadata),\r\n            'spritesheetMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(SpritesheetMetadata.serialize, 'spritesheetMetadata', m.spritesheetMetadata),\r\n            'licensing': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(LicensingUtil.serialize, 'licensing', m.licensing),\r\n            'contentMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(ContentMetadata.serialize, 'contentMetadata', m.contentMetadata),\r\n            'fileSize': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('fileSize', m.fileSize),\r\n            'colorInfo': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(MediaColorInfo.serialize, 'colorInfo', m.colorInfo),\r\n            'qualityMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(QualityMetadata.serialize, 'qualityMetadata', m.qualityMetadata),\r\n            'localizedMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringObjectMap(LocalizedMetadata.serialize, 'localizedMetadata', m.localizedMetadata),\r\n            'artistMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(ArtistMetadata.serialize, 'artistMetadata', m.artistMetadata),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new MediaBundle({\r\n            version: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('version', o),\r\n            importVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importVersion', o),\r\n            importFileUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importFileUrl', o),\r\n            designVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('designVersion', o),\r\n            designType: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('designType', o),\r\n            designSchemaVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('designSchemaVersion', o),\r\n            listed: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('listed', o),\r\n            importState: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(MediaImportStateUtil.deserialize, 'importState', o),\r\n            importMessage: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importMessage', o),\r\n            status: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(MediaIngestionStatusUtil.deserialize, 'status', o),\r\n            rejectionReason: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('rejectionReason', o),\r\n            submittedBy: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('submittedBy', o),\r\n            submittedDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('submittedDate', o),\r\n            reviewedBy: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('reviewedBy', o),\r\n            reviewedDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('reviewedDate', o),\r\n            modifiedDate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('modifiedDate', o),\r\n            artist: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('artist', o),\r\n            title: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('title', o),\r\n            description: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('description', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('locale', o),\r\n            background: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('background', o),\r\n            cutout: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('cutout', o),\r\n            isolated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('isolated', o),\r\n            photoholder: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('photoholder', o),\r\n            textholder: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('textholder', o),\r\n            repeating: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('repeating', o),\r\n            recolorable: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('recolorable', o),\r\n            colorSpace: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('colorSpace', o),\r\n            quality: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('quality', o),\r\n            ageRating: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(MediaAgeRatingUtil.deserialize, 'ageRating', o),\r\n            superKeywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(LocalizedString.deserialize, 'superKeywords', o),\r\n            keywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(LocalizedString.deserialize, 'keywords', o),\r\n            processedFiles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(ProcessedFile.deserialize, 'processedFiles', o),\r\n            files_: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(MediaFile.deserialize, 'files_', o),\r\n            componentMedia: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(MediaRef.deserialize, 'componentMedia', o),\r\n            fontMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(FontMetadata.deserialize, 'fontMetadata', o),\r\n            spritesheetMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(SpritesheetMetadata.deserialize, 'spritesheetMetadata', o),\r\n            licensing: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(LicensingUtil.deserialize, 'licensing', o),\r\n            contentMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(ContentMetadata.deserialize, 'contentMetadata', o),\r\n            fileSize: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('fileSize', o),\r\n            colorInfo: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(MediaColorInfo.deserialize, 'colorInfo', o),\r\n            qualityMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(QualityMetadata.deserialize, 'qualityMetadata', o),\r\n            localizedMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringObjectMap(LocalizedMetadata.deserialize, 'localizedMetadata', o),\r\n            artistMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(ArtistMetadata.deserialize, 'artistMetadata', o),\r\n        });\r\n    }\r\n}\r\nclass LocalizedString {\r\n    constructor(opts) {\r\n        this.locale = opts.locale;\r\n        this.text = opts.text;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('locale', m.locale),\r\n            'text': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('text', m.text),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new LocalizedString({\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('locale', o),\r\n            text: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('text', o),\r\n        });\r\n    }\r\n}\r\nclass ProcessedFile {\r\n    constructor(opts) {\r\n        this.bucket = opts.bucket;\r\n        this.key = opts.key;\r\n        this.page = opts.page;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'bucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('bucket', m.bucket),\r\n            'key': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('key', m.key),\r\n            'page': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('page', m.page),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ProcessedFile({\r\n            bucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('bucket', o),\r\n            key: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('key', o),\r\n            page: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('page', o),\r\n        });\r\n    }\r\n}\r\nclass FontMetadata {\r\n    constructor(opts) {\r\n        /** Font family name, e.g. 'Helvetica' */\r\n        this.family = opts.family;\r\n        /** Font style name, e.g. 'Ultra Light Bold' */\r\n        this.style = opts.style;\r\n        /** True if the font is italic-ish (i.e. italic, oblique, slanted, inclined, etc) */\r\n        this.italic = opts.italic;\r\n        /**\r\n         * A number representing the weight of a font. Derived from style.\r\n         * Range: 0-10\r\n         * 0 Hairline, (Extra|Ultra) Thin\r\n         * 1 Thin\r\n         * 2 (Extra|Ultra) Light\r\n         * 3 Light\r\n         * 4 Normal, Regular, unknown\r\n         * 5 Medium\r\n         * 6 (Semi|Demi) Bold\r\n         * 7 Bold\r\n         * 8 (Extra|Ultra) Bold\r\n         * 9 Heavy, Black\r\n         * 10 Extra Black\r\n         */\r\n        this.weight = opts.weight;\r\n        /** Optional font foundry/manufacturer name */\r\n        this.manufacturer = opts.manufacturer;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'family': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('family', m.family),\r\n            'style': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('style', m.style),\r\n            'italic': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('italic', m.italic),\r\n            'weight': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('weight', m.weight),\r\n            'manufacturer': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('manufacturer', m.manufacturer),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FontMetadata({\r\n            family: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('family', o),\r\n            style: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('style', o),\r\n            italic: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('italic', o),\r\n            weight: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('weight', o),\r\n            manufacturer: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('manufacturer', o),\r\n        });\r\n    }\r\n}\r\nclass GetLicensedMediaUrlRequest {\r\n    constructor(opts) {\r\n        this.media = opts.media;\r\n        this.qualities = opts.qualities || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'media': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('media', m.media),\r\n            'qualities': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('qualities', m.qualities),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetLicensedMediaUrlRequest({\r\n            media: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('media', o),\r\n            qualities: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('qualities', o),\r\n        });\r\n    }\r\n}\r\nclass GetLicensedMediaUrlResponse {\r\n    constructor(opts) {\r\n        this.urls = opts.urls || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'urls': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(LicensedMediaUrl.serialize, 'urls', m.urls),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetLicensedMediaUrlResponse({\r\n            urls: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(LicensedMediaUrl.deserialize, 'urls', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaRequest {\r\n    constructor(opts) {\r\n        /** If set, gets a media object by id. */\r\n        this.id = opts.id;\r\n        /** If set, gets a media object by importBucket/importKey. */\r\n        this.importBucket = opts.importBucket;\r\n        /** If set, gets a media object by importKey. */\r\n        this.importKey = opts.importKey;\r\n        /** Optional bundle version; null for current. */\r\n        this.bundleVersion = opts.bundleVersion;\r\n        /** Optionally include the imported bundle. */\r\n        this.imported = opts.imported;\r\n        /** Optionally include the approved bundle. */\r\n        this.approved = opts.approved;\r\n        /** When true, include the latest staging bundle. */\r\n        this.staging = opts.staging != null\r\n            ? opts.staging\r\n            : false;\r\n        /** Set of media projections to include in response. */\r\n        this.projection = opts.projection || [];\r\n        /** If the files and price projections are returned, URLs for these qualities will be minted. */\r\n        this.mintUrls = opts.mintUrls || [];\r\n        /** When true, include a url to the file imported for the media bundle. */\r\n        this.includeImportFileUrl = opts.includeImportFileUrl != null\r\n            ? opts.includeImportFileUrl\r\n            : false;\r\n        /**\r\n         * If this field is NOT null and TITLES and DESCRIPTIONS projections are requested,\r\n         * then modules in response will be filled with the fields \"title\" and \"description\" for\r\n         * the locale requested.\r\n         *\r\n         * If this field is null and TITLES and DESCRIPTIONS projections are requested,\r\n         * then modules in response will be filled with the fields \"titles\" and \"descriptions\"\r\n         * containing ALL localized values.\r\n         * Deprecated: Use metadata_locales instead\r\n         */\r\n        this.metadataLocale = opts.metadataLocale;\r\n        /** Consistency mode with which this request operates. If not specified, EVENTUAL will be used. */\r\n        this.consistency = opts.consistency;\r\n        /** Metadata will be returned in the available locales specified in this list. */\r\n        this.metadataLocales = opts.metadataLocales || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('id', m.id),\r\n            'importBucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importBucket', m.importBucket),\r\n            'importKey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importKey', m.importKey),\r\n            'bundleVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('bundleVersion', m.bundleVersion),\r\n            'imported': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('imported', m.imported),\r\n            'approved': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('approved', m.approved),\r\n            'staging': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('staging', m.staging),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaComponentUtil.serialize, 'projection', m.projection),\r\n            'mintUrls': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaQualityUtil.serialize, 'mintUrls', m.mintUrls),\r\n            'includeImportFileUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('includeImportFileUrl', m.includeImportFileUrl),\r\n            'metadataLocale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('metadataLocale', m.metadataLocale),\r\n            'consistency': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(ReadConsistencyUtil.serialize, 'consistency', m.consistency),\r\n            'metadataLocales': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('metadataLocales', m.metadataLocales),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaRequest({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('id', o),\r\n            importBucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importBucket', o),\r\n            importKey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importKey', o),\r\n            bundleVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('bundleVersion', o),\r\n            imported: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('imported', o),\r\n            approved: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('approved', o),\r\n            staging: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('staging', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaComponentUtil.deserialize, 'projection', o),\r\n            mintUrls: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaQualityUtil.deserialize, 'mintUrls', o),\r\n            includeImportFileUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('includeImportFileUrl', o),\r\n            metadataLocale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('metadataLocale', o),\r\n            consistency: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(ReadConsistencyUtil.deserialize, 'consistency', o),\r\n            metadataLocales: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('metadataLocales', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaResponse {\r\n    constructor(opts) {\r\n        this.media = opts.media;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'media': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Media.serialize, 'media', m.media),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaResponse({\r\n            media: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Media.deserialize, 'media', o),\r\n        });\r\n    }\r\n}\r\nclass CreateMediaRequest {\r\n    constructor(opts) {\r\n        /** Import bucket. */\r\n        this.importBucket = opts.importBucket;\r\n        /** Optional import key. */\r\n        this.importKey = opts.importKey;\r\n        /**\r\n         * Optional name of the file represented by the media. May be different to the last component\r\n         * of import_key.\r\n         */\r\n        this.importFilename = opts.importFilename;\r\n        /** The version id of the import file for the target bundle. */\r\n        this.importVersion = opts.importVersion;\r\n        /** if this media is based on a design, the id of originating design. */\r\n        this.design = opts.design;\r\n        /** If this media is based on a design, the version of the originating design. */\r\n        this.designVersion = opts.designVersion;\r\n        /** Type of media to create. */\r\n        this.type = opts.type;\r\n        /** If true, request might have an acl. */\r\n        this.restrictedAccess = opts.restrictedAccess;\r\n        /** If true, this media may be included in the search index. */\r\n        this.listed = opts.listed;\r\n        /** Optional set of qualities for which file URLs will be minted. */\r\n        this.mintUrls = opts.mintUrls || [];\r\n        /** Optional locale. */\r\n        this.locale = opts.locale;\r\n        /** Optional media set to add the media to. */\r\n        this.set = opts.set;\r\n        /** Optional external media reference for the created media. */\r\n        this.externalRef = opts.externalRef;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'importBucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('importBucket', m.importBucket),\r\n            'importKey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importKey', m.importKey),\r\n            'importFilename': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importFilename', m.importFilename),\r\n            'importVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importVersion', m.importVersion),\r\n            'design': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('design', m.design),\r\n            'designVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('designVersion', m.designVersion),\r\n            'type': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(MediaTypeUtil.serialize, 'type', m.type),\r\n            'restrictedAccess': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('restrictedAccess', m.restrictedAccess),\r\n            'listed': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('listed', m.listed),\r\n            'mintUrls': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaQualityUtil.serialize, 'mintUrls', m.mintUrls),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('locale', m.locale),\r\n            'set': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('set', m.set),\r\n            'externalRef': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(MediaExternalRef.serialize, 'externalRef', m.externalRef),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateMediaRequest({\r\n            importBucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('importBucket', o),\r\n            importKey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importKey', o),\r\n            importFilename: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importFilename', o),\r\n            importVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importVersion', o),\r\n            design: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('design', o),\r\n            designVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('designVersion', o),\r\n            type: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(MediaTypeUtil.deserialize, 'type', o),\r\n            restrictedAccess: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('restrictedAccess', o),\r\n            listed: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('listed', o),\r\n            mintUrls: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaQualityUtil.deserialize, 'mintUrls', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('locale', o),\r\n            set: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('set', o),\r\n            externalRef: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(MediaExternalRef.deserialize, 'externalRef', o),\r\n        });\r\n    }\r\n}\r\n/** @deprecated */\r\n/** @deprecated Use CreateMediaRequest instead. */\r\nclass CreateMediaRpcRequest {\r\n    constructor(opts) {\r\n        this.name = opts.name;\r\n        this.restricted = opts.restricted;\r\n        this.listed = opts.listed;\r\n        this.fileSize = opts.fileSize;\r\n        this.set = opts.set;\r\n        this.externalRef = opts.externalRef;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('name', m.name),\r\n            'restricted': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('restricted', m.restricted),\r\n            'listed': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('listed', m.listed),\r\n            'fileSize': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('fileSize', m.fileSize),\r\n            'set': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('set', m.set),\r\n            'externalRef': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(MediaExternalRef.serialize, 'externalRef', m.externalRef),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateMediaRpcRequest({\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('name', o),\r\n            restricted: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('restricted', o),\r\n            listed: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('listed', o),\r\n            fileSize: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('fileSize', o),\r\n            set: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('set', o),\r\n            externalRef: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(MediaExternalRef.deserialize, 'externalRef', o),\r\n        });\r\n    }\r\n}\r\nclass CreateMediaResponse {\r\n    constructor(opts) {\r\n        this.media = opts.media;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'media': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Media.serialize, 'media', m.media),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateMediaResponse({\r\n            media: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Media.deserialize, 'media', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaRpcRequest {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        this.version = opts.version;\r\n        this.staging = opts.staging;\r\n        this.includeImportFileUrl = opts.includeImportFileUrl;\r\n        this.includeAllLocales = opts.includeAllLocales;\r\n        this.projection = opts.projection;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'version': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('version', m.version),\r\n            'staging': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('staging', m.staging),\r\n            'includeImportFileUrl': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('includeImportFileUrl', m.includeImportFileUrl),\r\n            'includeAllLocales': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('includeAllLocales', m.includeAllLocales),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(MediaComponentUtil.serialize, 'projection', m.projection),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaRpcRequest({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            version: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('version', o),\r\n            staging: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('staging', o),\r\n            includeImportFileUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('includeImportFileUrl', o),\r\n            includeAllLocales: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('includeAllLocales', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(MediaComponentUtil.deserialize, 'projection', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaRpcRequest {\r\n    constructor(opts) {\r\n        this.projections = opts.projections || [];\r\n        this.brand = opts.brand;\r\n        this.user = opts.user;\r\n        this.restricted = opts.restricted;\r\n        this.staging = opts.staging;\r\n        this.filename = opts.filename;\r\n        this.ids = opts.ids || [];\r\n        /** Filter by media with these design ids (only applicable to design media) */\r\n        this.designIds = opts.designIds || [];\r\n        this.deactivated = opts.deactivated;\r\n        this.locale = opts.locale;\r\n        this.continuation = opts.continuation;\r\n        this.limit = opts.limit;\r\n        this.types = opts.types || [];\r\n        this.set = opts.set;\r\n        this.externalProvider = opts.externalProvider;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'projections': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaComponentUtil.serialize, 'projections', m.projections),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'restricted': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('restricted', m.restricted),\r\n            'staging': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('staging', m.staging),\r\n            'filename': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('filename', m.filename),\r\n            'ids': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('ids', m.ids),\r\n            'designIds': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('designIds', m.designIds),\r\n            'deactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('deactivated', m.deactivated),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('locale', m.locale),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n            'types': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaTypeUtil.serialize, 'types', m.types),\r\n            'set': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('set', m.set),\r\n            'externalProvider': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(ExternalProviderUtil.serialize, 'externalProvider', m.externalProvider),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindMediaRpcRequest({\r\n            projections: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaComponentUtil.deserialize, 'projections', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            restricted: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('restricted', o),\r\n            staging: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('staging', o),\r\n            filename: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('filename', o),\r\n            ids: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('ids', o),\r\n            designIds: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('designIds', o),\r\n            deactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('deactivated', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('locale', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n            types: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaTypeUtil.deserialize, 'types', o),\r\n            set: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('set', o),\r\n            externalProvider: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(ExternalProviderUtil.deserialize, 'externalProvider', o),\r\n        });\r\n    }\r\n}\r\nconst FindMediaMode = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'IDS': return FindMediaIdsMode.serialize(u);\r\n            case 'MEDIA_REFS': return FindMediaRefsMode.serialize(u);\r\n            case 'DESIGN_IDS': return FindMediaDesignIdsMode.serialize(u);\r\n            case 'FILENAME': return FindMediaFilenameMode.serialize(u);\r\n            case 'BRAND': return FindMediaBrandMode.serialize(u);\r\n            case 'SET': return FindMediaSetMode.serialize(u);\r\n            case 'EXTERNAL_PROVIDER': return FindMediaExternalProviderMode.serialize(u);\r\n            case 'IMPORT_KEY': return FindMediaImportKeyMode.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'IDS': return FindMediaIdsMode.deserialize(o);\r\n            case 'MEDIA_REFS': return FindMediaRefsMode.deserialize(o);\r\n            case 'DESIGN_IDS': return FindMediaDesignIdsMode.deserialize(o);\r\n            case 'FILENAME': return FindMediaFilenameMode.deserialize(o);\r\n            case 'BRAND': return FindMediaBrandMode.deserialize(o);\r\n            case 'SET': return FindMediaSetMode.deserialize(o);\r\n            case 'EXTERNAL_PROVIDER': return FindMediaExternalProviderMode.deserialize(o);\r\n            case 'IMPORT_KEY': return FindMediaImportKeyMode.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\n/** Find unrestricted media by ids */\r\nclass FindMediaIdsMode {\r\n    constructor(opts) {\r\n        this.type = 'IDS';\r\n        /** If empty, no media will be returned. */\r\n        this.ids = opts.ids || [];\r\n        /** Brand id of the owning brand. */\r\n        this.brand = opts.brand;\r\n        /** User to match against. */\r\n        this.user = opts.user;\r\n        /** Filter for restricted or unrestricted media. */\r\n        this.restricted = opts.restricted;\r\n        /** Whether to return committed bundles or staging bundles. */\r\n        this.staging = opts.staging;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'IDS',\r\n            'ids': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('ids', m.ids),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'restricted': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('restricted', m.restricted),\r\n            'staging': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('staging', m.staging),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'IDS');\r\n        return new FindMediaIdsMode({\r\n            ids: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('ids', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            restricted: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('restricted', o),\r\n            staging: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('staging', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaRefsMode {\r\n    constructor(opts) {\r\n        this.type = 'MEDIA_REFS';\r\n        /** If empty, no media will be returned. */\r\n        this.mediaRefs = opts.mediaRefs || [];\r\n        /** Filter for restricted or unrestricted media. */\r\n        this.restricted = opts.restricted;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'MEDIA_REFS',\r\n            'mediaRefs': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(MediaRef.serialize, 'mediaRefs', m.mediaRefs),\r\n            'restricted': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('restricted', m.restricted),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'MEDIA_REFS');\r\n        return new FindMediaRefsMode({\r\n            mediaRefs: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(MediaRef.deserialize, 'mediaRefs', o),\r\n            restricted: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('restricted', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaDesignIdsMode {\r\n    constructor(opts) {\r\n        this.type = 'DESIGN_IDS';\r\n        /** If empty, no media will be returned. */\r\n        this.designIds = opts.designIds || [];\r\n        /** Brand id of the owning brand. */\r\n        this.brand = opts.brand;\r\n        /** Filter for restricted or unrestricted media. */\r\n        this.restricted = opts.restricted;\r\n        /** Whether to return committed bundles or staging bundles. */\r\n        this.staging = opts.staging;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'DESIGN_IDS',\r\n            'designIds': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('designIds', m.designIds),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'restricted': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('restricted', m.restricted),\r\n            'staging': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('staging', m.staging),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'DESIGN_IDS');\r\n        return new FindMediaDesignIdsMode({\r\n            designIds: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('designIds', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            restricted: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('restricted', o),\r\n            staging: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('staging', o),\r\n        });\r\n    }\r\n}\r\n/** Find staging unrestricted media by filename */\r\nclass FindMediaFilenameMode {\r\n    constructor(opts) {\r\n        this.type = 'FILENAME';\r\n        /** Filename the media searched has been imported with. */\r\n        this.filename = opts.filename;\r\n        /** Brand id of the owning brand. */\r\n        this.brand = opts.brand;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'FILENAME',\r\n            'filename': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('filename', m.filename),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'FILENAME');\r\n        return new FindMediaFilenameMode({\r\n            filename: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('filename', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaBrandMode {\r\n    constructor(opts) {\r\n        this.type = 'BRAND';\r\n        /** Brand id of the owning brand. */\r\n        this.brand = opts.brand;\r\n        /** User to match against. */\r\n        this.user = opts.user;\r\n        /** Filter for restricted or unrestricted media. */\r\n        this.restricted = opts.restricted;\r\n        /** Whether to return committed bundles or staging bundles. */\r\n        this.staging = opts.staging;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'BRAND',\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n            'restricted': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('restricted', m.restricted),\r\n            'staging': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('staging', m.staging),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'BRAND');\r\n        return new FindMediaBrandMode({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n            restricted: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('restricted', o),\r\n            staging: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('staging', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaSetMode {\r\n    constructor(opts) {\r\n        this.type = 'SET';\r\n        /** Filter to restrict to media in this media set */\r\n        this.set = opts.set;\r\n        /** Brand id of the owning brand. */\r\n        this.brand = opts.brand;\r\n        /** User to match against. */\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'SET',\r\n            'set': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('set', m.set),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'SET');\r\n        return new FindMediaSetMode({\r\n            set: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('set', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('user', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaExternalProviderMode {\r\n    constructor(opts) {\r\n        this.type = 'EXTERNAL_PROVIDER';\r\n        /** External provider to restrict media results to. */\r\n        this.externalProvider = opts.externalProvider;\r\n        /** Brand id of the owning brand. */\r\n        this.brand = opts.brand;\r\n        /** User to match against. */\r\n        this.user = opts.user;\r\n        /** Filter for restricted or unrestricted media. */\r\n        this.restricted = opts.restricted;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'EXTERNAL_PROVIDER',\r\n            'externalProvider': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(ExternalProviderUtil.serialize, 'externalProvider', m.externalProvider),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n            'restricted': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('restricted', m.restricted),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'EXTERNAL_PROVIDER');\r\n        return new FindMediaExternalProviderMode({\r\n            externalProvider: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(ExternalProviderUtil.deserialize, 'externalProvider', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n            restricted: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('restricted', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaImportKeyMode {\r\n    constructor(opts) {\r\n        this.type = 'IMPORT_KEY';\r\n        /** Bucket of the file that this media object represents. */\r\n        this.importBucket = opts.importBucket;\r\n        /** Key of the file that this media object represents. */\r\n        this.importKey = opts.importKey;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'IMPORT_KEY',\r\n            'importBucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('importBucket', m.importBucket),\r\n            'importKey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('importKey', m.importKey),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'IMPORT_KEY');\r\n        return new FindMediaImportKeyMode({\r\n            importBucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('importBucket', o),\r\n            importKey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('importKey', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaTypes {\r\n    constructor(opts) {\r\n        /** Media types to restrict results to, if empty no media will be returned. */\r\n        this.types = opts.types || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'types': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaTypeUtil.serialize, 'types', m.types),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindMediaTypes({\r\n            types: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaTypeUtil.deserialize, 'types', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaOptions {\r\n    constructor(opts) {\r\n        /** List of media types to restrict results to. */\r\n        this.types = opts.types;\r\n        /** Filter for active or inactive media */\r\n        this.deactivated = opts.deactivated;\r\n        /** Filter for locale. */\r\n        this.locale = opts.locale;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'types': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(FindMediaTypes.serialize, 'types', m.types),\r\n            'deactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('deactivated', m.deactivated),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('locale', m.locale),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindMediaOptions({\r\n            types: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(FindMediaTypes.deserialize, 'types', o),\r\n            deactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('deactivated', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('locale', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaRequest {\r\n    constructor(opts) {\r\n        /** Main mode by which media will be found. */\r\n        this.mode = opts.mode;\r\n        /** Projections to load for the resultant media. */\r\n        this.projection = opts.projection || [];\r\n        /** If the file projection is returned, URLs for these qualities will be minted. */\r\n        this.mintUrls = opts.mintUrls || [];\r\n        /** Additional options */\r\n        this.options = opts.options;\r\n        /** Limit to fetch. */\r\n        this.limit = opts.limit;\r\n        /** Continuation token for the page of results to fetch. */\r\n        this.continuation = opts.continuation;\r\n        /** If specified, return metadata in this locale, else use the default locale of the media. */\r\n        this.metadataLocale = opts.metadataLocale;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(FindMediaMode.serialize, 'mode', m.mode),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaComponentUtil.serialize, 'projection', m.projection),\r\n            'mintUrls': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaQualityUtil.serialize, 'mintUrls', m.mintUrls),\r\n            'options': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(FindMediaOptions.serialize, 'options', m.options),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'metadataLocale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('metadataLocale', m.metadataLocale),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindMediaRequest({\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(FindMediaMode.deserialize, 'mode', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaComponentUtil.deserialize, 'projection', o),\r\n            mintUrls: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaQualityUtil.deserialize, 'mintUrls', o),\r\n            options: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(FindMediaOptions.deserialize, 'options', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            metadataLocale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('metadataLocale', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaResponse {\r\n    constructor(opts) {\r\n        this.continuation = opts.continuation;\r\n        this.media = opts.media || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'media': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(Media.serialize, 'media', m.media),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindMediaResponse({\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            media: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(Media.deserialize, 'media', o),\r\n        });\r\n    }\r\n}\r\n/**\r\n * TODO(RR): We will be moving title and description to content metadata, we probably\r\n * don't need BundleMetadata in the future since it only contains artist (which will also be\r\n * moved to another metadata blob).\r\n */\r\nclass BundleMetadata {\r\n    constructor(opts) {\r\n        this.artist = opts.artist;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'artist': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('artist', m.artist),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BundleMetadata({\r\n            artist: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('artist', o),\r\n        });\r\n    }\r\n}\r\nclass BundleStyle {\r\n    constructor(opts) {\r\n        this.background = opts.background;\r\n        this.cutout = opts.cutout;\r\n        this.isolated = opts.isolated;\r\n        this.photoholder = opts.photoholder;\r\n        this.textholder = opts.textholder;\r\n        this.repeating = opts.repeating;\r\n        this.recolorable = opts.recolorable;\r\n        this.colorSpace = opts.colorSpace;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'background': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('background', m.background),\r\n            'cutout': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('cutout', m.cutout),\r\n            'isolated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('isolated', m.isolated),\r\n            'photoholder': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('photoholder', m.photoholder),\r\n            'textholder': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('textholder', m.textholder),\r\n            'repeating': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('repeating', m.repeating),\r\n            'recolorable': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('recolorable', m.recolorable),\r\n            'colorSpace': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('colorSpace', m.colorSpace),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new BundleStyle({\r\n            background: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('background', o),\r\n            cutout: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('cutout', o),\r\n            isolated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('isolated', o),\r\n            photoholder: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('photoholder', o),\r\n            textholder: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('textholder', o),\r\n            repeating: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('repeating', o),\r\n            recolorable: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('recolorable', o),\r\n            colorSpace: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('colorSpace', o),\r\n        });\r\n    }\r\n}\r\nclass ContentMetadataUpdate {\r\n    constructor(opts) {\r\n        this.data = opts.data;\r\n        this.keywordsUpdatePolicy = opts.keywordsUpdatePolicy;\r\n        this.superKeywordsUpdatePolicy = opts.superKeywordsUpdatePolicy;\r\n        this.superKeywords2UpdatePolicy = opts.superKeywords2UpdatePolicy;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'data': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(ContentMetadata.serialize, 'data', m.data),\r\n            'keywordsUpdatePolicy': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(ListUpdatePolicyUtil.serialize, 'keywordsUpdatePolicy', m.keywordsUpdatePolicy),\r\n            'superKeywordsUpdatePolicy': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(ListUpdatePolicyUtil.serialize, 'superKeywordsUpdatePolicy', m.superKeywordsUpdatePolicy),\r\n            'superKeywords2UpdatePolicy': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(ListUpdatePolicyUtil.serialize, 'superKeywords2UpdatePolicy', m.superKeywords2UpdatePolicy),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ContentMetadataUpdate({\r\n            data: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(ContentMetadata.deserialize, 'data', o),\r\n            keywordsUpdatePolicy: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(ListUpdatePolicyUtil.deserialize, 'keywordsUpdatePolicy', o),\r\n            superKeywordsUpdatePolicy: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(ListUpdatePolicyUtil.deserialize, 'superKeywordsUpdatePolicy', o),\r\n            superKeywords2UpdatePolicy: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(ListUpdatePolicyUtil.deserialize, 'superKeywords2UpdatePolicy', o),\r\n        });\r\n    }\r\n}\r\nclass QualityMetadataUpdate {\r\n    constructor(opts) {\r\n        this.data = opts.data;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'data': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(QualityMetadata.serialize, 'data', m.data),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new QualityMetadataUpdate({\r\n            data: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(QualityMetadata.deserialize, 'data', o),\r\n        });\r\n    }\r\n}\r\nclass LocalizedMetadataUpdate {\r\n    constructor(opts) {\r\n        /** Map of language tag to localized metadata */\r\n        this.localizedMetadata = opts.localizedMetadata || new Map();\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'localizedMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].stringObjectMap(LocalizedMetadata.serialize, 'localizedMetadata', m.localizedMetadata),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new LocalizedMetadataUpdate({\r\n            localizedMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].stringObjectMap(LocalizedMetadata.deserialize, 'localizedMetadata', o),\r\n        });\r\n    }\r\n}\r\nclass ArtistMetadataUpdate {\r\n    constructor(opts) {\r\n        this.data = opts.data;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'data': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(ArtistMetadata.serialize, 'data', m.data),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new ArtistMetadataUpdate({\r\n            data: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(ArtistMetadata.deserialize, 'data', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateMediaRequestFiles {\r\n    constructor(opts) {\r\n        this.files = opts.files || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'files': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(MediaFile.serialize, 'files', m.files),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateMediaRequestFiles({\r\n            files: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(MediaFile.deserialize, 'files', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateMediaRequestKeywords {\r\n    constructor(opts) {\r\n        this.keywords = opts.keywords || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'keywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(LocalizedString.serialize, 'keywords', m.keywords),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateMediaRequestKeywords({\r\n            keywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(LocalizedString.deserialize, 'keywords', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateMediaRequestProcessedFiles {\r\n    constructor(opts) {\r\n        this.processedFiles = opts.processedFiles || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'processedFiles': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(ProcessedFile.serialize, 'processedFiles', m.processedFiles),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateMediaRequestProcessedFiles({\r\n            processedFiles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(ProcessedFile.deserialize, 'processedFiles', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateMediaRequestComponentMedia {\r\n    constructor(opts) {\r\n        this.componentMedia = opts.componentMedia || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'componentMedia': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(MediaRef.serialize, 'componentMedia', m.componentMedia),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateMediaRequestComponentMedia({\r\n            componentMedia: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(MediaRef.deserialize, 'componentMedia', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateMediaRequest {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        this.version = opts.version;\r\n        this.commit = opts.commit;\r\n        this.reset = opts.reset;\r\n        this.newImport = opts.newImport;\r\n        this.newImportVersion = opts.newImportVersion;\r\n        this.importState = opts.importState;\r\n        this.importMessage = opts.importMessage;\r\n        this.status = opts.status;\r\n        this.rejectionReason = opts.rejectionReason;\r\n        this.quality = opts.quality;\r\n        this.ageRating = opts.ageRating;\r\n        this.importVersion = opts.importVersion;\r\n        this.importSize = opts.importSize;\r\n        this.style = opts.style;\r\n        /** @deprecated use content_metadata when updating title and description. */\r\n        this.metadata = opts.metadata;\r\n        /** @deprecated use content_metadata. */\r\n        this.superKeywords = opts.superKeywords || [];\r\n        this.licensing = opts.licensing;\r\n        this.deactivated = opts.deactivated;\r\n        this.restrictedAccess = opts.restrictedAccess;\r\n        this.listed = opts.listed;\r\n        this.designVersion = opts.designVersion;\r\n        this.designType = opts.designType;\r\n        this.designSchemaVersion = opts.designSchemaVersion;\r\n        this.fontMetadata = opts.fontMetadata;\r\n        this.spritesheetMetadata = opts.spritesheetMetadata;\r\n        this.mintUrls = opts.mintUrls || [];\r\n        this.locale = opts.locale;\r\n        this.reviewedBy = opts.reviewedBy;\r\n        this.setOperation = opts.setOperation;\r\n        this.set = opts.set;\r\n        this.contentMetadata = opts.contentMetadata;\r\n        this.colorInfo = opts.colorInfo;\r\n        this.files = opts.files;\r\n        this.keywords_ = opts.keywords_;\r\n        this.processedFiles_ = opts.processedFiles_;\r\n        this.componentMedia_ = opts.componentMedia_;\r\n        this.qualityMetadata = opts.qualityMetadata;\r\n        this.localizedMetadata = opts.localizedMetadata;\r\n        this.artistMetadata = opts.artistMetadata;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'version': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('version', m.version),\r\n            'commit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('commit', m.commit),\r\n            'reset': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('reset', m.reset),\r\n            'newImport': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('newImport', m.newImport),\r\n            'newImportVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('newImportVersion', m.newImportVersion),\r\n            'importState': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(MediaImportStateUtil.serialize, 'importState', m.importState),\r\n            'importMessage': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importMessage', m.importMessage),\r\n            'status': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(MediaIngestionStatusUtil.serialize, 'status', m.status),\r\n            'rejectionReason': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('rejectionReason', m.rejectionReason),\r\n            'quality': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('quality', m.quality),\r\n            'ageRating': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(MediaAgeRatingUtil.serialize, 'ageRating', m.ageRating),\r\n            'importVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('importVersion', m.importVersion),\r\n            'importSize': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('importSize', m.importSize),\r\n            'style': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BundleStyle.serialize, 'style', m.style),\r\n            'metadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(BundleMetadata.serialize, 'metadata', m.metadata),\r\n            'superKeywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(LocalizedString.serialize, 'superKeywords', m.superKeywords),\r\n            'licensing': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(LicensingUtil.serialize, 'licensing', m.licensing),\r\n            'deactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('deactivated', m.deactivated),\r\n            'restrictedAccess': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('restrictedAccess', m.restrictedAccess),\r\n            'listed': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('listed', m.listed),\r\n            'designVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('designVersion', m.designVersion),\r\n            'designType': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('designType', m.designType),\r\n            'designSchemaVersion': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('designSchemaVersion', m.designSchemaVersion),\r\n            'fontMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(FontMetadata.serialize, 'fontMetadata', m.fontMetadata),\r\n            'spritesheetMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(SpritesheetMetadata.serialize, 'spritesheetMetadata', m.spritesheetMetadata),\r\n            'mintUrls': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaQualityUtil.serialize, 'mintUrls', m.mintUrls),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('locale', m.locale),\r\n            'reviewedBy': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('reviewedBy', m.reviewedBy),\r\n            'setOperation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(SetOperationUtil.serialize, 'setOperation', m.setOperation),\r\n            'set': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('set', m.set),\r\n            'contentMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(ContentMetadataUpdate.serialize, 'contentMetadata', m.contentMetadata),\r\n            'colorInfo': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(MediaColorInfo.serialize, 'colorInfo', m.colorInfo),\r\n            'files': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(UpdateMediaRequestFiles.serialize, 'files', m.files),\r\n            'keywords_': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(UpdateMediaRequestKeywords.serialize, 'keywords_', m.keywords_),\r\n            'processedFiles_': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(UpdateMediaRequestProcessedFiles.serialize, 'processedFiles_', m.processedFiles_),\r\n            'componentMedia_': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(UpdateMediaRequestComponentMedia.serialize, 'componentMedia_', m.componentMedia_),\r\n            'qualityMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(QualityMetadataUpdate.serialize, 'qualityMetadata', m.qualityMetadata),\r\n            'localizedMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(LocalizedMetadataUpdate.serialize, 'localizedMetadata', m.localizedMetadata),\r\n            'artistMetadata': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalObject(ArtistMetadataUpdate.serialize, 'artistMetadata', m.artistMetadata),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateMediaRequest({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            version: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('version', o),\r\n            commit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('commit', o),\r\n            reset: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('reset', o),\r\n            newImport: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('newImport', o),\r\n            newImportVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('newImportVersion', o),\r\n            importState: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(MediaImportStateUtil.deserialize, 'importState', o),\r\n            importMessage: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importMessage', o),\r\n            status: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(MediaIngestionStatusUtil.deserialize, 'status', o),\r\n            rejectionReason: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('rejectionReason', o),\r\n            quality: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('quality', o),\r\n            ageRating: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(MediaAgeRatingUtil.deserialize, 'ageRating', o),\r\n            importVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('importVersion', o),\r\n            importSize: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('importSize', o),\r\n            style: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BundleStyle.deserialize, 'style', o),\r\n            metadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(BundleMetadata.deserialize, 'metadata', o),\r\n            superKeywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(LocalizedString.deserialize, 'superKeywords', o),\r\n            licensing: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(LicensingUtil.deserialize, 'licensing', o),\r\n            deactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('deactivated', o),\r\n            restrictedAccess: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('restrictedAccess', o),\r\n            listed: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('listed', o),\r\n            designVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('designVersion', o),\r\n            designType: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('designType', o),\r\n            designSchemaVersion: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('designSchemaVersion', o),\r\n            fontMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(FontMetadata.deserialize, 'fontMetadata', o),\r\n            spritesheetMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(SpritesheetMetadata.deserialize, 'spritesheetMetadata', o),\r\n            mintUrls: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaQualityUtil.deserialize, 'mintUrls', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('locale', o),\r\n            reviewedBy: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('reviewedBy', o),\r\n            setOperation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(SetOperationUtil.deserialize, 'setOperation', o),\r\n            set: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('set', o),\r\n            contentMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(ContentMetadataUpdate.deserialize, 'contentMetadata', o),\r\n            colorInfo: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(MediaColorInfo.deserialize, 'colorInfo', o),\r\n            files: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(UpdateMediaRequestFiles.deserialize, 'files', o),\r\n            keywords_: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(UpdateMediaRequestKeywords.deserialize, 'keywords_', o),\r\n            processedFiles_: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(UpdateMediaRequestProcessedFiles.deserialize, 'processedFiles_', o),\r\n            componentMedia_: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(UpdateMediaRequestComponentMedia.deserialize, 'componentMedia_', o),\r\n            qualityMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(QualityMetadataUpdate.deserialize, 'qualityMetadata', o),\r\n            localizedMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(LocalizedMetadataUpdate.deserialize, 'localizedMetadata', o),\r\n            artistMetadata: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalObject(ArtistMetadataUpdate.deserialize, 'artistMetadata', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateMediaResponse {\r\n    constructor(opts) {\r\n        this.media = opts.media;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'media': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(Media.serialize, 'media', m.media),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateMediaResponse({\r\n            media: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(Media.deserialize, 'media', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaBatchRpcRequest {\r\n    constructor(opts) {\r\n        /** if ids are supplied, then refs must be empty */\r\n        this.ids = opts.ids || [];\r\n        /** if refs are supplied, then ids must be empty */\r\n        this.refs = opts.refs || [];\r\n        this.imported = opts.imported;\r\n        this.approved = opts.approved;\r\n        this.staging = opts.staging;\r\n        this.projection = opts.projection || [];\r\n        this.mintUrls = opts.mintUrls || [];\r\n        this.metadataLocale = opts.metadataLocale || [];\r\n        this.documentId = opts.documentId;\r\n        /**\r\n         * if true, the request will succeed even if the calling context lacks permission to access\r\n         * (some of) the matched media. In that case, a subset of only matching, permissible media\r\n         * is returned.\r\n         */\r\n        this.ignoreForbidden = opts.ignoreForbidden;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'ids': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('ids', m.ids),\r\n            'refs': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(MediaRef.serialize, 'refs', m.refs),\r\n            'imported': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('imported', m.imported),\r\n            'approved': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('approved', m.approved),\r\n            'staging': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('staging', m.staging),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaComponentUtil.serialize, 'projection', m.projection),\r\n            'mintUrls': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaQualityUtil.serialize, 'mintUrls', m.mintUrls),\r\n            'metadataLocale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('metadataLocale', m.metadataLocale),\r\n            'documentId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('documentId', m.documentId),\r\n            'ignoreForbidden': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('ignoreForbidden', m.ignoreForbidden),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaBatchRpcRequest({\r\n            ids: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('ids', o),\r\n            refs: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(MediaRef.deserialize, 'refs', o),\r\n            imported: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('imported', o),\r\n            approved: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('approved', o),\r\n            staging: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('staging', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaComponentUtil.deserialize, 'projection', o),\r\n            mintUrls: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaQualityUtil.deserialize, 'mintUrls', o),\r\n            metadataLocale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('metadataLocale', o),\r\n            documentId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('documentId', o),\r\n            ignoreForbidden: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('ignoreForbidden', o),\r\n        });\r\n    }\r\n}\r\nconst GetMediaBatchMode = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'IDS': return GetMediaBatchIdsMode.serialize(u);\r\n            case 'REFS': return GetMediaBatchRefsMode.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'IDS': return GetMediaBatchIdsMode.deserialize(o);\r\n            case 'REFS': return GetMediaBatchRefsMode.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass GetMediaBatchIdsMode {\r\n    constructor(opts) {\r\n        this.type = 'IDS';\r\n        this.ids = opts.ids || [];\r\n        this.imported = opts.imported;\r\n        this.approved = opts.approved;\r\n        this.staging = opts.staging;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'IDS',\r\n            'ids': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('ids', m.ids),\r\n            'imported': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('imported', m.imported),\r\n            'approved': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('approved', m.approved),\r\n            'staging': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('staging', m.staging),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'IDS');\r\n        return new GetMediaBatchIdsMode({\r\n            ids: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('ids', o),\r\n            imported: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('imported', o),\r\n            approved: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('approved', o),\r\n            staging: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('staging', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaBatchRefsMode {\r\n    constructor(opts) {\r\n        this.type = 'REFS';\r\n        this.refs = opts.refs || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'REFS',\r\n            'refs': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(MediaRef.serialize, 'refs', m.refs),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'REFS');\r\n        return new GetMediaBatchRefsMode({\r\n            refs: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(MediaRef.deserialize, 'refs', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaBatchRequest {\r\n    constructor(opts) {\r\n        this.mode = opts.mode;\r\n        this.projection = opts.projection || [];\r\n        this.mintUrls = opts.mintUrls || [];\r\n        this.documentId = opts.documentId;\r\n        this.ignoreForbidden = opts.ignoreForbidden != null\r\n            ? opts.ignoreForbidden\r\n            : false;\r\n        this.metadataLocale = opts.metadataLocale;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(GetMediaBatchMode.serialize, 'mode', m.mode),\r\n            'projection': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaComponentUtil.serialize, 'projection', m.projection),\r\n            'mintUrls': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(MediaQualityUtil.serialize, 'mintUrls', m.mintUrls),\r\n            'documentId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('documentId', m.documentId),\r\n            'ignoreForbidden': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('ignoreForbidden', m.ignoreForbidden),\r\n            'metadataLocale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('metadataLocale', m.metadataLocale),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaBatchRequest({\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(GetMediaBatchMode.deserialize, 'mode', o),\r\n            projection: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaComponentUtil.deserialize, 'projection', o),\r\n            mintUrls: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(MediaQualityUtil.deserialize, 'mintUrls', o),\r\n            documentId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('documentId', o),\r\n            ignoreForbidden: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('ignoreForbidden', o),\r\n            metadataLocale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('metadataLocale', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaBatchResponse {\r\n    constructor(opts) {\r\n        this.media = opts.media || [];\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'media': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(Media.serialize, 'media', m.media),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaBatchResponse({\r\n            media: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(Media.deserialize, 'media', o),\r\n        });\r\n    }\r\n}\r\nclass MediaSet {\r\n    constructor(opts) {\r\n        /** Set Id. */\r\n        this.id = opts.id;\r\n        /** Owning brand. */\r\n        this.owningBrand = opts.owningBrand;\r\n        /** Set name. */\r\n        this.title = opts.title;\r\n        /** Set keywords. */\r\n        this.keywords = opts.keywords || [];\r\n        /** Media id to use as a thumbnail. */\r\n        this.thumbnailMediaId = opts.thumbnailMediaId;\r\n        /**\r\n         * Optional import bucket for the set. Null if the set is not created from an S3 bucket.\r\n         * The bucket and key form a unique key for a set imported from an S3 bucket preventing creation\r\n         * of duplicate sets if the bucket is rescanned.\r\n         */\r\n        this.bucket = opts.bucket;\r\n        /** Optional key within an S3 bucket. Null if the set was not created from an S3 bucket. */\r\n        this.key = opts.key;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'owningBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('owningBrand', m.owningBrand),\r\n            'title': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('title', m.title),\r\n            'keywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('keywords', m.keywords),\r\n            'thumbnailMediaId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('thumbnailMediaId', m.thumbnailMediaId),\r\n            'bucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('bucket', m.bucket),\r\n            'key': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('key', m.key),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new MediaSet({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            owningBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('owningBrand', o),\r\n            title: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('title', o),\r\n            keywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('keywords', o),\r\n            thumbnailMediaId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('thumbnailMediaId', o),\r\n            bucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('bucket', o),\r\n            key: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('key', o),\r\n        });\r\n    }\r\n}\r\nclass CreateMediaSetRequest {\r\n    constructor(opts) {\r\n        /** Title of the collection - displayed to the user. */\r\n        this.title = opts.title;\r\n        /** Owning brand of the Set. */\r\n        this.owningBrand = opts.owningBrand;\r\n        /** Optional keywords for the collection. */\r\n        this.keywords = opts.keywords || [];\r\n        /**\r\n         * Optional import bucket for the set. Null if set was no imported from an S3 bucket. Must be set\r\n         * if the key field is set.\r\n         */\r\n        this.bucket = opts.bucket;\r\n        /**\r\n         * Optional import source key. Null if set was no imported from an S3 bucket. Must be set if the\r\n         * bucket field is set\r\n         */\r\n        this.key = opts.key;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'title': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('title', m.title),\r\n            'owningBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('owningBrand', m.owningBrand),\r\n            'keywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('keywords', m.keywords),\r\n            'bucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('bucket', m.bucket),\r\n            'key': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('key', m.key),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateMediaSetRequest({\r\n            title: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('title', o),\r\n            owningBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('owningBrand', o),\r\n            keywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('keywords', o),\r\n            bucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('bucket', o),\r\n            key: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('key', o),\r\n        });\r\n    }\r\n}\r\nclass CreateMediaSetResponse {\r\n    constructor(opts) {\r\n        this.mediaSet = opts.mediaSet;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mediaSet': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(MediaSet.serialize, 'mediaSet', m.mediaSet),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CreateMediaSetResponse({\r\n            mediaSet: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(MediaSet.deserialize, 'mediaSet', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaSetRequest {\r\n    constructor(opts) {\r\n        /** Id of set to retrieve. */\r\n        this.id = opts.id;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaSetRequest({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaSetResponse {\r\n    constructor(opts) {\r\n        /** Retrieved Set. */\r\n        this.mediaSet = opts.mediaSet;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mediaSet': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(MediaSet.serialize, 'mediaSet', m.mediaSet),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaSetResponse({\r\n            mediaSet: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(MediaSet.deserialize, 'mediaSet', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateMediaSetRequest {\r\n    constructor(opts) {\r\n        /** Set id to update/ */\r\n        this.id = opts.id;\r\n        /** If true, overwrite keywords with those specified in the keywords param. */\r\n        this.updateKeywords = opts.updateKeywords;\r\n        /** Keywords to replace the current keyword list. */\r\n        this.keywords = opts.keywords || [];\r\n        /** New title for set */\r\n        this.title = opts.title;\r\n        /** Media id of the new thumbnail image */\r\n        this.thumbnailMedia = opts.thumbnailMedia;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'updateKeywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('updateKeywords', m.updateKeywords),\r\n            'keywords': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedString('keywords', m.keywords),\r\n            'title': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('title', m.title),\r\n            'thumbnailMedia': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('thumbnailMedia', m.thumbnailMedia),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateMediaSetRequest({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            updateKeywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('updateKeywords', o),\r\n            keywords: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedString('keywords', o),\r\n            title: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('title', o),\r\n            thumbnailMedia: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('thumbnailMedia', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateMediaSetResponse {\r\n    constructor(opts) {\r\n        /** Updated set. */\r\n        this.mediaSet = opts.mediaSet;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mediaSet': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(MediaSet.serialize, 'mediaSet', m.mediaSet),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateMediaSetResponse({\r\n            mediaSet: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(MediaSet.deserialize, 'mediaSet', o),\r\n        });\r\n    }\r\n}\r\nconst FindMediaSetsMode = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'FIND_MEDIA_SETS_BRAND_MODE': return FindMediaSetsBrandMode.serialize(u);\r\n            case 'FIND_MEDIA_SETS_BLOB_MODE': return FindMediaSetsBlobMode.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'FIND_MEDIA_SETS_BRAND_MODE': return FindMediaSetsBrandMode.deserialize(o);\r\n            case 'FIND_MEDIA_SETS_BLOB_MODE': return FindMediaSetsBlobMode.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass FindMediaSetsBrandMode {\r\n    constructor(opts) {\r\n        this.type = 'FIND_MEDIA_SETS_BRAND_MODE';\r\n        /** Find sets belonging to this brand. */\r\n        this.owningBrand = opts.owningBrand;\r\n        /** Set ID for continuation. */\r\n        this.continuation = opts.continuation;\r\n        /** Listing limit. */\r\n        this.limit = opts.limit;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'FIND_MEDIA_SETS_BRAND_MODE',\r\n            'owningBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('owningBrand', m.owningBrand),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n            'limit': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('limit', m.limit),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'FIND_MEDIA_SETS_BRAND_MODE');\r\n        return new FindMediaSetsBrandMode({\r\n            owningBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('owningBrand', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n            limit: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('limit', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaSetsBlobMode {\r\n    constructor(opts) {\r\n        this.type = 'FIND_MEDIA_SETS_BLOB_MODE';\r\n        /**\r\n         * Optional import source bucket. Null if set was no imported from an S3 bucket. Must be set if\r\n         * the key field is set.\r\n         */\r\n        this.bucket = opts.bucket;\r\n        /**\r\n         * Optional import source key. Null if set was no imported from an S3 bucket. Must be set if the\r\n         * bucket field is set\r\n         */\r\n        this.key = opts.key;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'FIND_MEDIA_SETS_BLOB_MODE',\r\n            'bucket': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('bucket', m.bucket),\r\n            'key': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('key', m.key),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'FIND_MEDIA_SETS_BLOB_MODE');\r\n        return new FindMediaSetsBlobMode({\r\n            bucket: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('bucket', o),\r\n            key: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('key', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaSetsRequest {\r\n    constructor(opts) {\r\n        this.mode = opts.mode;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(FindMediaSetsMode.serialize, 'mode', m.mode),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindMediaSetsRequest({\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(FindMediaSetsMode.deserialize, 'mode', o),\r\n        });\r\n    }\r\n}\r\nclass FindMediaSetsResponse {\r\n    constructor(opts) {\r\n        /** Sets matching the request criteria. */\r\n        this.mediaSets = opts.mediaSets || [];\r\n        /** Set id for continuation. */\r\n        this.continuation = opts.continuation;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mediaSets': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedObject(MediaSet.serialize, 'mediaSets', m.mediaSets),\r\n            'continuation': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('continuation', m.continuation),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new FindMediaSetsResponse({\r\n            mediaSets: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedObject(MediaSet.deserialize, 'mediaSets', o),\r\n            continuation: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('continuation', o),\r\n        });\r\n    }\r\n}\r\nclass DeleteMediaSetRequest {\r\n    constructor(opts) {\r\n        /** Set id to delete. */\r\n        this.id = opts.id;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new DeleteMediaSetRequest({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n        });\r\n    }\r\n}\r\nclass DeleteMediaSetResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new DeleteMediaSetResponse();\r\n    }\r\n}\r\nclass DeleteMediaRequest {\r\n    constructor(opts) {\r\n        this.media = opts.media;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'media': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('media', m.media),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new DeleteMediaRequest({\r\n            media: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('media', o),\r\n        });\r\n    }\r\n}\r\nclass DeleteMediaResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new DeleteMediaResponse();\r\n    }\r\n}\r\nclass MediaExternalRef {\r\n    constructor(opts) {\r\n        /** Provider for the external media. */\r\n        this.provider = opts.provider;\r\n        /** External id for the external media. */\r\n        this.id = opts.id;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'provider': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(ExternalProviderUtil.serialize, 'provider', m.provider),\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new MediaExternalRef({\r\n            provider: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(ExternalProviderUtil.deserialize, 'provider', o),\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaStorageRequest {\r\n    constructor(opts) {\r\n        this.brand = opts.brand;\r\n        this.user = opts.user;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('brand', m.brand),\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('user', m.user),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaStorageRequest({\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('brand', o),\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('user', o),\r\n        });\r\n    }\r\n}\r\nclass GetMediaStorageResponse {\r\n    constructor(opts) {\r\n        this.currentBytes = opts.currentBytes;\r\n        this.maxBytes = opts.maxBytes;\r\n        /** Count of files used to calculate current_bytes */\r\n        this.currentFiles = opts.currentFiles;\r\n        this.totalBytesAtQuotaEnrolment = opts.totalBytesAtQuotaEnrolment;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'currentBytes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('currentBytes', m.currentBytes),\r\n            'maxBytes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('maxBytes', m.maxBytes),\r\n            'currentFiles': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredNumber('currentFiles', m.currentFiles),\r\n            'totalBytesAtQuotaEnrolment': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('totalBytesAtQuotaEnrolment', m.totalBytesAtQuotaEnrolment),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetMediaStorageResponse({\r\n            currentBytes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('currentBytes', o),\r\n            maxBytes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('maxBytes', o),\r\n            currentFiles: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredNumber('currentFiles', o),\r\n            totalBytesAtQuotaEnrolment: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('totalBytesAtQuotaEnrolment', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvbWVkaWEvbWVkaWFfcHJvdG8udHM/Y2U5YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZm9ybWF0dGVyOm9mZlxuLy8gQ29weXJpZ2h0IENhbnZhIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIEdlbmVyYXRlZCBmcm9tIHNlcnZpY2VzL21lZGlhL21lZGlhLnByb3RvLlxuXG5pbXBvcnQge1xuICBQcmVjb25kaXRpb25zLFxuICBVbnJlYWNoYWJsZUVycm9yLFxufSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuaW1wb3J0IHtcbiAgRGVzZXJpYWxpemF0aW9uLFxufSBmcm9tICdiYXNlL3NlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uJztcbmltcG9ydCB7XG4gIFNlcmlhbGl6YXRpb24sXG59IGZyb20gJ2Jhc2Uvc2VyaWFsaXphdGlvbi9zZXJpYWxpemF0aW9uJztcblxuZXhwb3J0IGNvbnN0IGVudW0gTWVkaWFRdWFsaXR5IHtcbiAgLyoqIFByZXZpZXcgaW1hZ2UsIH4yMDBweCAqL1xuICBUSFVNQk5BSUwgPSAxLFxuICAvKiogUHJldmlldyBpbWFnZSwgfjUwMHB4ICovXG4gIFRIVU1CTkFJTF9MQVJHRSxcbiAgLyoqIFByZXZpZXcgaW1hZ2UsIH44MDBweCAqL1xuICBTQ1JFRU4sXG4gIC8qKiBQcmV2aWV3IGltYWdlLCB+MTYwMHB4IChub3QgaW1wbGVtZW50ZWQpICovXG4gIFNDUkVFTl8yWCxcbiAgLyoqIFByZXZpZXcgaW1hZ2UsIH4yNDAwcHggKG5vdCBpbXBsZW1lbnRlZCkgKi9cbiAgU0NSRUVOXzNYLFxuICAvKiogT3JpZ2luYWwgc2l6ZSBpbWFnZSwgZm9yIGV4cG9ydC9wcmludCAqL1xuICBQUklOVCxcbiAgT1JJR0lOQUwsXG59XG5cbmV4cG9ydCBjb25zdCBNZWRpYVF1YWxpdHlVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBNZWRpYVF1YWxpdHlbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIE1lZGlhUXVhbGl0eS5USFVNQk5BSUwsXG4gICAgICBNZWRpYVF1YWxpdHkuVEhVTUJOQUlMX0xBUkdFLFxuICAgICAgTWVkaWFRdWFsaXR5LlNDUkVFTixcbiAgICAgIE1lZGlhUXVhbGl0eS5TQ1JFRU5fMlgsXG4gICAgICBNZWRpYVF1YWxpdHkuU0NSRUVOXzNYLFxuICAgICAgTWVkaWFRdWFsaXR5LlBSSU5ULFxuICAgICAgTWVkaWFRdWFsaXR5Lk9SSUdJTkFMLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBNZWRpYVF1YWxpdHkpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgTWVkaWFRdWFsaXR5LlRIVU1CTkFJTDogcmV0dXJuICdUSFVNQk5BSUwnO1xuICAgICAgY2FzZSBNZWRpYVF1YWxpdHkuVEhVTUJOQUlMX0xBUkdFOiByZXR1cm4gJ1RIVU1CTkFJTF9MQVJHRSc7XG4gICAgICBjYXNlIE1lZGlhUXVhbGl0eS5TQ1JFRU46IHJldHVybiAnU0NSRUVOJztcbiAgICAgIGNhc2UgTWVkaWFRdWFsaXR5LlNDUkVFTl8yWDogcmV0dXJuICdTQ1JFRU5fMlgnO1xuICAgICAgY2FzZSBNZWRpYVF1YWxpdHkuU0NSRUVOXzNYOiByZXR1cm4gJ1NDUkVFTl8zWCc7XG4gICAgICBjYXNlIE1lZGlhUXVhbGl0eS5QUklOVDogcmV0dXJuICdQUklOVCc7XG4gICAgICBjYXNlIE1lZGlhUXVhbGl0eS5PUklHSU5BTDogcmV0dXJuICdPUklHSU5BTCc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBNZWRpYVF1YWxpdHkgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ1RIVU1CTkFJTCc6IHJldHVybiBNZWRpYVF1YWxpdHkuVEhVTUJOQUlMO1xuICAgICAgY2FzZSAnVEhVTUJOQUlMX0xBUkdFJzogcmV0dXJuIE1lZGlhUXVhbGl0eS5USFVNQk5BSUxfTEFSR0U7XG4gICAgICBjYXNlICdTQ1JFRU4nOiByZXR1cm4gTWVkaWFRdWFsaXR5LlNDUkVFTjtcbiAgICAgIGNhc2UgJ1NDUkVFTl8yWCc6IHJldHVybiBNZWRpYVF1YWxpdHkuU0NSRUVOXzJYO1xuICAgICAgY2FzZSAnU0NSRUVOXzNYJzogcmV0dXJuIE1lZGlhUXVhbGl0eS5TQ1JFRU5fM1g7XG4gICAgICBjYXNlICdQUklOVCc6IHJldHVybiBNZWRpYVF1YWxpdHkuUFJJTlQ7XG4gICAgICBjYXNlICdPUklHSU5BTCc6IHJldHVybiBNZWRpYVF1YWxpdHkuT1JJR0lOQUw7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdNZWRpYVF1YWxpdHknJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBNZWRpYVR5cGUge1xuICBSQVNURVIgPSAxLFxuICBWRUNUT1IsXG4gIERFU0lHTixcbiAgRk9OVCxcbiAgRUxFTUVOVF9HUk9VUCxcbn1cblxuZXhwb3J0IGNvbnN0IE1lZGlhVHlwZVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IE1lZGlhVHlwZVtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgTWVkaWFUeXBlLlJBU1RFUixcbiAgICAgIE1lZGlhVHlwZS5WRUNUT1IsXG4gICAgICBNZWRpYVR5cGUuREVTSUdOLFxuICAgICAgTWVkaWFUeXBlLkZPTlQsXG4gICAgICBNZWRpYVR5cGUuRUxFTUVOVF9HUk9VUCxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogTWVkaWFUeXBlKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIE1lZGlhVHlwZS5SQVNURVI6IHJldHVybiAnUkFTVEVSJztcbiAgICAgIGNhc2UgTWVkaWFUeXBlLlZFQ1RPUjogcmV0dXJuICdWRUNUT1InO1xuICAgICAgY2FzZSBNZWRpYVR5cGUuREVTSUdOOiByZXR1cm4gJ0RFU0lHTic7XG4gICAgICBjYXNlIE1lZGlhVHlwZS5GT05UOiByZXR1cm4gJ0ZPTlQnO1xuICAgICAgY2FzZSBNZWRpYVR5cGUuRUxFTUVOVF9HUk9VUDogcmV0dXJuICdFTEVNRU5UX0dST1VQJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IE1lZGlhVHlwZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnUkFTVEVSJzogcmV0dXJuIE1lZGlhVHlwZS5SQVNURVI7XG4gICAgICBjYXNlICdWRUNUT1InOiByZXR1cm4gTWVkaWFUeXBlLlZFQ1RPUjtcbiAgICAgIGNhc2UgJ0RFU0lHTic6IHJldHVybiBNZWRpYVR5cGUuREVTSUdOO1xuICAgICAgY2FzZSAnRk9OVCc6IHJldHVybiBNZWRpYVR5cGUuRk9OVDtcbiAgICAgIGNhc2UgJ0VMRU1FTlRfR1JPVVAnOiByZXR1cm4gTWVkaWFUeXBlLkVMRU1FTlRfR1JPVVA7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdNZWRpYVR5cGUnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBRdWFsaXR5U3R5bGUge1xuICBNT0RFUk4gPSAxLFxuICBTVE9DSyxcbn1cblxuZXhwb3J0IGNvbnN0IFF1YWxpdHlTdHlsZVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IFF1YWxpdHlTdHlsZVtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgUXVhbGl0eVN0eWxlLk1PREVSTixcbiAgICAgIFF1YWxpdHlTdHlsZS5TVE9DSyxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogUXVhbGl0eVN0eWxlKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIFF1YWxpdHlTdHlsZS5NT0RFUk46IHJldHVybiAnTU9ERVJOJztcbiAgICAgIGNhc2UgUXVhbGl0eVN0eWxlLlNUT0NLOiByZXR1cm4gJ1NUT0NLJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IFF1YWxpdHlTdHlsZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnTU9ERVJOJzogcmV0dXJuIFF1YWxpdHlTdHlsZS5NT0RFUk47XG4gICAgICBjYXNlICdTVE9DSyc6IHJldHVybiBRdWFsaXR5U3R5bGUuU1RPQ0s7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdRdWFsaXR5U3R5bGUnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBTcHJpdGVzaGVldExheWVyVHlwZSB7XG4gIFJFQ09MT1JBQkxFID0gMSxcbiAgQkFDS0dST1VORF9SLFxuICBCQUNLR1JPVU5EX0csXG4gIEJBQ0tHUk9VTkRfQixcbiAgQkFDS0dST1VORF9BLFxufVxuXG5leHBvcnQgY29uc3QgU3ByaXRlc2hlZXRMYXllclR5cGVVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBTcHJpdGVzaGVldExheWVyVHlwZVtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgU3ByaXRlc2hlZXRMYXllclR5cGUuUkVDT0xPUkFCTEUsXG4gICAgICBTcHJpdGVzaGVldExheWVyVHlwZS5CQUNLR1JPVU5EX1IsXG4gICAgICBTcHJpdGVzaGVldExheWVyVHlwZS5CQUNLR1JPVU5EX0csXG4gICAgICBTcHJpdGVzaGVldExheWVyVHlwZS5CQUNLR1JPVU5EX0IsXG4gICAgICBTcHJpdGVzaGVldExheWVyVHlwZS5CQUNLR1JPVU5EX0EsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IFNwcml0ZXNoZWV0TGF5ZXJUeXBlKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIFNwcml0ZXNoZWV0TGF5ZXJUeXBlLlJFQ09MT1JBQkxFOiByZXR1cm4gJ1JFQ09MT1JBQkxFJztcbiAgICAgIGNhc2UgU3ByaXRlc2hlZXRMYXllclR5cGUuQkFDS0dST1VORF9SOiByZXR1cm4gJ0JBQ0tHUk9VTkRfUic7XG4gICAgICBjYXNlIFNwcml0ZXNoZWV0TGF5ZXJUeXBlLkJBQ0tHUk9VTkRfRzogcmV0dXJuICdCQUNLR1JPVU5EX0cnO1xuICAgICAgY2FzZSBTcHJpdGVzaGVldExheWVyVHlwZS5CQUNLR1JPVU5EX0I6IHJldHVybiAnQkFDS0dST1VORF9CJztcbiAgICAgIGNhc2UgU3ByaXRlc2hlZXRMYXllclR5cGUuQkFDS0dST1VORF9BOiByZXR1cm4gJ0JBQ0tHUk9VTkRfQSc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBTcHJpdGVzaGVldExheWVyVHlwZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnUkVDT0xPUkFCTEUnOiByZXR1cm4gU3ByaXRlc2hlZXRMYXllclR5cGUuUkVDT0xPUkFCTEU7XG4gICAgICBjYXNlICdCQUNLR1JPVU5EX1InOiByZXR1cm4gU3ByaXRlc2hlZXRMYXllclR5cGUuQkFDS0dST1VORF9SO1xuICAgICAgY2FzZSAnQkFDS0dST1VORF9HJzogcmV0dXJuIFNwcml0ZXNoZWV0TGF5ZXJUeXBlLkJBQ0tHUk9VTkRfRztcbiAgICAgIGNhc2UgJ0JBQ0tHUk9VTkRfQic6IHJldHVybiBTcHJpdGVzaGVldExheWVyVHlwZS5CQUNLR1JPVU5EX0I7XG4gICAgICBjYXNlICdCQUNLR1JPVU5EX0EnOiByZXR1cm4gU3ByaXRlc2hlZXRMYXllclR5cGUuQkFDS0dST1VORF9BO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnU3ByaXRlc2hlZXRMYXllclR5cGUnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBNZWRpYUltcG9ydFN0YXRlIHtcbiAgLyoqXG4gICAqIEluaXRpYWwgc3RhdGUuXG4gICAqIE1heSBoYXZlIGJlZW4gc3VibWl0dGVkIGZvciBpbXBvcnQsIG9yIG1heSBub3QgaGF2ZS5cbiAgICogVHJhbnNpdGlvbnM6XG4gICAqIEZBSUxFRFxuICAgKiBJTVBPUlRFRFxuICAgKi9cbiAgUEVORElOR19JTVBPUlQgPSAxLFxuICAvKipcbiAgICogRmFpbGVkIGltcG9ydC5cbiAgICogSW1wbGllcyB0aGlzIGJ1bmRsZSBkb2Vzbid0IGhhdmUgdmFsaWQgbWVkaWEgZmlsZXMuXG4gICAqIFRyYW5zaXRpb25zOlxuICAgKiBub25lXG4gICAqL1xuICBGQUlMRUQsXG4gIC8qKlxuICAgKiBTdWNjZXNzZnVsbHkgaW1wb3J0ZWQuXG4gICAqIEltcGxpZXMgdGhpcyBidW5kbGUgaGFzIHZhbGlkIG1lZGlhIGZpbGVzLCBhbmQgbWF5IGJlIHVzZWQgaW4gYSBkb2N1bWVudC5cbiAgICogVHJhbnNpdGlvbnM6XG4gICAqIG5vbmVcbiAgICovXG4gIElNUE9SVEVELFxufVxuXG5leHBvcnQgY29uc3QgTWVkaWFJbXBvcnRTdGF0ZVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IE1lZGlhSW1wb3J0U3RhdGVbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIE1lZGlhSW1wb3J0U3RhdGUuUEVORElOR19JTVBPUlQsXG4gICAgICBNZWRpYUltcG9ydFN0YXRlLkZBSUxFRCxcbiAgICAgIE1lZGlhSW1wb3J0U3RhdGUuSU1QT1JURUQsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IE1lZGlhSW1wb3J0U3RhdGUpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgTWVkaWFJbXBvcnRTdGF0ZS5QRU5ESU5HX0lNUE9SVDogcmV0dXJuICdQRU5ESU5HX0lNUE9SVCc7XG4gICAgICBjYXNlIE1lZGlhSW1wb3J0U3RhdGUuRkFJTEVEOiByZXR1cm4gJ0ZBSUxFRCc7XG4gICAgICBjYXNlIE1lZGlhSW1wb3J0U3RhdGUuSU1QT1JURUQ6IHJldHVybiAnSU1QT1JURUQnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogTWVkaWFJbXBvcnRTdGF0ZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnUEVORElOR19JTVBPUlQnOiByZXR1cm4gTWVkaWFJbXBvcnRTdGF0ZS5QRU5ESU5HX0lNUE9SVDtcbiAgICAgIGNhc2UgJ0ZBSUxFRCc6IHJldHVybiBNZWRpYUltcG9ydFN0YXRlLkZBSUxFRDtcbiAgICAgIGNhc2UgJ0lNUE9SVEVEJzogcmV0dXJuIE1lZGlhSW1wb3J0U3RhdGUuSU1QT1JURUQ7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdNZWRpYUltcG9ydFN0YXRlJyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGVudW0gTWVkaWFJbmdlc3Rpb25TdGF0dXMge1xuICAvKipcbiAgICogY29udHJpYnV0b3IgY2FuIGVkaXQgbWV0YWRhdGEgKGFydGlzdCwgdGl0bGUsIGRlc2NyaXB0aW9uLCBrZXl3b3JkcylcbiAgICogY29udHJpYnV0b3IgY2FuIHVwbG9hZCByZXBsYWNlbWVudCBjb3BpZXMgb2YgdGhlIGltYWdlIGZpbGVcbiAgICogdHJhbnNpdGlvbnM6XG4gICAqIFBFTkRJTkdfUkVWSUVXIChvbiBjb250cmlidXRvciBzdWJtaXRzKVxuICAgKiBDQU5DRUxMRUQgKG9uIGNvbnRyaWJ1dG9yIGNhbmNlbClcbiAgICovXG4gIFBFTkRJTkdfU1VCTUlTU0lPTiA9IDEsXG4gIC8qKlxuICAgKiBjb250cmlidXRvciBjYW4gZWRpdCBtZXRhZGF0YSAoYXJ0aXN0LCB0aXRsZSwgZGVzY3JpcHRpb24sIGtleXdvcmRzKVxuICAgKiByZXZpZXdlciBjYW4gZWRpdCBtZXRhZGF0YVxuICAgKiB0cmFuc2l0aW9uczpcbiAgICogQVBQUk9WRUQgKG9uIHJldmlld2VyIGFwcHJvdmFsKVxuICAgKiBTT0ZUX1JFSkVDVEVEIChvbiByZXZpZXdlciBzb2Z0IHJlamVjdGlvbilcbiAgICogRVRDSF9SRUpFQ1RFRCAob24gcmV2aWV3ZXIgZXRjaCByZWplY3Rpb24pXG4gICAqIFNFVF9SRUpFQ1RFRCAob24gcmV2aWV3ZXIgc2V0IHJlamVjdGlvbilcbiAgICogSEFSRF9SRUpFQ1RFRCAob24gcmV2aWV3ZXIgaGFyZCByZWplY3Rpb24pXG4gICAqIENBTkNFTExFRCAob24gY29udHJpYnV0b3IgY2FuY2VsKVxuICAgKi9cbiAgUEVORElOR19SRVZJRVcsXG4gIC8qKlxuICAgKiBjb250cmlidXRvciBjYW4gZWRpdCBtZXRkYXRhIGRpcmVjdGx5XG4gICAqIHRyYW5zaXRpb25zOlxuICAgKiBub25lXG4gICAqL1xuICBBUFBST1ZFRCxcbiAgLyoqXG4gICAqIGNvbnRyaWJ1dG9yIGNhbid0IGRvIGFueXRoaW5nIGRpcmVjdGx5LCBidXQgY2FuIHRyYW5zaXRpb24gYmFjayB0b1xuICAgKiBwZW5kaW5nLXN1Ym1pc3Npb24gYW5kIHJldHJ5IHRvIHN1Ym1pdC5cbiAgICogdHJhbnNpdGlvbnM6XG4gICAqIFBFTkRJTkdfU1VCTUlTU0lPTiAob24gY29udHJpYnV0b3IgcmV0cnkpXG4gICAqIENBTkNFTExFRCAob24gY29udHJpYnV0b3IgY2FuY2VsKVxuICAgKi9cbiAgU09GVF9SRUpFQ1RFRCxcbiAgLyoqXG4gICAqIGNvbnRyaWJ1dG9yIGNhbiBkbyBub3RoaW5nLlxuICAgKiB0cmFuc2l0aW9uczpcbiAgICogbm9uZVxuICAgKi9cbiAgSEFSRF9SRUpFQ1RFRCxcbiAgLyoqXG4gICAqIGEgcmV2aWV3ZXIgaXMgZGVlcC1ldGNoaW5nIHRoaXMgaW1hZ2UsIGFmdGVyIHdoaWNoIGl0IHdpbGwgYmUgYXBwcm92ZWQuXG4gICAqIEEgY29udHJpYnV0b3IgY2FuJ3QgZG8gYW55dGhpbmcgZGlyZWN0bHksIGJ1dCBjYW4gdHJhbnNpdGlvbiBiYWNrIHRvXG4gICAqIHBlbmRpbmctc3VibWlzc2lvbiBhbmQgcmUtc3VibWl0LlxuICAgKiB0cmFuc2l0aW9uczpcbiAgICogQVBQUk9WRUQgKG9uIHJldmlld2VyIHVwbG9hZCBvZiBkZWVwLWV0Y2hlZCBpbWFnZSlcbiAgICogUEVORElOR19TVUJNSVNTSU9OIChvbiBjb250cmlidXRvciByZXRyeSlcbiAgICogQ0FOQ0VMTEVEIChvbiBjb250cmlidXRvciBjYW5jZWwpXG4gICAqL1xuICBFVENIX1JFSkVDVEVELFxuICAvKipcbiAgICogYSByZXZpZXdlciBoYXMgY2xhc3NpZmllZCB0aGlzIGltYWdlIGFzIGJlaW5nIGEgc2V0LiBTb21lIGNoaWxkIG1lZGlhXG4gICAqIG1pZ2h0IGdldCBleHRyYWN0ZWQgZnJvbSBpdCwgZWl0aGVyIGJ5IHJldmlld2VycyBvciB0aGUgY29udHJpYnV0b3IuXG4gICAqIFRoaXMgc3RhdGUgaXMgdGVybWluYWwuXG4gICAqIHRyYW5zaXRpb25zOlxuICAgKiBub25lXG4gICAqL1xuICBTRVRfUkVKRUNURUQsXG4gIC8qKlxuICAgKiBhIHJldmlld2VyIGhhcyBjbGFzc2lmaWVkIHRoaXMgbWVkaWEgYXMgYSB2ZWN0b3IgdGhhdCBpcyB0b28gaGFyZCBmb3Igb3VyIHN5c3RlbSB0byBpbXBvcnRcbiAgICogKHJlcXVpcmVzIGZ1cnRoZXIgcHJvY2Vzc2luZywgZXRjKS4gV2UgbWF5IHJldHJ5IGltcG9ydCBpbiB0aGUgZnV0dXJlLiBTaW1pbGFyIHNlbWFudGljcyB0b1xuICAgKiB7QGxpbmsgI1NPRlRfUkVKRUNURUR9LlxuICAgKi9cbiAgRElGRklDVUxUX1ZFQ1RPUl9SRUpFQ1RFRCxcbiAgLyoqXG4gICAqIGNvbnRyaWJ1dG9yIGNhbiBkbyBub3RoaW5nLiBDYW5jZWxsZWQgYXR0ZW1wdHMgbWlnaHQgZGlzYXBwZWFyIGZyb20gdmlldy5cbiAgICogdHJhbnNpdGlvbnM6XG4gICAqIG5vbmVcbiAgICovXG4gIENBTkNFTExFRCxcbn1cblxuZXhwb3J0IGNvbnN0IE1lZGlhSW5nZXN0aW9uU3RhdHVzVXRpbCA9IHtcbiAgdmFsdWVzOiAoKTogTWVkaWFJbmdlc3Rpb25TdGF0dXNbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIE1lZGlhSW5nZXN0aW9uU3RhdHVzLlBFTkRJTkdfU1VCTUlTU0lPTixcbiAgICAgIE1lZGlhSW5nZXN0aW9uU3RhdHVzLlBFTkRJTkdfUkVWSUVXLFxuICAgICAgTWVkaWFJbmdlc3Rpb25TdGF0dXMuQVBQUk9WRUQsXG4gICAgICBNZWRpYUluZ2VzdGlvblN0YXR1cy5TT0ZUX1JFSkVDVEVELFxuICAgICAgTWVkaWFJbmdlc3Rpb25TdGF0dXMuSEFSRF9SRUpFQ1RFRCxcbiAgICAgIE1lZGlhSW5nZXN0aW9uU3RhdHVzLkVUQ0hfUkVKRUNURUQsXG4gICAgICBNZWRpYUluZ2VzdGlvblN0YXR1cy5TRVRfUkVKRUNURUQsXG4gICAgICBNZWRpYUluZ2VzdGlvblN0YXR1cy5ESUZGSUNVTFRfVkVDVE9SX1JFSkVDVEVELFxuICAgICAgTWVkaWFJbmdlc3Rpb25TdGF0dXMuQ0FOQ0VMTEVELFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBNZWRpYUluZ2VzdGlvblN0YXR1cyk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBNZWRpYUluZ2VzdGlvblN0YXR1cy5QRU5ESU5HX1NVQk1JU1NJT046IHJldHVybiAnUEVORElOR19TVUJNSVNTSU9OJztcbiAgICAgIGNhc2UgTWVkaWFJbmdlc3Rpb25TdGF0dXMuUEVORElOR19SRVZJRVc6IHJldHVybiAnUEVORElOR19SRVZJRVcnO1xuICAgICAgY2FzZSBNZWRpYUluZ2VzdGlvblN0YXR1cy5BUFBST1ZFRDogcmV0dXJuICdBUFBST1ZFRCc7XG4gICAgICBjYXNlIE1lZGlhSW5nZXN0aW9uU3RhdHVzLlNPRlRfUkVKRUNURUQ6IHJldHVybiAnU09GVF9SRUpFQ1RFRCc7XG4gICAgICBjYXNlIE1lZGlhSW5nZXN0aW9uU3RhdHVzLkhBUkRfUkVKRUNURUQ6IHJldHVybiAnSEFSRF9SRUpFQ1RFRCc7XG4gICAgICBjYXNlIE1lZGlhSW5nZXN0aW9uU3RhdHVzLkVUQ0hfUkVKRUNURUQ6IHJldHVybiAnRVRDSF9SRUpFQ1RFRCc7XG4gICAgICBjYXNlIE1lZGlhSW5nZXN0aW9uU3RhdHVzLlNFVF9SRUpFQ1RFRDogcmV0dXJuICdTRVRfUkVKRUNURUQnO1xuICAgICAgY2FzZSBNZWRpYUluZ2VzdGlvblN0YXR1cy5ESUZGSUNVTFRfVkVDVE9SX1JFSkVDVEVEOiByZXR1cm4gJ0RJRkZJQ1VMVF9WRUNUT1JfUkVKRUNURUQnO1xuICAgICAgY2FzZSBNZWRpYUluZ2VzdGlvblN0YXR1cy5DQU5DRUxMRUQ6IHJldHVybiAnQ0FOQ0VMTEVEJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IE1lZGlhSW5nZXN0aW9uU3RhdHVzID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICdQRU5ESU5HX1NVQk1JU1NJT04nOiByZXR1cm4gTWVkaWFJbmdlc3Rpb25TdGF0dXMuUEVORElOR19TVUJNSVNTSU9OO1xuICAgICAgY2FzZSAnUEVORElOR19SRVZJRVcnOiByZXR1cm4gTWVkaWFJbmdlc3Rpb25TdGF0dXMuUEVORElOR19SRVZJRVc7XG4gICAgICBjYXNlICdBUFBST1ZFRCc6IHJldHVybiBNZWRpYUluZ2VzdGlvblN0YXR1cy5BUFBST1ZFRDtcbiAgICAgIGNhc2UgJ1NPRlRfUkVKRUNURUQnOiByZXR1cm4gTWVkaWFJbmdlc3Rpb25TdGF0dXMuU09GVF9SRUpFQ1RFRDtcbiAgICAgIGNhc2UgJ0hBUkRfUkVKRUNURUQnOiByZXR1cm4gTWVkaWFJbmdlc3Rpb25TdGF0dXMuSEFSRF9SRUpFQ1RFRDtcbiAgICAgIGNhc2UgJ0VUQ0hfUkVKRUNURUQnOiByZXR1cm4gTWVkaWFJbmdlc3Rpb25TdGF0dXMuRVRDSF9SRUpFQ1RFRDtcbiAgICAgIGNhc2UgJ1NFVF9SRUpFQ1RFRCc6IHJldHVybiBNZWRpYUluZ2VzdGlvblN0YXR1cy5TRVRfUkVKRUNURUQ7XG4gICAgICBjYXNlICdESUZGSUNVTFRfVkVDVE9SX1JFSkVDVEVEJzogcmV0dXJuIE1lZGlhSW5nZXN0aW9uU3RhdHVzLkRJRkZJQ1VMVF9WRUNUT1JfUkVKRUNURUQ7XG4gICAgICBjYXNlICdDQU5DRUxMRUQnOiByZXR1cm4gTWVkaWFJbmdlc3Rpb25TdGF0dXMuQ0FOQ0VMTEVEO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnTWVkaWFJbmdlc3Rpb25TdGF0dXMnJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBNZWRpYUFnZVJhdGluZyB7XG4gIC8qKiBhcHByb3ByaWF0ZSBmb3IgYW55IGFnZS4gKi9cbiAgR0VORVJBTCA9IDEsXG4gIC8qKlxuICAgKiBjb250YWlucyBjb25jZXB0cyB0aGF0IGNoaWxkcmVuIG1heSBmaW5kIGNvbmZ1c2luZyBvciB1cHNldHRpbmcgb3JcbiAgICogb3RoZXJ3aXNlIHJlcXVpcmUgZXhwbGFuYXRpb24gZnJvbSBhbiBhZHVsdC5cbiAgICovXG4gIFBBUkVOVEFMX0dVSURBTkNFLFxufVxuXG5leHBvcnQgY29uc3QgTWVkaWFBZ2VSYXRpbmdVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBNZWRpYUFnZVJhdGluZ1tdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgTWVkaWFBZ2VSYXRpbmcuR0VORVJBTCxcbiAgICAgIE1lZGlhQWdlUmF0aW5nLlBBUkVOVEFMX0dVSURBTkNFLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBNZWRpYUFnZVJhdGluZyk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBNZWRpYUFnZVJhdGluZy5HRU5FUkFMOiByZXR1cm4gJ0dFTkVSQUwnO1xuICAgICAgY2FzZSBNZWRpYUFnZVJhdGluZy5QQVJFTlRBTF9HVUlEQU5DRTogcmV0dXJuICdQQVJFTlRBTF9HVUlEQU5DRSc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBNZWRpYUFnZVJhdGluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnR0VORVJBTCc6IHJldHVybiBNZWRpYUFnZVJhdGluZy5HRU5FUkFMO1xuICAgICAgY2FzZSAnUEFSRU5UQUxfR1VJREFOQ0UnOiByZXR1cm4gTWVkaWFBZ2VSYXRpbmcuUEFSRU5UQUxfR1VJREFOQ0U7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdNZWRpYUFnZVJhdGluZycke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIFJlYWRDb25zaXN0ZW5jeSB7XG4gIC8qKlxuICAgKiBSZWFkcyBhcmUgc3Ryb25nbHkgY29uc2lzdGVudCwgaS5lLiBhIHJlYWQgaXMgZ3VhcmFudGVlZCB0byBzZWUgYSB3cml0ZSB0aGF0IGhhcHBlbmVkIGJlZm9yZVxuICAgKiBpdC5cbiAgICovXG4gIFNUUk9ORyA9IDEsXG4gIC8qKlxuICAgKiBSZWFkcyBhcmUgZXZlbnR1YWxseSBjb25zaXN0ZW50LCBpLmUuIGEgcmVhZCBpcyBub3QgZ3VhcmFudGVlZCB0byBzZWUgYSB3cml0ZSB0aGF0IGhhcHBlbmVkXG4gICAqIGJlZm9yZSBpdC4gRXZlbnR1YWxseSBpdCB3aWxsLCBob3dldmVyLlxuICAgKi9cbiAgRVZFTlRVQUwsXG59XG5cbmV4cG9ydCBjb25zdCBSZWFkQ29uc2lzdGVuY3lVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBSZWFkQ29uc2lzdGVuY3lbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFJlYWRDb25zaXN0ZW5jeS5TVFJPTkcsXG4gICAgICBSZWFkQ29uc2lzdGVuY3kuRVZFTlRVQUwsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IFJlYWRDb25zaXN0ZW5jeSk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBSZWFkQ29uc2lzdGVuY3kuU1RST05HOiByZXR1cm4gJ1NUUk9ORyc7XG4gICAgICBjYXNlIFJlYWRDb25zaXN0ZW5jeS5FVkVOVFVBTDogcmV0dXJuICdFVkVOVFVBTCc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBSZWFkQ29uc2lzdGVuY3kgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ1NUUk9ORyc6IHJldHVybiBSZWFkQ29uc2lzdGVuY3kuU1RST05HO1xuICAgICAgY2FzZSAnRVZFTlRVQUwnOiByZXR1cm4gUmVhZENvbnNpc3RlbmN5LkVWRU5UVUFMO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnUmVhZENvbnNpc3RlbmN5JyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuLyoqIFRoZSBMaWNlbnNpbmcgdGhhdCBpcyBhcHBsaWNhYmxlIHRvIHRoZSBNZWRpYS4gVHlwaWNhbGx5IHVzZWQgdG8gZGV0ZXJtaW5lIHByaWNpbmcuICovXG5leHBvcnQgY29uc3QgZW51bSBMaWNlbnNpbmcge1xuICAvKiogVGhlIG1lZGlhIGNhbm5vdCBiZSBsaWNlbnNlZC4gKi9cbiAgTk9UX0FQUExJQ0FCTEUgPSAxLFxuICAvKiogTWVkaWEgaXMgaW1wbGljaXRseSBsaWNlbnNlZCBhbmQgbm8gcGF5bWVudCBpcyByZXF1aXJlZC4gKi9cbiAgRlJFRSxcbiAgLyoqIFN0YW5kYXJkIExpY2Vuc2luZyBpcyBhcHBsaWNhYmxlLiBpLmUuIG9uZSB0aW1lIHVzZSwgcm95YWx0eSBmcmVlLCBleHRlbmRlZC4gKi9cbiAgU1RBTkRBUkQsXG4gIC8qKiBkZXByZWNhdGVkLiBBbGlhcyBmb3IgRlJFRSAqL1xuICBOT05FLFxufVxuXG5leHBvcnQgY29uc3QgTGljZW5zaW5nVXRpbCA9IHtcbiAgdmFsdWVzOiAoKTogTGljZW5zaW5nW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBMaWNlbnNpbmcuTk9UX0FQUExJQ0FCTEUsXG4gICAgICBMaWNlbnNpbmcuRlJFRSxcbiAgICAgIExpY2Vuc2luZy5TVEFOREFSRCxcbiAgICAgIExpY2Vuc2luZy5OT05FLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBMaWNlbnNpbmcpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgTGljZW5zaW5nLk5PVF9BUFBMSUNBQkxFOiByZXR1cm4gJ05PVF9BUFBMSUNBQkxFJztcbiAgICAgIGNhc2UgTGljZW5zaW5nLkZSRUU6IHJldHVybiAnRlJFRSc7XG4gICAgICBjYXNlIExpY2Vuc2luZy5TVEFOREFSRDogcmV0dXJuICdTVEFOREFSRCc7XG4gICAgICBjYXNlIExpY2Vuc2luZy5OT05FOiByZXR1cm4gJ05PTkUnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogTGljZW5zaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICdOT1RfQVBQTElDQUJMRSc6IHJldHVybiBMaWNlbnNpbmcuTk9UX0FQUExJQ0FCTEU7XG4gICAgICBjYXNlICdGUkVFJzogcmV0dXJuIExpY2Vuc2luZy5GUkVFO1xuICAgICAgY2FzZSAnU1RBTkRBUkQnOiByZXR1cm4gTGljZW5zaW5nLlNUQU5EQVJEO1xuICAgICAgY2FzZSAnTk9ORSc6IHJldHVybiBMaWNlbnNpbmcuTk9ORTtcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoYFVucmVjb2duaXplZCB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gZm9yIHR5cGUgJ0xpY2Vuc2luZycke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIE1lZGlhQ29tcG9uZW50IHtcbiAgRklMRVMgPSAxLFxuICBLRVlXT1JEUyxcbiAgQ09NUE9ORU5UUyxcbiAgRk9OVF9NRVRBREFUQSxcbiAgU1BSSVRFU0hFRVRfTUVUQURBVEEsXG4gIFBST0NFU1NFRF9GSUxFLFxuICBUSVRMRVMsXG4gIERFU0NSSVBUSU9OUyxcbiAgU0VUX01FTUJFUlNISVAsXG4gIEVYVEVSTkFMX1JFRixcbiAgQ09MT1JfSU5GTyxcbn1cblxuZXhwb3J0IGNvbnN0IE1lZGlhQ29tcG9uZW50VXRpbCA9IHtcbiAgdmFsdWVzOiAoKTogTWVkaWFDb21wb25lbnRbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIE1lZGlhQ29tcG9uZW50LkZJTEVTLFxuICAgICAgTWVkaWFDb21wb25lbnQuS0VZV09SRFMsXG4gICAgICBNZWRpYUNvbXBvbmVudC5DT01QT05FTlRTLFxuICAgICAgTWVkaWFDb21wb25lbnQuRk9OVF9NRVRBREFUQSxcbiAgICAgIE1lZGlhQ29tcG9uZW50LlNQUklURVNIRUVUX01FVEFEQVRBLFxuICAgICAgTWVkaWFDb21wb25lbnQuUFJPQ0VTU0VEX0ZJTEUsXG4gICAgICBNZWRpYUNvbXBvbmVudC5USVRMRVMsXG4gICAgICBNZWRpYUNvbXBvbmVudC5ERVNDUklQVElPTlMsXG4gICAgICBNZWRpYUNvbXBvbmVudC5TRVRfTUVNQkVSU0hJUCxcbiAgICAgIE1lZGlhQ29tcG9uZW50LkVYVEVSTkFMX1JFRixcbiAgICAgIE1lZGlhQ29tcG9uZW50LkNPTE9SX0lORk8sXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IE1lZGlhQ29tcG9uZW50KTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIE1lZGlhQ29tcG9uZW50LkZJTEVTOiByZXR1cm4gJ0YnO1xuICAgICAgY2FzZSBNZWRpYUNvbXBvbmVudC5LRVlXT1JEUzogcmV0dXJuICdLJztcbiAgICAgIGNhc2UgTWVkaWFDb21wb25lbnQuQ09NUE9ORU5UUzogcmV0dXJuICdDJztcbiAgICAgIGNhc2UgTWVkaWFDb21wb25lbnQuRk9OVF9NRVRBREFUQTogcmV0dXJuICdNJztcbiAgICAgIGNhc2UgTWVkaWFDb21wb25lbnQuU1BSSVRFU0hFRVRfTUVUQURBVEE6IHJldHVybiAnUyc7XG4gICAgICBjYXNlIE1lZGlhQ29tcG9uZW50LlBST0NFU1NFRF9GSUxFOiByZXR1cm4gJ1InO1xuICAgICAgY2FzZSBNZWRpYUNvbXBvbmVudC5USVRMRVM6IHJldHVybiAnVCc7XG4gICAgICBjYXNlIE1lZGlhQ29tcG9uZW50LkRFU0NSSVBUSU9OUzogcmV0dXJuICdEJztcbiAgICAgIGNhc2UgTWVkaWFDb21wb25lbnQuU0VUX01FTUJFUlNISVA6IHJldHVybiAnWCc7XG4gICAgICBjYXNlIE1lZGlhQ29tcG9uZW50LkVYVEVSTkFMX1JFRjogcmV0dXJuICdFJztcbiAgICAgIGNhc2UgTWVkaWFDb21wb25lbnQuQ09MT1JfSU5GTzogcmV0dXJuICdJJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IE1lZGlhQ29tcG9uZW50ID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlICdGJzogcmV0dXJuIE1lZGlhQ29tcG9uZW50LkZJTEVTO1xuICAgICAgY2FzZSAnSyc6IHJldHVybiBNZWRpYUNvbXBvbmVudC5LRVlXT1JEUztcbiAgICAgIGNhc2UgJ0MnOiByZXR1cm4gTWVkaWFDb21wb25lbnQuQ09NUE9ORU5UUztcbiAgICAgIGNhc2UgJ00nOiByZXR1cm4gTWVkaWFDb21wb25lbnQuRk9OVF9NRVRBREFUQTtcbiAgICAgIGNhc2UgJ1MnOiByZXR1cm4gTWVkaWFDb21wb25lbnQuU1BSSVRFU0hFRVRfTUVUQURBVEE7XG4gICAgICBjYXNlICdSJzogcmV0dXJuIE1lZGlhQ29tcG9uZW50LlBST0NFU1NFRF9GSUxFO1xuICAgICAgY2FzZSAnVCc6IHJldHVybiBNZWRpYUNvbXBvbmVudC5USVRMRVM7XG4gICAgICBjYXNlICdEJzogcmV0dXJuIE1lZGlhQ29tcG9uZW50LkRFU0NSSVBUSU9OUztcbiAgICAgIGNhc2UgJ1gnOiByZXR1cm4gTWVkaWFDb21wb25lbnQuU0VUX01FTUJFUlNISVA7XG4gICAgICBjYXNlICdFJzogcmV0dXJuIE1lZGlhQ29tcG9uZW50LkVYVEVSTkFMX1JFRjtcbiAgICAgIGNhc2UgJ0knOiByZXR1cm4gTWVkaWFDb21wb25lbnQuQ09MT1JfSU5GTztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoYFVucmVjb2duaXplZCB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gZm9yIHR5cGUgJ01lZGlhQ29tcG9uZW50JyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGVudW0gU2V0T3BlcmF0aW9uIHtcbiAgQUREID0gMSxcbiAgUkVNT1ZFLFxufVxuXG5leHBvcnQgY29uc3QgU2V0T3BlcmF0aW9uVXRpbCA9IHtcbiAgdmFsdWVzOiAoKTogU2V0T3BlcmF0aW9uW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBTZXRPcGVyYXRpb24uQURELFxuICAgICAgU2V0T3BlcmF0aW9uLlJFTU9WRSxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogU2V0T3BlcmF0aW9uKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIFNldE9wZXJhdGlvbi5BREQ6IHJldHVybiAnQSc7XG4gICAgICBjYXNlIFNldE9wZXJhdGlvbi5SRU1PVkU6IHJldHVybiAnUic7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBTZXRPcGVyYXRpb24gPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ0EnOiByZXR1cm4gU2V0T3BlcmF0aW9uLkFERDtcbiAgICAgIGNhc2UgJ1InOiByZXR1cm4gU2V0T3BlcmF0aW9uLlJFTU9WRTtcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoYFVucmVjb2duaXplZCB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gZm9yIHR5cGUgJ1NldE9wZXJhdGlvbicke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIExpc3RVcGRhdGVQb2xpY3kge1xuICBNRVJHRSA9IDEsXG4gIFJFUExBQ0UsXG59XG5cbmV4cG9ydCBjb25zdCBMaXN0VXBkYXRlUG9saWN5VXRpbCA9IHtcbiAgdmFsdWVzOiAoKTogTGlzdFVwZGF0ZVBvbGljeVtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgTGlzdFVwZGF0ZVBvbGljeS5NRVJHRSxcbiAgICAgIExpc3RVcGRhdGVQb2xpY3kuUkVQTEFDRSxcbiAgICBdO1xuICB9LFxuICBzZXJpYWxpemU6ICh2YWx1ZTogTGlzdFVwZGF0ZVBvbGljeSk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBMaXN0VXBkYXRlUG9saWN5Lk1FUkdFOiByZXR1cm4gJ01FUkdFJztcbiAgICAgIGNhc2UgTGlzdFVwZGF0ZVBvbGljeS5SRVBMQUNFOiByZXR1cm4gJ1JFUExBQ0UnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogTGlzdFVwZGF0ZVBvbGljeSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnTUVSR0UnOiByZXR1cm4gTGlzdFVwZGF0ZVBvbGljeS5NRVJHRTtcbiAgICAgIGNhc2UgJ1JFUExBQ0UnOiByZXR1cm4gTGlzdFVwZGF0ZVBvbGljeS5SRVBMQUNFO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnTGlzdFVwZGF0ZVBvbGljeScke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBlbnVtIEV4dGVybmFsUHJvdmlkZXIge1xuICBEUk9QQk9YID0gMSxcbiAgRkFDRUJPT0ssXG4gIEdFVFRZLFxuICBJTlNUQUdSQU0sXG4gIEZMSUNLUixcbiAgUEVYRUxTLFxuICBQSVhBQkFZLFxuICBTVE9DS19VTkxJTUlURUQsXG4gIExFTlNEUk9QLFxufVxuXG5leHBvcnQgY29uc3QgRXh0ZXJuYWxQcm92aWRlclV0aWwgPSB7XG4gIHZhbHVlczogKCk6IEV4dGVybmFsUHJvdmlkZXJbXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEV4dGVybmFsUHJvdmlkZXIuRFJPUEJPWCxcbiAgICAgIEV4dGVybmFsUHJvdmlkZXIuRkFDRUJPT0ssXG4gICAgICBFeHRlcm5hbFByb3ZpZGVyLkdFVFRZLFxuICAgICAgRXh0ZXJuYWxQcm92aWRlci5JTlNUQUdSQU0sXG4gICAgICBFeHRlcm5hbFByb3ZpZGVyLkZMSUNLUixcbiAgICAgIEV4dGVybmFsUHJvdmlkZXIuUEVYRUxTLFxuICAgICAgRXh0ZXJuYWxQcm92aWRlci5QSVhBQkFZLFxuICAgICAgRXh0ZXJuYWxQcm92aWRlci5TVE9DS19VTkxJTUlURUQsXG4gICAgICBFeHRlcm5hbFByb3ZpZGVyLkxFTlNEUk9QLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBFeHRlcm5hbFByb3ZpZGVyKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIEV4dGVybmFsUHJvdmlkZXIuRFJPUEJPWDogcmV0dXJuICdEUk9QQk9YJztcbiAgICAgIGNhc2UgRXh0ZXJuYWxQcm92aWRlci5GQUNFQk9PSzogcmV0dXJuICdGQUNFQk9PSyc7XG4gICAgICBjYXNlIEV4dGVybmFsUHJvdmlkZXIuR0VUVFk6IHJldHVybiAnR0VUVFknO1xuICAgICAgY2FzZSBFeHRlcm5hbFByb3ZpZGVyLklOU1RBR1JBTTogcmV0dXJuICdJTlNUQUdSQU0nO1xuICAgICAgY2FzZSBFeHRlcm5hbFByb3ZpZGVyLkZMSUNLUjogcmV0dXJuICdGTElDS1InO1xuICAgICAgY2FzZSBFeHRlcm5hbFByb3ZpZGVyLlBFWEVMUzogcmV0dXJuICdQRVhFTFMnO1xuICAgICAgY2FzZSBFeHRlcm5hbFByb3ZpZGVyLlBJWEFCQVk6IHJldHVybiAnUElYQUJBWSc7XG4gICAgICBjYXNlIEV4dGVybmFsUHJvdmlkZXIuU1RPQ0tfVU5MSU1JVEVEOiByZXR1cm4gJ1NUT0NLX1VOTElNSVRFRCc7XG4gICAgICBjYXNlIEV4dGVybmFsUHJvdmlkZXIuTEVOU0RST1A6IHJldHVybiAnTEVOU0RST1AnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogRXh0ZXJuYWxQcm92aWRlciA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnRFJPUEJPWCc6IHJldHVybiBFeHRlcm5hbFByb3ZpZGVyLkRST1BCT1g7XG4gICAgICBjYXNlICdGQUNFQk9PSyc6IHJldHVybiBFeHRlcm5hbFByb3ZpZGVyLkZBQ0VCT09LO1xuICAgICAgY2FzZSAnR0VUVFknOiByZXR1cm4gRXh0ZXJuYWxQcm92aWRlci5HRVRUWTtcbiAgICAgIGNhc2UgJ0lOU1RBR1JBTSc6IHJldHVybiBFeHRlcm5hbFByb3ZpZGVyLklOU1RBR1JBTTtcbiAgICAgIGNhc2UgJ0ZMSUNLUic6IHJldHVybiBFeHRlcm5hbFByb3ZpZGVyLkZMSUNLUjtcbiAgICAgIGNhc2UgJ1BFWEVMUyc6IHJldHVybiBFeHRlcm5hbFByb3ZpZGVyLlBFWEVMUztcbiAgICAgIGNhc2UgJ1BJWEFCQVknOiByZXR1cm4gRXh0ZXJuYWxQcm92aWRlci5QSVhBQkFZO1xuICAgICAgY2FzZSAnU1RPQ0tfVU5MSU1JVEVEJzogcmV0dXJuIEV4dGVybmFsUHJvdmlkZXIuU1RPQ0tfVU5MSU1JVEVEO1xuICAgICAgY2FzZSAnTEVOU0RST1AnOiByZXR1cm4gRXh0ZXJuYWxQcm92aWRlci5MRU5TRFJPUDtcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoYFVucmVjb2duaXplZCB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gZm9yIHR5cGUgJ0V4dGVybmFsUHJvdmlkZXInJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgTWVkaWFSZWYge1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSB2ZXJzaW9uOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGlkOiBzdHJpbmcsXG4gICAgdmVyc2lvbjogbnVtYmVyLFxuICB9KSB7XG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gICAgdGhpcy52ZXJzaW9uID0gb3B0cy52ZXJzaW9uO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBNZWRpYVJlZik6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbS5pZCksXG4gICAgICAndmVyc2lvbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3ZlcnNpb24nLCBtLnZlcnNpb24pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogTWVkaWFSZWYge1xuICAgIHJldHVybiBuZXcgTWVkaWFSZWYoe1xuICAgICAgaWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBvKSxcbiAgICAgIHZlcnNpb246IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcigndmVyc2lvbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaWNlbnNlZE1lZGlhVXJsIHtcbiAgcmVhZG9ubHkgcXVhbGl0eTogTWVkaWFRdWFsaXR5O1xuICByZWFkb25seSB1cmw6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgcXVhbGl0eTogTWVkaWFRdWFsaXR5LFxuICAgIHVybDogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5xdWFsaXR5ID0gb3B0cy5xdWFsaXR5O1xuICAgIHRoaXMudXJsID0gb3B0cy51cmw7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IExpY2Vuc2VkTWVkaWFVcmwpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncXVhbGl0eSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtKE1lZGlhUXVhbGl0eVV0aWwuc2VyaWFsaXplLCAncXVhbGl0eScsIG0ucXVhbGl0eSksXG4gICAgICAndXJsJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXJsJywgbS51cmwpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogTGljZW5zZWRNZWRpYVVybCB7XG4gICAgcmV0dXJuIG5ldyBMaWNlbnNlZE1lZGlhVXJsKHtcbiAgICAgIHF1YWxpdHk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08TWVkaWFRdWFsaXR5PihNZWRpYVF1YWxpdHlVdGlsLmRlc2VyaWFsaXplLCAncXVhbGl0eScsIG8pLFxuICAgICAgdXJsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VybCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTcHJpdGVzaGVldE1ldGFkYXRhIHtcbiAgLyoqIEhvdyBtYW55IHNwcml0ZXMgd2lkZSB0aGUgc3ByaXRlc2hlZXQgaXMgKi9cbiAgcmVhZG9ubHkgc3ByaXRlc1dpZGU6IG51bWJlcjtcbiAgLyoqIEhvdyBtYW55IHNwcml0ZXMgaGlnaCB0aGUgc3ByaXRlc2hlZXQgaXMgKi9cbiAgcmVhZG9ubHkgc3ByaXRlc0hpZ2g6IG51bWJlcjtcbiAgLyoqIFdoZXRoZXIgYWxsIGVsZW1lbnRzIG9mIHRoZSB2ZWN0b3IgYXJlIHJlY29sb3JhYmxlICovXG4gIHJlYWRvbmx5IGZ1bGx5UmVjb2xvcmFibGU6IGJvb2xlYW47XG4gIC8qKiBDb2xvciBpbmZvcm1hdGlvbiBmb3IgZWFjaCBsYXllciBzcHJpdGUgaW4gdGhlIHNwcml0ZXNoZWV0ICovXG4gIHJlYWRvbmx5IGxheWVyczogcmVhZG9ubHkgU3ByaXRlc2hlZXRMYXllcltdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogSG93IG1hbnkgc3ByaXRlcyB3aWRlIHRoZSBzcHJpdGVzaGVldCBpcyAqL1xuICAgIHNwcml0ZXNXaWRlOiBudW1iZXIsXG4gICAgLyoqIEhvdyBtYW55IHNwcml0ZXMgaGlnaCB0aGUgc3ByaXRlc2hlZXQgaXMgKi9cbiAgICBzcHJpdGVzSGlnaDogbnVtYmVyLFxuICAgIC8qKiBXaGV0aGVyIGFsbCBlbGVtZW50cyBvZiB0aGUgdmVjdG9yIGFyZSByZWNvbG9yYWJsZSAqL1xuICAgIGZ1bGx5UmVjb2xvcmFibGU6IGJvb2xlYW4sXG4gICAgLyoqIENvbG9yIGluZm9ybWF0aW9uIGZvciBlYWNoIGxheWVyIHNwcml0ZSBpbiB0aGUgc3ByaXRlc2hlZXQgKi9cbiAgICBsYXllcnM/OiByZWFkb25seSBTcHJpdGVzaGVldExheWVyW10sXG4gIH0pIHtcbiAgICAvKiogSG93IG1hbnkgc3ByaXRlcyB3aWRlIHRoZSBzcHJpdGVzaGVldCBpcyAqL1xuICAgIHRoaXMuc3ByaXRlc1dpZGUgPSBvcHRzLnNwcml0ZXNXaWRlO1xuICAgIC8qKiBIb3cgbWFueSBzcHJpdGVzIGhpZ2ggdGhlIHNwcml0ZXNoZWV0IGlzICovXG4gICAgdGhpcy5zcHJpdGVzSGlnaCA9IG9wdHMuc3ByaXRlc0hpZ2g7XG4gICAgLyoqIFdoZXRoZXIgYWxsIGVsZW1lbnRzIG9mIHRoZSB2ZWN0b3IgYXJlIHJlY29sb3JhYmxlICovXG4gICAgdGhpcy5mdWxseVJlY29sb3JhYmxlID0gb3B0cy5mdWxseVJlY29sb3JhYmxlO1xuICAgIC8qKiBDb2xvciBpbmZvcm1hdGlvbiBmb3IgZWFjaCBsYXllciBzcHJpdGUgaW4gdGhlIHNwcml0ZXNoZWV0ICovXG4gICAgdGhpcy5sYXllcnMgPSBvcHRzLmxheWVycyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogU3ByaXRlc2hlZXRNZXRhZGF0YSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdzcHJpdGVzV2lkZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3Nwcml0ZXNXaWRlJywgbS5zcHJpdGVzV2lkZSksXG4gICAgICAnc3ByaXRlc0hpZ2gnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdzcHJpdGVzSGlnaCcsIG0uc3ByaXRlc0hpZ2gpLFxuICAgICAgJ2Z1bGx5UmVjb2xvcmFibGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignZnVsbHlSZWNvbG9yYWJsZScsIG0uZnVsbHlSZWNvbG9yYWJsZSksXG4gICAgICAnbGF5ZXJzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChTcHJpdGVzaGVldExheWVyLnNlcmlhbGl6ZSwgJ2xheWVycycsIG0ubGF5ZXJzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFNwcml0ZXNoZWV0TWV0YWRhdGEge1xuICAgIHJldHVybiBuZXcgU3ByaXRlc2hlZXRNZXRhZGF0YSh7XG4gICAgICBzcHJpdGVzV2lkZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdzcHJpdGVzV2lkZScsIG8pLFxuICAgICAgc3ByaXRlc0hpZ2g6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignc3ByaXRlc0hpZ2gnLCBvKSxcbiAgICAgIGZ1bGx5UmVjb2xvcmFibGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2Z1bGx5UmVjb2xvcmFibGUnLCBvKSxcbiAgICAgIGxheWVyczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KFNwcml0ZXNoZWV0TGF5ZXIuZGVzZXJpYWxpemUsICdsYXllcnMnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3ByaXRlc2hlZXRMYXllciB7XG4gIHJlYWRvbmx5IHR5cGU6IFNwcml0ZXNoZWV0TGF5ZXJUeXBlO1xuICByZWFkb25seSBsYXllckluZGV4OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHR5cGU6IFNwcml0ZXNoZWV0TGF5ZXJUeXBlLFxuICAgIGxheWVySW5kZXg/OiBudW1iZXIsXG4gICAgY29sb3I/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLnR5cGUgPSBvcHRzLnR5cGU7XG4gICAgdGhpcy5sYXllckluZGV4ID0gb3B0cy5sYXllckluZGV4O1xuICAgIHRoaXMuY29sb3IgPSBvcHRzLmNvbG9yO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBTcHJpdGVzaGVldExheWVyKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShTcHJpdGVzaGVldExheWVyVHlwZVV0aWwuc2VyaWFsaXplLCAndHlwZScsIG0udHlwZSksXG4gICAgICAnbGF5ZXJJbmRleCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2xheWVySW5kZXgnLCBtLmxheWVySW5kZXgpLFxuICAgICAgJ2NvbG9yJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29sb3InLCBtLmNvbG9yKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFNwcml0ZXNoZWV0TGF5ZXIge1xuICAgIHJldHVybiBuZXcgU3ByaXRlc2hlZXRMYXllcih7XG4gICAgICB0eXBlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPFNwcml0ZXNoZWV0TGF5ZXJUeXBlPihTcHJpdGVzaGVldExheWVyVHlwZVV0aWwuZGVzZXJpYWxpemUsICd0eXBlJywgbyksXG4gICAgICBsYXllckluZGV4OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2xheWVySW5kZXgnLCBvKSxcbiAgICAgIGNvbG9yOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbG9yJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lZGlhRmlsZSB7XG4gIC8qKlxuICAgKiBUaGUgemVyby1iYXNlZCBwYWdlIGluZGV4IG9mIHRoaXMgbWVkaWEgZmlsZS4gRm9yIG5vbi1wYWdpbmF0ZWQgbWVkaWEsIHRoaXMgdmFsdWUgd2lsbCBhbHdheXNcbiAgICogYmUgemVyby5cbiAgICovXG4gIHJlYWRvbmx5IHBhZ2U6IG51bWJlcjtcbiAgcmVhZG9ubHkgcXVhbGl0eTogTWVkaWFRdWFsaXR5O1xuICByZWFkb25seSBidWNrZXQ6IHN0cmluZztcbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHdpZHRoOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB3YXRlcm1hcmtlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgc3ByaXRlc2hlZXQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBIHBvc3NpYmx5LXNpZ25lZCBVUkwgZm9yIHRoZSBidWNrZXQva2V5IGNvbWJpbmF0aW9uLCBtaW50ZWQgaW4gdHJhbnNpdCBieSBhbiBhdXRob3JpemluZ1xuICAgKiBjb21wb25lbnQuXG4gICAqL1xuICByZWFkb25seSB1cmw6IHN0cmluZztcbiAgLyoqXG4gICAqIFRydWUgaWYgXCJ1cmxcIiBpcyBzZXQgYnV0IGFjY2VzcyB0byB0aGUgdXJsIHRvIHRoaXMgbWVkaWEgZmlsZSB3YXMgbm90IGdyYW50ZWQuIFNldCBpbiB0cmFuc2l0LFxuICAgKiB3aGVuIFwidXJsXCIgaXMgc2V0LlxuICAgKi9cbiAgcmVhZG9ubHkgdXJsRGVuaWVkOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKipcbiAgICAgKiBUaGUgemVyby1iYXNlZCBwYWdlIGluZGV4IG9mIHRoaXMgbWVkaWEgZmlsZS4gRm9yIG5vbi1wYWdpbmF0ZWQgbWVkaWEsIHRoaXMgdmFsdWUgd2lsbCBhbHdheXNcbiAgICAgKiBiZSB6ZXJvLlxuICAgICAqL1xuICAgIHBhZ2U6IG51bWJlcixcbiAgICBxdWFsaXR5OiBNZWRpYVF1YWxpdHksXG4gICAgYnVja2V0OiBzdHJpbmcsXG4gICAga2V5OiBzdHJpbmcsXG4gICAgd2lkdGg/OiBudW1iZXIsXG4gICAgaGVpZ2h0PzogbnVtYmVyLFxuICAgIHdhdGVybWFya2VkOiBib29sZWFuLFxuICAgIHNwcml0ZXNoZWV0OiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIEEgcG9zc2libHktc2lnbmVkIFVSTCBmb3IgdGhlIGJ1Y2tldC9rZXkgY29tYmluYXRpb24sIG1pbnRlZCBpbiB0cmFuc2l0IGJ5IGFuIGF1dGhvcml6aW5nXG4gICAgICogY29tcG9uZW50LlxuICAgICAqL1xuICAgIHVybDogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgXCJ1cmxcIiBpcyBzZXQgYnV0IGFjY2VzcyB0byB0aGUgdXJsIHRvIHRoaXMgbWVkaWEgZmlsZSB3YXMgbm90IGdyYW50ZWQuIFNldCBpbiB0cmFuc2l0LFxuICAgICAqIHdoZW4gXCJ1cmxcIiBpcyBzZXQuXG4gICAgICovXG4gICAgdXJsRGVuaWVkOiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqXG4gICAgICogVGhlIHplcm8tYmFzZWQgcGFnZSBpbmRleCBvZiB0aGlzIG1lZGlhIGZpbGUuIEZvciBub24tcGFnaW5hdGVkIG1lZGlhLCB0aGlzIHZhbHVlIHdpbGwgYWx3YXlzXG4gICAgICogYmUgemVyby5cbiAgICAgKi9cbiAgICB0aGlzLnBhZ2UgPSBvcHRzLnBhZ2U7XG4gICAgdGhpcy5xdWFsaXR5ID0gb3B0cy5xdWFsaXR5O1xuICAgIHRoaXMuYnVja2V0ID0gb3B0cy5idWNrZXQ7XG4gICAgdGhpcy5rZXkgPSBvcHRzLmtleTtcbiAgICB0aGlzLndpZHRoID0gb3B0cy53aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IG9wdHMuaGVpZ2h0O1xuICAgIHRoaXMud2F0ZXJtYXJrZWQgPSBvcHRzLndhdGVybWFya2VkO1xuICAgIHRoaXMuc3ByaXRlc2hlZXQgPSBvcHRzLnNwcml0ZXNoZWV0O1xuICAgIC8qKlxuICAgICAqIEEgcG9zc2libHktc2lnbmVkIFVSTCBmb3IgdGhlIGJ1Y2tldC9rZXkgY29tYmluYXRpb24sIG1pbnRlZCBpbiB0cmFuc2l0IGJ5IGFuIGF1dGhvcml6aW5nXG4gICAgICogY29tcG9uZW50LlxuICAgICAqL1xuICAgIHRoaXMudXJsID0gb3B0cy51cmw7XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiBcInVybFwiIGlzIHNldCBidXQgYWNjZXNzIHRvIHRoZSB1cmwgdG8gdGhpcyBtZWRpYSBmaWxlIHdhcyBub3QgZ3JhbnRlZC4gU2V0IGluIHRyYW5zaXQsXG4gICAgICogd2hlbiBcInVybFwiIGlzIHNldC5cbiAgICAgKi9cbiAgICB0aGlzLnVybERlbmllZCA9IG9wdHMudXJsRGVuaWVkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBNZWRpYUZpbGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncGFnZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3BhZ2UnLCBtLnBhZ2UpLFxuICAgICAgJ3F1YWxpdHknOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShNZWRpYVF1YWxpdHlVdGlsLnNlcmlhbGl6ZSwgJ3F1YWxpdHknLCBtLnF1YWxpdHkpLFxuICAgICAgJ2J1Y2tldCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2J1Y2tldCcsIG0uYnVja2V0KSxcbiAgICAgICdrZXknOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdrZXknLCBtLmtleSksXG4gICAgICAnd2lkdGgnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCd3aWR0aCcsIG0ud2lkdGgpLFxuICAgICAgJ2hlaWdodCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2hlaWdodCcsIG0uaGVpZ2h0KSxcbiAgICAgICd3YXRlcm1hcmtlZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd3YXRlcm1hcmtlZCcsIG0ud2F0ZXJtYXJrZWQpLFxuICAgICAgJ3Nwcml0ZXNoZWV0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3Nwcml0ZXNoZWV0JywgbS5zcHJpdGVzaGVldCksXG4gICAgICAndXJsJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXJsJywgbS51cmwpLFxuICAgICAgJ3VybERlbmllZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd1cmxEZW5pZWQnLCBtLnVybERlbmllZCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBNZWRpYUZpbGUge1xuICAgIHJldHVybiBuZXcgTWVkaWFGaWxlKHtcbiAgICAgIHBhZ2U6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcigncGFnZScsIG8pLFxuICAgICAgcXVhbGl0eTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxNZWRpYVF1YWxpdHk+KE1lZGlhUXVhbGl0eVV0aWwuZGVzZXJpYWxpemUsICdxdWFsaXR5JywgbyksXG4gICAgICBidWNrZXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnVja2V0JywgbyksXG4gICAgICBrZXk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygna2V5JywgbyksXG4gICAgICB3aWR0aDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCd3aWR0aCcsIG8pLFxuICAgICAgaGVpZ2h0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2hlaWdodCcsIG8pLFxuICAgICAgd2F0ZXJtYXJrZWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3dhdGVybWFya2VkJywgbyksXG4gICAgICBzcHJpdGVzaGVldDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc3ByaXRlc2hlZXQnLCBvKSxcbiAgICAgIHVybDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd1cmwnLCBvKSxcbiAgICAgIHVybERlbmllZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndXJsRGVuaWVkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIEEgbWVkaWEgb2JqZWN0LiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhIHtcbiAgLyoqIElkIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICAvKiogSWQgb2YgdGhlIGJyYW5kIHRoYXQgb3ducyB0aGlzIG1lZGlhIG9iamVjdC4gKi9cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZztcbiAgLyoqIElkIG9mIHRoZSB1c2VyIHRoYXQgY3JlYXRlZCB0aGlzIG1lZGlhIG9iamVjdCAob3B0aW9uYWwpLiAqL1xuICByZWFkb25seSB1c2VyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBCdWNrZXQgb2YgdGhlIGZpbGUgdGhhdCB0aGlzIG1lZGlhIG9iamVjdCByZXByZXNlbnRzLiAqL1xuICByZWFkb25seSBpbXBvcnRCdWNrZXQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIEtleSBvZiB0aGUgZmlsZSB0aGF0IHRoaXMgbWVkaWEgb2JqZWN0IHJlcHJlc2VudHMuICovXG4gIHJlYWRvbmx5IGltcG9ydEtleTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogTmFtZSBvZiB0aGUgZmlsZSB0aGF0IHRoaXMgbWVkaWEgb2JqZWN0IHJlcHJlc2VudHMuICovXG4gIHJlYWRvbmx5IGltcG9ydEZpbGVuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBUeXBlIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICByZWFkb25seSB0eXBlOiBNZWRpYVR5cGU7XG4gIC8qKiBMYXN0LWNvbW1pdHRlZCwgb3Igc3RhZ2luZywgYnVuZGxlLiAqL1xuICByZWFkb25seSBidW5kbGU6IE1lZGlhQnVuZGxlO1xuICAvKiogVHJ1ZSBpZiB0aGlzIGlzIGRlYWN0aXZhdGVkLiAqL1xuICByZWFkb25seSBkZWFjdGl2YXRlZDogYm9vbGVhbjtcbiAgLyoqIFRydWUgaWYgdGhpcyBtZWRpYSBpcyBkaXNjb3VudGVkIGZvciBlbGlnaWJsZSB1c2Vycy4gKi9cbiAgcmVhZG9ubHkgb25lVGltZVVzZURpc2NvdW50YWJsZTogYm9vbGVhbjtcbiAgLyoqIElmIHRoZSBtZWRpYSBpcyBhIGRlc2lnbiwgdGhlIGlkIG9mIHRoZSBkZXNpZ24uICovXG4gIHJlYWRvbmx5IGRlc2lnbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWQgb2YgdGhlIHNldCB0aGF0IG1lZGlhIGlzIGEgbWVtYmVyIG9mLCBpZiByZXF1ZXN0ZWQuICovXG4gIHJlYWRvbmx5IHNldDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogRXh0ZXJuYWwgbWVkaWEgcmVmZXJlbmNlIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICByZWFkb25seSBleHRlcm5hbFJlZjogTWVkaWFFeHRlcm5hbFJlZiB8IHVuZGVmaW5lZDtcbiAgLyoqIFRydWUgaWYgdGhpcyBpcyBwcml2YXRlLCBhY2Nlc3MgcmVzdHJpY3RlZCBtZWRpYS4gKi9cbiAgcmVhZG9ubHkgcmVzdHJpY3RlZEFjY2VzczogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIElkIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICAgIGlkOiBzdHJpbmcsXG4gICAgLyoqIElkIG9mIHRoZSBicmFuZCB0aGF0IG93bnMgdGhpcyBtZWRpYSBvYmplY3QuICovXG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICAvKiogSWQgb2YgdGhlIHVzZXIgdGhhdCBjcmVhdGVkIHRoaXMgbWVkaWEgb2JqZWN0IChvcHRpb25hbCkuICovXG4gICAgdXNlcj86IHN0cmluZyxcbiAgICAvKiogQnVja2V0IG9mIHRoZSBmaWxlIHRoYXQgdGhpcyBtZWRpYSBvYmplY3QgcmVwcmVzZW50cy4gKi9cbiAgICBpbXBvcnRCdWNrZXQ/OiBzdHJpbmcsXG4gICAgLyoqIEtleSBvZiB0aGUgZmlsZSB0aGF0IHRoaXMgbWVkaWEgb2JqZWN0IHJlcHJlc2VudHMuICovXG4gICAgaW1wb3J0S2V5Pzogc3RyaW5nLFxuICAgIC8qKiBOYW1lIG9mIHRoZSBmaWxlIHRoYXQgdGhpcyBtZWRpYSBvYmplY3QgcmVwcmVzZW50cy4gKi9cbiAgICBpbXBvcnRGaWxlbmFtZT86IHN0cmluZyxcbiAgICAvKiogVHlwZSBvZiB0aGlzIG1lZGlhIG9iamVjdC4gKi9cbiAgICB0eXBlOiBNZWRpYVR5cGUsXG4gICAgLyoqIExhc3QtY29tbWl0dGVkLCBvciBzdGFnaW5nLCBidW5kbGUuICovXG4gICAgYnVuZGxlOiBNZWRpYUJ1bmRsZSxcbiAgICAvKiogVHJ1ZSBpZiB0aGlzIGlzIGRlYWN0aXZhdGVkLiAqL1xuICAgIGRlYWN0aXZhdGVkOiBib29sZWFuLFxuICAgIC8qKiBUcnVlIGlmIHRoaXMgbWVkaWEgaXMgZGlzY291bnRlZCBmb3IgZWxpZ2libGUgdXNlcnMuICovXG4gICAgb25lVGltZVVzZURpc2NvdW50YWJsZTogYm9vbGVhbixcbiAgICAvKiogSWYgdGhlIG1lZGlhIGlzIGEgZGVzaWduLCB0aGUgaWQgb2YgdGhlIGRlc2lnbi4gKi9cbiAgICBkZXNpZ24/OiBzdHJpbmcsXG4gICAgLyoqIElkIG9mIHRoZSBzZXQgdGhhdCBtZWRpYSBpcyBhIG1lbWJlciBvZiwgaWYgcmVxdWVzdGVkLiAqL1xuICAgIHNldD86IHN0cmluZyxcbiAgICAvKiogRXh0ZXJuYWwgbWVkaWEgcmVmZXJlbmNlIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICAgIGV4dGVybmFsUmVmPzogTWVkaWFFeHRlcm5hbFJlZixcbiAgICAvKiogVHJ1ZSBpZiB0aGlzIGlzIHByaXZhdGUsIGFjY2VzcyByZXN0cmljdGVkIG1lZGlhLiAqL1xuICAgIHJlc3RyaWN0ZWRBY2Nlc3M6IGJvb2xlYW4sXG4gIH0pIHtcbiAgICAvKiogSWQgb2YgdGhpcyBtZWRpYSBvYmplY3QuICovXG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gICAgLyoqIElkIG9mIHRoZSBicmFuZCB0aGF0IG93bnMgdGhpcyBtZWRpYSBvYmplY3QuICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIElkIG9mIHRoZSB1c2VyIHRoYXQgY3JlYXRlZCB0aGlzIG1lZGlhIG9iamVjdCAob3B0aW9uYWwpLiAqL1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgICAvKiogQnVja2V0IG9mIHRoZSBmaWxlIHRoYXQgdGhpcyBtZWRpYSBvYmplY3QgcmVwcmVzZW50cy4gKi9cbiAgICB0aGlzLmltcG9ydEJ1Y2tldCA9IG9wdHMuaW1wb3J0QnVja2V0O1xuICAgIC8qKiBLZXkgb2YgdGhlIGZpbGUgdGhhdCB0aGlzIG1lZGlhIG9iamVjdCByZXByZXNlbnRzLiAqL1xuICAgIHRoaXMuaW1wb3J0S2V5ID0gb3B0cy5pbXBvcnRLZXk7XG4gICAgLyoqIE5hbWUgb2YgdGhlIGZpbGUgdGhhdCB0aGlzIG1lZGlhIG9iamVjdCByZXByZXNlbnRzLiAqL1xuICAgIHRoaXMuaW1wb3J0RmlsZW5hbWUgPSBvcHRzLmltcG9ydEZpbGVuYW1lO1xuICAgIC8qKiBUeXBlIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICAgIHRoaXMudHlwZSA9IG9wdHMudHlwZTtcbiAgICAvKiogTGFzdC1jb21taXR0ZWQsIG9yIHN0YWdpbmcsIGJ1bmRsZS4gKi9cbiAgICB0aGlzLmJ1bmRsZSA9IG9wdHMuYnVuZGxlO1xuICAgIC8qKiBUcnVlIGlmIHRoaXMgaXMgZGVhY3RpdmF0ZWQuICovXG4gICAgdGhpcy5kZWFjdGl2YXRlZCA9IG9wdHMuZGVhY3RpdmF0ZWQ7XG4gICAgLyoqIFRydWUgaWYgdGhpcyBtZWRpYSBpcyBkaXNjb3VudGVkIGZvciBlbGlnaWJsZSB1c2Vycy4gKi9cbiAgICB0aGlzLm9uZVRpbWVVc2VEaXNjb3VudGFibGUgPSBvcHRzLm9uZVRpbWVVc2VEaXNjb3VudGFibGU7XG4gICAgLyoqIElmIHRoZSBtZWRpYSBpcyBhIGRlc2lnbiwgdGhlIGlkIG9mIHRoZSBkZXNpZ24uICovXG4gICAgdGhpcy5kZXNpZ24gPSBvcHRzLmRlc2lnbjtcbiAgICAvKiogSWQgb2YgdGhlIHNldCB0aGF0IG1lZGlhIGlzIGEgbWVtYmVyIG9mLCBpZiByZXF1ZXN0ZWQuICovXG4gICAgdGhpcy5zZXQgPSBvcHRzLnNldDtcbiAgICAvKiogRXh0ZXJuYWwgbWVkaWEgcmVmZXJlbmNlIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICAgIHRoaXMuZXh0ZXJuYWxSZWYgPSBvcHRzLmV4dGVybmFsUmVmO1xuICAgIC8qKiBUcnVlIGlmIHRoaXMgaXMgcHJpdmF0ZSwgYWNjZXNzIHJlc3RyaWN0ZWQgbWVkaWEuICovXG4gICAgdGhpcy5yZXN0cmljdGVkQWNjZXNzID0gb3B0cy5yZXN0cmljdGVkQWNjZXNzO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBNZWRpYSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbS5pZCksXG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICAgICdpbXBvcnRCdWNrZXQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbXBvcnRCdWNrZXQnLCBtLmltcG9ydEJ1Y2tldCksXG4gICAgICAnaW1wb3J0S2V5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0S2V5JywgbS5pbXBvcnRLZXkpLFxuICAgICAgJ2ltcG9ydEZpbGVuYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0RmlsZW5hbWUnLCBtLmltcG9ydEZpbGVuYW1lKSxcbiAgICAgICd0eXBlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oTWVkaWFUeXBlVXRpbC5zZXJpYWxpemUsICd0eXBlJywgbS50eXBlKSxcbiAgICAgICdidW5kbGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KE1lZGlhQnVuZGxlLnNlcmlhbGl6ZSwgJ2J1bmRsZScsIG0uYnVuZGxlKSxcbiAgICAgICdkZWFjdGl2YXRlZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdkZWFjdGl2YXRlZCcsIG0uZGVhY3RpdmF0ZWQpLFxuICAgICAgJ29uZVRpbWVVc2VEaXNjb3VudGFibGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignb25lVGltZVVzZURpc2NvdW50YWJsZScsIG0ub25lVGltZVVzZURpc2NvdW50YWJsZSksXG4gICAgICAnZGVzaWduJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzaWduJywgbS5kZXNpZ24pLFxuICAgICAgJ3NldCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3NldCcsIG0uc2V0KSxcbiAgICAgICdleHRlcm5hbFJlZic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoTWVkaWFFeHRlcm5hbFJlZi5zZXJpYWxpemUsICdleHRlcm5hbFJlZicsIG0uZXh0ZXJuYWxSZWYpLFxuICAgICAgJ3Jlc3RyaWN0ZWRBY2Nlc3MnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVzdHJpY3RlZEFjY2VzcycsIG0ucmVzdHJpY3RlZEFjY2VzcyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBNZWRpYSB7XG4gICAgcmV0dXJuIG5ldyBNZWRpYSh7XG4gICAgICBpZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG8pLFxuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBvKSxcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcicsIG8pLFxuICAgICAgaW1wb3J0QnVja2V0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydEJ1Y2tldCcsIG8pLFxuICAgICAgaW1wb3J0S2V5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydEtleScsIG8pLFxuICAgICAgaW1wb3J0RmlsZW5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0RmlsZW5hbWUnLCBvKSxcbiAgICAgIHR5cGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08TWVkaWFUeXBlPihNZWRpYVR5cGVVdGlsLmRlc2VyaWFsaXplLCAndHlwZScsIG8pLFxuICAgICAgYnVuZGxlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoTWVkaWFCdW5kbGUuZGVzZXJpYWxpemUsICdidW5kbGUnLCBvKSxcbiAgICAgIGRlYWN0aXZhdGVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdkZWFjdGl2YXRlZCcsIG8pLFxuICAgICAgb25lVGltZVVzZURpc2NvdW50YWJsZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignb25lVGltZVVzZURpc2NvdW50YWJsZScsIG8pLFxuICAgICAgZGVzaWduOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2lnbicsIG8pLFxuICAgICAgc2V0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3NldCcsIG8pLFxuICAgICAgZXh0ZXJuYWxSZWY6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChNZWRpYUV4dGVybmFsUmVmLmRlc2VyaWFsaXplLCAnZXh0ZXJuYWxSZWYnLCBvKSxcbiAgICAgIHJlc3RyaWN0ZWRBY2Nlc3M6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3Jlc3RyaWN0ZWRBY2Nlc3MnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgU3VwZXJLZXl3b3JkIHtcbiAgLyoqXG4gICAqIFZhbHVlIHNob3VsZCBub3QgYmUgc3BlY2lmaWVkIG9uIHVwZGF0ZXMsIG90aGVyd2lzZSBtZWRpYSB3aWxsIG91dHJpZ2h0IHJlamVjdCB0aGUgcmVxdWVzdC5cbiAgICogRm9yIHJlYWRzLCB0aGlzIHZhbHVlIHdpbGwgYWx3YXlzIGJlIHByZXNlbnQuXG4gICAqL1xuICByZWFkb25seSB0aW1lc3RhbXA6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIFZhbHVlIGlzIG9wdGlvbmFsIG9uIHVwZGF0ZXMsIGlmIG5vdCBwcmVzZW50IG1lZGlhIHdpbGwgZGVyaXZlIGl0IGZyb20gdGhlIGNhbGxpbmcgY29udGV4dC5cbiAgICogU2V0dGluZyB0aGlzIHZhbHVlLCB0byBzb21ldGhpbmcgb3RoZXIgdGhhbiB0aGUgY2FsbGluZyBjb250ZXh0IGlzIGFsbG93ZWQgZm9yIHByaXZpbGVnZWRcbiAgICogdXNlcnMgb25seS4gRm9yIHJlYWRzLCB0aGlzIHZhbHVlIHdpbGwgYWx3YXlzIGJlIHByZXNlbnQuXG4gICAqL1xuICByZWFkb25seSBhdXRob3I6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkga2V5d29yZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKipcbiAgICAgKiBWYWx1ZSBzaG91bGQgbm90IGJlIHNwZWNpZmllZCBvbiB1cGRhdGVzLCBvdGhlcndpc2UgbWVkaWEgd2lsbCBvdXRyaWdodCByZWplY3QgdGhlIHJlcXVlc3QuXG4gICAgICogRm9yIHJlYWRzLCB0aGlzIHZhbHVlIHdpbGwgYWx3YXlzIGJlIHByZXNlbnQuXG4gICAgICovXG4gICAgdGltZXN0YW1wPzogbnVtYmVyLFxuICAgIC8qKlxuICAgICAqIFZhbHVlIGlzIG9wdGlvbmFsIG9uIHVwZGF0ZXMsIGlmIG5vdCBwcmVzZW50IG1lZGlhIHdpbGwgZGVyaXZlIGl0IGZyb20gdGhlIGNhbGxpbmcgY29udGV4dC5cbiAgICAgKiBTZXR0aW5nIHRoaXMgdmFsdWUsIHRvIHNvbWV0aGluZyBvdGhlciB0aGFuIHRoZSBjYWxsaW5nIGNvbnRleHQgaXMgYWxsb3dlZCBmb3IgcHJpdmlsZWdlZFxuICAgICAqIHVzZXJzIG9ubHkuIEZvciByZWFkcywgdGhpcyB2YWx1ZSB3aWxsIGFsd2F5cyBiZSBwcmVzZW50LlxuICAgICAqL1xuICAgIGF1dGhvcj86IHN0cmluZyxcbiAgICBrZXl3b3JkOiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKipcbiAgICAgKiBWYWx1ZSBzaG91bGQgbm90IGJlIHNwZWNpZmllZCBvbiB1cGRhdGVzLCBvdGhlcndpc2UgbWVkaWEgd2lsbCBvdXRyaWdodCByZWplY3QgdGhlIHJlcXVlc3QuXG4gICAgICogRm9yIHJlYWRzLCB0aGlzIHZhbHVlIHdpbGwgYWx3YXlzIGJlIHByZXNlbnQuXG4gICAgICovXG4gICAgdGhpcy50aW1lc3RhbXAgPSBvcHRzLnRpbWVzdGFtcDtcbiAgICAvKipcbiAgICAgKiBWYWx1ZSBpcyBvcHRpb25hbCBvbiB1cGRhdGVzLCBpZiBub3QgcHJlc2VudCBtZWRpYSB3aWxsIGRlcml2ZSBpdCBmcm9tIHRoZSBjYWxsaW5nIGNvbnRleHQuXG4gICAgICogU2V0dGluZyB0aGlzIHZhbHVlLCB0byBzb21ldGhpbmcgb3RoZXIgdGhhbiB0aGUgY2FsbGluZyBjb250ZXh0IGlzIGFsbG93ZWQgZm9yIHByaXZpbGVnZWRcbiAgICAgKiB1c2VycyBvbmx5LiBGb3IgcmVhZHMsIHRoaXMgdmFsdWUgd2lsbCBhbHdheXMgYmUgcHJlc2VudC5cbiAgICAgKi9cbiAgICB0aGlzLmF1dGhvciA9IG9wdHMuYXV0aG9yO1xuICAgIHRoaXMua2V5d29yZCA9IG9wdHMua2V5d29yZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogU3VwZXJLZXl3b3JkKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3RpbWVzdGFtcCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3RpbWVzdGFtcCcsIG0udGltZXN0YW1wKSxcbiAgICAgICdhdXRob3InOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdhdXRob3InLCBtLmF1dGhvciksXG4gICAgICAna2V5d29yZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2tleXdvcmQnLCBtLmtleXdvcmQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogU3VwZXJLZXl3b3JkIHtcbiAgICByZXR1cm4gbmV3IFN1cGVyS2V5d29yZCh7XG4gICAgICB0aW1lc3RhbXA6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigndGltZXN0YW1wJywgbyksXG4gICAgICBhdXRob3I6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYXV0aG9yJywgbyksXG4gICAgICBrZXl3b3JkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2tleXdvcmQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogTWV0YWRhdGEgZGVzY3JpYmluZyBjb250ZW50cyBvZiBhIG1lZGlhLiAqL1xuZXhwb3J0IGNsYXNzIENvbnRlbnRNZXRhZGF0YSB7XG4gIC8qKiBPcHRpb25hbCBwbGFpbiB0ZXh0IHRpdGxlIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICByZWFkb25seSB0aXRsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgcGxhaW4gdGV4dCBkZXNjcmlwdGlvbi4gKi9cbiAgcmVhZG9ubHkgZGVzY3JpcHRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIENvbnRlbnQga2V5d29yZHMuICovXG4gIHJlYWRvbmx5IGtleXdvcmRzOiByZWFkb25seSBMb2NhbGl6ZWRTdHJpbmdbXTtcbiAgLyoqIHRoZSBtb3N0IHNhbGllbnQga2V5d29yZHMgKi9cbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIHJlYWRvbmx5IHN1cGVyS2V5d29yZHM6IHJlYWRvbmx5IExvY2FsaXplZFN0cmluZ1tdO1xuICAvKiogdGhlIG1vc3Qgc2FsaWVudCBrZXl3b3JkcyB2MiAqL1xuICByZWFkb25seSBzdXBlcktleXdvcmRzMjogcmVhZG9ubHkgU3VwZXJLZXl3b3JkW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBPcHRpb25hbCBwbGFpbiB0ZXh0IHRpdGxlIG9mIHRoaXMgbWVkaWEgb2JqZWN0LiAqL1xuICAgIHRpdGxlPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCBwbGFpbiB0ZXh0IGRlc2NyaXB0aW9uLiAqL1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nLFxuICAgIC8qKiBDb250ZW50IGtleXdvcmRzLiAqL1xuICAgIGtleXdvcmRzPzogcmVhZG9ubHkgTG9jYWxpemVkU3RyaW5nW10sXG4gICAgLyoqIHRoZSBtb3N0IHNhbGllbnQga2V5d29yZHMgKi9cbiAgICBzdXBlcktleXdvcmRzPzogcmVhZG9ubHkgTG9jYWxpemVkU3RyaW5nW10sXG4gICAgLyoqIHRoZSBtb3N0IHNhbGllbnQga2V5d29yZHMgdjIgKi9cbiAgICBzdXBlcktleXdvcmRzMj86IHJlYWRvbmx5IFN1cGVyS2V5d29yZFtdLFxuICB9KSB7XG4gICAgLyoqIE9wdGlvbmFsIHBsYWluIHRleHQgdGl0bGUgb2YgdGhpcyBtZWRpYSBvYmplY3QuICovXG4gICAgdGhpcy50aXRsZSA9IG9wdHMudGl0bGU7XG4gICAgLyoqIE9wdGlvbmFsIHBsYWluIHRleHQgZGVzY3JpcHRpb24uICovXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdHMuZGVzY3JpcHRpb247XG4gICAgLyoqIENvbnRlbnQga2V5d29yZHMuICovXG4gICAgdGhpcy5rZXl3b3JkcyA9IG9wdHMua2V5d29yZHMgfHwgW107XG4gICAgLyoqIHRoZSBtb3N0IHNhbGllbnQga2V5d29yZHMgKi9cbiAgICB0aGlzLnN1cGVyS2V5d29yZHMgPSBvcHRzLnN1cGVyS2V5d29yZHMgfHwgW107XG4gICAgLyoqIHRoZSBtb3N0IHNhbGllbnQga2V5d29yZHMgdjIgKi9cbiAgICB0aGlzLnN1cGVyS2V5d29yZHMyID0gb3B0cy5zdXBlcktleXdvcmRzMiB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ29udGVudE1ldGFkYXRhKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3RpdGxlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndGl0bGUnLCBtLnRpdGxlKSxcbiAgICAgICdkZXNjcmlwdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2NyaXB0aW9uJywgbS5kZXNjcmlwdGlvbiksXG4gICAgICAna2V5d29yZHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KExvY2FsaXplZFN0cmluZy5zZXJpYWxpemUsICdrZXl3b3JkcycsIG0ua2V5d29yZHMpLFxuICAgICAgJ3N1cGVyS2V5d29yZHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KExvY2FsaXplZFN0cmluZy5zZXJpYWxpemUsICdzdXBlcktleXdvcmRzJywgbS5zdXBlcktleXdvcmRzKSxcbiAgICAgICdzdXBlcktleXdvcmRzMic6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoU3VwZXJLZXl3b3JkLnNlcmlhbGl6ZSwgJ3N1cGVyS2V5d29yZHMyJywgbS5zdXBlcktleXdvcmRzMiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDb250ZW50TWV0YWRhdGEge1xuICAgIHJldHVybiBuZXcgQ29udGVudE1ldGFkYXRhKHtcbiAgICAgIHRpdGxlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3RpdGxlJywgbyksXG4gICAgICBkZXNjcmlwdGlvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkZXNjcmlwdGlvbicsIG8pLFxuICAgICAga2V5d29yZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChMb2NhbGl6ZWRTdHJpbmcuZGVzZXJpYWxpemUsICdrZXl3b3JkcycsIG8pLFxuICAgICAgc3VwZXJLZXl3b3JkczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KExvY2FsaXplZFN0cmluZy5kZXNlcmlhbGl6ZSwgJ3N1cGVyS2V5d29yZHMnLCBvKSxcbiAgICAgIHN1cGVyS2V5d29yZHMyOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoU3VwZXJLZXl3b3JkLmRlc2VyaWFsaXplLCAnc3VwZXJLZXl3b3JkczInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgUXVhbGl0eU1ldGFkYXRhIHtcbiAgLyoqIExlZ2FjeSBxdWFsaXR5IHNjb3JlIGZvciBwdWJsaWMgbWVkaWEgKi9cbiAgcmVhZG9ubHkgcXVhbGl0eTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgdHJ1ZSwgbWVkaWEgaGFzIGJlZW4gY3VyYXRlZCwgaWYgZmFsc2UsIHJlamVjdGVkLCBpZiBudWxsIG5vdCB5ZXQgcmV2aWV3ZWQgKi9cbiAgcmVhZG9ubHkgY3VyYXRlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIHN0eWxlIGluZGljYXRvci4gKi9cbiAgcmVhZG9ubHkgc3R5bGU6IFF1YWxpdHlTdHlsZSB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIHRpbWVzdGFtcCAoaW4gdW5peCB0aW1lKSB3aGVuIG1lZGlhIHdhcyBcImZlYXR1cmVkXCIgKi9cbiAgcmVhZG9ubHkgZmVhdHVyZWQ6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIExlZ2FjeSBxdWFsaXR5IHNjb3JlIGZvciBwdWJsaWMgbWVkaWEgKi9cbiAgICBxdWFsaXR5PzogbnVtYmVyLFxuICAgIC8qKiBJZiB0cnVlLCBtZWRpYSBoYXMgYmVlbiBjdXJhdGVkLCBpZiBmYWxzZSwgcmVqZWN0ZWQsIGlmIG51bGwgbm90IHlldCByZXZpZXdlZCAqL1xuICAgIGN1cmF0ZWQ/OiBib29sZWFuLFxuICAgIC8qKiBPcHRpb25hbCBzdHlsZSBpbmRpY2F0b3IuICovXG4gICAgc3R5bGU/OiBRdWFsaXR5U3R5bGUsXG4gICAgLyoqIE9wdGlvbmFsIHRpbWVzdGFtcCAoaW4gdW5peCB0aW1lKSB3aGVuIG1lZGlhIHdhcyBcImZlYXR1cmVkXCIgKi9cbiAgICBmZWF0dXJlZD86IG51bWJlcixcbiAgfSkge1xuICAgIC8qKiBMZWdhY3kgcXVhbGl0eSBzY29yZSBmb3IgcHVibGljIG1lZGlhICovXG4gICAgdGhpcy5xdWFsaXR5ID0gb3B0cy5xdWFsaXR5O1xuICAgIC8qKiBJZiB0cnVlLCBtZWRpYSBoYXMgYmVlbiBjdXJhdGVkLCBpZiBmYWxzZSwgcmVqZWN0ZWQsIGlmIG51bGwgbm90IHlldCByZXZpZXdlZCAqL1xuICAgIHRoaXMuY3VyYXRlZCA9IG9wdHMuY3VyYXRlZDtcbiAgICAvKiogT3B0aW9uYWwgc3R5bGUgaW5kaWNhdG9yLiAqL1xuICAgIHRoaXMuc3R5bGUgPSBvcHRzLnN0eWxlO1xuICAgIC8qKiBPcHRpb25hbCB0aW1lc3RhbXAgKGluIHVuaXggdGltZSkgd2hlbiBtZWRpYSB3YXMgXCJmZWF0dXJlZFwiICovXG4gICAgdGhpcy5mZWF0dXJlZCA9IG9wdHMuZmVhdHVyZWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFF1YWxpdHlNZXRhZGF0YSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdxdWFsaXR5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigncXVhbGl0eScsIG0ucXVhbGl0eSksXG4gICAgICAnY3VyYXRlZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjdXJhdGVkJywgbS5jdXJhdGVkKSxcbiAgICAgICdzdHlsZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKFF1YWxpdHlTdHlsZVV0aWwuc2VyaWFsaXplLCAnc3R5bGUnLCBtLnN0eWxlKSxcbiAgICAgICdmZWF0dXJlZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2ZlYXR1cmVkJywgbS5mZWF0dXJlZCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBRdWFsaXR5TWV0YWRhdGEge1xuICAgIHJldHVybiBuZXcgUXVhbGl0eU1ldGFkYXRhKHtcbiAgICAgIHF1YWxpdHk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigncXVhbGl0eScsIG8pLFxuICAgICAgY3VyYXRlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignY3VyYXRlZCcsIG8pLFxuICAgICAgc3R5bGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08UXVhbGl0eVN0eWxlPihRdWFsaXR5U3R5bGVVdGlsLmRlc2VyaWFsaXplLCAnc3R5bGUnLCBvKSxcbiAgICAgIGZlYXR1cmVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2ZlYXR1cmVkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFydGlzdE1ldGFkYXRhIHtcbiAgcmVhZG9ubHkgZXh0ZXJuYWxJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBhcnRpc3RVcmw6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgZXh0ZXJuYWxJZD86IHN0cmluZyxcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyxcbiAgICBhcnRpc3RVcmw/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLmV4dGVybmFsSWQgPSBvcHRzLmV4dGVybmFsSWQ7XG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IG9wdHMuZGlzcGxheU5hbWU7XG4gICAgdGhpcy5hcnRpc3RVcmwgPSBvcHRzLmFydGlzdFVybDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQXJ0aXN0TWV0YWRhdGEpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZXh0ZXJuYWxJZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2V4dGVybmFsSWQnLCBtLmV4dGVybmFsSWQpLFxuICAgICAgJ2Rpc3BsYXlOYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGlzcGxheU5hbWUnLCBtLmRpc3BsYXlOYW1lKSxcbiAgICAgICdhcnRpc3RVcmwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdhcnRpc3RVcmwnLCBtLmFydGlzdFVybCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBBcnRpc3RNZXRhZGF0YSB7XG4gICAgcmV0dXJuIG5ldyBBcnRpc3RNZXRhZGF0YSh7XG4gICAgICBleHRlcm5hbElkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2V4dGVybmFsSWQnLCBvKSxcbiAgICAgIGRpc3BsYXlOYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rpc3BsYXlOYW1lJywgbyksXG4gICAgICBhcnRpc3RVcmw6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYXJ0aXN0VXJsJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIE1ldGFkYXRhIHRoYXQgaXMgc3BlY2lmaWMgdG8gYSBsb2NhbGUgZm9yIGEgbWVkaWEgKi9cbmV4cG9ydCBjbGFzcyBMb2NhbGl6ZWRNZXRhZGF0YSB7XG4gIHJlYWRvbmx5IGxvY2FsZTogc3RyaW5nO1xuICByZWFkb25seSB0aXRsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkZXNjcmlwdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBrZXl3b3JkczogcmVhZG9ubHkgc3RyaW5nW107XG4gIHJlYWRvbmx5IHN1cGVyS2V5d29yZHM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBsb2NhbGU/OiBzdHJpbmcsXG4gICAgdGl0bGU/OiBzdHJpbmcsXG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmcsXG4gICAga2V5d29yZHM/OiByZWFkb25seSBzdHJpbmdbXSxcbiAgICBzdXBlcktleXdvcmRzPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gIH0pIHtcbiAgICB0aGlzLmxvY2FsZSA9IG9wdHMubG9jYWxlICE9IG51bGxcbiAgICAgICAgPyBvcHRzLmxvY2FsZVxuICAgICAgICA6IFwiZW5cIjsgLy8gdHNsaW50OmRpc2FibGUtbGluZSBxdW90ZW1hcmsgbWF4LWxlblxuXG4gICAgdGhpcy50aXRsZSA9IG9wdHMudGl0bGU7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdHMuZGVzY3JpcHRpb247XG4gICAgdGhpcy5rZXl3b3JkcyA9IG9wdHMua2V5d29yZHMgfHwgW107XG4gICAgdGhpcy5zdXBlcktleXdvcmRzID0gb3B0cy5zdXBlcktleXdvcmRzIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBMb2NhbGl6ZWRNZXRhZGF0YSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdsb2NhbGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdsb2NhbGUnLCBtLmxvY2FsZSksXG4gICAgICAndGl0bGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd0aXRsZScsIG0udGl0bGUpLFxuICAgICAgJ2Rlc2NyaXB0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzY3JpcHRpb24nLCBtLmRlc2NyaXB0aW9uKSxcbiAgICAgICdrZXl3b3Jkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2tleXdvcmRzJywgbS5rZXl3b3JkcyksXG4gICAgICAnc3VwZXJLZXl3b3Jkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ3N1cGVyS2V5d29yZHMnLCBtLnN1cGVyS2V5d29yZHMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogTG9jYWxpemVkTWV0YWRhdGEge1xuICAgIHJldHVybiBuZXcgTG9jYWxpemVkTWV0YWRhdGEoe1xuICAgICAgbG9jYWxlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2xvY2FsZScsIG8pLFxuICAgICAgdGl0bGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndGl0bGUnLCBvKSxcbiAgICAgIGRlc2NyaXB0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2NyaXB0aW9uJywgbyksXG4gICAgICBrZXl3b3JkczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdrZXl3b3JkcycsIG8pLFxuICAgICAgc3VwZXJLZXl3b3JkczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdzdXBlcktleXdvcmRzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIGVuY2Fwc3VsYXRlcyBjb2xvciBpbmZvcm1hdGlvbiBhYm91dCBhIG1lZGlhLiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhQ29sb3JJbmZvIHtcbiAgLyoqIHVwIHRvIDUgZG9taW5hbnQgY29sb3JzLiBrZXkgaXMgUkdCIGNvbG9yIGhleCBzdHJpbmcsIHZhbHVlIGlzIHBlcmNlbnRhZ2UuICovXG4gIHJlYWRvbmx5IGRvbWluYW50Q29sb3JzOiBSZWFkb25seU1hcDxzdHJpbmcsIG51bWJlcj47XG4gIC8qKlxuICAgKiByZ2IzMzIgY29sb3IgaGlzdG9ncmFtIGNvbnRhaW5pbmcgdXAgdG8gMTAwIGJ1Y2tldHMuIGtleSBpcyA4LWJpdCByZ2IzMzIgY29sb3IsXG4gICAqIHZhbHVlIGlzIHBlcmNlbnRhZ2UuIE5vdGUgdGhhdCB0aGUgY29sb3JzIGluIGtleXMgYXJlIG9ubHkgYW4gYXBwcm94aW1hdGlvbiBvZiB0aGVcbiAgICogYWN0dWFsIGNvbG9ycyBpbiB0aGUgaW1hZ2UgcGFsZXR0ZSwgZm9yIHRoZSBwdXJwb3NlcyBvZiBjb2xvciBpbmRleGluZy4gQXMgc3VjaCwgdGhldCBhcmUgbm90XG4gICAqIHN1aXRhYmxlIGZvciBkaXNwbGF5IHRvIHRoZSB1c2VyLlxuICAgKi9cbiAgcmVhZG9ubHkgY29sb3JIaXN0b2dyYW06IFJlYWRvbmx5TWFwPG51bWJlciwgbnVtYmVyPjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIHVwIHRvIDUgZG9taW5hbnQgY29sb3JzLiBrZXkgaXMgUkdCIGNvbG9yIGhleCBzdHJpbmcsIHZhbHVlIGlzIHBlcmNlbnRhZ2UuICovXG4gICAgZG9taW5hbnRDb2xvcnM/OiBSZWFkb25seU1hcDxzdHJpbmcsIG51bWJlcj4sXG4gICAgLyoqXG4gICAgICogcmdiMzMyIGNvbG9yIGhpc3RvZ3JhbSBjb250YWluaW5nIHVwIHRvIDEwMCBidWNrZXRzLiBrZXkgaXMgOC1iaXQgcmdiMzMyIGNvbG9yLFxuICAgICAqIHZhbHVlIGlzIHBlcmNlbnRhZ2UuIE5vdGUgdGhhdCB0aGUgY29sb3JzIGluIGtleXMgYXJlIG9ubHkgYW4gYXBwcm94aW1hdGlvbiBvZiB0aGVcbiAgICAgKiBhY3R1YWwgY29sb3JzIGluIHRoZSBpbWFnZSBwYWxldHRlLCBmb3IgdGhlIHB1cnBvc2VzIG9mIGNvbG9yIGluZGV4aW5nLiBBcyBzdWNoLCB0aGV0IGFyZSBub3RcbiAgICAgKiBzdWl0YWJsZSBmb3IgZGlzcGxheSB0byB0aGUgdXNlci5cbiAgICAgKi9cbiAgICBjb2xvckhpc3RvZ3JhbT86IFJlYWRvbmx5TWFwPG51bWJlciwgbnVtYmVyPixcbiAgfSkge1xuICAgIC8qKiB1cCB0byA1IGRvbWluYW50IGNvbG9ycy4ga2V5IGlzIFJHQiBjb2xvciBoZXggc3RyaW5nLCB2YWx1ZSBpcyBwZXJjZW50YWdlLiAqL1xuICAgIHRoaXMuZG9taW5hbnRDb2xvcnMgPSBvcHRzLmRvbWluYW50Q29sb3JzIHx8IG5ldyBNYXAoKTtcbiAgICAvKipcbiAgICAgKiByZ2IzMzIgY29sb3IgaGlzdG9ncmFtIGNvbnRhaW5pbmcgdXAgdG8gMTAwIGJ1Y2tldHMuIGtleSBpcyA4LWJpdCByZ2IzMzIgY29sb3IsXG4gICAgICogdmFsdWUgaXMgcGVyY2VudGFnZS4gTm90ZSB0aGF0IHRoZSBjb2xvcnMgaW4ga2V5cyBhcmUgb25seSBhbiBhcHByb3hpbWF0aW9uIG9mIHRoZVxuICAgICAqIGFjdHVhbCBjb2xvcnMgaW4gdGhlIGltYWdlIHBhbGV0dGUsIGZvciB0aGUgcHVycG9zZXMgb2YgY29sb3IgaW5kZXhpbmcuIEFzIHN1Y2gsIHRoZXQgYXJlIG5vdFxuICAgICAqIHN1aXRhYmxlIGZvciBkaXNwbGF5IHRvIHRoZSB1c2VyLlxuICAgICAqL1xuICAgIHRoaXMuY29sb3JIaXN0b2dyYW0gPSBvcHRzLmNvbG9ySGlzdG9ncmFtIHx8IG5ldyBNYXAoKTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogTWVkaWFDb2xvckluZm8pOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZG9taW5hbnRDb2xvcnMnOiBTZXJpYWxpemF0aW9uLnN0cmluZ051bWJlck1hcCgnZG9taW5hbnRDb2xvcnMnLCBtLmRvbWluYW50Q29sb3JzKSxcbiAgICAgICdjb2xvckhpc3RvZ3JhbSc6IFNlcmlhbGl6YXRpb24ubnVtYmVyTnVtYmVyTWFwKCdjb2xvckhpc3RvZ3JhbScsIG0uY29sb3JIaXN0b2dyYW0pLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogTWVkaWFDb2xvckluZm8ge1xuICAgIHJldHVybiBuZXcgTWVkaWFDb2xvckluZm8oe1xuICAgICAgZG9taW5hbnRDb2xvcnM6IERlc2VyaWFsaXphdGlvbi5zdHJpbmdOdW1iZXJNYXAoJ2RvbWluYW50Q29sb3JzJywgbyksXG4gICAgICBjb2xvckhpc3RvZ3JhbTogRGVzZXJpYWxpemF0aW9uLm51bWJlck51bWJlck1hcCgnY29sb3JIaXN0b2dyYW0nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIEEgbWVkaWEgYnVuZGxlIGlzIGEgdW5pdCBvZiBpbmdyZWRpZW5jZTogc29tZXRoaW5nIHRoYXQgY2FuIGJlIHVzZWQgaW4gYVxuICogZGVzaWduLiBBIG1lZGlhIG9iamVjdCBoYXMgYSByZWZlcmVuY2UgdG8gaXRzIGN1cnJlbnQgYnVuZGxlLCBhbmQgdGhlXG4gKiBoaXN0b3J5IG9mIGFsbCBidW5kbGVzIGlzIHJldGFpbmVkIGZvcmV2ZXIuIEJlZm9yZSBhIGJ1bmRsZSBpcyByZWZlcmVuY2VkXG4gKiBieSBhIG1lZGlhIG9iamVjdCwgaXQgY2FuIGJlIHVwZGF0ZWQuIEhvd2V2ZXIsIG9uY2UgYSBidW5kbGUgaXMgcmVmZXJlbmNlZFxuICogYnkgYSBtZWRpYSBvYmplY3QsIGl0IGJlY29tZXMgZnJvemVuLCBhbmQgY2FuIG5vdCBiZSB1cGRhdGVkLlxuICovXG5leHBvcnQgY2xhc3MgTWVkaWFCdW5kbGUge1xuICByZWFkb25seSB2ZXJzaW9uOiBudW1iZXI7XG4gIHJlYWRvbmx5IGltcG9ydFZlcnNpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIHRlbXBvcmFyeSB1cmwgdG8gaW1wb3J0IGZpbGUuICovXG4gIHJlYWRvbmx5IGltcG9ydEZpbGVVcmw6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIElmIG1lZGlhIGlzIGEgZGVzaWduLCB0aGUgdmVyc2lvbiBvZiB0aGUgZGVzaWduLiAqL1xuICByZWFkb25seSBkZXNpZ25WZXJzaW9uOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBJZiB0aGUgbWVkaWEgaXMgYSBkZXNpZ24sIHRoZSBkZXNpZ24tdHlwZSBvZiB0aGUgZGVzaWduLlxuICAgKiBub3RlOiB3aWxsIGJlIG51bGwgdW50aWwgbWlncmF0aW9uIGhhcyBiZWVuIHJ1blxuICAgKi9cbiAgcmVhZG9ubHkgZGVzaWduVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgbWVkaWEgaXMgYSBkZXNpZ24sIHRoZSBzY2hlbWEgdmVyc2lvbiBvZiB0aGUgZGVzaWduLiAqL1xuICByZWFkb25seSBkZXNpZ25TY2hlbWFWZXJzaW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBUcnVlIGlmIHRoaXMgbWVkaWEgaXMgJ2xpc3RlZCcsIGkuZS4gZGVzdGluZWQgZm9yLCBvciBpbiwgdGhlIG1lZGlhIGxpYnJhcnkuIFdoZW4gZmFsc2UsXG4gICAqIHRoaXMgbWVkaWEgd2lsbCBub3QgYmUgaW5jbHVkZWQgaW4gdGhlIHNlYXJjaCBpbmRleC5cbiAgICovXG4gIHJlYWRvbmx5IGxpc3RlZDogYm9vbGVhbjtcbiAgcmVhZG9ubHkgaW1wb3J0U3RhdGU6IE1lZGlhSW1wb3J0U3RhdGU7XG4gIHJlYWRvbmx5IGltcG9ydE1lc3NhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgc3RhdHVzOiBNZWRpYUluZ2VzdGlvblN0YXR1cztcbiAgcmVhZG9ubHkgcmVqZWN0aW9uUmVhc29uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHN1Ym1pdHRlZEJ5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHN1Ym1pdHRlZERhdGU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcmV2aWV3ZWRCeTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSByZXZpZXdlZERhdGU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgbW9kaWZpZWREYXRlOiBudW1iZXI7XG4gIC8qKiBEaXNwbGF5IG5hbWUgb2YgdGhlIGNyZWF0aW5nIGFydGlzdC4gKi9cbiAgcmVhZG9ubHkgYXJ0aXN0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBwbGFpbiB0ZXh0IHRpdGxlIG9mIHRoaXMgbWVkaWEgb2JqZWN0LlxuICAgKiBAZGVwcmVjYXRlZCBVc2UgTWVkaWFCdW5kbGUjY29udGVudE1ldGFkYXRhXG4gICAqL1xuICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgcmVhZG9ubHkgdGl0bGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIHBsYWluIHRleHQgZGVzY3JpcHRpb24uXG4gICAqIEBkZXByZWNhdGVkIFVzZSBNZWRpYUJ1bmRsZSNjb250ZW50TWV0YWRhdGFcbiAgICovXG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICByZWFkb25seSBkZXNjcmlwdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgbG9jYWxlLiAqL1xuICByZWFkb25seSBsb2NhbGU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIEltYWdlIGlzIHN1aXRhYmxlIGFzIGEgYmFja2dyb3VuZC4gKi9cbiAgcmVhZG9ubHkgYmFja2dyb3VuZDogYm9vbGVhbjtcbiAgLyoqIEltYWdlIGlzIGN1dG91dCAoaXNvbGF0ZWQgb24gdHJhbnNwYXJlbnQgYmFja2dyb3VuZCkuICovXG4gIHJlYWRvbmx5IGN1dG91dDogYm9vbGVhbjtcbiAgLyoqIEltYWdlIGlzIGlzb2xhdGVkIChpc29sYXRlZCBvbiBzb2xpZCBiYWNrZ3JvdW5kKS4gKi9cbiAgcmVhZG9ubHkgaXNvbGF0ZWQ6IGJvb2xlYW47XG4gIC8qKiBJbWFnZSBjYW4gaG9sZCBhIHBob3RvLiAqL1xuICByZWFkb25seSBwaG90b2hvbGRlcjogYm9vbGVhbjtcbiAgLyoqIEltYWdlIGNhbiBob2xkIHRleHQuICovXG4gIHJlYWRvbmx5IHRleHRob2xkZXI6IGJvb2xlYW47XG4gIC8qKiBJbWFnZSBzaG91bGQgYmUgcmVwZWF0ZWQgcmF0aGVyIHRoYW4gc2NhbGVkLiAqL1xuICByZWFkb25seSByZXBlYXRpbmc6IGJvb2xlYW47XG4gIC8qKiBJbWFnZSBjYW4gYmUgcmVjb2xvcmVkLiAqL1xuICByZWFkb25seSByZWNvbG9yYWJsZTogYm9vbGVhbjtcbiAgLyoqIFByZWZlcnJlZCBjb2xvcnNwYWNlIChzUkdCIG9yIEFkb2JlIFJHQikuICovXG4gIHJlYWRvbmx5IGNvbG9yU3BhY2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIHF1YWxpdHkgc2NvcmUgWzEsNF0uICovXG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICByZWFkb25seSBxdWFsaXR5OiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8qKiBBZ2UgcmF0aW5nIG9mIHRoZSBtZWRpYS4gKi9cbiAgcmVhZG9ubHkgYWdlUmF0aW5nOiBNZWRpYUFnZVJhdGluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIHRoZSBtb3N0IHNhbGllbnQga2V5d29yZHNcbiAgICogQGRlcHJlY2F0ZWQgVXNlIE1lZGlhQnVuZGxlI2NvbnRlbnRNZXRhZGF0YVxuICAgKi9cbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIHJlYWRvbmx5IHN1cGVyS2V5d29yZHM6IHJlYWRvbmx5IExvY2FsaXplZFN0cmluZ1tdO1xuICAvKipcbiAgICogQ29udGVudCBrZXl3b3Jkcy5cbiAgICogQGRlcHJlY2F0ZWQgVXNlIE1lZGlhQnVuZGxlI2NvbnRlbnRNZXRhZGF0YVxuICAgKi9cbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIHJlYWRvbmx5IGtleXdvcmRzOiByZWFkb25seSBMb2NhbGl6ZWRTdHJpbmdbXTtcbiAgLyoqIFRoZSBmaWxlcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSBtZWRpYSBmaWxlcyBmb3IgdGhpcyBtZWRpYSBpdGVtLiAqL1xuICByZWFkb25seSBwcm9jZXNzZWRGaWxlczogcmVhZG9ubHkgUHJvY2Vzc2VkRmlsZVtdO1xuICAvKipcbiAgICogVGhlIGZpbGVzIGZvciB0aGlzIG1lZGlhIGl0ZW0uXG4gICAqIFRPRE8obWVkaWEtdGVhbSkgLSBSZW5hbWUgZmlsZXNfIHRvIGZpbGVzIGFmdGVyIDE2LzEwLzIwMTkgW0NBLTE2MjE5XVxuICAgKi9cbiAgcmVhZG9ubHkgZmlsZXNfOiByZWFkb25seSBNZWRpYUZpbGVbXTtcbiAgLyoqIE9wdGlvbmFsIGxpc3Qgb2YgY29tcG9uZW50IG1lZGlhLCBpZiB0aGlzIG1lZGlhIGl0ZW0gaGFzIGNvbXBvbmVudCBtZWRpYS4gKi9cbiAgcmVhZG9ubHkgY29tcG9uZW50TWVkaWE6IHJlYWRvbmx5IE1lZGlhUmVmW107XG4gIC8qKiBPcHRpb25hbCBtZXRhZGF0YSBmb3IgZm9udCBtZWRpYS4gUHJlc2VudCBpZiB0aGlzIG1lZGlhIGl0ZW0gaXMgb2YgdHlwZSBmb250LiAqL1xuICByZWFkb25seSBmb250TWV0YWRhdGE6IEZvbnRNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIG1ldGFkYXRhIGZvciByZWNvbG9yYWJsZSB2ZWN0b3IgaW1hZ2VzIHN0b3JlZCBhcyBzcHJpdGVzaGVldHMuXG4gICAqIFByZXNlbnQgaWYgdGhpcyBtZWRpYSBpdGVtIGhhcyBhIHNwcml0ZXNoZWV0IGZvciBTQ1JFRU4gcXVhbGl0eS5cbiAgICovXG4gIHJlYWRvbmx5IHNwcml0ZXNoZWV0TWV0YWRhdGE6IFNwcml0ZXNoZWV0TWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gIC8qKiBMaWNlbnNpbmcgKi9cbiAgcmVhZG9ubHkgbGljZW5zaW5nOiBMaWNlbnNpbmc7XG4gIC8qKiBPcHRpb25hbCBjb250ZW50IG1ldGFkYXRhLiAqL1xuICByZWFkb25seSBjb250ZW50TWV0YWRhdGE6IENvbnRlbnRNZXRhZGF0YSB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIHNpemUgb2YgdGhlIG5vcm1hbGl6ZWQgaW1wb3J0IGZpbGUgaW4gYnl0ZXMuICovXG4gIHJlYWRvbmx5IGZpbGVTaXplOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBjb2xvciBpbmZvIGZvciB0aGlzIGJ1bmRsZS4gKi9cbiAgcmVhZG9ubHkgY29sb3JJbmZvOiBNZWRpYUNvbG9ySW5mbyB8IHVuZGVmaW5lZDtcbiAgLyoqIE9wdGlvbmFsIHF1YWxpdHkgbWV0YWRhdGEgKi9cbiAgcmVhZG9ubHkgcXVhbGl0eU1ldGFkYXRhOiBRdWFsaXR5TWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBNYXAgb2YgbG9jYWxpemVkIG1ldGFkYXRhLiBLZXkgaXMgbG9jYWxlICovXG4gIHJlYWRvbmx5IGxvY2FsaXplZE1ldGFkYXRhOiBSZWFkb25seU1hcDxzdHJpbmcsIExvY2FsaXplZE1ldGFkYXRhPjtcbiAgLyoqIE9wdGlvbmFsIGFydGlzdCBtZXRhZGF0YSAqL1xuICByZWFkb25seSBhcnRpc3RNZXRhZGF0YTogQXJ0aXN0TWV0YWRhdGEgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHZlcnNpb246IG51bWJlcixcbiAgICBpbXBvcnRWZXJzaW9uPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCB0ZW1wb3JhcnkgdXJsIHRvIGltcG9ydCBmaWxlLiAqL1xuICAgIGltcG9ydEZpbGVVcmw/OiBzdHJpbmcsXG4gICAgLyoqIElmIG1lZGlhIGlzIGEgZGVzaWduLCB0aGUgdmVyc2lvbiBvZiB0aGUgZGVzaWduLiAqL1xuICAgIGRlc2lnblZlcnNpb24/OiBudW1iZXIsXG4gICAgLyoqXG4gICAgICogSWYgdGhlIG1lZGlhIGlzIGEgZGVzaWduLCB0aGUgZGVzaWduLXR5cGUgb2YgdGhlIGRlc2lnbi5cbiAgICAgKiBub3RlOiB3aWxsIGJlIG51bGwgdW50aWwgbWlncmF0aW9uIGhhcyBiZWVuIHJ1blxuICAgICAqL1xuICAgIGRlc2lnblR5cGU/OiBzdHJpbmcsXG4gICAgLyoqIElmIG1lZGlhIGlzIGEgZGVzaWduLCB0aGUgc2NoZW1hIHZlcnNpb24gb2YgdGhlIGRlc2lnbi4gKi9cbiAgICBkZXNpZ25TY2hlbWFWZXJzaW9uPzogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIFRydWUgaWYgdGhpcyBtZWRpYSBpcyAnbGlzdGVkJywgaS5lLiBkZXN0aW5lZCBmb3IsIG9yIGluLCB0aGUgbWVkaWEgbGlicmFyeS4gV2hlbiBmYWxzZSxcbiAgICAgKiB0aGlzIG1lZGlhIHdpbGwgbm90IGJlIGluY2x1ZGVkIGluIHRoZSBzZWFyY2ggaW5kZXguXG4gICAgICovXG4gICAgbGlzdGVkOiBib29sZWFuLFxuICAgIGltcG9ydFN0YXRlOiBNZWRpYUltcG9ydFN0YXRlLFxuICAgIGltcG9ydE1lc3NhZ2U/OiBzdHJpbmcsXG4gICAgc3RhdHVzOiBNZWRpYUluZ2VzdGlvblN0YXR1cyxcbiAgICByZWplY3Rpb25SZWFzb24/OiBzdHJpbmcsXG4gICAgc3VibWl0dGVkQnk/OiBzdHJpbmcsXG4gICAgc3VibWl0dGVkRGF0ZT86IG51bWJlcixcbiAgICByZXZpZXdlZEJ5Pzogc3RyaW5nLFxuICAgIHJldmlld2VkRGF0ZT86IG51bWJlcixcbiAgICBtb2RpZmllZERhdGU6IG51bWJlcixcbiAgICAvKiogRGlzcGxheSBuYW1lIG9mIHRoZSBjcmVhdGluZyBhcnRpc3QuICovXG4gICAgYXJ0aXN0Pzogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIHBsYWluIHRleHQgdGl0bGUgb2YgdGhpcyBtZWRpYSBvYmplY3QuXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIE1lZGlhQnVuZGxlI2NvbnRlbnRNZXRhZGF0YVxuICAgICAqL1xuICAgIHRpdGxlPzogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIHBsYWluIHRleHQgZGVzY3JpcHRpb24uXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIE1lZGlhQnVuZGxlI2NvbnRlbnRNZXRhZGF0YVxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCBsb2NhbGUuICovXG4gICAgbG9jYWxlPzogc3RyaW5nLFxuICAgIC8qKiBJbWFnZSBpcyBzdWl0YWJsZSBhcyBhIGJhY2tncm91bmQuICovXG4gICAgYmFja2dyb3VuZDogYm9vbGVhbixcbiAgICAvKiogSW1hZ2UgaXMgY3V0b3V0IChpc29sYXRlZCBvbiB0cmFuc3BhcmVudCBiYWNrZ3JvdW5kKS4gKi9cbiAgICBjdXRvdXQ6IGJvb2xlYW4sXG4gICAgLyoqIEltYWdlIGlzIGlzb2xhdGVkIChpc29sYXRlZCBvbiBzb2xpZCBiYWNrZ3JvdW5kKS4gKi9cbiAgICBpc29sYXRlZDogYm9vbGVhbixcbiAgICAvKiogSW1hZ2UgY2FuIGhvbGQgYSBwaG90by4gKi9cbiAgICBwaG90b2hvbGRlcjogYm9vbGVhbixcbiAgICAvKiogSW1hZ2UgY2FuIGhvbGQgdGV4dC4gKi9cbiAgICB0ZXh0aG9sZGVyOiBib29sZWFuLFxuICAgIC8qKiBJbWFnZSBzaG91bGQgYmUgcmVwZWF0ZWQgcmF0aGVyIHRoYW4gc2NhbGVkLiAqL1xuICAgIHJlcGVhdGluZzogYm9vbGVhbixcbiAgICAvKiogSW1hZ2UgY2FuIGJlIHJlY29sb3JlZC4gKi9cbiAgICByZWNvbG9yYWJsZTogYm9vbGVhbixcbiAgICAvKiogUHJlZmVycmVkIGNvbG9yc3BhY2UgKHNSR0Igb3IgQWRvYmUgUkdCKS4gKi9cbiAgICBjb2xvclNwYWNlPzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCBxdWFsaXR5IHNjb3JlIFsxLDRdLiAqL1xuICAgIHF1YWxpdHk/OiBudW1iZXIsXG4gICAgLyoqIEFnZSByYXRpbmcgb2YgdGhlIG1lZGlhLiAqL1xuICAgIGFnZVJhdGluZz86IE1lZGlhQWdlUmF0aW5nLFxuICAgIC8qKlxuICAgICAqIHRoZSBtb3N0IHNhbGllbnQga2V5d29yZHNcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgTWVkaWFCdW5kbGUjY29udGVudE1ldGFkYXRhXG4gICAgICovXG4gICAgc3VwZXJLZXl3b3Jkcz86IHJlYWRvbmx5IExvY2FsaXplZFN0cmluZ1tdLFxuICAgIC8qKlxuICAgICAqIENvbnRlbnQga2V5d29yZHMuXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIE1lZGlhQnVuZGxlI2NvbnRlbnRNZXRhZGF0YVxuICAgICAqL1xuICAgIGtleXdvcmRzPzogcmVhZG9ubHkgTG9jYWxpemVkU3RyaW5nW10sXG4gICAgLyoqIFRoZSBmaWxlcyB1c2VkIHRvIGdlbmVyYXRlIHRoZSBtZWRpYSBmaWxlcyBmb3IgdGhpcyBtZWRpYSBpdGVtLiAqL1xuICAgIHByb2Nlc3NlZEZpbGVzPzogcmVhZG9ubHkgUHJvY2Vzc2VkRmlsZVtdLFxuICAgIC8qKlxuICAgICAqIFRoZSBmaWxlcyBmb3IgdGhpcyBtZWRpYSBpdGVtLlxuICAgICAqIFRPRE8obWVkaWEtdGVhbSkgLSBSZW5hbWUgZmlsZXNfIHRvIGZpbGVzIGFmdGVyIDE2LzEwLzIwMTkgW0NBLTE2MjE5XVxuICAgICAqL1xuICAgIGZpbGVzXz86IHJlYWRvbmx5IE1lZGlhRmlsZVtdLFxuICAgIC8qKiBPcHRpb25hbCBsaXN0IG9mIGNvbXBvbmVudCBtZWRpYSwgaWYgdGhpcyBtZWRpYSBpdGVtIGhhcyBjb21wb25lbnQgbWVkaWEuICovXG4gICAgY29tcG9uZW50TWVkaWE/OiByZWFkb25seSBNZWRpYVJlZltdLFxuICAgIC8qKiBPcHRpb25hbCBtZXRhZGF0YSBmb3IgZm9udCBtZWRpYS4gUHJlc2VudCBpZiB0aGlzIG1lZGlhIGl0ZW0gaXMgb2YgdHlwZSBmb250LiAqL1xuICAgIGZvbnRNZXRhZGF0YT86IEZvbnRNZXRhZGF0YSxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBtZXRhZGF0YSBmb3IgcmVjb2xvcmFibGUgdmVjdG9yIGltYWdlcyBzdG9yZWQgYXMgc3ByaXRlc2hlZXRzLlxuICAgICAqIFByZXNlbnQgaWYgdGhpcyBtZWRpYSBpdGVtIGhhcyBhIHNwcml0ZXNoZWV0IGZvciBTQ1JFRU4gcXVhbGl0eS5cbiAgICAgKi9cbiAgICBzcHJpdGVzaGVldE1ldGFkYXRhPzogU3ByaXRlc2hlZXRNZXRhZGF0YSxcbiAgICAvKiogTGljZW5zaW5nICovXG4gICAgbGljZW5zaW5nOiBMaWNlbnNpbmcsXG4gICAgLyoqIE9wdGlvbmFsIGNvbnRlbnQgbWV0YWRhdGEuICovXG4gICAgY29udGVudE1ldGFkYXRhPzogQ29udGVudE1ldGFkYXRhLFxuICAgIC8qKiBPcHRpb25hbCBzaXplIG9mIHRoZSBub3JtYWxpemVkIGltcG9ydCBmaWxlIGluIGJ5dGVzLiAqL1xuICAgIGZpbGVTaXplPzogbnVtYmVyLFxuICAgIC8qKiBPcHRpb25hbCBjb2xvciBpbmZvIGZvciB0aGlzIGJ1bmRsZS4gKi9cbiAgICBjb2xvckluZm8/OiBNZWRpYUNvbG9ySW5mbyxcbiAgICAvKiogT3B0aW9uYWwgcXVhbGl0eSBtZXRhZGF0YSAqL1xuICAgIHF1YWxpdHlNZXRhZGF0YT86IFF1YWxpdHlNZXRhZGF0YSxcbiAgICAvKiogT3B0aW9uYWwgTWFwIG9mIGxvY2FsaXplZCBtZXRhZGF0YS4gS2V5IGlzIGxvY2FsZSAqL1xuICAgIGxvY2FsaXplZE1ldGFkYXRhPzogUmVhZG9ubHlNYXA8c3RyaW5nLCBMb2NhbGl6ZWRNZXRhZGF0YT4sXG4gICAgLyoqIE9wdGlvbmFsIGFydGlzdCBtZXRhZGF0YSAqL1xuICAgIGFydGlzdE1ldGFkYXRhPzogQXJ0aXN0TWV0YWRhdGEsXG4gIH0pIHtcbiAgICB0aGlzLnZlcnNpb24gPSBvcHRzLnZlcnNpb247XG4gICAgdGhpcy5pbXBvcnRWZXJzaW9uID0gb3B0cy5pbXBvcnRWZXJzaW9uO1xuICAgIC8qKiBPcHRpb25hbCB0ZW1wb3JhcnkgdXJsIHRvIGltcG9ydCBmaWxlLiAqL1xuICAgIHRoaXMuaW1wb3J0RmlsZVVybCA9IG9wdHMuaW1wb3J0RmlsZVVybDtcbiAgICAvKiogSWYgbWVkaWEgaXMgYSBkZXNpZ24sIHRoZSB2ZXJzaW9uIG9mIHRoZSBkZXNpZ24uICovXG4gICAgdGhpcy5kZXNpZ25WZXJzaW9uID0gb3B0cy5kZXNpZ25WZXJzaW9uO1xuICAgIC8qKlxuICAgICAqIElmIHRoZSBtZWRpYSBpcyBhIGRlc2lnbiwgdGhlIGRlc2lnbi10eXBlIG9mIHRoZSBkZXNpZ24uXG4gICAgICogbm90ZTogd2lsbCBiZSBudWxsIHVudGlsIG1pZ3JhdGlvbiBoYXMgYmVlbiBydW5cbiAgICAgKi9cbiAgICB0aGlzLmRlc2lnblR5cGUgPSBvcHRzLmRlc2lnblR5cGU7XG4gICAgLyoqIElmIG1lZGlhIGlzIGEgZGVzaWduLCB0aGUgc2NoZW1hIHZlcnNpb24gb2YgdGhlIGRlc2lnbi4gKi9cbiAgICB0aGlzLmRlc2lnblNjaGVtYVZlcnNpb24gPSBvcHRzLmRlc2lnblNjaGVtYVZlcnNpb247XG4gICAgLyoqXG4gICAgICogVHJ1ZSBpZiB0aGlzIG1lZGlhIGlzICdsaXN0ZWQnLCBpLmUuIGRlc3RpbmVkIGZvciwgb3IgaW4sIHRoZSBtZWRpYSBsaWJyYXJ5LiBXaGVuIGZhbHNlLFxuICAgICAqIHRoaXMgbWVkaWEgd2lsbCBub3QgYmUgaW5jbHVkZWQgaW4gdGhlIHNlYXJjaCBpbmRleC5cbiAgICAgKi9cbiAgICB0aGlzLmxpc3RlZCA9IG9wdHMubGlzdGVkO1xuICAgIHRoaXMuaW1wb3J0U3RhdGUgPSBvcHRzLmltcG9ydFN0YXRlO1xuICAgIHRoaXMuaW1wb3J0TWVzc2FnZSA9IG9wdHMuaW1wb3J0TWVzc2FnZTtcbiAgICB0aGlzLnN0YXR1cyA9IG9wdHMuc3RhdHVzO1xuICAgIHRoaXMucmVqZWN0aW9uUmVhc29uID0gb3B0cy5yZWplY3Rpb25SZWFzb247XG4gICAgdGhpcy5zdWJtaXR0ZWRCeSA9IG9wdHMuc3VibWl0dGVkQnk7XG4gICAgdGhpcy5zdWJtaXR0ZWREYXRlID0gb3B0cy5zdWJtaXR0ZWREYXRlO1xuICAgIHRoaXMucmV2aWV3ZWRCeSA9IG9wdHMucmV2aWV3ZWRCeTtcbiAgICB0aGlzLnJldmlld2VkRGF0ZSA9IG9wdHMucmV2aWV3ZWREYXRlO1xuICAgIHRoaXMubW9kaWZpZWREYXRlID0gb3B0cy5tb2RpZmllZERhdGU7XG4gICAgLyoqIERpc3BsYXkgbmFtZSBvZiB0aGUgY3JlYXRpbmcgYXJ0aXN0LiAqL1xuICAgIHRoaXMuYXJ0aXN0ID0gb3B0cy5hcnRpc3Q7XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgcGxhaW4gdGV4dCB0aXRsZSBvZiB0aGlzIG1lZGlhIG9iamVjdC5cbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgTWVkaWFCdW5kbGUjY29udGVudE1ldGFkYXRhXG4gICAgICovXG4gICAgdGhpcy50aXRsZSA9IG9wdHMudGl0bGU7XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgcGxhaW4gdGV4dCBkZXNjcmlwdGlvbi5cbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgTWVkaWFCdW5kbGUjY29udGVudE1ldGFkYXRhXG4gICAgICovXG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdHMuZGVzY3JpcHRpb247XG4gICAgLyoqIE9wdGlvbmFsIGxvY2FsZS4gKi9cbiAgICB0aGlzLmxvY2FsZSA9IG9wdHMubG9jYWxlO1xuICAgIC8qKiBJbWFnZSBpcyBzdWl0YWJsZSBhcyBhIGJhY2tncm91bmQuICovXG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gb3B0cy5iYWNrZ3JvdW5kO1xuICAgIC8qKiBJbWFnZSBpcyBjdXRvdXQgKGlzb2xhdGVkIG9uIHRyYW5zcGFyZW50IGJhY2tncm91bmQpLiAqL1xuICAgIHRoaXMuY3V0b3V0ID0gb3B0cy5jdXRvdXQ7XG4gICAgLyoqIEltYWdlIGlzIGlzb2xhdGVkIChpc29sYXRlZCBvbiBzb2xpZCBiYWNrZ3JvdW5kKS4gKi9cbiAgICB0aGlzLmlzb2xhdGVkID0gb3B0cy5pc29sYXRlZDtcbiAgICAvKiogSW1hZ2UgY2FuIGhvbGQgYSBwaG90by4gKi9cbiAgICB0aGlzLnBob3RvaG9sZGVyID0gb3B0cy5waG90b2hvbGRlcjtcbiAgICAvKiogSW1hZ2UgY2FuIGhvbGQgdGV4dC4gKi9cbiAgICB0aGlzLnRleHRob2xkZXIgPSBvcHRzLnRleHRob2xkZXI7XG4gICAgLyoqIEltYWdlIHNob3VsZCBiZSByZXBlYXRlZCByYXRoZXIgdGhhbiBzY2FsZWQuICovXG4gICAgdGhpcy5yZXBlYXRpbmcgPSBvcHRzLnJlcGVhdGluZztcbiAgICAvKiogSW1hZ2UgY2FuIGJlIHJlY29sb3JlZC4gKi9cbiAgICB0aGlzLnJlY29sb3JhYmxlID0gb3B0cy5yZWNvbG9yYWJsZTtcbiAgICAvKiogUHJlZmVycmVkIGNvbG9yc3BhY2UgKHNSR0Igb3IgQWRvYmUgUkdCKS4gKi9cbiAgICB0aGlzLmNvbG9yU3BhY2UgPSBvcHRzLmNvbG9yU3BhY2U7XG4gICAgLyoqIE9wdGlvbmFsIHF1YWxpdHkgc2NvcmUgWzEsNF0uICovXG4gICAgdGhpcy5xdWFsaXR5ID0gb3B0cy5xdWFsaXR5O1xuICAgIC8qKiBBZ2UgcmF0aW5nIG9mIHRoZSBtZWRpYS4gKi9cbiAgICB0aGlzLmFnZVJhdGluZyA9IG9wdHMuYWdlUmF0aW5nO1xuICAgIC8qKlxuICAgICAqIHRoZSBtb3N0IHNhbGllbnQga2V5d29yZHNcbiAgICAgKiBAZGVwcmVjYXRlZCBVc2UgTWVkaWFCdW5kbGUjY29udGVudE1ldGFkYXRhXG4gICAgICovXG4gICAgdGhpcy5zdXBlcktleXdvcmRzID0gb3B0cy5zdXBlcktleXdvcmRzIHx8IFtdO1xuICAgIC8qKlxuICAgICAqIENvbnRlbnQga2V5d29yZHMuXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIE1lZGlhQnVuZGxlI2NvbnRlbnRNZXRhZGF0YVxuICAgICAqL1xuICAgIHRoaXMua2V5d29yZHMgPSBvcHRzLmtleXdvcmRzIHx8IFtdO1xuICAgIC8qKiBUaGUgZmlsZXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgbWVkaWEgZmlsZXMgZm9yIHRoaXMgbWVkaWEgaXRlbS4gKi9cbiAgICB0aGlzLnByb2Nlc3NlZEZpbGVzID0gb3B0cy5wcm9jZXNzZWRGaWxlcyB8fCBbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgZmlsZXMgZm9yIHRoaXMgbWVkaWEgaXRlbS5cbiAgICAgKiBUT0RPKG1lZGlhLXRlYW0pIC0gUmVuYW1lIGZpbGVzXyB0byBmaWxlcyBhZnRlciAxNi8xMC8yMDE5IFtDQS0xNjIxOV1cbiAgICAgKi9cbiAgICB0aGlzLmZpbGVzXyA9IG9wdHMuZmlsZXNfIHx8IFtdO1xuICAgIC8qKiBPcHRpb25hbCBsaXN0IG9mIGNvbXBvbmVudCBtZWRpYSwgaWYgdGhpcyBtZWRpYSBpdGVtIGhhcyBjb21wb25lbnQgbWVkaWEuICovXG4gICAgdGhpcy5jb21wb25lbnRNZWRpYSA9IG9wdHMuY29tcG9uZW50TWVkaWEgfHwgW107XG4gICAgLyoqIE9wdGlvbmFsIG1ldGFkYXRhIGZvciBmb250IG1lZGlhLiBQcmVzZW50IGlmIHRoaXMgbWVkaWEgaXRlbSBpcyBvZiB0eXBlIGZvbnQuICovXG4gICAgdGhpcy5mb250TWV0YWRhdGEgPSBvcHRzLmZvbnRNZXRhZGF0YTtcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBtZXRhZGF0YSBmb3IgcmVjb2xvcmFibGUgdmVjdG9yIGltYWdlcyBzdG9yZWQgYXMgc3ByaXRlc2hlZXRzLlxuICAgICAqIFByZXNlbnQgaWYgdGhpcyBtZWRpYSBpdGVtIGhhcyBhIHNwcml0ZXNoZWV0IGZvciBTQ1JFRU4gcXVhbGl0eS5cbiAgICAgKi9cbiAgICB0aGlzLnNwcml0ZXNoZWV0TWV0YWRhdGEgPSBvcHRzLnNwcml0ZXNoZWV0TWV0YWRhdGE7XG4gICAgLyoqIExpY2Vuc2luZyAqL1xuICAgIHRoaXMubGljZW5zaW5nID0gb3B0cy5saWNlbnNpbmc7XG4gICAgLyoqIE9wdGlvbmFsIGNvbnRlbnQgbWV0YWRhdGEuICovXG4gICAgdGhpcy5jb250ZW50TWV0YWRhdGEgPSBvcHRzLmNvbnRlbnRNZXRhZGF0YTtcbiAgICAvKiogT3B0aW9uYWwgc2l6ZSBvZiB0aGUgbm9ybWFsaXplZCBpbXBvcnQgZmlsZSBpbiBieXRlcy4gKi9cbiAgICB0aGlzLmZpbGVTaXplID0gb3B0cy5maWxlU2l6ZTtcbiAgICAvKiogT3B0aW9uYWwgY29sb3IgaW5mbyBmb3IgdGhpcyBidW5kbGUuICovXG4gICAgdGhpcy5jb2xvckluZm8gPSBvcHRzLmNvbG9ySW5mbztcbiAgICAvKiogT3B0aW9uYWwgcXVhbGl0eSBtZXRhZGF0YSAqL1xuICAgIHRoaXMucXVhbGl0eU1ldGFkYXRhID0gb3B0cy5xdWFsaXR5TWV0YWRhdGE7XG4gICAgLyoqIE9wdGlvbmFsIE1hcCBvZiBsb2NhbGl6ZWQgbWV0YWRhdGEuIEtleSBpcyBsb2NhbGUgKi9cbiAgICB0aGlzLmxvY2FsaXplZE1ldGFkYXRhID0gb3B0cy5sb2NhbGl6ZWRNZXRhZGF0YSB8fCBuZXcgTWFwKCk7XG4gICAgLyoqIE9wdGlvbmFsIGFydGlzdCBtZXRhZGF0YSAqL1xuICAgIHRoaXMuYXJ0aXN0TWV0YWRhdGEgPSBvcHRzLmFydGlzdE1ldGFkYXRhO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBNZWRpYUJ1bmRsZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd2ZXJzaW9uJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcigndmVyc2lvbicsIG0udmVyc2lvbiksXG4gICAgICAnaW1wb3J0VmVyc2lvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydFZlcnNpb24nLCBtLmltcG9ydFZlcnNpb24pLFxuICAgICAgJ2ltcG9ydEZpbGVVcmwnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbXBvcnRGaWxlVXJsJywgbS5pbXBvcnRGaWxlVXJsKSxcbiAgICAgICdkZXNpZ25WZXJzaW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignZGVzaWduVmVyc2lvbicsIG0uZGVzaWduVmVyc2lvbiksXG4gICAgICAnZGVzaWduVHlwZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2lnblR5cGUnLCBtLmRlc2lnblR5cGUpLFxuICAgICAgJ2Rlc2lnblNjaGVtYVZlcnNpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkZXNpZ25TY2hlbWFWZXJzaW9uJywgbS5kZXNpZ25TY2hlbWFWZXJzaW9uKSxcbiAgICAgICdsaXN0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGlzdGVkJywgbS5saXN0ZWQpLFxuICAgICAgJ2ltcG9ydFN0YXRlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oTWVkaWFJbXBvcnRTdGF0ZVV0aWwuc2VyaWFsaXplLCAnaW1wb3J0U3RhdGUnLCBtLmltcG9ydFN0YXRlKSxcbiAgICAgICdpbXBvcnRNZXNzYWdlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0TWVzc2FnZScsIG0uaW1wb3J0TWVzc2FnZSksXG4gICAgICAnc3RhdHVzJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oTWVkaWFJbmdlc3Rpb25TdGF0dXNVdGlsLnNlcmlhbGl6ZSwgJ3N0YXR1cycsIG0uc3RhdHVzKSxcbiAgICAgICdyZWplY3Rpb25SZWFzb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWplY3Rpb25SZWFzb24nLCBtLnJlamVjdGlvblJlYXNvbiksXG4gICAgICAnc3VibWl0dGVkQnknOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdzdWJtaXR0ZWRCeScsIG0uc3VibWl0dGVkQnkpLFxuICAgICAgJ3N1Ym1pdHRlZERhdGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdzdWJtaXR0ZWREYXRlJywgbS5zdWJtaXR0ZWREYXRlKSxcbiAgICAgICdyZXZpZXdlZEJ5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmV2aWV3ZWRCeScsIG0ucmV2aWV3ZWRCeSksXG4gICAgICAncmV2aWV3ZWREYXRlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigncmV2aWV3ZWREYXRlJywgbS5yZXZpZXdlZERhdGUpLFxuICAgICAgJ21vZGlmaWVkRGF0ZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ21vZGlmaWVkRGF0ZScsIG0ubW9kaWZpZWREYXRlKSxcbiAgICAgICdhcnRpc3QnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdhcnRpc3QnLCBtLmFydGlzdCksXG4gICAgICAndGl0bGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd0aXRsZScsIG0udGl0bGUpLFxuICAgICAgJ2Rlc2NyaXB0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzY3JpcHRpb24nLCBtLmRlc2NyaXB0aW9uKSxcbiAgICAgICdsb2NhbGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBtLmxvY2FsZSksXG4gICAgICAnYmFja2dyb3VuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdiYWNrZ3JvdW5kJywgbS5iYWNrZ3JvdW5kKSxcbiAgICAgICdjdXRvdXQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY3V0b3V0JywgbS5jdXRvdXQpLFxuICAgICAgJ2lzb2xhdGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2lzb2xhdGVkJywgbS5pc29sYXRlZCksXG4gICAgICAncGhvdG9ob2xkZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncGhvdG9ob2xkZXInLCBtLnBob3RvaG9sZGVyKSxcbiAgICAgICd0ZXh0aG9sZGVyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3RleHRob2xkZXInLCBtLnRleHRob2xkZXIpLFxuICAgICAgJ3JlcGVhdGluZyc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZXBlYXRpbmcnLCBtLnJlcGVhdGluZyksXG4gICAgICAncmVjb2xvcmFibGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVjb2xvcmFibGUnLCBtLnJlY29sb3JhYmxlKSxcbiAgICAgICdjb2xvclNwYWNlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29sb3JTcGFjZScsIG0uY29sb3JTcGFjZSksXG4gICAgICAncXVhbGl0eSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3F1YWxpdHknLCBtLnF1YWxpdHkpLFxuICAgICAgJ2FnZVJhdGluZyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKE1lZGlhQWdlUmF0aW5nVXRpbC5zZXJpYWxpemUsICdhZ2VSYXRpbmcnLCBtLmFnZVJhdGluZyksXG4gICAgICAnc3VwZXJLZXl3b3Jkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTG9jYWxpemVkU3RyaW5nLnNlcmlhbGl6ZSwgJ3N1cGVyS2V5d29yZHMnLCBtLnN1cGVyS2V5d29yZHMpLFxuICAgICAgJ2tleXdvcmRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChMb2NhbGl6ZWRTdHJpbmcuc2VyaWFsaXplLCAna2V5d29yZHMnLCBtLmtleXdvcmRzKSxcbiAgICAgICdwcm9jZXNzZWRGaWxlcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoUHJvY2Vzc2VkRmlsZS5zZXJpYWxpemUsICdwcm9jZXNzZWRGaWxlcycsIG0ucHJvY2Vzc2VkRmlsZXMpLFxuICAgICAgJ2ZpbGVzXyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTWVkaWFGaWxlLnNlcmlhbGl6ZSwgJ2ZpbGVzXycsIG0uZmlsZXNfKSxcbiAgICAgICdjb21wb25lbnRNZWRpYSc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTWVkaWFSZWYuc2VyaWFsaXplLCAnY29tcG9uZW50TWVkaWEnLCBtLmNvbXBvbmVudE1lZGlhKSxcbiAgICAgICdmb250TWV0YWRhdGEnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEZvbnRNZXRhZGF0YS5zZXJpYWxpemUsICdmb250TWV0YWRhdGEnLCBtLmZvbnRNZXRhZGF0YSksXG4gICAgICAnc3ByaXRlc2hlZXRNZXRhZGF0YSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoU3ByaXRlc2hlZXRNZXRhZGF0YS5zZXJpYWxpemUsICdzcHJpdGVzaGVldE1ldGFkYXRhJywgbS5zcHJpdGVzaGVldE1ldGFkYXRhKSxcbiAgICAgICdsaWNlbnNpbmcnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShMaWNlbnNpbmdVdGlsLnNlcmlhbGl6ZSwgJ2xpY2Vuc2luZycsIG0ubGljZW5zaW5nKSxcbiAgICAgICdjb250ZW50TWV0YWRhdGEnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KENvbnRlbnRNZXRhZGF0YS5zZXJpYWxpemUsICdjb250ZW50TWV0YWRhdGEnLCBtLmNvbnRlbnRNZXRhZGF0YSksXG4gICAgICAnZmlsZVNpemUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdmaWxlU2l6ZScsIG0uZmlsZVNpemUpLFxuICAgICAgJ2NvbG9ySW5mbyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoTWVkaWFDb2xvckluZm8uc2VyaWFsaXplLCAnY29sb3JJbmZvJywgbS5jb2xvckluZm8pLFxuICAgICAgJ3F1YWxpdHlNZXRhZGF0YSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoUXVhbGl0eU1ldGFkYXRhLnNlcmlhbGl6ZSwgJ3F1YWxpdHlNZXRhZGF0YScsIG0ucXVhbGl0eU1ldGFkYXRhKSxcbiAgICAgICdsb2NhbGl6ZWRNZXRhZGF0YSc6IFNlcmlhbGl6YXRpb24uc3RyaW5nT2JqZWN0TWFwKExvY2FsaXplZE1ldGFkYXRhLnNlcmlhbGl6ZSwgJ2xvY2FsaXplZE1ldGFkYXRhJywgbS5sb2NhbGl6ZWRNZXRhZGF0YSksXG4gICAgICAnYXJ0aXN0TWV0YWRhdGEnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEFydGlzdE1ldGFkYXRhLnNlcmlhbGl6ZSwgJ2FydGlzdE1ldGFkYXRhJywgbS5hcnRpc3RNZXRhZGF0YSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBNZWRpYUJ1bmRsZSB7XG4gICAgcmV0dXJuIG5ldyBNZWRpYUJ1bmRsZSh7XG4gICAgICB2ZXJzaW9uOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3ZlcnNpb24nLCBvKSxcbiAgICAgIGltcG9ydFZlcnNpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0VmVyc2lvbicsIG8pLFxuICAgICAgaW1wb3J0RmlsZVVybDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbXBvcnRGaWxlVXJsJywgbyksXG4gICAgICBkZXNpZ25WZXJzaW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2Rlc2lnblZlcnNpb24nLCBvKSxcbiAgICAgIGRlc2lnblR5cGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzaWduVHlwZScsIG8pLFxuICAgICAgZGVzaWduU2NoZW1hVmVyc2lvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkZXNpZ25TY2hlbWFWZXJzaW9uJywgbyksXG4gICAgICBsaXN0ZWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2xpc3RlZCcsIG8pLFxuICAgICAgaW1wb3J0U3RhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08TWVkaWFJbXBvcnRTdGF0ZT4oTWVkaWFJbXBvcnRTdGF0ZVV0aWwuZGVzZXJpYWxpemUsICdpbXBvcnRTdGF0ZScsIG8pLFxuICAgICAgaW1wb3J0TWVzc2FnZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbXBvcnRNZXNzYWdlJywgbyksXG4gICAgICBzdGF0dXM6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW08TWVkaWFJbmdlc3Rpb25TdGF0dXM+KE1lZGlhSW5nZXN0aW9uU3RhdHVzVXRpbC5kZXNlcmlhbGl6ZSwgJ3N0YXR1cycsIG8pLFxuICAgICAgcmVqZWN0aW9uUmVhc29uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlamVjdGlvblJlYXNvbicsIG8pLFxuICAgICAgc3VibWl0dGVkQnk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc3VibWl0dGVkQnknLCBvKSxcbiAgICAgIHN1Ym1pdHRlZERhdGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignc3VibWl0dGVkRGF0ZScsIG8pLFxuICAgICAgcmV2aWV3ZWRCeTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZXZpZXdlZEJ5JywgbyksXG4gICAgICByZXZpZXdlZERhdGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigncmV2aWV3ZWREYXRlJywgbyksXG4gICAgICBtb2RpZmllZERhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbW9kaWZpZWREYXRlJywgbyksXG4gICAgICBhcnRpc3Q6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYXJ0aXN0JywgbyksXG4gICAgICB0aXRsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd0aXRsZScsIG8pLFxuICAgICAgZGVzY3JpcHRpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzY3JpcHRpb24nLCBvKSxcbiAgICAgIGxvY2FsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBvKSxcbiAgICAgIGJhY2tncm91bmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2JhY2tncm91bmQnLCBvKSxcbiAgICAgIGN1dG91dDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY3V0b3V0JywgbyksXG4gICAgICBpc29sYXRlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaXNvbGF0ZWQnLCBvKSxcbiAgICAgIHBob3RvaG9sZGVyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdwaG90b2hvbGRlcicsIG8pLFxuICAgICAgdGV4dGhvbGRlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndGV4dGhvbGRlcicsIG8pLFxuICAgICAgcmVwZWF0aW5nOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZXBlYXRpbmcnLCBvKSxcbiAgICAgIHJlY29sb3JhYmxlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZWNvbG9yYWJsZScsIG8pLFxuICAgICAgY29sb3JTcGFjZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb2xvclNwYWNlJywgbyksXG4gICAgICBxdWFsaXR5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3F1YWxpdHknLCBvKSxcbiAgICAgIGFnZVJhdGluZzogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bTxNZWRpYUFnZVJhdGluZz4oTWVkaWFBZ2VSYXRpbmdVdGlsLmRlc2VyaWFsaXplLCAnYWdlUmF0aW5nJywgbyksXG4gICAgICBzdXBlcktleXdvcmRzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTG9jYWxpemVkU3RyaW5nLmRlc2VyaWFsaXplLCAnc3VwZXJLZXl3b3JkcycsIG8pLFxuICAgICAga2V5d29yZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChMb2NhbGl6ZWRTdHJpbmcuZGVzZXJpYWxpemUsICdrZXl3b3JkcycsIG8pLFxuICAgICAgcHJvY2Vzc2VkRmlsZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChQcm9jZXNzZWRGaWxlLmRlc2VyaWFsaXplLCAncHJvY2Vzc2VkRmlsZXMnLCBvKSxcbiAgICAgIGZpbGVzXzogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KE1lZGlhRmlsZS5kZXNlcmlhbGl6ZSwgJ2ZpbGVzXycsIG8pLFxuICAgICAgY29tcG9uZW50TWVkaWE6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChNZWRpYVJlZi5kZXNlcmlhbGl6ZSwgJ2NvbXBvbmVudE1lZGlhJywgbyksXG4gICAgICBmb250TWV0YWRhdGE6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChGb250TWV0YWRhdGEuZGVzZXJpYWxpemUsICdmb250TWV0YWRhdGEnLCBvKSxcbiAgICAgIHNwcml0ZXNoZWV0TWV0YWRhdGE6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChTcHJpdGVzaGVldE1ldGFkYXRhLmRlc2VyaWFsaXplLCAnc3ByaXRlc2hlZXRNZXRhZGF0YScsIG8pLFxuICAgICAgbGljZW5zaW5nOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPExpY2Vuc2luZz4oTGljZW5zaW5nVXRpbC5kZXNlcmlhbGl6ZSwgJ2xpY2Vuc2luZycsIG8pLFxuICAgICAgY29udGVudE1ldGFkYXRhOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQ29udGVudE1ldGFkYXRhLmRlc2VyaWFsaXplLCAnY29udGVudE1ldGFkYXRhJywgbyksXG4gICAgICBmaWxlU2l6ZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdmaWxlU2l6ZScsIG8pLFxuICAgICAgY29sb3JJbmZvOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoTWVkaWFDb2xvckluZm8uZGVzZXJpYWxpemUsICdjb2xvckluZm8nLCBvKSxcbiAgICAgIHF1YWxpdHlNZXRhZGF0YTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFF1YWxpdHlNZXRhZGF0YS5kZXNlcmlhbGl6ZSwgJ3F1YWxpdHlNZXRhZGF0YScsIG8pLFxuICAgICAgbG9jYWxpemVkTWV0YWRhdGE6IERlc2VyaWFsaXphdGlvbi5zdHJpbmdPYmplY3RNYXAoTG9jYWxpemVkTWV0YWRhdGEuZGVzZXJpYWxpemUsICdsb2NhbGl6ZWRNZXRhZGF0YScsIG8pLFxuICAgICAgYXJ0aXN0TWV0YWRhdGE6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChBcnRpc3RNZXRhZGF0YS5kZXNlcmlhbGl6ZSwgJ2FydGlzdE1ldGFkYXRhJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIExvY2FsaXplZFN0cmluZyB7XG4gIHJlYWRvbmx5IGxvY2FsZTogc3RyaW5nO1xuICByZWFkb25seSB0ZXh0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGxvY2FsZTogc3RyaW5nLFxuICAgIHRleHQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMubG9jYWxlID0gb3B0cy5sb2NhbGU7XG4gICAgdGhpcy50ZXh0ID0gb3B0cy50ZXh0O1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBMb2NhbGl6ZWRTdHJpbmcpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbG9jYWxlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnbG9jYWxlJywgbS5sb2NhbGUpLFxuICAgICAgJ3RleHQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0ZXh0JywgbS50ZXh0KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IExvY2FsaXplZFN0cmluZyB7XG4gICAgcmV0dXJuIG5ldyBMb2NhbGl6ZWRTdHJpbmcoe1xuICAgICAgbG9jYWxlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2xvY2FsZScsIG8pLFxuICAgICAgdGV4dDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0ZXh0JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb2Nlc3NlZEZpbGUge1xuICByZWFkb25seSBidWNrZXQ6IHN0cmluZztcbiAgcmVhZG9ubHkga2V5OiBzdHJpbmc7XG4gIHJlYWRvbmx5IHBhZ2U6IG51bWJlcjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgYnVja2V0OiBzdHJpbmcsXG4gICAga2V5OiBzdHJpbmcsXG4gICAgcGFnZTogbnVtYmVyLFxuICB9KSB7XG4gICAgdGhpcy5idWNrZXQgPSBvcHRzLmJ1Y2tldDtcbiAgICB0aGlzLmtleSA9IG9wdHMua2V5O1xuICAgIHRoaXMucGFnZSA9IG9wdHMucGFnZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogUHJvY2Vzc2VkRmlsZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdidWNrZXQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdidWNrZXQnLCBtLmJ1Y2tldCksXG4gICAgICAna2V5JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygna2V5JywgbS5rZXkpLFxuICAgICAgJ3BhZ2UnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdwYWdlJywgbS5wYWdlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFByb2Nlc3NlZEZpbGUge1xuICAgIHJldHVybiBuZXcgUHJvY2Vzc2VkRmlsZSh7XG4gICAgICBidWNrZXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnVja2V0JywgbyksXG4gICAgICBrZXk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygna2V5JywgbyksXG4gICAgICBwYWdlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3BhZ2UnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9udE1ldGFkYXRhIHtcbiAgLyoqIEZvbnQgZmFtaWx5IG5hbWUsIGUuZy4gJ0hlbHZldGljYScgKi9cbiAgcmVhZG9ubHkgZmFtaWx5OiBzdHJpbmc7XG4gIC8qKiBGb250IHN0eWxlIG5hbWUsIGUuZy4gJ1VsdHJhIExpZ2h0IEJvbGQnICovXG4gIHJlYWRvbmx5IHN0eWxlOiBzdHJpbmc7XG4gIC8qKiBUcnVlIGlmIHRoZSBmb250IGlzIGl0YWxpYy1pc2ggKGkuZS4gaXRhbGljLCBvYmxpcXVlLCBzbGFudGVkLCBpbmNsaW5lZCwgZXRjKSAqL1xuICByZWFkb25seSBpdGFsaWM6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBBIG51bWJlciByZXByZXNlbnRpbmcgdGhlIHdlaWdodCBvZiBhIGZvbnQuIERlcml2ZWQgZnJvbSBzdHlsZS5cbiAgICogUmFuZ2U6IDAtMTBcbiAgICogMCBIYWlybGluZSwgKEV4dHJhfFVsdHJhKSBUaGluXG4gICAqIDEgVGhpblxuICAgKiAyIChFeHRyYXxVbHRyYSkgTGlnaHRcbiAgICogMyBMaWdodFxuICAgKiA0IE5vcm1hbCwgUmVndWxhciwgdW5rbm93blxuICAgKiA1IE1lZGl1bVxuICAgKiA2IChTZW1pfERlbWkpIEJvbGRcbiAgICogNyBCb2xkXG4gICAqIDggKEV4dHJhfFVsdHJhKSBCb2xkXG4gICAqIDkgSGVhdnksIEJsYWNrXG4gICAqIDEwIEV4dHJhIEJsYWNrXG4gICAqL1xuICByZWFkb25seSB3ZWlnaHQ6IG51bWJlcjtcbiAgLyoqIE9wdGlvbmFsIGZvbnQgZm91bmRyeS9tYW51ZmFjdHVyZXIgbmFtZSAqL1xuICByZWFkb25seSBtYW51ZmFjdHVyZXI6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEZvbnQgZmFtaWx5IG5hbWUsIGUuZy4gJ0hlbHZldGljYScgKi9cbiAgICBmYW1pbHk6IHN0cmluZyxcbiAgICAvKiogRm9udCBzdHlsZSBuYW1lLCBlLmcuICdVbHRyYSBMaWdodCBCb2xkJyAqL1xuICAgIHN0eWxlOiBzdHJpbmcsXG4gICAgLyoqIFRydWUgaWYgdGhlIGZvbnQgaXMgaXRhbGljLWlzaCAoaS5lLiBpdGFsaWMsIG9ibGlxdWUsIHNsYW50ZWQsIGluY2xpbmVkLCBldGMpICovXG4gICAgaXRhbGljOiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIEEgbnVtYmVyIHJlcHJlc2VudGluZyB0aGUgd2VpZ2h0IG9mIGEgZm9udC4gRGVyaXZlZCBmcm9tIHN0eWxlLlxuICAgICAqIFJhbmdlOiAwLTEwXG4gICAgICogMCBIYWlybGluZSwgKEV4dHJhfFVsdHJhKSBUaGluXG4gICAgICogMSBUaGluXG4gICAgICogMiAoRXh0cmF8VWx0cmEpIExpZ2h0XG4gICAgICogMyBMaWdodFxuICAgICAqIDQgTm9ybWFsLCBSZWd1bGFyLCB1bmtub3duXG4gICAgICogNSBNZWRpdW1cbiAgICAgKiA2IChTZW1pfERlbWkpIEJvbGRcbiAgICAgKiA3IEJvbGRcbiAgICAgKiA4IChFeHRyYXxVbHRyYSkgQm9sZFxuICAgICAqIDkgSGVhdnksIEJsYWNrXG4gICAgICogMTAgRXh0cmEgQmxhY2tcbiAgICAgKi9cbiAgICB3ZWlnaHQ6IG51bWJlcixcbiAgICAvKiogT3B0aW9uYWwgZm9udCBmb3VuZHJ5L21hbnVmYWN0dXJlciBuYW1lICovXG4gICAgbWFudWZhY3R1cmVyPzogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIEZvbnQgZmFtaWx5IG5hbWUsIGUuZy4gJ0hlbHZldGljYScgKi9cbiAgICB0aGlzLmZhbWlseSA9IG9wdHMuZmFtaWx5O1xuICAgIC8qKiBGb250IHN0eWxlIG5hbWUsIGUuZy4gJ1VsdHJhIExpZ2h0IEJvbGQnICovXG4gICAgdGhpcy5zdHlsZSA9IG9wdHMuc3R5bGU7XG4gICAgLyoqIFRydWUgaWYgdGhlIGZvbnQgaXMgaXRhbGljLWlzaCAoaS5lLiBpdGFsaWMsIG9ibGlxdWUsIHNsYW50ZWQsIGluY2xpbmVkLCBldGMpICovXG4gICAgdGhpcy5pdGFsaWMgPSBvcHRzLml0YWxpYztcbiAgICAvKipcbiAgICAgKiBBIG51bWJlciByZXByZXNlbnRpbmcgdGhlIHdlaWdodCBvZiBhIGZvbnQuIERlcml2ZWQgZnJvbSBzdHlsZS5cbiAgICAgKiBSYW5nZTogMC0xMFxuICAgICAqIDAgSGFpcmxpbmUsIChFeHRyYXxVbHRyYSkgVGhpblxuICAgICAqIDEgVGhpblxuICAgICAqIDIgKEV4dHJhfFVsdHJhKSBMaWdodFxuICAgICAqIDMgTGlnaHRcbiAgICAgKiA0IE5vcm1hbCwgUmVndWxhciwgdW5rbm93blxuICAgICAqIDUgTWVkaXVtXG4gICAgICogNiAoU2VtaXxEZW1pKSBCb2xkXG4gICAgICogNyBCb2xkXG4gICAgICogOCAoRXh0cmF8VWx0cmEpIEJvbGRcbiAgICAgKiA5IEhlYXZ5LCBCbGFja1xuICAgICAqIDEwIEV4dHJhIEJsYWNrXG4gICAgICovXG4gICAgdGhpcy53ZWlnaHQgPSBvcHRzLndlaWdodDtcbiAgICAvKiogT3B0aW9uYWwgZm9udCBmb3VuZHJ5L21hbnVmYWN0dXJlciBuYW1lICovXG4gICAgdGhpcy5tYW51ZmFjdHVyZXIgPSBvcHRzLm1hbnVmYWN0dXJlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRm9udE1ldGFkYXRhKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2ZhbWlseSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2ZhbWlseScsIG0uZmFtaWx5KSxcbiAgICAgICdzdHlsZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3N0eWxlJywgbS5zdHlsZSksXG4gICAgICAnaXRhbGljJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2l0YWxpYycsIG0uaXRhbGljKSxcbiAgICAgICd3ZWlnaHQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCd3ZWlnaHQnLCBtLndlaWdodCksXG4gICAgICAnbWFudWZhY3R1cmVyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbWFudWZhY3R1cmVyJywgbS5tYW51ZmFjdHVyZXIpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRm9udE1ldGFkYXRhIHtcbiAgICByZXR1cm4gbmV3IEZvbnRNZXRhZGF0YSh7XG4gICAgICBmYW1pbHk6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZmFtaWx5JywgbyksXG4gICAgICBzdHlsZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdzdHlsZScsIG8pLFxuICAgICAgaXRhbGljOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdpdGFsaWMnLCBvKSxcbiAgICAgIHdlaWdodDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCd3ZWlnaHQnLCBvKSxcbiAgICAgIG1hbnVmYWN0dXJlcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdtYW51ZmFjdHVyZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0TGljZW5zZWRNZWRpYVVybFJlcXVlc3Qge1xuICByZWFkb25seSBtZWRpYTogc3RyaW5nO1xuICByZWFkb25seSBxdWFsaXRpZXM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBtZWRpYTogc3RyaW5nLFxuICAgIHF1YWxpdGllcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICB9KSB7XG4gICAgdGhpcy5tZWRpYSA9IG9wdHMubWVkaWE7XG4gICAgdGhpcy5xdWFsaXRpZXMgPSBvcHRzLnF1YWxpdGllcyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0TGljZW5zZWRNZWRpYVVybFJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbWVkaWEnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZWRpYScsIG0ubWVkaWEpLFxuICAgICAgJ3F1YWxpdGllcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ3F1YWxpdGllcycsIG0ucXVhbGl0aWVzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldExpY2Vuc2VkTWVkaWFVcmxSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEdldExpY2Vuc2VkTWVkaWFVcmxSZXF1ZXN0KHtcbiAgICAgIG1lZGlhOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ21lZGlhJywgbyksXG4gICAgICBxdWFsaXRpZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygncXVhbGl0aWVzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldExpY2Vuc2VkTWVkaWFVcmxSZXNwb25zZSB7XG4gIHJlYWRvbmx5IHVybHM6IHJlYWRvbmx5IExpY2Vuc2VkTWVkaWFVcmxbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdXJscz86IHJlYWRvbmx5IExpY2Vuc2VkTWVkaWFVcmxbXSxcbiAgfSkge1xuICAgIHRoaXMudXJscyA9IG9wdHMudXJscyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0TGljZW5zZWRNZWRpYVVybFJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VybHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KExpY2Vuc2VkTWVkaWFVcmwuc2VyaWFsaXplLCAndXJscycsIG0udXJscyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRMaWNlbnNlZE1lZGlhVXJsUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0TGljZW5zZWRNZWRpYVVybFJlc3BvbnNlKHtcbiAgICAgIHVybHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChMaWNlbnNlZE1lZGlhVXJsLmRlc2VyaWFsaXplLCAndXJscycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRNZWRpYVJlcXVlc3Qge1xuICAvKiogSWYgc2V0LCBnZXRzIGEgbWVkaWEgb2JqZWN0IGJ5IGlkLiAqL1xuICByZWFkb25seSBpZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCBnZXRzIGEgbWVkaWEgb2JqZWN0IGJ5IGltcG9ydEJ1Y2tldC9pbXBvcnRLZXkuICovXG4gIHJlYWRvbmx5IGltcG9ydEJ1Y2tldDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc2V0LCBnZXRzIGEgbWVkaWEgb2JqZWN0IGJ5IGltcG9ydEtleS4gKi9cbiAgcmVhZG9ubHkgaW1wb3J0S2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBidW5kbGUgdmVyc2lvbjsgbnVsbCBmb3IgY3VycmVudC4gKi9cbiAgcmVhZG9ubHkgYnVuZGxlVmVyc2lvbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWxseSBpbmNsdWRlIHRoZSBpbXBvcnRlZCBidW5kbGUuICovXG4gIHJlYWRvbmx5IGltcG9ydGVkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWxseSBpbmNsdWRlIHRoZSBhcHByb3ZlZCBidW5kbGUuICovXG4gIHJlYWRvbmx5IGFwcHJvdmVkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICAvKiogV2hlbiB0cnVlLCBpbmNsdWRlIHRoZSBsYXRlc3Qgc3RhZ2luZyBidW5kbGUuICovXG4gIHJlYWRvbmx5IHN0YWdpbmc6IGJvb2xlYW47XG4gIC8qKiBTZXQgb2YgbWVkaWEgcHJvamVjdGlvbnMgdG8gaW5jbHVkZSBpbiByZXNwb25zZS4gKi9cbiAgcmVhZG9ubHkgcHJvamVjdGlvbjogcmVhZG9ubHkgTWVkaWFDb21wb25lbnRbXTtcbiAgLyoqIElmIHRoZSBmaWxlcyBhbmQgcHJpY2UgcHJvamVjdGlvbnMgYXJlIHJldHVybmVkLCBVUkxzIGZvciB0aGVzZSBxdWFsaXRpZXMgd2lsbCBiZSBtaW50ZWQuICovXG4gIHJlYWRvbmx5IG1pbnRVcmxzOiByZWFkb25seSBNZWRpYVF1YWxpdHlbXTtcbiAgLyoqIFdoZW4gdHJ1ZSwgaW5jbHVkZSBhIHVybCB0byB0aGUgZmlsZSBpbXBvcnRlZCBmb3IgdGhlIG1lZGlhIGJ1bmRsZS4gKi9cbiAgcmVhZG9ubHkgaW5jbHVkZUltcG9ydEZpbGVVcmw6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBJZiB0aGlzIGZpZWxkIGlzIE5PVCBudWxsIGFuZCBUSVRMRVMgYW5kIERFU0NSSVBUSU9OUyBwcm9qZWN0aW9ucyBhcmUgcmVxdWVzdGVkLFxuICAgKiB0aGVuIG1vZHVsZXMgaW4gcmVzcG9uc2Ugd2lsbCBiZSBmaWxsZWQgd2l0aCB0aGUgZmllbGRzIFwidGl0bGVcIiBhbmQgXCJkZXNjcmlwdGlvblwiIGZvclxuICAgKiB0aGUgbG9jYWxlIHJlcXVlc3RlZC5cbiAgICogXG4gICAqIElmIHRoaXMgZmllbGQgaXMgbnVsbCBhbmQgVElUTEVTIGFuZCBERVNDUklQVElPTlMgcHJvamVjdGlvbnMgYXJlIHJlcXVlc3RlZCxcbiAgICogdGhlbiBtb2R1bGVzIGluIHJlc3BvbnNlIHdpbGwgYmUgZmlsbGVkIHdpdGggdGhlIGZpZWxkcyBcInRpdGxlc1wiIGFuZCBcImRlc2NyaXB0aW9uc1wiXG4gICAqIGNvbnRhaW5pbmcgQUxMIGxvY2FsaXplZCB2YWx1ZXMuXG4gICAqIERlcHJlY2F0ZWQ6IFVzZSBtZXRhZGF0YV9sb2NhbGVzIGluc3RlYWRcbiAgICovXG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICByZWFkb25seSBtZXRhZGF0YUxvY2FsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogQ29uc2lzdGVuY3kgbW9kZSB3aXRoIHdoaWNoIHRoaXMgcmVxdWVzdCBvcGVyYXRlcy4gSWYgbm90IHNwZWNpZmllZCwgRVZFTlRVQUwgd2lsbCBiZSB1c2VkLiAqL1xuICByZWFkb25seSBjb25zaXN0ZW5jeTogUmVhZENvbnNpc3RlbmN5IHwgdW5kZWZpbmVkO1xuICAvKiogTWV0YWRhdGEgd2lsbCBiZSByZXR1cm5lZCBpbiB0aGUgYXZhaWxhYmxlIGxvY2FsZXMgc3BlY2lmaWVkIGluIHRoaXMgbGlzdC4gKi9cbiAgcmVhZG9ubHkgbWV0YWRhdGFMb2NhbGVzOiByZWFkb25seSBzdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIElmIHNldCwgZ2V0cyBhIG1lZGlhIG9iamVjdCBieSBpZC4gKi9cbiAgICBpZD86IHN0cmluZyxcbiAgICAvKiogSWYgc2V0LCBnZXRzIGEgbWVkaWEgb2JqZWN0IGJ5IGltcG9ydEJ1Y2tldC9pbXBvcnRLZXkuICovXG4gICAgaW1wb3J0QnVja2V0Pzogc3RyaW5nLFxuICAgIC8qKiBJZiBzZXQsIGdldHMgYSBtZWRpYSBvYmplY3QgYnkgaW1wb3J0S2V5LiAqL1xuICAgIGltcG9ydEtleT86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgYnVuZGxlIHZlcnNpb247IG51bGwgZm9yIGN1cnJlbnQuICovXG4gICAgYnVuZGxlVmVyc2lvbj86IG51bWJlcixcbiAgICAvKiogT3B0aW9uYWxseSBpbmNsdWRlIHRoZSBpbXBvcnRlZCBidW5kbGUuICovXG4gICAgaW1wb3J0ZWQ/OiBib29sZWFuLFxuICAgIC8qKiBPcHRpb25hbGx5IGluY2x1ZGUgdGhlIGFwcHJvdmVkIGJ1bmRsZS4gKi9cbiAgICBhcHByb3ZlZD86IGJvb2xlYW4sXG4gICAgLyoqIFdoZW4gdHJ1ZSwgaW5jbHVkZSB0aGUgbGF0ZXN0IHN0YWdpbmcgYnVuZGxlLiAqL1xuICAgIHN0YWdpbmc/OiBib29sZWFuLFxuICAgIC8qKiBTZXQgb2YgbWVkaWEgcHJvamVjdGlvbnMgdG8gaW5jbHVkZSBpbiByZXNwb25zZS4gKi9cbiAgICBwcm9qZWN0aW9uPzogcmVhZG9ubHkgTWVkaWFDb21wb25lbnRbXSxcbiAgICAvKiogSWYgdGhlIGZpbGVzIGFuZCBwcmljZSBwcm9qZWN0aW9ucyBhcmUgcmV0dXJuZWQsIFVSTHMgZm9yIHRoZXNlIHF1YWxpdGllcyB3aWxsIGJlIG1pbnRlZC4gKi9cbiAgICBtaW50VXJscz86IHJlYWRvbmx5IE1lZGlhUXVhbGl0eVtdLFxuICAgIC8qKiBXaGVuIHRydWUsIGluY2x1ZGUgYSB1cmwgdG8gdGhlIGZpbGUgaW1wb3J0ZWQgZm9yIHRoZSBtZWRpYSBidW5kbGUuICovXG4gICAgaW5jbHVkZUltcG9ydEZpbGVVcmw/OiBib29sZWFuLFxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgZmllbGQgaXMgTk9UIG51bGwgYW5kIFRJVExFUyBhbmQgREVTQ1JJUFRJT05TIHByb2plY3Rpb25zIGFyZSByZXF1ZXN0ZWQsXG4gICAgICogdGhlbiBtb2R1bGVzIGluIHJlc3BvbnNlIHdpbGwgYmUgZmlsbGVkIHdpdGggdGhlIGZpZWxkcyBcInRpdGxlXCIgYW5kIFwiZGVzY3JpcHRpb25cIiBmb3JcbiAgICAgKiB0aGUgbG9jYWxlIHJlcXVlc3RlZC5cbiAgICAgKiBcbiAgICAgKiBJZiB0aGlzIGZpZWxkIGlzIG51bGwgYW5kIFRJVExFUyBhbmQgREVTQ1JJUFRJT05TIHByb2plY3Rpb25zIGFyZSByZXF1ZXN0ZWQsXG4gICAgICogdGhlbiBtb2R1bGVzIGluIHJlc3BvbnNlIHdpbGwgYmUgZmlsbGVkIHdpdGggdGhlIGZpZWxkcyBcInRpdGxlc1wiIGFuZCBcImRlc2NyaXB0aW9uc1wiXG4gICAgICogY29udGFpbmluZyBBTEwgbG9jYWxpemVkIHZhbHVlcy5cbiAgICAgKiBEZXByZWNhdGVkOiBVc2UgbWV0YWRhdGFfbG9jYWxlcyBpbnN0ZWFkXG4gICAgICovXG4gICAgbWV0YWRhdGFMb2NhbGU/OiBzdHJpbmcsXG4gICAgLyoqIENvbnNpc3RlbmN5IG1vZGUgd2l0aCB3aGljaCB0aGlzIHJlcXVlc3Qgb3BlcmF0ZXMuIElmIG5vdCBzcGVjaWZpZWQsIEVWRU5UVUFMIHdpbGwgYmUgdXNlZC4gKi9cbiAgICBjb25zaXN0ZW5jeT86IFJlYWRDb25zaXN0ZW5jeSxcbiAgICAvKiogTWV0YWRhdGEgd2lsbCBiZSByZXR1cm5lZCBpbiB0aGUgYXZhaWxhYmxlIGxvY2FsZXMgc3BlY2lmaWVkIGluIHRoaXMgbGlzdC4gKi9cbiAgICBtZXRhZGF0YUxvY2FsZXM/OiByZWFkb25seSBzdHJpbmdbXSxcbiAgfSkge1xuICAgIC8qKiBJZiBzZXQsIGdldHMgYSBtZWRpYSBvYmplY3QgYnkgaWQuICovXG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gICAgLyoqIElmIHNldCwgZ2V0cyBhIG1lZGlhIG9iamVjdCBieSBpbXBvcnRCdWNrZXQvaW1wb3J0S2V5LiAqL1xuICAgIHRoaXMuaW1wb3J0QnVja2V0ID0gb3B0cy5pbXBvcnRCdWNrZXQ7XG4gICAgLyoqIElmIHNldCwgZ2V0cyBhIG1lZGlhIG9iamVjdCBieSBpbXBvcnRLZXkuICovXG4gICAgdGhpcy5pbXBvcnRLZXkgPSBvcHRzLmltcG9ydEtleTtcbiAgICAvKiogT3B0aW9uYWwgYnVuZGxlIHZlcnNpb247IG51bGwgZm9yIGN1cnJlbnQuICovXG4gICAgdGhpcy5idW5kbGVWZXJzaW9uID0gb3B0cy5idW5kbGVWZXJzaW9uO1xuICAgIC8qKiBPcHRpb25hbGx5IGluY2x1ZGUgdGhlIGltcG9ydGVkIGJ1bmRsZS4gKi9cbiAgICB0aGlzLmltcG9ydGVkID0gb3B0cy5pbXBvcnRlZDtcbiAgICAvKiogT3B0aW9uYWxseSBpbmNsdWRlIHRoZSBhcHByb3ZlZCBidW5kbGUuICovXG4gICAgdGhpcy5hcHByb3ZlZCA9IG9wdHMuYXBwcm92ZWQ7XG4gICAgLyoqIFdoZW4gdHJ1ZSwgaW5jbHVkZSB0aGUgbGF0ZXN0IHN0YWdpbmcgYnVuZGxlLiAqL1xuICAgIHRoaXMuc3RhZ2luZyA9IG9wdHMuc3RhZ2luZyAhPSBudWxsXG4gICAgICAgID8gb3B0cy5zdGFnaW5nXG4gICAgICAgIDogZmFsc2U7XG5cbiAgICAvKiogU2V0IG9mIG1lZGlhIHByb2plY3Rpb25zIHRvIGluY2x1ZGUgaW4gcmVzcG9uc2UuICovXG4gICAgdGhpcy5wcm9qZWN0aW9uID0gb3B0cy5wcm9qZWN0aW9uIHx8IFtdO1xuICAgIC8qKiBJZiB0aGUgZmlsZXMgYW5kIHByaWNlIHByb2plY3Rpb25zIGFyZSByZXR1cm5lZCwgVVJMcyBmb3IgdGhlc2UgcXVhbGl0aWVzIHdpbGwgYmUgbWludGVkLiAqL1xuICAgIHRoaXMubWludFVybHMgPSBvcHRzLm1pbnRVcmxzIHx8IFtdO1xuICAgIC8qKiBXaGVuIHRydWUsIGluY2x1ZGUgYSB1cmwgdG8gdGhlIGZpbGUgaW1wb3J0ZWQgZm9yIHRoZSBtZWRpYSBidW5kbGUuICovXG4gICAgdGhpcy5pbmNsdWRlSW1wb3J0RmlsZVVybCA9IG9wdHMuaW5jbHVkZUltcG9ydEZpbGVVcmwgIT0gbnVsbFxuICAgICAgICA/IG9wdHMuaW5jbHVkZUltcG9ydEZpbGVVcmxcbiAgICAgICAgOiBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIElmIHRoaXMgZmllbGQgaXMgTk9UIG51bGwgYW5kIFRJVExFUyBhbmQgREVTQ1JJUFRJT05TIHByb2plY3Rpb25zIGFyZSByZXF1ZXN0ZWQsXG4gICAgICogdGhlbiBtb2R1bGVzIGluIHJlc3BvbnNlIHdpbGwgYmUgZmlsbGVkIHdpdGggdGhlIGZpZWxkcyBcInRpdGxlXCIgYW5kIFwiZGVzY3JpcHRpb25cIiBmb3JcbiAgICAgKiB0aGUgbG9jYWxlIHJlcXVlc3RlZC5cbiAgICAgKiBcbiAgICAgKiBJZiB0aGlzIGZpZWxkIGlzIG51bGwgYW5kIFRJVExFUyBhbmQgREVTQ1JJUFRJT05TIHByb2plY3Rpb25zIGFyZSByZXF1ZXN0ZWQsXG4gICAgICogdGhlbiBtb2R1bGVzIGluIHJlc3BvbnNlIHdpbGwgYmUgZmlsbGVkIHdpdGggdGhlIGZpZWxkcyBcInRpdGxlc1wiIGFuZCBcImRlc2NyaXB0aW9uc1wiXG4gICAgICogY29udGFpbmluZyBBTEwgbG9jYWxpemVkIHZhbHVlcy5cbiAgICAgKiBEZXByZWNhdGVkOiBVc2UgbWV0YWRhdGFfbG9jYWxlcyBpbnN0ZWFkXG4gICAgICovXG4gICAgdGhpcy5tZXRhZGF0YUxvY2FsZSA9IG9wdHMubWV0YWRhdGFMb2NhbGU7XG4gICAgLyoqIENvbnNpc3RlbmN5IG1vZGUgd2l0aCB3aGljaCB0aGlzIHJlcXVlc3Qgb3BlcmF0ZXMuIElmIG5vdCBzcGVjaWZpZWQsIEVWRU5UVUFMIHdpbGwgYmUgdXNlZC4gKi9cbiAgICB0aGlzLmNvbnNpc3RlbmN5ID0gb3B0cy5jb25zaXN0ZW5jeTtcbiAgICAvKiogTWV0YWRhdGEgd2lsbCBiZSByZXR1cm5lZCBpbiB0aGUgYXZhaWxhYmxlIGxvY2FsZXMgc3BlY2lmaWVkIGluIHRoaXMgbGlzdC4gKi9cbiAgICB0aGlzLm1ldGFkYXRhTG9jYWxlcyA9IG9wdHMubWV0YWRhdGFMb2NhbGVzIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRNZWRpYVJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnaWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpZCcsIG0uaWQpLFxuICAgICAgJ2ltcG9ydEJ1Y2tldCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydEJ1Y2tldCcsIG0uaW1wb3J0QnVja2V0KSxcbiAgICAgICdpbXBvcnRLZXknOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbXBvcnRLZXknLCBtLmltcG9ydEtleSksXG4gICAgICAnYnVuZGxlVmVyc2lvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2J1bmRsZVZlcnNpb24nLCBtLmJ1bmRsZVZlcnNpb24pLFxuICAgICAgJ2ltcG9ydGVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2ltcG9ydGVkJywgbS5pbXBvcnRlZCksXG4gICAgICAnYXBwcm92ZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignYXBwcm92ZWQnLCBtLmFwcHJvdmVkKSxcbiAgICAgICdzdGFnaW5nJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3N0YWdpbmcnLCBtLnN0YWdpbmcpLFxuICAgICAgJ3Byb2plY3Rpb24nOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bShNZWRpYUNvbXBvbmVudFV0aWwuc2VyaWFsaXplLCAncHJvamVjdGlvbicsIG0ucHJvamVjdGlvbiksXG4gICAgICAnbWludFVybHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bShNZWRpYVF1YWxpdHlVdGlsLnNlcmlhbGl6ZSwgJ21pbnRVcmxzJywgbS5taW50VXJscyksXG4gICAgICAnaW5jbHVkZUltcG9ydEZpbGVVcmwnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaW5jbHVkZUltcG9ydEZpbGVVcmwnLCBtLmluY2x1ZGVJbXBvcnRGaWxlVXJsKSxcbiAgICAgICdtZXRhZGF0YUxvY2FsZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ21ldGFkYXRhTG9jYWxlJywgbS5tZXRhZGF0YUxvY2FsZSksXG4gICAgICAnY29uc2lzdGVuY3knOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShSZWFkQ29uc2lzdGVuY3lVdGlsLnNlcmlhbGl6ZSwgJ2NvbnNpc3RlbmN5JywgbS5jb25zaXN0ZW5jeSksXG4gICAgICAnbWV0YWRhdGFMb2NhbGVzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnbWV0YWRhdGFMb2NhbGVzJywgbS5tZXRhZGF0YUxvY2FsZXMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0TWVkaWFSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEdldE1lZGlhUmVxdWVzdCh7XG4gICAgICBpZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpZCcsIG8pLFxuICAgICAgaW1wb3J0QnVja2V0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydEJ1Y2tldCcsIG8pLFxuICAgICAgaW1wb3J0S2V5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydEtleScsIG8pLFxuICAgICAgYnVuZGxlVmVyc2lvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdidW5kbGVWZXJzaW9uJywgbyksXG4gICAgICBpbXBvcnRlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaW1wb3J0ZWQnLCBvKSxcbiAgICAgIGFwcHJvdmVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdhcHByb3ZlZCcsIG8pLFxuICAgICAgc3RhZ2luZzogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc3RhZ2luZycsIG8pLFxuICAgICAgcHJvamVjdGlvbjogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxNZWRpYUNvbXBvbmVudD4oTWVkaWFDb21wb25lbnRVdGlsLmRlc2VyaWFsaXplLCAncHJvamVjdGlvbicsIG8pLFxuICAgICAgbWludFVybHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08TWVkaWFRdWFsaXR5PihNZWRpYVF1YWxpdHlVdGlsLmRlc2VyaWFsaXplLCAnbWludFVybHMnLCBvKSxcbiAgICAgIGluY2x1ZGVJbXBvcnRGaWxlVXJsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdpbmNsdWRlSW1wb3J0RmlsZVVybCcsIG8pLFxuICAgICAgbWV0YWRhdGFMb2NhbGU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbWV0YWRhdGFMb2NhbGUnLCBvKSxcbiAgICAgIGNvbnNpc3RlbmN5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtPFJlYWRDb25zaXN0ZW5jeT4oUmVhZENvbnNpc3RlbmN5VXRpbC5kZXNlcmlhbGl6ZSwgJ2NvbnNpc3RlbmN5JywgbyksXG4gICAgICBtZXRhZGF0YUxvY2FsZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnbWV0YWRhdGFMb2NhbGVzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldE1lZGlhUmVzcG9uc2Uge1xuICByZWFkb25seSBtZWRpYTogTWVkaWE7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIG1lZGlhOiBNZWRpYSxcbiAgfSkge1xuICAgIHRoaXMubWVkaWEgPSBvcHRzLm1lZGlhO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRNZWRpYVJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ21lZGlhJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChNZWRpYS5zZXJpYWxpemUsICdtZWRpYScsIG0ubWVkaWEpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0TWVkaWFSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBHZXRNZWRpYVJlc3BvbnNlKHtcbiAgICAgIG1lZGlhOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoTWVkaWEuZGVzZXJpYWxpemUsICdtZWRpYScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVNZWRpYVJlcXVlc3Qge1xuICAvKiogSW1wb3J0IGJ1Y2tldC4gKi9cbiAgcmVhZG9ubHkgaW1wb3J0QnVja2V0OiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBpbXBvcnQga2V5LiAqL1xuICByZWFkb25seSBpbXBvcnRLZXk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGZpbGUgcmVwcmVzZW50ZWQgYnkgdGhlIG1lZGlhLiBNYXkgYmUgZGlmZmVyZW50IHRvIHRoZSBsYXN0IGNvbXBvbmVudFxuICAgKiBvZiBpbXBvcnRfa2V5LlxuICAgKi9cbiAgcmVhZG9ubHkgaW1wb3J0RmlsZW5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFRoZSB2ZXJzaW9uIGlkIG9mIHRoZSBpbXBvcnQgZmlsZSBmb3IgdGhlIHRhcmdldCBidW5kbGUuICovXG4gIHJlYWRvbmx5IGltcG9ydFZlcnNpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIGlmIHRoaXMgbWVkaWEgaXMgYmFzZWQgb24gYSBkZXNpZ24sIHRoZSBpZCBvZiBvcmlnaW5hdGluZyBkZXNpZ24uICovXG4gIHJlYWRvbmx5IGRlc2lnbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgdGhpcyBtZWRpYSBpcyBiYXNlZCBvbiBhIGRlc2lnbiwgdGhlIHZlcnNpb24gb2YgdGhlIG9yaWdpbmF0aW5nIGRlc2lnbi4gKi9cbiAgcmVhZG9ubHkgZGVzaWduVmVyc2lvbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKiogVHlwZSBvZiBtZWRpYSB0byBjcmVhdGUuICovXG4gIHJlYWRvbmx5IHR5cGU6IE1lZGlhVHlwZTtcbiAgLyoqIElmIHRydWUsIHJlcXVlc3QgbWlnaHQgaGF2ZSBhbiBhY2wuICovXG4gIHJlYWRvbmx5IHJlc3RyaWN0ZWRBY2Nlc3M6IGJvb2xlYW47XG4gIC8qKiBJZiB0cnVlLCB0aGlzIG1lZGlhIG1heSBiZSBpbmNsdWRlZCBpbiB0aGUgc2VhcmNoIGluZGV4LiAqL1xuICByZWFkb25seSBsaXN0ZWQ6IGJvb2xlYW47XG4gIC8qKiBPcHRpb25hbCBzZXQgb2YgcXVhbGl0aWVzIGZvciB3aGljaCBmaWxlIFVSTHMgd2lsbCBiZSBtaW50ZWQuICovXG4gIHJlYWRvbmx5IG1pbnRVcmxzOiByZWFkb25seSBNZWRpYVF1YWxpdHlbXTtcbiAgLyoqIE9wdGlvbmFsIGxvY2FsZS4gKi9cbiAgcmVhZG9ubHkgbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBtZWRpYSBzZXQgdG8gYWRkIHRoZSBtZWRpYSB0by4gKi9cbiAgcmVhZG9ubHkgc2V0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBleHRlcm5hbCBtZWRpYSByZWZlcmVuY2UgZm9yIHRoZSBjcmVhdGVkIG1lZGlhLiAqL1xuICByZWFkb25seSBleHRlcm5hbFJlZjogTWVkaWFFeHRlcm5hbFJlZiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEltcG9ydCBidWNrZXQuICovXG4gICAgaW1wb3J0QnVja2V0OiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIGltcG9ydCBrZXkuICovXG4gICAgaW1wb3J0S2V5Pzogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGZpbGUgcmVwcmVzZW50ZWQgYnkgdGhlIG1lZGlhLiBNYXkgYmUgZGlmZmVyZW50IHRvIHRoZSBsYXN0IGNvbXBvbmVudFxuICAgICAqIG9mIGltcG9ydF9rZXkuXG4gICAgICovXG4gICAgaW1wb3J0RmlsZW5hbWU/OiBzdHJpbmcsXG4gICAgLyoqIFRoZSB2ZXJzaW9uIGlkIG9mIHRoZSBpbXBvcnQgZmlsZSBmb3IgdGhlIHRhcmdldCBidW5kbGUuICovXG4gICAgaW1wb3J0VmVyc2lvbj86IHN0cmluZyxcbiAgICAvKiogaWYgdGhpcyBtZWRpYSBpcyBiYXNlZCBvbiBhIGRlc2lnbiwgdGhlIGlkIG9mIG9yaWdpbmF0aW5nIGRlc2lnbi4gKi9cbiAgICBkZXNpZ24/OiBzdHJpbmcsXG4gICAgLyoqIElmIHRoaXMgbWVkaWEgaXMgYmFzZWQgb24gYSBkZXNpZ24sIHRoZSB2ZXJzaW9uIG9mIHRoZSBvcmlnaW5hdGluZyBkZXNpZ24uICovXG4gICAgZGVzaWduVmVyc2lvbj86IG51bWJlcixcbiAgICAvKiogVHlwZSBvZiBtZWRpYSB0byBjcmVhdGUuICovXG4gICAgdHlwZTogTWVkaWFUeXBlLFxuICAgIC8qKiBJZiB0cnVlLCByZXF1ZXN0IG1pZ2h0IGhhdmUgYW4gYWNsLiAqL1xuICAgIHJlc3RyaWN0ZWRBY2Nlc3M6IGJvb2xlYW4sXG4gICAgLyoqIElmIHRydWUsIHRoaXMgbWVkaWEgbWF5IGJlIGluY2x1ZGVkIGluIHRoZSBzZWFyY2ggaW5kZXguICovXG4gICAgbGlzdGVkOiBib29sZWFuLFxuICAgIC8qKiBPcHRpb25hbCBzZXQgb2YgcXVhbGl0aWVzIGZvciB3aGljaCBmaWxlIFVSTHMgd2lsbCBiZSBtaW50ZWQuICovXG4gICAgbWludFVybHM/OiByZWFkb25seSBNZWRpYVF1YWxpdHlbXSxcbiAgICAvKiogT3B0aW9uYWwgbG9jYWxlLiAqL1xuICAgIGxvY2FsZT86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgbWVkaWEgc2V0IHRvIGFkZCB0aGUgbWVkaWEgdG8uICovXG4gICAgc2V0Pzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCBleHRlcm5hbCBtZWRpYSByZWZlcmVuY2UgZm9yIHRoZSBjcmVhdGVkIG1lZGlhLiAqL1xuICAgIGV4dGVybmFsUmVmPzogTWVkaWFFeHRlcm5hbFJlZixcbiAgfSkge1xuICAgIC8qKiBJbXBvcnQgYnVja2V0LiAqL1xuICAgIHRoaXMuaW1wb3J0QnVja2V0ID0gb3B0cy5pbXBvcnRCdWNrZXQ7XG4gICAgLyoqIE9wdGlvbmFsIGltcG9ydCBrZXkuICovXG4gICAgdGhpcy5pbXBvcnRLZXkgPSBvcHRzLmltcG9ydEtleTtcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBuYW1lIG9mIHRoZSBmaWxlIHJlcHJlc2VudGVkIGJ5IHRoZSBtZWRpYS4gTWF5IGJlIGRpZmZlcmVudCB0byB0aGUgbGFzdCBjb21wb25lbnRcbiAgICAgKiBvZiBpbXBvcnRfa2V5LlxuICAgICAqL1xuICAgIHRoaXMuaW1wb3J0RmlsZW5hbWUgPSBvcHRzLmltcG9ydEZpbGVuYW1lO1xuICAgIC8qKiBUaGUgdmVyc2lvbiBpZCBvZiB0aGUgaW1wb3J0IGZpbGUgZm9yIHRoZSB0YXJnZXQgYnVuZGxlLiAqL1xuICAgIHRoaXMuaW1wb3J0VmVyc2lvbiA9IG9wdHMuaW1wb3J0VmVyc2lvbjtcbiAgICAvKiogaWYgdGhpcyBtZWRpYSBpcyBiYXNlZCBvbiBhIGRlc2lnbiwgdGhlIGlkIG9mIG9yaWdpbmF0aW5nIGRlc2lnbi4gKi9cbiAgICB0aGlzLmRlc2lnbiA9IG9wdHMuZGVzaWduO1xuICAgIC8qKiBJZiB0aGlzIG1lZGlhIGlzIGJhc2VkIG9uIGEgZGVzaWduLCB0aGUgdmVyc2lvbiBvZiB0aGUgb3JpZ2luYXRpbmcgZGVzaWduLiAqL1xuICAgIHRoaXMuZGVzaWduVmVyc2lvbiA9IG9wdHMuZGVzaWduVmVyc2lvbjtcbiAgICAvKiogVHlwZSBvZiBtZWRpYSB0byBjcmVhdGUuICovXG4gICAgdGhpcy50eXBlID0gb3B0cy50eXBlO1xuICAgIC8qKiBJZiB0cnVlLCByZXF1ZXN0IG1pZ2h0IGhhdmUgYW4gYWNsLiAqL1xuICAgIHRoaXMucmVzdHJpY3RlZEFjY2VzcyA9IG9wdHMucmVzdHJpY3RlZEFjY2VzcztcbiAgICAvKiogSWYgdHJ1ZSwgdGhpcyBtZWRpYSBtYXkgYmUgaW5jbHVkZWQgaW4gdGhlIHNlYXJjaCBpbmRleC4gKi9cbiAgICB0aGlzLmxpc3RlZCA9IG9wdHMubGlzdGVkO1xuICAgIC8qKiBPcHRpb25hbCBzZXQgb2YgcXVhbGl0aWVzIGZvciB3aGljaCBmaWxlIFVSTHMgd2lsbCBiZSBtaW50ZWQuICovXG4gICAgdGhpcy5taW50VXJscyA9IG9wdHMubWludFVybHMgfHwgW107XG4gICAgLyoqIE9wdGlvbmFsIGxvY2FsZS4gKi9cbiAgICB0aGlzLmxvY2FsZSA9IG9wdHMubG9jYWxlO1xuICAgIC8qKiBPcHRpb25hbCBtZWRpYSBzZXQgdG8gYWRkIHRoZSBtZWRpYSB0by4gKi9cbiAgICB0aGlzLnNldCA9IG9wdHMuc2V0O1xuICAgIC8qKiBPcHRpb25hbCBleHRlcm5hbCBtZWRpYSByZWZlcmVuY2UgZm9yIHRoZSBjcmVhdGVkIG1lZGlhLiAqL1xuICAgIHRoaXMuZXh0ZXJuYWxSZWYgPSBvcHRzLmV4dGVybmFsUmVmO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVNZWRpYVJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnaW1wb3J0QnVja2V0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaW1wb3J0QnVja2V0JywgbS5pbXBvcnRCdWNrZXQpLFxuICAgICAgJ2ltcG9ydEtleSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydEtleScsIG0uaW1wb3J0S2V5KSxcbiAgICAgICdpbXBvcnRGaWxlbmFtZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydEZpbGVuYW1lJywgbS5pbXBvcnRGaWxlbmFtZSksXG4gICAgICAnaW1wb3J0VmVyc2lvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydFZlcnNpb24nLCBtLmltcG9ydFZlcnNpb24pLFxuICAgICAgJ2Rlc2lnbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2lnbicsIG0uZGVzaWduKSxcbiAgICAgICdkZXNpZ25WZXJzaW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignZGVzaWduVmVyc2lvbicsIG0uZGVzaWduVmVyc2lvbiksXG4gICAgICAndHlwZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtKE1lZGlhVHlwZVV0aWwuc2VyaWFsaXplLCAndHlwZScsIG0udHlwZSksXG4gICAgICAncmVzdHJpY3RlZEFjY2Vzcyc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZXN0cmljdGVkQWNjZXNzJywgbS5yZXN0cmljdGVkQWNjZXNzKSxcbiAgICAgICdsaXN0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGlzdGVkJywgbS5saXN0ZWQpLFxuICAgICAgJ21pbnRVcmxzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW0oTWVkaWFRdWFsaXR5VXRpbC5zZXJpYWxpemUsICdtaW50VXJscycsIG0ubWludFVybHMpLFxuICAgICAgJ2xvY2FsZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIG0ubG9jYWxlKSxcbiAgICAgICdzZXQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdzZXQnLCBtLnNldCksXG4gICAgICAnZXh0ZXJuYWxSZWYnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KE1lZGlhRXh0ZXJuYWxSZWYuc2VyaWFsaXplLCAnZXh0ZXJuYWxSZWYnLCBtLmV4dGVybmFsUmVmKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IENyZWF0ZU1lZGlhUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBDcmVhdGVNZWRpYVJlcXVlc3Qoe1xuICAgICAgaW1wb3J0QnVja2V0OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2ltcG9ydEJ1Y2tldCcsIG8pLFxuICAgICAgaW1wb3J0S2V5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydEtleScsIG8pLFxuICAgICAgaW1wb3J0RmlsZW5hbWU6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0RmlsZW5hbWUnLCBvKSxcbiAgICAgIGltcG9ydFZlcnNpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0VmVyc2lvbicsIG8pLFxuICAgICAgZGVzaWduOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2lnbicsIG8pLFxuICAgICAgZGVzaWduVmVyc2lvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdkZXNpZ25WZXJzaW9uJywgbyksXG4gICAgICB0eXBlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPE1lZGlhVHlwZT4oTWVkaWFUeXBlVXRpbC5kZXNlcmlhbGl6ZSwgJ3R5cGUnLCBvKSxcbiAgICAgIHJlc3RyaWN0ZWRBY2Nlc3M6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3Jlc3RyaWN0ZWRBY2Nlc3MnLCBvKSxcbiAgICAgIGxpc3RlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignbGlzdGVkJywgbyksXG4gICAgICBtaW50VXJsczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxNZWRpYVF1YWxpdHk+KE1lZGlhUXVhbGl0eVV0aWwuZGVzZXJpYWxpemUsICdtaW50VXJscycsIG8pLFxuICAgICAgbG9jYWxlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIG8pLFxuICAgICAgc2V0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3NldCcsIG8pLFxuICAgICAgZXh0ZXJuYWxSZWY6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChNZWRpYUV4dGVybmFsUmVmLmRlc2VyaWFsaXplLCAnZXh0ZXJuYWxSZWYnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbi8qKiBAZGVwcmVjYXRlZCBVc2UgQ3JlYXRlTWVkaWFSZXF1ZXN0IGluc3RlYWQuICovXG5leHBvcnQgY2xhc3MgQ3JlYXRlTWVkaWFScGNSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICByZWFkb25seSByZXN0cmljdGVkOiBib29sZWFuO1xuICByZWFkb25seSBsaXN0ZWQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGZpbGVTaXplOiBudW1iZXI7XG4gIHJlYWRvbmx5IHNldDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBleHRlcm5hbFJlZjogTWVkaWFFeHRlcm5hbFJlZiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgbmFtZTogc3RyaW5nLFxuICAgIHJlc3RyaWN0ZWQ6IGJvb2xlYW4sXG4gICAgbGlzdGVkOiBib29sZWFuLFxuICAgIGZpbGVTaXplOiBudW1iZXIsXG4gICAgc2V0Pzogc3RyaW5nLFxuICAgIGV4dGVybmFsUmVmPzogTWVkaWFFeHRlcm5hbFJlZixcbiAgfSkge1xuICAgIHRoaXMubmFtZSA9IG9wdHMubmFtZTtcbiAgICB0aGlzLnJlc3RyaWN0ZWQgPSBvcHRzLnJlc3RyaWN0ZWQ7XG4gICAgdGhpcy5saXN0ZWQgPSBvcHRzLmxpc3RlZDtcbiAgICB0aGlzLmZpbGVTaXplID0gb3B0cy5maWxlU2l6ZTtcbiAgICB0aGlzLnNldCA9IG9wdHMuc2V0O1xuICAgIHRoaXMuZXh0ZXJuYWxSZWYgPSBvcHRzLmV4dGVybmFsUmVmO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBDcmVhdGVNZWRpYVJwY1JlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbmFtZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ25hbWUnLCBtLm5hbWUpLFxuICAgICAgJ3Jlc3RyaWN0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVzdHJpY3RlZCcsIG0ucmVzdHJpY3RlZCksXG4gICAgICAnbGlzdGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2xpc3RlZCcsIG0ubGlzdGVkKSxcbiAgICAgICdmaWxlU2l6ZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2ZpbGVTaXplJywgbS5maWxlU2l6ZSksXG4gICAgICAnc2V0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2V0JywgbS5zZXQpLFxuICAgICAgJ2V4dGVybmFsUmVmJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChNZWRpYUV4dGVybmFsUmVmLnNlcmlhbGl6ZSwgJ2V4dGVybmFsUmVmJywgbS5leHRlcm5hbFJlZiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVNZWRpYVJwY1JlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgQ3JlYXRlTWVkaWFScGNSZXF1ZXN0KHtcbiAgICAgIG5hbWU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnbmFtZScsIG8pLFxuICAgICAgcmVzdHJpY3RlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVzdHJpY3RlZCcsIG8pLFxuICAgICAgbGlzdGVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdsaXN0ZWQnLCBvKSxcbiAgICAgIGZpbGVTaXplOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2ZpbGVTaXplJywgbyksXG4gICAgICBzZXQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2V0JywgbyksXG4gICAgICBleHRlcm5hbFJlZjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KE1lZGlhRXh0ZXJuYWxSZWYuZGVzZXJpYWxpemUsICdleHRlcm5hbFJlZicsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVNZWRpYVJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgbWVkaWE6IE1lZGlhO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBtZWRpYTogTWVkaWEsXG4gIH0pIHtcbiAgICB0aGlzLm1lZGlhID0gb3B0cy5tZWRpYTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlTWVkaWFSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdtZWRpYSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoTWVkaWEuc2VyaWFsaXplLCAnbWVkaWEnLCBtLm1lZGlhKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IENyZWF0ZU1lZGlhUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgQ3JlYXRlTWVkaWFSZXNwb25zZSh7XG4gICAgICBtZWRpYTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KE1lZGlhLmRlc2VyaWFsaXplLCAnbWVkaWEnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0TWVkaWFScGNSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgcmVhZG9ubHkgdmVyc2lvbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBzdGFnaW5nOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBpbmNsdWRlSW1wb3J0RmlsZVVybDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgaW5jbHVkZUFsbExvY2FsZXM6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHByb2plY3Rpb246IE1lZGlhQ29tcG9uZW50IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBpZDogc3RyaW5nLFxuICAgIHZlcnNpb24/OiBudW1iZXIsXG4gICAgc3RhZ2luZz86IGJvb2xlYW4sXG4gICAgaW5jbHVkZUltcG9ydEZpbGVVcmw/OiBib29sZWFuLFxuICAgIGluY2x1ZGVBbGxMb2NhbGVzPzogYm9vbGVhbixcbiAgICBwcm9qZWN0aW9uPzogTWVkaWFDb21wb25lbnQsXG4gIH0pIHtcbiAgICB0aGlzLmlkID0gb3B0cy5pZDtcbiAgICB0aGlzLnZlcnNpb24gPSBvcHRzLnZlcnNpb247XG4gICAgdGhpcy5zdGFnaW5nID0gb3B0cy5zdGFnaW5nO1xuICAgIHRoaXMuaW5jbHVkZUltcG9ydEZpbGVVcmwgPSBvcHRzLmluY2x1ZGVJbXBvcnRGaWxlVXJsO1xuICAgIHRoaXMuaW5jbHVkZUFsbExvY2FsZXMgPSBvcHRzLmluY2x1ZGVBbGxMb2NhbGVzO1xuICAgIHRoaXMucHJvamVjdGlvbiA9IG9wdHMucHJvamVjdGlvbjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0TWVkaWFScGNSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2lkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBtLmlkKSxcbiAgICAgICd2ZXJzaW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigndmVyc2lvbicsIG0udmVyc2lvbiksXG4gICAgICAnc3RhZ2luZyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdzdGFnaW5nJywgbS5zdGFnaW5nKSxcbiAgICAgICdpbmNsdWRlSW1wb3J0RmlsZVVybCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdpbmNsdWRlSW1wb3J0RmlsZVVybCcsIG0uaW5jbHVkZUltcG9ydEZpbGVVcmwpLFxuICAgICAgJ2luY2x1ZGVBbGxMb2NhbGVzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2luY2x1ZGVBbGxMb2NhbGVzJywgbS5pbmNsdWRlQWxsTG9jYWxlcyksXG4gICAgICAncHJvamVjdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKE1lZGlhQ29tcG9uZW50VXRpbC5zZXJpYWxpemUsICdwcm9qZWN0aW9uJywgbS5wcm9qZWN0aW9uKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldE1lZGlhUnBjUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRNZWRpYVJwY1JlcXVlc3Qoe1xuICAgICAgaWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBvKSxcbiAgICAgIHZlcnNpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigndmVyc2lvbicsIG8pLFxuICAgICAgc3RhZ2luZzogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignc3RhZ2luZycsIG8pLFxuICAgICAgaW5jbHVkZUltcG9ydEZpbGVVcmw6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2luY2x1ZGVJbXBvcnRGaWxlVXJsJywgbyksXG4gICAgICBpbmNsdWRlQWxsTG9jYWxlczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaW5jbHVkZUFsbExvY2FsZXMnLCBvKSxcbiAgICAgIHByb2plY3Rpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08TWVkaWFDb21wb25lbnQ+KE1lZGlhQ29tcG9uZW50VXRpbC5kZXNlcmlhbGl6ZSwgJ3Byb2plY3Rpb24nLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZE1lZGlhUnBjUmVxdWVzdCB7XG4gIHJlYWRvbmx5IHByb2plY3Rpb25zOiByZWFkb25seSBNZWRpYUNvbXBvbmVudFtdO1xuICByZWFkb25seSBicmFuZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB1c2VyOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHJlc3RyaWN0ZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHN0YWdpbmc6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGZpbGVuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGlkczogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBGaWx0ZXIgYnkgbWVkaWEgd2l0aCB0aGVzZSBkZXNpZ24gaWRzIChvbmx5IGFwcGxpY2FibGUgdG8gZGVzaWduIG1lZGlhKSAqL1xuICByZWFkb25seSBkZXNpZ25JZHM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuICByZWFkb25seSBkZWFjdGl2YXRlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGNvbnRpbnVhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBsaW1pdDogbnVtYmVyO1xuICByZWFkb25seSB0eXBlczogcmVhZG9ubHkgTWVkaWFUeXBlW107XG4gIHJlYWRvbmx5IHNldDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBleHRlcm5hbFByb3ZpZGVyOiBFeHRlcm5hbFByb3ZpZGVyIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBwcm9qZWN0aW9ucz86IHJlYWRvbmx5IE1lZGlhQ29tcG9uZW50W10sXG4gICAgYnJhbmQ/OiBzdHJpbmcsXG4gICAgdXNlcj86IHN0cmluZyxcbiAgICByZXN0cmljdGVkPzogYm9vbGVhbixcbiAgICBzdGFnaW5nPzogYm9vbGVhbixcbiAgICBmaWxlbmFtZT86IHN0cmluZyxcbiAgICBpZHM/OiByZWFkb25seSBzdHJpbmdbXSxcbiAgICAvKiogRmlsdGVyIGJ5IG1lZGlhIHdpdGggdGhlc2UgZGVzaWduIGlkcyAob25seSBhcHBsaWNhYmxlIHRvIGRlc2lnbiBtZWRpYSkgKi9cbiAgICBkZXNpZ25JZHM/OiByZWFkb25seSBzdHJpbmdbXSxcbiAgICBkZWFjdGl2YXRlZD86IGJvb2xlYW4sXG4gICAgbG9jYWxlPzogc3RyaW5nLFxuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgICBsaW1pdDogbnVtYmVyLFxuICAgIHR5cGVzPzogcmVhZG9ubHkgTWVkaWFUeXBlW10sXG4gICAgc2V0Pzogc3RyaW5nLFxuICAgIGV4dGVybmFsUHJvdmlkZXI/OiBFeHRlcm5hbFByb3ZpZGVyLFxuICB9KSB7XG4gICAgdGhpcy5wcm9qZWN0aW9ucyA9IG9wdHMucHJvamVjdGlvbnMgfHwgW107XG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgdGhpcy51c2VyID0gb3B0cy51c2VyO1xuICAgIHRoaXMucmVzdHJpY3RlZCA9IG9wdHMucmVzdHJpY3RlZDtcbiAgICB0aGlzLnN0YWdpbmcgPSBvcHRzLnN0YWdpbmc7XG4gICAgdGhpcy5maWxlbmFtZSA9IG9wdHMuZmlsZW5hbWU7XG4gICAgdGhpcy5pZHMgPSBvcHRzLmlkcyB8fCBbXTtcbiAgICAvKiogRmlsdGVyIGJ5IG1lZGlhIHdpdGggdGhlc2UgZGVzaWduIGlkcyAob25seSBhcHBsaWNhYmxlIHRvIGRlc2lnbiBtZWRpYSkgKi9cbiAgICB0aGlzLmRlc2lnbklkcyA9IG9wdHMuZGVzaWduSWRzIHx8IFtdO1xuICAgIHRoaXMuZGVhY3RpdmF0ZWQgPSBvcHRzLmRlYWN0aXZhdGVkO1xuICAgIHRoaXMubG9jYWxlID0gb3B0cy5sb2NhbGU7XG4gICAgdGhpcy5jb250aW51YXRpb24gPSBvcHRzLmNvbnRpbnVhdGlvbjtcbiAgICB0aGlzLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgICB0aGlzLnR5cGVzID0gb3B0cy50eXBlcyB8fCBbXTtcbiAgICB0aGlzLnNldCA9IG9wdHMuc2V0O1xuICAgIHRoaXMuZXh0ZXJuYWxQcm92aWRlciA9IG9wdHMuZXh0ZXJuYWxQcm92aWRlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZE1lZGlhUnBjUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdwcm9qZWN0aW9ucyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKE1lZGlhQ29tcG9uZW50VXRpbC5zZXJpYWxpemUsICdwcm9qZWN0aW9ucycsIG0ucHJvamVjdGlvbnMpLFxuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICd1c2VyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcicsIG0udXNlciksXG4gICAgICAncmVzdHJpY3RlZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdyZXN0cmljdGVkJywgbS5yZXN0cmljdGVkKSxcbiAgICAgICdzdGFnaW5nJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3N0YWdpbmcnLCBtLnN0YWdpbmcpLFxuICAgICAgJ2ZpbGVuYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZmlsZW5hbWUnLCBtLmZpbGVuYW1lKSxcbiAgICAgICdpZHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdpZHMnLCBtLmlkcyksXG4gICAgICAnZGVzaWduSWRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnZGVzaWduSWRzJywgbS5kZXNpZ25JZHMpLFxuICAgICAgJ2RlYWN0aXZhdGVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2RlYWN0aXZhdGVkJywgbS5kZWFjdGl2YXRlZCksXG4gICAgICAnbG9jYWxlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbG9jYWxlJywgbS5sb2NhbGUpLFxuICAgICAgJ2NvbnRpbnVhdGlvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG0uY29udGludWF0aW9uKSxcbiAgICAgICdsaW1pdCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2xpbWl0JywgbS5saW1pdCksXG4gICAgICAndHlwZXMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bShNZWRpYVR5cGVVdGlsLnNlcmlhbGl6ZSwgJ3R5cGVzJywgbS50eXBlcyksXG4gICAgICAnc2V0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2V0JywgbS5zZXQpLFxuICAgICAgJ2V4dGVybmFsUHJvdmlkZXInOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShFeHRlcm5hbFByb3ZpZGVyVXRpbC5zZXJpYWxpemUsICdleHRlcm5hbFByb3ZpZGVyJywgbS5leHRlcm5hbFByb3ZpZGVyKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRNZWRpYVJwY1JlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgRmluZE1lZGlhUnBjUmVxdWVzdCh7XG4gICAgICBwcm9qZWN0aW9uczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxNZWRpYUNvbXBvbmVudD4oTWVkaWFDb21wb25lbnRVdGlsLmRlc2VyaWFsaXplLCAncHJvamVjdGlvbnMnLCBvKSxcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICAgIHJlc3RyaWN0ZWQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3Jlc3RyaWN0ZWQnLCBvKSxcbiAgICAgIHN0YWdpbmc6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3N0YWdpbmcnLCBvKSxcbiAgICAgIGZpbGVuYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ZpbGVuYW1lJywgbyksXG4gICAgICBpZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnaWRzJywgbyksXG4gICAgICBkZXNpZ25JZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnZGVzaWduSWRzJywgbyksXG4gICAgICBkZWFjdGl2YXRlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignZGVhY3RpdmF0ZWQnLCBvKSxcbiAgICAgIGxvY2FsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBvKSxcbiAgICAgIGNvbnRpbnVhdGlvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBvKSxcbiAgICAgIGxpbWl0OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2xpbWl0JywgbyksXG4gICAgICB0eXBlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxNZWRpYVR5cGU+KE1lZGlhVHlwZVV0aWwuZGVzZXJpYWxpemUsICd0eXBlcycsIG8pLFxuICAgICAgc2V0OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3NldCcsIG8pLFxuICAgICAgZXh0ZXJuYWxQcm92aWRlcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bTxFeHRlcm5hbFByb3ZpZGVyPihFeHRlcm5hbFByb3ZpZGVyVXRpbC5kZXNlcmlhbGl6ZSwgJ2V4dGVybmFsUHJvdmlkZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBGaW5kTWVkaWFNb2RlXG4gICAgPSBGaW5kTWVkaWFJZHNNb2RlXG4gICAgfCBGaW5kTWVkaWFSZWZzTW9kZVxuICAgIHwgRmluZE1lZGlhRGVzaWduSWRzTW9kZVxuICAgIHwgRmluZE1lZGlhRmlsZW5hbWVNb2RlXG4gICAgfCBGaW5kTWVkaWFCcmFuZE1vZGVcbiAgICB8IEZpbmRNZWRpYVNldE1vZGVcbiAgICB8IEZpbmRNZWRpYUV4dGVybmFsUHJvdmlkZXJNb2RlXG4gICAgfCBGaW5kTWVkaWFJbXBvcnRLZXlNb2RlO1xuXG5leHBvcnQgY29uc3QgRmluZE1lZGlhTW9kZSA9IHtcbiAgc2VyaWFsaXplKHU6IEZpbmRNZWRpYU1vZGUpOiBvYmplY3Qge1xuICAgIHN3aXRjaCAodS50eXBlKSB7XG4gICAgICBjYXNlICdJRFMnOiByZXR1cm4gRmluZE1lZGlhSWRzTW9kZS5zZXJpYWxpemUodSk7XG4gICAgICBjYXNlICdNRURJQV9SRUZTJzogcmV0dXJuIEZpbmRNZWRpYVJlZnNNb2RlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0RFU0lHTl9JRFMnOiByZXR1cm4gRmluZE1lZGlhRGVzaWduSWRzTW9kZS5zZXJpYWxpemUodSk7XG4gICAgICBjYXNlICdGSUxFTkFNRSc6IHJldHVybiBGaW5kTWVkaWFGaWxlbmFtZU1vZGUuc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnQlJBTkQnOiByZXR1cm4gRmluZE1lZGlhQnJhbmRNb2RlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ1NFVCc6IHJldHVybiBGaW5kTWVkaWFTZXRNb2RlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0VYVEVSTkFMX1BST1ZJREVSJzogcmV0dXJuIEZpbmRNZWRpYUV4dGVybmFsUHJvdmlkZXJNb2RlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0lNUE9SVF9LRVknOiByZXR1cm4gRmluZE1lZGlhSW1wb3J0S2V5TW9kZS5zZXJpYWxpemUodSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih1KTtcbiAgICB9XG4gIH0sXG5cbiAgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZE1lZGlhTW9kZSB7XG4gICAgY29uc3Qga2FzZSA9IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndHlwZScsIG8pO1xuICAgIHN3aXRjaCAoa2FzZSkge1xuICAgICAgY2FzZSAnSURTJzogcmV0dXJuIEZpbmRNZWRpYUlkc01vZGUuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdNRURJQV9SRUZTJzogcmV0dXJuIEZpbmRNZWRpYVJlZnNNb2RlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnREVTSUdOX0lEUyc6IHJldHVybiBGaW5kTWVkaWFEZXNpZ25JZHNNb2RlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnRklMRU5BTUUnOiByZXR1cm4gRmluZE1lZGlhRmlsZW5hbWVNb2RlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnQlJBTkQnOiByZXR1cm4gRmluZE1lZGlhQnJhbmRNb2RlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnU0VUJzogcmV0dXJuIEZpbmRNZWRpYVNldE1vZGUuZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdFWFRFUk5BTF9QUk9WSURFUic6IHJldHVybiBGaW5kTWVkaWFFeHRlcm5hbFByb3ZpZGVyTW9kZS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0lNUE9SVF9LRVknOiByZXR1cm4gRmluZE1lZGlhSW1wb3J0S2V5TW9kZS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBjYXNlOiAke2thc2V9YCk7XG4gICAgfVxuICB9LFxufTtcblxuLyoqIEZpbmQgdW5yZXN0cmljdGVkIG1lZGlhIGJ5IGlkcyAqL1xuZXhwb3J0IGNsYXNzIEZpbmRNZWRpYUlkc01vZGUge1xuICByZWFkb25seSB0eXBlID0gJ0lEUyc7XG5cbiAgLyoqIElmIGVtcHR5LCBubyBtZWRpYSB3aWxsIGJlIHJldHVybmVkLiAqL1xuICByZWFkb25seSBpZHM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuICAvKiogQnJhbmQgaWQgb2YgdGhlIG93bmluZyBicmFuZC4gKi9cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFVzZXIgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cbiAgcmVhZG9ubHkgdXNlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogRmlsdGVyIGZvciByZXN0cmljdGVkIG9yIHVucmVzdHJpY3RlZCBtZWRpYS4gKi9cbiAgcmVhZG9ubHkgcmVzdHJpY3RlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqIFdoZXRoZXIgdG8gcmV0dXJuIGNvbW1pdHRlZCBidW5kbGVzIG9yIHN0YWdpbmcgYnVuZGxlcy4gKi9cbiAgcmVhZG9ubHkgc3RhZ2luZzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIElmIGVtcHR5LCBubyBtZWRpYSB3aWxsIGJlIHJldHVybmVkLiAqL1xuICAgIGlkcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIC8qKiBCcmFuZCBpZCBvZiB0aGUgb3duaW5nIGJyYW5kLiAqL1xuICAgIGJyYW5kPzogc3RyaW5nLFxuICAgIC8qKiBVc2VyIHRvIG1hdGNoIGFnYWluc3QuICovXG4gICAgdXNlcj86IHN0cmluZyxcbiAgICAvKiogRmlsdGVyIGZvciByZXN0cmljdGVkIG9yIHVucmVzdHJpY3RlZCBtZWRpYS4gKi9cbiAgICByZXN0cmljdGVkPzogYm9vbGVhbixcbiAgICAvKiogV2hldGhlciB0byByZXR1cm4gY29tbWl0dGVkIGJ1bmRsZXMgb3Igc3RhZ2luZyBidW5kbGVzLiAqL1xuICAgIHN0YWdpbmc6IGJvb2xlYW4sXG4gIH0pIHtcbiAgICAvKiogSWYgZW1wdHksIG5vIG1lZGlhIHdpbGwgYmUgcmV0dXJuZWQuICovXG4gICAgdGhpcy5pZHMgPSBvcHRzLmlkcyB8fCBbXTtcbiAgICAvKiogQnJhbmQgaWQgb2YgdGhlIG93bmluZyBicmFuZC4gKi9cbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICAvKiogVXNlciB0byBtYXRjaCBhZ2FpbnN0LiAqL1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgICAvKiogRmlsdGVyIGZvciByZXN0cmljdGVkIG9yIHVucmVzdHJpY3RlZCBtZWRpYS4gKi9cbiAgICB0aGlzLnJlc3RyaWN0ZWQgPSBvcHRzLnJlc3RyaWN0ZWQ7XG4gICAgLyoqIFdoZXRoZXIgdG8gcmV0dXJuIGNvbW1pdHRlZCBidW5kbGVzIG9yIHN0YWdpbmcgYnVuZGxlcy4gKi9cbiAgICB0aGlzLnN0YWdpbmcgPSBvcHRzLnN0YWdpbmc7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRNZWRpYUlkc01vZGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdJRFMnLFxuICAgICAgJ2lkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2lkcycsIG0uaWRzKSxcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgICAgJ3Jlc3RyaWN0ZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVzdHJpY3RlZCcsIG0ucmVzdHJpY3RlZCksXG4gICAgICAnc3RhZ2luZyc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdzdGFnaW5nJywgbS5zdGFnaW5nKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRNZWRpYUlkc01vZGUge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdJRFMnKTtcbiAgICByZXR1cm4gbmV3IEZpbmRNZWRpYUlkc01vZGUoe1xuICAgICAgaWRzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2lkcycsIG8pLFxuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmQnLCBvKSxcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndXNlcicsIG8pLFxuICAgICAgcmVzdHJpY3RlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVzdHJpY3RlZCcsIG8pLFxuICAgICAgc3RhZ2luZzogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc3RhZ2luZycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kTWVkaWFSZWZzTW9kZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnTUVESUFfUkVGUyc7XG5cbiAgLyoqIElmIGVtcHR5LCBubyBtZWRpYSB3aWxsIGJlIHJldHVybmVkLiAqL1xuICByZWFkb25seSBtZWRpYVJlZnM6IHJlYWRvbmx5IE1lZGlhUmVmW107XG4gIC8qKiBGaWx0ZXIgZm9yIHJlc3RyaWN0ZWQgb3IgdW5yZXN0cmljdGVkIG1lZGlhLiAqL1xuICByZWFkb25seSByZXN0cmljdGVkOiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogSWYgZW1wdHksIG5vIG1lZGlhIHdpbGwgYmUgcmV0dXJuZWQuICovXG4gICAgbWVkaWFSZWZzPzogcmVhZG9ubHkgTWVkaWFSZWZbXSxcbiAgICAvKiogRmlsdGVyIGZvciByZXN0cmljdGVkIG9yIHVucmVzdHJpY3RlZCBtZWRpYS4gKi9cbiAgICByZXN0cmljdGVkPzogYm9vbGVhbixcbiAgfSkge1xuICAgIC8qKiBJZiBlbXB0eSwgbm8gbWVkaWEgd2lsbCBiZSByZXR1cm5lZC4gKi9cbiAgICB0aGlzLm1lZGlhUmVmcyA9IG9wdHMubWVkaWFSZWZzIHx8IFtdO1xuICAgIC8qKiBGaWx0ZXIgZm9yIHJlc3RyaWN0ZWQgb3IgdW5yZXN0cmljdGVkIG1lZGlhLiAqL1xuICAgIHRoaXMucmVzdHJpY3RlZCA9IG9wdHMucmVzdHJpY3RlZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZE1lZGlhUmVmc01vZGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdNRURJQV9SRUZTJyxcbiAgICAgICdtZWRpYVJlZnMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KE1lZGlhUmVmLnNlcmlhbGl6ZSwgJ21lZGlhUmVmcycsIG0ubWVkaWFSZWZzKSxcbiAgICAgICdyZXN0cmljdGVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3Jlc3RyaWN0ZWQnLCBtLnJlc3RyaWN0ZWQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZE1lZGlhUmVmc01vZGUge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdNRURJQV9SRUZTJyk7XG4gICAgcmV0dXJuIG5ldyBGaW5kTWVkaWFSZWZzTW9kZSh7XG4gICAgICBtZWRpYVJlZnM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChNZWRpYVJlZi5kZXNlcmlhbGl6ZSwgJ21lZGlhUmVmcycsIG8pLFxuICAgICAgcmVzdHJpY3RlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVzdHJpY3RlZCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kTWVkaWFEZXNpZ25JZHNNb2RlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdERVNJR05fSURTJztcblxuICAvKiogSWYgZW1wdHksIG5vIG1lZGlhIHdpbGwgYmUgcmV0dXJuZWQuICovXG4gIHJlYWRvbmx5IGRlc2lnbklkczogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBCcmFuZCBpZCBvZiB0aGUgb3duaW5nIGJyYW5kLiAqL1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogRmlsdGVyIGZvciByZXN0cmljdGVkIG9yIHVucmVzdHJpY3RlZCBtZWRpYS4gKi9cbiAgcmVhZG9ubHkgcmVzdHJpY3RlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqIFdoZXRoZXIgdG8gcmV0dXJuIGNvbW1pdHRlZCBidW5kbGVzIG9yIHN0YWdpbmcgYnVuZGxlcy4gKi9cbiAgcmVhZG9ubHkgc3RhZ2luZzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIElmIGVtcHR5LCBubyBtZWRpYSB3aWxsIGJlIHJldHVybmVkLiAqL1xuICAgIGRlc2lnbklkcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIC8qKiBCcmFuZCBpZCBvZiB0aGUgb3duaW5nIGJyYW5kLiAqL1xuICAgIGJyYW5kOiBzdHJpbmcsXG4gICAgLyoqIEZpbHRlciBmb3IgcmVzdHJpY3RlZCBvciB1bnJlc3RyaWN0ZWQgbWVkaWEuICovXG4gICAgcmVzdHJpY3RlZD86IGJvb2xlYW4sXG4gICAgLyoqIFdoZXRoZXIgdG8gcmV0dXJuIGNvbW1pdHRlZCBidW5kbGVzIG9yIHN0YWdpbmcgYnVuZGxlcy4gKi9cbiAgICBzdGFnaW5nOiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqIElmIGVtcHR5LCBubyBtZWRpYSB3aWxsIGJlIHJldHVybmVkLiAqL1xuICAgIHRoaXMuZGVzaWduSWRzID0gb3B0cy5kZXNpZ25JZHMgfHwgW107XG4gICAgLyoqIEJyYW5kIGlkIG9mIHRoZSBvd25pbmcgYnJhbmQuICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIEZpbHRlciBmb3IgcmVzdHJpY3RlZCBvciB1bnJlc3RyaWN0ZWQgbWVkaWEuICovXG4gICAgdGhpcy5yZXN0cmljdGVkID0gb3B0cy5yZXN0cmljdGVkO1xuICAgIC8qKiBXaGV0aGVyIHRvIHJldHVybiBjb21taXR0ZWQgYnVuZGxlcyBvciBzdGFnaW5nIGJ1bmRsZXMuICovXG4gICAgdGhpcy5zdGFnaW5nID0gb3B0cy5zdGFnaW5nO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kTWVkaWFEZXNpZ25JZHNNb2RlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnREVTSUdOX0lEUycsXG4gICAgICAnZGVzaWduSWRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnZGVzaWduSWRzJywgbS5kZXNpZ25JZHMpLFxuICAgICAgJ2JyYW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICdyZXN0cmljdGVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3Jlc3RyaWN0ZWQnLCBtLnJlc3RyaWN0ZWQpLFxuICAgICAgJ3N0YWdpbmcnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc3RhZ2luZycsIG0uc3RhZ2luZyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFEZXNpZ25JZHNNb2RlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnREVTSUdOX0lEUycpO1xuICAgIHJldHVybiBuZXcgRmluZE1lZGlhRGVzaWduSWRzTW9kZSh7XG4gICAgICBkZXNpZ25JZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnZGVzaWduSWRzJywgbyksXG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgcmVzdHJpY3RlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVzdHJpY3RlZCcsIG8pLFxuICAgICAgc3RhZ2luZzogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc3RhZ2luZycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbi8qKiBGaW5kIHN0YWdpbmcgdW5yZXN0cmljdGVkIG1lZGlhIGJ5IGZpbGVuYW1lICovXG5leHBvcnQgY2xhc3MgRmluZE1lZGlhRmlsZW5hbWVNb2RlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdGSUxFTkFNRSc7XG5cbiAgLyoqIEZpbGVuYW1lIHRoZSBtZWRpYSBzZWFyY2hlZCBoYXMgYmVlbiBpbXBvcnRlZCB3aXRoLiAqL1xuICByZWFkb25seSBmaWxlbmFtZTogc3RyaW5nO1xuICAvKiogQnJhbmQgaWQgb2YgdGhlIG93bmluZyBicmFuZC4gKi9cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEZpbGVuYW1lIHRoZSBtZWRpYSBzZWFyY2hlZCBoYXMgYmVlbiBpbXBvcnRlZCB3aXRoLiAqL1xuICAgIGZpbGVuYW1lOiBzdHJpbmcsXG4gICAgLyoqIEJyYW5kIGlkIG9mIHRoZSBvd25pbmcgYnJhbmQuICovXG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBGaWxlbmFtZSB0aGUgbWVkaWEgc2VhcmNoZWQgaGFzIGJlZW4gaW1wb3J0ZWQgd2l0aC4gKi9cbiAgICB0aGlzLmZpbGVuYW1lID0gb3B0cy5maWxlbmFtZTtcbiAgICAvKiogQnJhbmQgaWQgb2YgdGhlIG93bmluZyBicmFuZC4gKi9cbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZE1lZGlhRmlsZW5hbWVNb2RlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRklMRU5BTUUnLFxuICAgICAgJ2ZpbGVuYW1lJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZmlsZW5hbWUnLCBtLmZpbGVuYW1lKSxcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFGaWxlbmFtZU1vZGUge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdGSUxFTkFNRScpO1xuICAgIHJldHVybiBuZXcgRmluZE1lZGlhRmlsZW5hbWVNb2RlKHtcbiAgICAgIGZpbGVuYW1lOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2ZpbGVuYW1lJywgbyksXG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kTWVkaWFCcmFuZE1vZGUge1xuICByZWFkb25seSB0eXBlID0gJ0JSQU5EJztcblxuICAvKiogQnJhbmQgaWQgb2YgdGhlIG93bmluZyBicmFuZC4gKi9cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZztcbiAgLyoqIFVzZXIgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cbiAgcmVhZG9ubHkgdXNlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogRmlsdGVyIGZvciByZXN0cmljdGVkIG9yIHVucmVzdHJpY3RlZCBtZWRpYS4gKi9cbiAgcmVhZG9ubHkgcmVzdHJpY3RlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqIFdoZXRoZXIgdG8gcmV0dXJuIGNvbW1pdHRlZCBidW5kbGVzIG9yIHN0YWdpbmcgYnVuZGxlcy4gKi9cbiAgcmVhZG9ubHkgc3RhZ2luZzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEJyYW5kIGlkIG9mIHRoZSBvd25pbmcgYnJhbmQuICovXG4gICAgYnJhbmQ6IHN0cmluZyxcbiAgICAvKiogVXNlciB0byBtYXRjaCBhZ2FpbnN0LiAqL1xuICAgIHVzZXI/OiBzdHJpbmcsXG4gICAgLyoqIEZpbHRlciBmb3IgcmVzdHJpY3RlZCBvciB1bnJlc3RyaWN0ZWQgbWVkaWEuICovXG4gICAgcmVzdHJpY3RlZD86IGJvb2xlYW4sXG4gICAgLyoqIFdoZXRoZXIgdG8gcmV0dXJuIGNvbW1pdHRlZCBidW5kbGVzIG9yIHN0YWdpbmcgYnVuZGxlcy4gKi9cbiAgICBzdGFnaW5nOiBib29sZWFuLFxuICB9KSB7XG4gICAgLyoqIEJyYW5kIGlkIG9mIHRoZSBvd25pbmcgYnJhbmQuICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIFVzZXIgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gICAgLyoqIEZpbHRlciBmb3IgcmVzdHJpY3RlZCBvciB1bnJlc3RyaWN0ZWQgbWVkaWEuICovXG4gICAgdGhpcy5yZXN0cmljdGVkID0gb3B0cy5yZXN0cmljdGVkO1xuICAgIC8qKiBXaGV0aGVyIHRvIHJldHVybiBjb21taXR0ZWQgYnVuZGxlcyBvciBzdGFnaW5nIGJ1bmRsZXMuICovXG4gICAgdGhpcy5zdGFnaW5nID0gb3B0cy5zdGFnaW5nO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kTWVkaWFCcmFuZE1vZGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdCUkFORCcsXG4gICAgICAnYnJhbmQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdicmFuZCcsIG0uYnJhbmQpLFxuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbS51c2VyKSxcbiAgICAgICdyZXN0cmljdGVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3Jlc3RyaWN0ZWQnLCBtLnJlc3RyaWN0ZWQpLFxuICAgICAgJ3N0YWdpbmcnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc3RhZ2luZycsIG0uc3RhZ2luZyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFCcmFuZE1vZGUge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdCUkFORCcpO1xuICAgIHJldHVybiBuZXcgRmluZE1lZGlhQnJhbmRNb2RlKHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICAgIHJlc3RyaWN0ZWQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3Jlc3RyaWN0ZWQnLCBvKSxcbiAgICAgIHN0YWdpbmc6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3N0YWdpbmcnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZE1lZGlhU2V0TW9kZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnU0VUJztcblxuICAvKiogRmlsdGVyIHRvIHJlc3RyaWN0IHRvIG1lZGlhIGluIHRoaXMgbWVkaWEgc2V0ICovXG4gIHJlYWRvbmx5IHNldDogc3RyaW5nO1xuICAvKiogQnJhbmQgaWQgb2YgdGhlIG93bmluZyBicmFuZC4gKi9cbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFVzZXIgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cbiAgcmVhZG9ubHkgdXNlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogRmlsdGVyIHRvIHJlc3RyaWN0IHRvIG1lZGlhIGluIHRoaXMgbWVkaWEgc2V0ICovXG4gICAgc2V0OiBzdHJpbmcsXG4gICAgLyoqIEJyYW5kIGlkIG9mIHRoZSBvd25pbmcgYnJhbmQuICovXG4gICAgYnJhbmQ/OiBzdHJpbmcsXG4gICAgLyoqIFVzZXIgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cbiAgICB1c2VyPzogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIEZpbHRlciB0byByZXN0cmljdCB0byBtZWRpYSBpbiB0aGlzIG1lZGlhIHNldCAqL1xuICAgIHRoaXMuc2V0ID0gb3B0cy5zZXQ7XG4gICAgLyoqIEJyYW5kIGlkIG9mIHRoZSBvd25pbmcgYnJhbmQuICovXG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqIFVzZXIgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cbiAgICB0aGlzLnVzZXIgPSBvcHRzLnVzZXI7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRNZWRpYVNldE1vZGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdTRVQnLFxuICAgICAgJ3NldCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3NldCcsIG0uc2V0KSxcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZE1lZGlhU2V0TW9kZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1NFVCcpO1xuICAgIHJldHVybiBuZXcgRmluZE1lZGlhU2V0TW9kZSh7XG4gICAgICBzZXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnc2V0JywgbyksXG4gICAgICBicmFuZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZCcsIG8pLFxuICAgICAgdXNlcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VyJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbmRNZWRpYUV4dGVybmFsUHJvdmlkZXJNb2RlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdFWFRFUk5BTF9QUk9WSURFUic7XG5cbiAgLyoqIEV4dGVybmFsIHByb3ZpZGVyIHRvIHJlc3RyaWN0IG1lZGlhIHJlc3VsdHMgdG8uICovXG4gIHJlYWRvbmx5IGV4dGVybmFsUHJvdmlkZXI6IEV4dGVybmFsUHJvdmlkZXI7XG4gIC8qKiBCcmFuZCBpZCBvZiB0aGUgb3duaW5nIGJyYW5kLiAqL1xuICByZWFkb25seSBicmFuZDogc3RyaW5nO1xuICAvKiogVXNlciB0byBtYXRjaCBhZ2FpbnN0LiAqL1xuICByZWFkb25seSB1c2VyOiBzdHJpbmc7XG4gIC8qKiBGaWx0ZXIgZm9yIHJlc3RyaWN0ZWQgb3IgdW5yZXN0cmljdGVkIG1lZGlhLiAqL1xuICByZWFkb25seSByZXN0cmljdGVkOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogRXh0ZXJuYWwgcHJvdmlkZXIgdG8gcmVzdHJpY3QgbWVkaWEgcmVzdWx0cyB0by4gKi9cbiAgICBleHRlcm5hbFByb3ZpZGVyOiBFeHRlcm5hbFByb3ZpZGVyLFxuICAgIC8qKiBCcmFuZCBpZCBvZiB0aGUgb3duaW5nIGJyYW5kLiAqL1xuICAgIGJyYW5kOiBzdHJpbmcsXG4gICAgLyoqIFVzZXIgdG8gbWF0Y2ggYWdhaW5zdC4gKi9cbiAgICB1c2VyOiBzdHJpbmcsXG4gICAgLyoqIEZpbHRlciBmb3IgcmVzdHJpY3RlZCBvciB1bnJlc3RyaWN0ZWQgbWVkaWEuICovXG4gICAgcmVzdHJpY3RlZDogYm9vbGVhbixcbiAgfSkge1xuICAgIC8qKiBFeHRlcm5hbCBwcm92aWRlciB0byByZXN0cmljdCBtZWRpYSByZXN1bHRzIHRvLiAqL1xuICAgIHRoaXMuZXh0ZXJuYWxQcm92aWRlciA9IG9wdHMuZXh0ZXJuYWxQcm92aWRlcjtcbiAgICAvKiogQnJhbmQgaWQgb2YgdGhlIG93bmluZyBicmFuZC4gKi9cbiAgICB0aGlzLmJyYW5kID0gb3B0cy5icmFuZDtcbiAgICAvKiogVXNlciB0byBtYXRjaCBhZ2FpbnN0LiAqL1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgICAvKiogRmlsdGVyIGZvciByZXN0cmljdGVkIG9yIHVucmVzdHJpY3RlZCBtZWRpYS4gKi9cbiAgICB0aGlzLnJlc3RyaWN0ZWQgPSBvcHRzLnJlc3RyaWN0ZWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRNZWRpYUV4dGVybmFsUHJvdmlkZXJNb2RlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRVhURVJOQUxfUFJPVklERVInLFxuICAgICAgJ2V4dGVybmFsUHJvdmlkZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShFeHRlcm5hbFByb3ZpZGVyVXRpbC5zZXJpYWxpemUsICdleHRlcm5hbFByb3ZpZGVyJywgbS5leHRlcm5hbFByb3ZpZGVyKSxcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgICAgJ3Jlc3RyaWN0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVzdHJpY3RlZCcsIG0ucmVzdHJpY3RlZCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFFeHRlcm5hbFByb3ZpZGVyTW9kZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ0VYVEVSTkFMX1BST1ZJREVSJyk7XG4gICAgcmV0dXJuIG5ldyBGaW5kTWVkaWFFeHRlcm5hbFByb3ZpZGVyTW9kZSh7XG4gICAgICBleHRlcm5hbFByb3ZpZGVyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPEV4dGVybmFsUHJvdmlkZXI+KEV4dGVybmFsUHJvdmlkZXJVdGlsLmRlc2VyaWFsaXplLCAnZXh0ZXJuYWxQcm92aWRlcicsIG8pLFxuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnYnJhbmQnLCBvKSxcbiAgICAgIHVzZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndXNlcicsIG8pLFxuICAgICAgcmVzdHJpY3RlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigncmVzdHJpY3RlZCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kTWVkaWFJbXBvcnRLZXlNb2RlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdJTVBPUlRfS0VZJztcblxuICAvKiogQnVja2V0IG9mIHRoZSBmaWxlIHRoYXQgdGhpcyBtZWRpYSBvYmplY3QgcmVwcmVzZW50cy4gKi9cbiAgcmVhZG9ubHkgaW1wb3J0QnVja2V0OiBzdHJpbmc7XG4gIC8qKiBLZXkgb2YgdGhlIGZpbGUgdGhhdCB0aGlzIG1lZGlhIG9iamVjdCByZXByZXNlbnRzLiAqL1xuICByZWFkb25seSBpbXBvcnRLZXk6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIEJ1Y2tldCBvZiB0aGUgZmlsZSB0aGF0IHRoaXMgbWVkaWEgb2JqZWN0IHJlcHJlc2VudHMuICovXG4gICAgaW1wb3J0QnVja2V0OiBzdHJpbmcsXG4gICAgLyoqIEtleSBvZiB0aGUgZmlsZSB0aGF0IHRoaXMgbWVkaWEgb2JqZWN0IHJlcHJlc2VudHMuICovXG4gICAgaW1wb3J0S2V5OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogQnVja2V0IG9mIHRoZSBmaWxlIHRoYXQgdGhpcyBtZWRpYSBvYmplY3QgcmVwcmVzZW50cy4gKi9cbiAgICB0aGlzLmltcG9ydEJ1Y2tldCA9IG9wdHMuaW1wb3J0QnVja2V0O1xuICAgIC8qKiBLZXkgb2YgdGhlIGZpbGUgdGhhdCB0aGlzIG1lZGlhIG9iamVjdCByZXByZXNlbnRzLiAqL1xuICAgIHRoaXMuaW1wb3J0S2V5ID0gb3B0cy5pbXBvcnRLZXk7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRNZWRpYUltcG9ydEtleU1vZGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdJTVBPUlRfS0VZJyxcbiAgICAgICdpbXBvcnRCdWNrZXQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpbXBvcnRCdWNrZXQnLCBtLmltcG9ydEJ1Y2tldCksXG4gICAgICAnaW1wb3J0S2V5JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaW1wb3J0S2V5JywgbS5pbXBvcnRLZXkpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZE1lZGlhSW1wb3J0S2V5TW9kZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ0lNUE9SVF9LRVknKTtcbiAgICByZXR1cm4gbmV3IEZpbmRNZWRpYUltcG9ydEtleU1vZGUoe1xuICAgICAgaW1wb3J0QnVja2V0OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2ltcG9ydEJ1Y2tldCcsIG8pLFxuICAgICAgaW1wb3J0S2V5OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2ltcG9ydEtleScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kTWVkaWFUeXBlcyB7XG4gIC8qKiBNZWRpYSB0eXBlcyB0byByZXN0cmljdCByZXN1bHRzIHRvLCBpZiBlbXB0eSBubyBtZWRpYSB3aWxsIGJlIHJldHVybmVkLiAqL1xuICByZWFkb25seSB0eXBlczogcmVhZG9ubHkgTWVkaWFUeXBlW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBNZWRpYSB0eXBlcyB0byByZXN0cmljdCByZXN1bHRzIHRvLCBpZiBlbXB0eSBubyBtZWRpYSB3aWxsIGJlIHJldHVybmVkLiAqL1xuICAgIHR5cGVzPzogcmVhZG9ubHkgTWVkaWFUeXBlW10sXG4gIH0pIHtcbiAgICAvKiogTWVkaWEgdHlwZXMgdG8gcmVzdHJpY3QgcmVzdWx0cyB0bywgaWYgZW1wdHkgbm8gbWVkaWEgd2lsbCBiZSByZXR1cm5lZC4gKi9cbiAgICB0aGlzLnR5cGVzID0gb3B0cy50eXBlcyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZE1lZGlhVHlwZXMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZXMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bShNZWRpYVR5cGVVdGlsLnNlcmlhbGl6ZSwgJ3R5cGVzJywgbS50eXBlcyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFUeXBlcyB7XG4gICAgcmV0dXJuIG5ldyBGaW5kTWVkaWFUeXBlcyh7XG4gICAgICB0eXBlczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxNZWRpYVR5cGU+KE1lZGlhVHlwZVV0aWwuZGVzZXJpYWxpemUsICd0eXBlcycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kTWVkaWFPcHRpb25zIHtcbiAgLyoqIExpc3Qgb2YgbWVkaWEgdHlwZXMgdG8gcmVzdHJpY3QgcmVzdWx0cyB0by4gKi9cbiAgcmVhZG9ubHkgdHlwZXM6IEZpbmRNZWRpYVR5cGVzIHwgdW5kZWZpbmVkO1xuICAvKiogRmlsdGVyIGZvciBhY3RpdmUgb3IgaW5hY3RpdmUgbWVkaWEgKi9cbiAgcmVhZG9ubHkgZGVhY3RpdmF0ZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIC8qKiBGaWx0ZXIgZm9yIGxvY2FsZS4gKi9cbiAgcmVhZG9ubHkgbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBMaXN0IG9mIG1lZGlhIHR5cGVzIHRvIHJlc3RyaWN0IHJlc3VsdHMgdG8uICovXG4gICAgdHlwZXM/OiBGaW5kTWVkaWFUeXBlcyxcbiAgICAvKiogRmlsdGVyIGZvciBhY3RpdmUgb3IgaW5hY3RpdmUgbWVkaWEgKi9cbiAgICBkZWFjdGl2YXRlZD86IGJvb2xlYW4sXG4gICAgLyoqIEZpbHRlciBmb3IgbG9jYWxlLiAqL1xuICAgIGxvY2FsZT86IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBMaXN0IG9mIG1lZGlhIHR5cGVzIHRvIHJlc3RyaWN0IHJlc3VsdHMgdG8uICovXG4gICAgdGhpcy50eXBlcyA9IG9wdHMudHlwZXM7XG4gICAgLyoqIEZpbHRlciBmb3IgYWN0aXZlIG9yIGluYWN0aXZlIG1lZGlhICovXG4gICAgdGhpcy5kZWFjdGl2YXRlZCA9IG9wdHMuZGVhY3RpdmF0ZWQ7XG4gICAgLyoqIEZpbHRlciBmb3IgbG9jYWxlLiAqL1xuICAgIHRoaXMubG9jYWxlID0gb3B0cy5sb2NhbGU7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRNZWRpYU9wdGlvbnMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZXMnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEZpbmRNZWRpYVR5cGVzLnNlcmlhbGl6ZSwgJ3R5cGVzJywgbS50eXBlcyksXG4gICAgICAnZGVhY3RpdmF0ZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignZGVhY3RpdmF0ZWQnLCBtLmRlYWN0aXZhdGVkKSxcbiAgICAgICdsb2NhbGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBtLmxvY2FsZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFPcHRpb25zIHtcbiAgICByZXR1cm4gbmV3IEZpbmRNZWRpYU9wdGlvbnMoe1xuICAgICAgdHlwZXM6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChGaW5kTWVkaWFUeXBlcy5kZXNlcmlhbGl6ZSwgJ3R5cGVzJywgbyksXG4gICAgICBkZWFjdGl2YXRlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignZGVhY3RpdmF0ZWQnLCBvKSxcbiAgICAgIGxvY2FsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZE1lZGlhUmVxdWVzdCB7XG4gIC8qKiBNYWluIG1vZGUgYnkgd2hpY2ggbWVkaWEgd2lsbCBiZSBmb3VuZC4gKi9cbiAgcmVhZG9ubHkgbW9kZTogRmluZE1lZGlhTW9kZTtcbiAgLyoqIFByb2plY3Rpb25zIHRvIGxvYWQgZm9yIHRoZSByZXN1bHRhbnQgbWVkaWEuICovXG4gIHJlYWRvbmx5IHByb2plY3Rpb246IHJlYWRvbmx5IE1lZGlhQ29tcG9uZW50W107XG4gIC8qKiBJZiB0aGUgZmlsZSBwcm9qZWN0aW9uIGlzIHJldHVybmVkLCBVUkxzIGZvciB0aGVzZSBxdWFsaXRpZXMgd2lsbCBiZSBtaW50ZWQuICovXG4gIHJlYWRvbmx5IG1pbnRVcmxzOiByZWFkb25seSBNZWRpYVF1YWxpdHlbXTtcbiAgLyoqIEFkZGl0aW9uYWwgb3B0aW9ucyAqL1xuICByZWFkb25seSBvcHRpb25zOiBGaW5kTWVkaWFPcHRpb25zIHwgdW5kZWZpbmVkO1xuICAvKiogTGltaXQgdG8gZmV0Y2guICovXG4gIHJlYWRvbmx5IGxpbWl0OiBudW1iZXI7XG4gIC8qKiBDb250aW51YXRpb24gdG9rZW4gZm9yIHRoZSBwYWdlIG9mIHJlc3VsdHMgdG8gZmV0Y2guICovXG4gIHJlYWRvbmx5IGNvbnRpbnVhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogSWYgc3BlY2lmaWVkLCByZXR1cm4gbWV0YWRhdGEgaW4gdGhpcyBsb2NhbGUsIGVsc2UgdXNlIHRoZSBkZWZhdWx0IGxvY2FsZSBvZiB0aGUgbWVkaWEuICovXG4gIHJlYWRvbmx5IG1ldGFkYXRhTG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBNYWluIG1vZGUgYnkgd2hpY2ggbWVkaWEgd2lsbCBiZSBmb3VuZC4gKi9cbiAgICBtb2RlOiBGaW5kTWVkaWFNb2RlLFxuICAgIC8qKiBQcm9qZWN0aW9ucyB0byBsb2FkIGZvciB0aGUgcmVzdWx0YW50IG1lZGlhLiAqL1xuICAgIHByb2plY3Rpb24/OiByZWFkb25seSBNZWRpYUNvbXBvbmVudFtdLFxuICAgIC8qKiBJZiB0aGUgZmlsZSBwcm9qZWN0aW9uIGlzIHJldHVybmVkLCBVUkxzIGZvciB0aGVzZSBxdWFsaXRpZXMgd2lsbCBiZSBtaW50ZWQuICovXG4gICAgbWludFVybHM/OiByZWFkb25seSBNZWRpYVF1YWxpdHlbXSxcbiAgICAvKiogQWRkaXRpb25hbCBvcHRpb25zICovXG4gICAgb3B0aW9ucz86IEZpbmRNZWRpYU9wdGlvbnMsXG4gICAgLyoqIExpbWl0IHRvIGZldGNoLiAqL1xuICAgIGxpbWl0OiBudW1iZXIsXG4gICAgLyoqIENvbnRpbnVhdGlvbiB0b2tlbiBmb3IgdGhlIHBhZ2Ugb2YgcmVzdWx0cyB0byBmZXRjaC4gKi9cbiAgICBjb250aW51YXRpb24/OiBzdHJpbmcsXG4gICAgLyoqIElmIHNwZWNpZmllZCwgcmV0dXJuIG1ldGFkYXRhIGluIHRoaXMgbG9jYWxlLCBlbHNlIHVzZSB0aGUgZGVmYXVsdCBsb2NhbGUgb2YgdGhlIG1lZGlhLiAqL1xuICAgIG1ldGFkYXRhTG9jYWxlPzogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIE1haW4gbW9kZSBieSB3aGljaCBtZWRpYSB3aWxsIGJlIGZvdW5kLiAqL1xuICAgIHRoaXMubW9kZSA9IG9wdHMubW9kZTtcbiAgICAvKiogUHJvamVjdGlvbnMgdG8gbG9hZCBmb3IgdGhlIHJlc3VsdGFudCBtZWRpYS4gKi9cbiAgICB0aGlzLnByb2plY3Rpb24gPSBvcHRzLnByb2plY3Rpb24gfHwgW107XG4gICAgLyoqIElmIHRoZSBmaWxlIHByb2plY3Rpb24gaXMgcmV0dXJuZWQsIFVSTHMgZm9yIHRoZXNlIHF1YWxpdGllcyB3aWxsIGJlIG1pbnRlZC4gKi9cbiAgICB0aGlzLm1pbnRVcmxzID0gb3B0cy5taW50VXJscyB8fCBbXTtcbiAgICAvKiogQWRkaXRpb25hbCBvcHRpb25zICovXG4gICAgdGhpcy5vcHRpb25zID0gb3B0cy5vcHRpb25zO1xuICAgIC8qKiBMaW1pdCB0byBmZXRjaC4gKi9cbiAgICB0aGlzLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgICAvKiogQ29udGludWF0aW9uIHRva2VuIGZvciB0aGUgcGFnZSBvZiByZXN1bHRzIHRvIGZldGNoLiAqL1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gICAgLyoqIElmIHNwZWNpZmllZCwgcmV0dXJuIG1ldGFkYXRhIGluIHRoaXMgbG9jYWxlLCBlbHNlIHVzZSB0aGUgZGVmYXVsdCBsb2NhbGUgb2YgdGhlIG1lZGlhLiAqL1xuICAgIHRoaXMubWV0YWRhdGFMb2NhbGUgPSBvcHRzLm1ldGFkYXRhTG9jYWxlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGaW5kTWVkaWFSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ21vZGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KEZpbmRNZWRpYU1vZGUuc2VyaWFsaXplLCAnbW9kZScsIG0ubW9kZSksXG4gICAgICAncHJvamVjdGlvbic6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKE1lZGlhQ29tcG9uZW50VXRpbC5zZXJpYWxpemUsICdwcm9qZWN0aW9uJywgbS5wcm9qZWN0aW9uKSxcbiAgICAgICdtaW50VXJscyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKE1lZGlhUXVhbGl0eVV0aWwuc2VyaWFsaXplLCAnbWludFVybHMnLCBtLm1pbnRVcmxzKSxcbiAgICAgICdvcHRpb25zJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChGaW5kTWVkaWFPcHRpb25zLnNlcmlhbGl6ZSwgJ29wdGlvbnMnLCBtLm9wdGlvbnMpLFxuICAgICAgJ2xpbWl0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBtLmxpbWl0KSxcbiAgICAgICdjb250aW51YXRpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBtLmNvbnRpbnVhdGlvbiksXG4gICAgICAnbWV0YWRhdGFMb2NhbGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdtZXRhZGF0YUxvY2FsZScsIG0ubWV0YWRhdGFMb2NhbGUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZE1lZGlhUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBGaW5kTWVkaWFSZXF1ZXN0KHtcbiAgICAgIG1vZGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChGaW5kTWVkaWFNb2RlLmRlc2VyaWFsaXplLCAnbW9kZScsIG8pLFxuICAgICAgcHJvamVjdGlvbjogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxNZWRpYUNvbXBvbmVudD4oTWVkaWFDb21wb25lbnRVdGlsLmRlc2VyaWFsaXplLCAncHJvamVjdGlvbicsIG8pLFxuICAgICAgbWludFVybHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08TWVkaWFRdWFsaXR5PihNZWRpYVF1YWxpdHlVdGlsLmRlc2VyaWFsaXplLCAnbWludFVybHMnLCBvKSxcbiAgICAgIG9wdGlvbnM6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChGaW5kTWVkaWFPcHRpb25zLmRlc2VyaWFsaXplLCAnb3B0aW9ucycsIG8pLFxuICAgICAgbGltaXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBvKSxcbiAgICAgIGNvbnRpbnVhdGlvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBvKSxcbiAgICAgIG1ldGFkYXRhTG9jYWxlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ21ldGFkYXRhTG9jYWxlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbmRNZWRpYVJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IG1lZGlhOiByZWFkb25seSBNZWRpYVtdO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBjb250aW51YXRpb24/OiBzdHJpbmcsXG4gICAgbWVkaWE/OiByZWFkb25seSBNZWRpYVtdLFxuICB9KSB7XG4gICAgdGhpcy5jb250aW51YXRpb24gPSBvcHRzLmNvbnRpbnVhdGlvbjtcbiAgICB0aGlzLm1lZGlhID0gb3B0cy5tZWRpYSB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZE1lZGlhUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgICAgJ21lZGlhJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChNZWRpYS5zZXJpYWxpemUsICdtZWRpYScsIG0ubWVkaWEpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRmluZE1lZGlhUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgRmluZE1lZGlhUmVzcG9uc2Uoe1xuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgbWVkaWE6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChNZWRpYS5kZXNlcmlhbGl6ZSwgJ21lZGlhJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBUT0RPKFJSKTogV2Ugd2lsbCBiZSBtb3ZpbmcgdGl0bGUgYW5kIGRlc2NyaXB0aW9uIHRvIGNvbnRlbnQgbWV0YWRhdGEsIHdlIHByb2JhYmx5XG4gKiBkb24ndCBuZWVkIEJ1bmRsZU1ldGFkYXRhIGluIHRoZSBmdXR1cmUgc2luY2UgaXQgb25seSBjb250YWlucyBhcnRpc3QgKHdoaWNoIHdpbGwgYWxzbyBiZVxuICogbW92ZWQgdG8gYW5vdGhlciBtZXRhZGF0YSBibG9iKS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJ1bmRsZU1ldGFkYXRhIHtcbiAgcmVhZG9ubHkgYXJ0aXN0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGFydGlzdD86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuYXJ0aXN0ID0gb3B0cy5hcnRpc3Q7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEJ1bmRsZU1ldGFkYXRhKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2FydGlzdCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2FydGlzdCcsIG0uYXJ0aXN0KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJ1bmRsZU1ldGFkYXRhIHtcbiAgICByZXR1cm4gbmV3IEJ1bmRsZU1ldGFkYXRhKHtcbiAgICAgIGFydGlzdDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdhcnRpc3QnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQnVuZGxlU3R5bGUge1xuICByZWFkb25seSBiYWNrZ3JvdW5kOiBib29sZWFuO1xuICByZWFkb25seSBjdXRvdXQ6IGJvb2xlYW47XG4gIHJlYWRvbmx5IGlzb2xhdGVkOiBib29sZWFuO1xuICByZWFkb25seSBwaG90b2hvbGRlcjogYm9vbGVhbjtcbiAgcmVhZG9ubHkgdGV4dGhvbGRlcjogYm9vbGVhbjtcbiAgcmVhZG9ubHkgcmVwZWF0aW5nOiBib29sZWFuO1xuICByZWFkb25seSByZWNvbG9yYWJsZTogYm9vbGVhbjtcbiAgcmVhZG9ubHkgY29sb3JTcGFjZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBiYWNrZ3JvdW5kOiBib29sZWFuLFxuICAgIGN1dG91dDogYm9vbGVhbixcbiAgICBpc29sYXRlZDogYm9vbGVhbixcbiAgICBwaG90b2hvbGRlcjogYm9vbGVhbixcbiAgICB0ZXh0aG9sZGVyOiBib29sZWFuLFxuICAgIHJlcGVhdGluZzogYm9vbGVhbixcbiAgICByZWNvbG9yYWJsZTogYm9vbGVhbixcbiAgICBjb2xvclNwYWNlPzogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5iYWNrZ3JvdW5kID0gb3B0cy5iYWNrZ3JvdW5kO1xuICAgIHRoaXMuY3V0b3V0ID0gb3B0cy5jdXRvdXQ7XG4gICAgdGhpcy5pc29sYXRlZCA9IG9wdHMuaXNvbGF0ZWQ7XG4gICAgdGhpcy5waG90b2hvbGRlciA9IG9wdHMucGhvdG9ob2xkZXI7XG4gICAgdGhpcy50ZXh0aG9sZGVyID0gb3B0cy50ZXh0aG9sZGVyO1xuICAgIHRoaXMucmVwZWF0aW5nID0gb3B0cy5yZXBlYXRpbmc7XG4gICAgdGhpcy5yZWNvbG9yYWJsZSA9IG9wdHMucmVjb2xvcmFibGU7XG4gICAgdGhpcy5jb2xvclNwYWNlID0gb3B0cy5jb2xvclNwYWNlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBCdW5kbGVTdHlsZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdiYWNrZ3JvdW5kJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2JhY2tncm91bmQnLCBtLmJhY2tncm91bmQpLFxuICAgICAgJ2N1dG91dCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdjdXRvdXQnLCBtLmN1dG91dCksXG4gICAgICAnaXNvbGF0ZWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaXNvbGF0ZWQnLCBtLmlzb2xhdGVkKSxcbiAgICAgICdwaG90b2hvbGRlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdwaG90b2hvbGRlcicsIG0ucGhvdG9ob2xkZXIpLFxuICAgICAgJ3RleHRob2xkZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndGV4dGhvbGRlcicsIG0udGV4dGhvbGRlciksXG4gICAgICAncmVwZWF0aW5nJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3JlcGVhdGluZycsIG0ucmVwZWF0aW5nKSxcbiAgICAgICdyZWNvbG9yYWJsZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZWNvbG9yYWJsZScsIG0ucmVjb2xvcmFibGUpLFxuICAgICAgJ2NvbG9yU3BhY2UnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb2xvclNwYWNlJywgbS5jb2xvclNwYWNlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEJ1bmRsZVN0eWxlIHtcbiAgICByZXR1cm4gbmV3IEJ1bmRsZVN0eWxlKHtcbiAgICAgIGJhY2tncm91bmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ2JhY2tncm91bmQnLCBvKSxcbiAgICAgIGN1dG91dDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignY3V0b3V0JywgbyksXG4gICAgICBpc29sYXRlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaXNvbGF0ZWQnLCBvKSxcbiAgICAgIHBob3RvaG9sZGVyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdwaG90b2hvbGRlcicsIG8pLFxuICAgICAgdGV4dGhvbGRlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndGV4dGhvbGRlcicsIG8pLFxuICAgICAgcmVwZWF0aW5nOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZXBlYXRpbmcnLCBvKSxcbiAgICAgIHJlY29sb3JhYmxlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdyZWNvbG9yYWJsZScsIG8pLFxuICAgICAgY29sb3JTcGFjZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb2xvclNwYWNlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbnRlbnRNZXRhZGF0YVVwZGF0ZSB7XG4gIHJlYWRvbmx5IGRhdGE6IENvbnRlbnRNZXRhZGF0YTtcbiAgcmVhZG9ubHkga2V5d29yZHNVcGRhdGVQb2xpY3k6IExpc3RVcGRhdGVQb2xpY3kgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHN1cGVyS2V5d29yZHNVcGRhdGVQb2xpY3k6IExpc3RVcGRhdGVQb2xpY3kgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHN1cGVyS2V5d29yZHMyVXBkYXRlUG9saWN5OiBMaXN0VXBkYXRlUG9saWN5IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBkYXRhOiBDb250ZW50TWV0YWRhdGEsXG4gICAga2V5d29yZHNVcGRhdGVQb2xpY3k/OiBMaXN0VXBkYXRlUG9saWN5LFxuICAgIHN1cGVyS2V5d29yZHNVcGRhdGVQb2xpY3k/OiBMaXN0VXBkYXRlUG9saWN5LFxuICAgIHN1cGVyS2V5d29yZHMyVXBkYXRlUG9saWN5PzogTGlzdFVwZGF0ZVBvbGljeSxcbiAgfSkge1xuICAgIHRoaXMuZGF0YSA9IG9wdHMuZGF0YTtcbiAgICB0aGlzLmtleXdvcmRzVXBkYXRlUG9saWN5ID0gb3B0cy5rZXl3b3Jkc1VwZGF0ZVBvbGljeTtcbiAgICB0aGlzLnN1cGVyS2V5d29yZHNVcGRhdGVQb2xpY3kgPSBvcHRzLnN1cGVyS2V5d29yZHNVcGRhdGVQb2xpY3k7XG4gICAgdGhpcy5zdXBlcktleXdvcmRzMlVwZGF0ZVBvbGljeSA9IG9wdHMuc3VwZXJLZXl3b3JkczJVcGRhdGVQb2xpY3k7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENvbnRlbnRNZXRhZGF0YVVwZGF0ZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdkYXRhJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChDb250ZW50TWV0YWRhdGEuc2VyaWFsaXplLCAnZGF0YScsIG0uZGF0YSksXG4gICAgICAna2V5d29yZHNVcGRhdGVQb2xpY3knOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShMaXN0VXBkYXRlUG9saWN5VXRpbC5zZXJpYWxpemUsICdrZXl3b3Jkc1VwZGF0ZVBvbGljeScsIG0ua2V5d29yZHNVcGRhdGVQb2xpY3kpLFxuICAgICAgJ3N1cGVyS2V5d29yZHNVcGRhdGVQb2xpY3knOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShMaXN0VXBkYXRlUG9saWN5VXRpbC5zZXJpYWxpemUsICdzdXBlcktleXdvcmRzVXBkYXRlUG9saWN5JywgbS5zdXBlcktleXdvcmRzVXBkYXRlUG9saWN5KSxcbiAgICAgICdzdXBlcktleXdvcmRzMlVwZGF0ZVBvbGljeSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKExpc3RVcGRhdGVQb2xpY3lVdGlsLnNlcmlhbGl6ZSwgJ3N1cGVyS2V5d29yZHMyVXBkYXRlUG9saWN5JywgbS5zdXBlcktleXdvcmRzMlVwZGF0ZVBvbGljeSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDb250ZW50TWV0YWRhdGFVcGRhdGUge1xuICAgIHJldHVybiBuZXcgQ29udGVudE1ldGFkYXRhVXBkYXRlKHtcbiAgICAgIGRhdGE6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChDb250ZW50TWV0YWRhdGEuZGVzZXJpYWxpemUsICdkYXRhJywgbyksXG4gICAgICBrZXl3b3Jkc1VwZGF0ZVBvbGljeTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bTxMaXN0VXBkYXRlUG9saWN5PihMaXN0VXBkYXRlUG9saWN5VXRpbC5kZXNlcmlhbGl6ZSwgJ2tleXdvcmRzVXBkYXRlUG9saWN5JywgbyksXG4gICAgICBzdXBlcktleXdvcmRzVXBkYXRlUG9saWN5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtPExpc3RVcGRhdGVQb2xpY3k+KExpc3RVcGRhdGVQb2xpY3lVdGlsLmRlc2VyaWFsaXplLCAnc3VwZXJLZXl3b3Jkc1VwZGF0ZVBvbGljeScsIG8pLFxuICAgICAgc3VwZXJLZXl3b3JkczJVcGRhdGVQb2xpY3k6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08TGlzdFVwZGF0ZVBvbGljeT4oTGlzdFVwZGF0ZVBvbGljeVV0aWwuZGVzZXJpYWxpemUsICdzdXBlcktleXdvcmRzMlVwZGF0ZVBvbGljeScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBRdWFsaXR5TWV0YWRhdGFVcGRhdGUge1xuICByZWFkb25seSBkYXRhOiBRdWFsaXR5TWV0YWRhdGE7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGRhdGE6IFF1YWxpdHlNZXRhZGF0YSxcbiAgfSkge1xuICAgIHRoaXMuZGF0YSA9IG9wdHMuZGF0YTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogUXVhbGl0eU1ldGFkYXRhVXBkYXRlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2RhdGEnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KFF1YWxpdHlNZXRhZGF0YS5zZXJpYWxpemUsICdkYXRhJywgbS5kYXRhKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFF1YWxpdHlNZXRhZGF0YVVwZGF0ZSB7XG4gICAgcmV0dXJuIG5ldyBRdWFsaXR5TWV0YWRhdGFVcGRhdGUoe1xuICAgICAgZGF0YTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KFF1YWxpdHlNZXRhZGF0YS5kZXNlcmlhbGl6ZSwgJ2RhdGEnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9jYWxpemVkTWV0YWRhdGFVcGRhdGUge1xuICAvKiogTWFwIG9mIGxhbmd1YWdlIHRhZyB0byBsb2NhbGl6ZWQgbWV0YWRhdGEgKi9cbiAgcmVhZG9ubHkgbG9jYWxpemVkTWV0YWRhdGE6IFJlYWRvbmx5TWFwPHN0cmluZywgTG9jYWxpemVkTWV0YWRhdGE+O1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogTWFwIG9mIGxhbmd1YWdlIHRhZyB0byBsb2NhbGl6ZWQgbWV0YWRhdGEgKi9cbiAgICBsb2NhbGl6ZWRNZXRhZGF0YT86IFJlYWRvbmx5TWFwPHN0cmluZywgTG9jYWxpemVkTWV0YWRhdGE+LFxuICB9KSB7XG4gICAgLyoqIE1hcCBvZiBsYW5ndWFnZSB0YWcgdG8gbG9jYWxpemVkIG1ldGFkYXRhICovXG4gICAgdGhpcy5sb2NhbGl6ZWRNZXRhZGF0YSA9IG9wdHMubG9jYWxpemVkTWV0YWRhdGEgfHwgbmV3IE1hcCgpO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBMb2NhbGl6ZWRNZXRhZGF0YVVwZGF0ZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdsb2NhbGl6ZWRNZXRhZGF0YSc6IFNlcmlhbGl6YXRpb24uc3RyaW5nT2JqZWN0TWFwKExvY2FsaXplZE1ldGFkYXRhLnNlcmlhbGl6ZSwgJ2xvY2FsaXplZE1ldGFkYXRhJywgbS5sb2NhbGl6ZWRNZXRhZGF0YSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBMb2NhbGl6ZWRNZXRhZGF0YVVwZGF0ZSB7XG4gICAgcmV0dXJuIG5ldyBMb2NhbGl6ZWRNZXRhZGF0YVVwZGF0ZSh7XG4gICAgICBsb2NhbGl6ZWRNZXRhZGF0YTogRGVzZXJpYWxpemF0aW9uLnN0cmluZ09iamVjdE1hcChMb2NhbGl6ZWRNZXRhZGF0YS5kZXNlcmlhbGl6ZSwgJ2xvY2FsaXplZE1ldGFkYXRhJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEFydGlzdE1ldGFkYXRhVXBkYXRlIHtcbiAgcmVhZG9ubHkgZGF0YTogQXJ0aXN0TWV0YWRhdGE7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGRhdGE6IEFydGlzdE1ldGFkYXRhLFxuICB9KSB7XG4gICAgdGhpcy5kYXRhID0gb3B0cy5kYXRhO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBBcnRpc3RNZXRhZGF0YVVwZGF0ZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdkYXRhJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChBcnRpc3RNZXRhZGF0YS5zZXJpYWxpemUsICdkYXRhJywgbS5kYXRhKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEFydGlzdE1ldGFkYXRhVXBkYXRlIHtcbiAgICByZXR1cm4gbmV3IEFydGlzdE1ldGFkYXRhVXBkYXRlKHtcbiAgICAgIGRhdGE6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChBcnRpc3RNZXRhZGF0YS5kZXNlcmlhbGl6ZSwgJ2RhdGEnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlTWVkaWFSZXF1ZXN0RmlsZXMge1xuICByZWFkb25seSBmaWxlczogcmVhZG9ubHkgTWVkaWFGaWxlW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGZpbGVzPzogcmVhZG9ubHkgTWVkaWFGaWxlW10sXG4gIH0pIHtcbiAgICB0aGlzLmZpbGVzID0gb3B0cy5maWxlcyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlTWVkaWFSZXF1ZXN0RmlsZXMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnZmlsZXMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KE1lZGlhRmlsZS5zZXJpYWxpemUsICdmaWxlcycsIG0uZmlsZXMpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVXBkYXRlTWVkaWFSZXF1ZXN0RmlsZXMge1xuICAgIHJldHVybiBuZXcgVXBkYXRlTWVkaWFSZXF1ZXN0RmlsZXMoe1xuICAgICAgZmlsZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChNZWRpYUZpbGUuZGVzZXJpYWxpemUsICdmaWxlcycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVNZWRpYVJlcXVlc3RLZXl3b3JkcyB7XG4gIHJlYWRvbmx5IGtleXdvcmRzOiByZWFkb25seSBMb2NhbGl6ZWRTdHJpbmdbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAga2V5d29yZHM/OiByZWFkb25seSBMb2NhbGl6ZWRTdHJpbmdbXSxcbiAgfSkge1xuICAgIHRoaXMua2V5d29yZHMgPSBvcHRzLmtleXdvcmRzIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVNZWRpYVJlcXVlc3RLZXl3b3Jkcyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdrZXl3b3Jkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTG9jYWxpemVkU3RyaW5nLnNlcmlhbGl6ZSwgJ2tleXdvcmRzJywgbS5rZXl3b3JkcyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVNZWRpYVJlcXVlc3RLZXl3b3JkcyB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVNZWRpYVJlcXVlc3RLZXl3b3Jkcyh7XG4gICAgICBrZXl3b3JkczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KExvY2FsaXplZFN0cmluZy5kZXNlcmlhbGl6ZSwgJ2tleXdvcmRzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZU1lZGlhUmVxdWVzdFByb2Nlc3NlZEZpbGVzIHtcbiAgcmVhZG9ubHkgcHJvY2Vzc2VkRmlsZXM6IHJlYWRvbmx5IFByb2Nlc3NlZEZpbGVbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgcHJvY2Vzc2VkRmlsZXM/OiByZWFkb25seSBQcm9jZXNzZWRGaWxlW10sXG4gIH0pIHtcbiAgICB0aGlzLnByb2Nlc3NlZEZpbGVzID0gb3B0cy5wcm9jZXNzZWRGaWxlcyB8fCBbXTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVXBkYXRlTWVkaWFSZXF1ZXN0UHJvY2Vzc2VkRmlsZXMpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncHJvY2Vzc2VkRmlsZXMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KFByb2Nlc3NlZEZpbGUuc2VyaWFsaXplLCAncHJvY2Vzc2VkRmlsZXMnLCBtLnByb2Nlc3NlZEZpbGVzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZU1lZGlhUmVxdWVzdFByb2Nlc3NlZEZpbGVzIHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZU1lZGlhUmVxdWVzdFByb2Nlc3NlZEZpbGVzKHtcbiAgICAgIHByb2Nlc3NlZEZpbGVzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoUHJvY2Vzc2VkRmlsZS5kZXNlcmlhbGl6ZSwgJ3Byb2Nlc3NlZEZpbGVzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZU1lZGlhUmVxdWVzdENvbXBvbmVudE1lZGlhIHtcbiAgcmVhZG9ubHkgY29tcG9uZW50TWVkaWE6IHJlYWRvbmx5IE1lZGlhUmVmW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGNvbXBvbmVudE1lZGlhPzogcmVhZG9ubHkgTWVkaWFSZWZbXSxcbiAgfSkge1xuICAgIHRoaXMuY29tcG9uZW50TWVkaWEgPSBvcHRzLmNvbXBvbmVudE1lZGlhIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVNZWRpYVJlcXVlc3RDb21wb25lbnRNZWRpYSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdjb21wb25lbnRNZWRpYSc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTWVkaWFSZWYuc2VyaWFsaXplLCAnY29tcG9uZW50TWVkaWEnLCBtLmNvbXBvbmVudE1lZGlhKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZU1lZGlhUmVxdWVzdENvbXBvbmVudE1lZGlhIHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZU1lZGlhUmVxdWVzdENvbXBvbmVudE1lZGlhKHtcbiAgICAgIGNvbXBvbmVudE1lZGlhOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTWVkaWFSZWYuZGVzZXJpYWxpemUsICdjb21wb25lbnRNZWRpYScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVNZWRpYVJlcXVlc3Qge1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSB2ZXJzaW9uOiBudW1iZXI7XG4gIHJlYWRvbmx5IGNvbW1pdDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcmVzZXQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IG5ld0ltcG9ydDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgbmV3SW1wb3J0VmVyc2lvbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBpbXBvcnRTdGF0ZTogTWVkaWFJbXBvcnRTdGF0ZSB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgaW1wb3J0TWVzc2FnZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBzdGF0dXM6IE1lZGlhSW5nZXN0aW9uU3RhdHVzIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSByZWplY3Rpb25SZWFzb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcXVhbGl0eTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBhZ2VSYXRpbmc6IE1lZGlhQWdlUmF0aW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBpbXBvcnRWZXJzaW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGltcG9ydFNpemU6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgc3R5bGU6IEJ1bmRsZVN0eWxlIHwgdW5kZWZpbmVkO1xuICAvKiogQGRlcHJlY2F0ZWQgdXNlIGNvbnRlbnRfbWV0YWRhdGEgd2hlbiB1cGRhdGluZyB0aXRsZSBhbmQgZGVzY3JpcHRpb24uICovXG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICByZWFkb25seSBtZXRhZGF0YTogQnVuZGxlTWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gIC8qKiBAZGVwcmVjYXRlZCB1c2UgY29udGVudF9tZXRhZGF0YS4gKi9cbiAgLyoqIEBkZXByZWNhdGVkICovXG4gIHJlYWRvbmx5IHN1cGVyS2V5d29yZHM6IHJlYWRvbmx5IExvY2FsaXplZFN0cmluZ1tdO1xuICByZWFkb25seSBsaWNlbnNpbmc6IExpY2Vuc2luZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZGVhY3RpdmF0ZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHJlc3RyaWN0ZWRBY2Nlc3M6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGxpc3RlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZGVzaWduVmVyc2lvbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkZXNpZ25UeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IGRlc2lnblNjaGVtYVZlcnNpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZm9udE1ldGFkYXRhOiBGb250TWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHNwcml0ZXNoZWV0TWV0YWRhdGE6IFNwcml0ZXNoZWV0TWV0YWRhdGEgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IG1pbnRVcmxzOiByZWFkb25seSBNZWRpYVF1YWxpdHlbXTtcbiAgcmVhZG9ubHkgbG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHJldmlld2VkQnk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgc2V0T3BlcmF0aW9uOiBTZXRPcGVyYXRpb24gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHNldDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBjb250ZW50TWV0YWRhdGE6IENvbnRlbnRNZXRhZGF0YVVwZGF0ZSB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgY29sb3JJbmZvOiBNZWRpYUNvbG9ySW5mbyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgZmlsZXM6IFVwZGF0ZU1lZGlhUmVxdWVzdEZpbGVzIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBrZXl3b3Jkc186IFVwZGF0ZU1lZGlhUmVxdWVzdEtleXdvcmRzIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBwcm9jZXNzZWRGaWxlc186IFVwZGF0ZU1lZGlhUmVxdWVzdFByb2Nlc3NlZEZpbGVzIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBjb21wb25lbnRNZWRpYV86IFVwZGF0ZU1lZGlhUmVxdWVzdENvbXBvbmVudE1lZGlhIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBxdWFsaXR5TWV0YWRhdGE6IFF1YWxpdHlNZXRhZGF0YVVwZGF0ZSB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgbG9jYWxpemVkTWV0YWRhdGE6IExvY2FsaXplZE1ldGFkYXRhVXBkYXRlIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBhcnRpc3RNZXRhZGF0YTogQXJ0aXN0TWV0YWRhdGFVcGRhdGUgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGlkOiBzdHJpbmcsXG4gICAgdmVyc2lvbjogbnVtYmVyLFxuICAgIGNvbW1pdD86IGJvb2xlYW4sXG4gICAgcmVzZXQ/OiBib29sZWFuLFxuICAgIG5ld0ltcG9ydD86IGJvb2xlYW4sXG4gICAgbmV3SW1wb3J0VmVyc2lvbj86IG51bWJlcixcbiAgICBpbXBvcnRTdGF0ZT86IE1lZGlhSW1wb3J0U3RhdGUsXG4gICAgaW1wb3J0TWVzc2FnZT86IHN0cmluZyxcbiAgICBzdGF0dXM/OiBNZWRpYUluZ2VzdGlvblN0YXR1cyxcbiAgICByZWplY3Rpb25SZWFzb24/OiBzdHJpbmcsXG4gICAgcXVhbGl0eT86IG51bWJlcixcbiAgICBhZ2VSYXRpbmc/OiBNZWRpYUFnZVJhdGluZyxcbiAgICBpbXBvcnRWZXJzaW9uPzogc3RyaW5nLFxuICAgIGltcG9ydFNpemU/OiBudW1iZXIsXG4gICAgc3R5bGU/OiBCdW5kbGVTdHlsZSxcbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIGNvbnRlbnRfbWV0YWRhdGEgd2hlbiB1cGRhdGluZyB0aXRsZSBhbmQgZGVzY3JpcHRpb24uICovXG4gICAgbWV0YWRhdGE/OiBCdW5kbGVNZXRhZGF0YSxcbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlIGNvbnRlbnRfbWV0YWRhdGEuICovXG4gICAgc3VwZXJLZXl3b3Jkcz86IHJlYWRvbmx5IExvY2FsaXplZFN0cmluZ1tdLFxuICAgIGxpY2Vuc2luZz86IExpY2Vuc2luZyxcbiAgICBkZWFjdGl2YXRlZD86IGJvb2xlYW4sXG4gICAgcmVzdHJpY3RlZEFjY2Vzcz86IGJvb2xlYW4sXG4gICAgbGlzdGVkPzogYm9vbGVhbixcbiAgICBkZXNpZ25WZXJzaW9uPzogbnVtYmVyLFxuICAgIGRlc2lnblR5cGU/OiBzdHJpbmcsXG4gICAgZGVzaWduU2NoZW1hVmVyc2lvbj86IHN0cmluZyxcbiAgICBmb250TWV0YWRhdGE/OiBGb250TWV0YWRhdGEsXG4gICAgc3ByaXRlc2hlZXRNZXRhZGF0YT86IFNwcml0ZXNoZWV0TWV0YWRhdGEsXG4gICAgbWludFVybHM/OiByZWFkb25seSBNZWRpYVF1YWxpdHlbXSxcbiAgICBsb2NhbGU/OiBzdHJpbmcsXG4gICAgcmV2aWV3ZWRCeT86IHN0cmluZyxcbiAgICBzZXRPcGVyYXRpb24/OiBTZXRPcGVyYXRpb24sXG4gICAgc2V0Pzogc3RyaW5nLFxuICAgIGNvbnRlbnRNZXRhZGF0YT86IENvbnRlbnRNZXRhZGF0YVVwZGF0ZSxcbiAgICBjb2xvckluZm8/OiBNZWRpYUNvbG9ySW5mbyxcbiAgICBmaWxlcz86IFVwZGF0ZU1lZGlhUmVxdWVzdEZpbGVzLFxuICAgIGtleXdvcmRzXz86IFVwZGF0ZU1lZGlhUmVxdWVzdEtleXdvcmRzLFxuICAgIHByb2Nlc3NlZEZpbGVzXz86IFVwZGF0ZU1lZGlhUmVxdWVzdFByb2Nlc3NlZEZpbGVzLFxuICAgIGNvbXBvbmVudE1lZGlhXz86IFVwZGF0ZU1lZGlhUmVxdWVzdENvbXBvbmVudE1lZGlhLFxuICAgIHF1YWxpdHlNZXRhZGF0YT86IFF1YWxpdHlNZXRhZGF0YVVwZGF0ZSxcbiAgICBsb2NhbGl6ZWRNZXRhZGF0YT86IExvY2FsaXplZE1ldGFkYXRhVXBkYXRlLFxuICAgIGFydGlzdE1ldGFkYXRhPzogQXJ0aXN0TWV0YWRhdGFVcGRhdGUsXG4gIH0pIHtcbiAgICB0aGlzLmlkID0gb3B0cy5pZDtcbiAgICB0aGlzLnZlcnNpb24gPSBvcHRzLnZlcnNpb247XG4gICAgdGhpcy5jb21taXQgPSBvcHRzLmNvbW1pdDtcbiAgICB0aGlzLnJlc2V0ID0gb3B0cy5yZXNldDtcbiAgICB0aGlzLm5ld0ltcG9ydCA9IG9wdHMubmV3SW1wb3J0O1xuICAgIHRoaXMubmV3SW1wb3J0VmVyc2lvbiA9IG9wdHMubmV3SW1wb3J0VmVyc2lvbjtcbiAgICB0aGlzLmltcG9ydFN0YXRlID0gb3B0cy5pbXBvcnRTdGF0ZTtcbiAgICB0aGlzLmltcG9ydE1lc3NhZ2UgPSBvcHRzLmltcG9ydE1lc3NhZ2U7XG4gICAgdGhpcy5zdGF0dXMgPSBvcHRzLnN0YXR1cztcbiAgICB0aGlzLnJlamVjdGlvblJlYXNvbiA9IG9wdHMucmVqZWN0aW9uUmVhc29uO1xuICAgIHRoaXMucXVhbGl0eSA9IG9wdHMucXVhbGl0eTtcbiAgICB0aGlzLmFnZVJhdGluZyA9IG9wdHMuYWdlUmF0aW5nO1xuICAgIHRoaXMuaW1wb3J0VmVyc2lvbiA9IG9wdHMuaW1wb3J0VmVyc2lvbjtcbiAgICB0aGlzLmltcG9ydFNpemUgPSBvcHRzLmltcG9ydFNpemU7XG4gICAgdGhpcy5zdHlsZSA9IG9wdHMuc3R5bGU7XG4gICAgLyoqIEBkZXByZWNhdGVkIHVzZSBjb250ZW50X21ldGFkYXRhIHdoZW4gdXBkYXRpbmcgdGl0bGUgYW5kIGRlc2NyaXB0aW9uLiAqL1xuICAgIHRoaXMubWV0YWRhdGEgPSBvcHRzLm1ldGFkYXRhO1xuICAgIC8qKiBAZGVwcmVjYXRlZCB1c2UgY29udGVudF9tZXRhZGF0YS4gKi9cbiAgICB0aGlzLnN1cGVyS2V5d29yZHMgPSBvcHRzLnN1cGVyS2V5d29yZHMgfHwgW107XG4gICAgdGhpcy5saWNlbnNpbmcgPSBvcHRzLmxpY2Vuc2luZztcbiAgICB0aGlzLmRlYWN0aXZhdGVkID0gb3B0cy5kZWFjdGl2YXRlZDtcbiAgICB0aGlzLnJlc3RyaWN0ZWRBY2Nlc3MgPSBvcHRzLnJlc3RyaWN0ZWRBY2Nlc3M7XG4gICAgdGhpcy5saXN0ZWQgPSBvcHRzLmxpc3RlZDtcbiAgICB0aGlzLmRlc2lnblZlcnNpb24gPSBvcHRzLmRlc2lnblZlcnNpb247XG4gICAgdGhpcy5kZXNpZ25UeXBlID0gb3B0cy5kZXNpZ25UeXBlO1xuICAgIHRoaXMuZGVzaWduU2NoZW1hVmVyc2lvbiA9IG9wdHMuZGVzaWduU2NoZW1hVmVyc2lvbjtcbiAgICB0aGlzLmZvbnRNZXRhZGF0YSA9IG9wdHMuZm9udE1ldGFkYXRhO1xuICAgIHRoaXMuc3ByaXRlc2hlZXRNZXRhZGF0YSA9IG9wdHMuc3ByaXRlc2hlZXRNZXRhZGF0YTtcbiAgICB0aGlzLm1pbnRVcmxzID0gb3B0cy5taW50VXJscyB8fCBbXTtcbiAgICB0aGlzLmxvY2FsZSA9IG9wdHMubG9jYWxlO1xuICAgIHRoaXMucmV2aWV3ZWRCeSA9IG9wdHMucmV2aWV3ZWRCeTtcbiAgICB0aGlzLnNldE9wZXJhdGlvbiA9IG9wdHMuc2V0T3BlcmF0aW9uO1xuICAgIHRoaXMuc2V0ID0gb3B0cy5zZXQ7XG4gICAgdGhpcy5jb250ZW50TWV0YWRhdGEgPSBvcHRzLmNvbnRlbnRNZXRhZGF0YTtcbiAgICB0aGlzLmNvbG9ySW5mbyA9IG9wdHMuY29sb3JJbmZvO1xuICAgIHRoaXMuZmlsZXMgPSBvcHRzLmZpbGVzO1xuICAgIHRoaXMua2V5d29yZHNfID0gb3B0cy5rZXl3b3Jkc187XG4gICAgdGhpcy5wcm9jZXNzZWRGaWxlc18gPSBvcHRzLnByb2Nlc3NlZEZpbGVzXztcbiAgICB0aGlzLmNvbXBvbmVudE1lZGlhXyA9IG9wdHMuY29tcG9uZW50TWVkaWFfO1xuICAgIHRoaXMucXVhbGl0eU1ldGFkYXRhID0gb3B0cy5xdWFsaXR5TWV0YWRhdGE7XG4gICAgdGhpcy5sb2NhbGl6ZWRNZXRhZGF0YSA9IG9wdHMubG9jYWxpemVkTWV0YWRhdGE7XG4gICAgdGhpcy5hcnRpc3RNZXRhZGF0YSA9IG9wdHMuYXJ0aXN0TWV0YWRhdGE7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZU1lZGlhUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbS5pZCksXG4gICAgICAndmVyc2lvbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3ZlcnNpb24nLCBtLnZlcnNpb24pLFxuICAgICAgJ2NvbW1pdCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdjb21taXQnLCBtLmNvbW1pdCksXG4gICAgICAncmVzZXQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVzZXQnLCBtLnJlc2V0KSxcbiAgICAgICduZXdJbXBvcnQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignbmV3SW1wb3J0JywgbS5uZXdJbXBvcnQpLFxuICAgICAgJ25ld0ltcG9ydFZlcnNpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCduZXdJbXBvcnRWZXJzaW9uJywgbS5uZXdJbXBvcnRWZXJzaW9uKSxcbiAgICAgICdpbXBvcnRTdGF0ZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKE1lZGlhSW1wb3J0U3RhdGVVdGlsLnNlcmlhbGl6ZSwgJ2ltcG9ydFN0YXRlJywgbS5pbXBvcnRTdGF0ZSksXG4gICAgICAnaW1wb3J0TWVzc2FnZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2ltcG9ydE1lc3NhZ2UnLCBtLmltcG9ydE1lc3NhZ2UpLFxuICAgICAgJ3N0YXR1cyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKE1lZGlhSW5nZXN0aW9uU3RhdHVzVXRpbC5zZXJpYWxpemUsICdzdGF0dXMnLCBtLnN0YXR1cyksXG4gICAgICAncmVqZWN0aW9uUmVhc29uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmVqZWN0aW9uUmVhc29uJywgbS5yZWplY3Rpb25SZWFzb24pLFxuICAgICAgJ3F1YWxpdHknOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdxdWFsaXR5JywgbS5xdWFsaXR5KSxcbiAgICAgICdhZ2VSYXRpbmcnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShNZWRpYUFnZVJhdGluZ1V0aWwuc2VyaWFsaXplLCAnYWdlUmF0aW5nJywgbS5hZ2VSYXRpbmcpLFxuICAgICAgJ2ltcG9ydFZlcnNpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdpbXBvcnRWZXJzaW9uJywgbS5pbXBvcnRWZXJzaW9uKSxcbiAgICAgICdpbXBvcnRTaXplJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignaW1wb3J0U2l6ZScsIG0uaW1wb3J0U2l6ZSksXG4gICAgICAnc3R5bGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJ1bmRsZVN0eWxlLnNlcmlhbGl6ZSwgJ3N0eWxlJywgbS5zdHlsZSksXG4gICAgICAnbWV0YWRhdGEnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJ1bmRsZU1ldGFkYXRhLnNlcmlhbGl6ZSwgJ21ldGFkYXRhJywgbS5tZXRhZGF0YSksXG4gICAgICAnc3VwZXJLZXl3b3Jkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTG9jYWxpemVkU3RyaW5nLnNlcmlhbGl6ZSwgJ3N1cGVyS2V5d29yZHMnLCBtLnN1cGVyS2V5d29yZHMpLFxuICAgICAgJ2xpY2Vuc2luZyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtKExpY2Vuc2luZ1V0aWwuc2VyaWFsaXplLCAnbGljZW5zaW5nJywgbS5saWNlbnNpbmcpLFxuICAgICAgJ2RlYWN0aXZhdGVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2RlYWN0aXZhdGVkJywgbS5kZWFjdGl2YXRlZCksXG4gICAgICAncmVzdHJpY3RlZEFjY2Vzcyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdyZXN0cmljdGVkQWNjZXNzJywgbS5yZXN0cmljdGVkQWNjZXNzKSxcbiAgICAgICdsaXN0ZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignbGlzdGVkJywgbS5saXN0ZWQpLFxuICAgICAgJ2Rlc2lnblZlcnNpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdkZXNpZ25WZXJzaW9uJywgbS5kZXNpZ25WZXJzaW9uKSxcbiAgICAgICdkZXNpZ25UeXBlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzaWduVHlwZScsIG0uZGVzaWduVHlwZSksXG4gICAgICAnZGVzaWduU2NoZW1hVmVyc2lvbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2lnblNjaGVtYVZlcnNpb24nLCBtLmRlc2lnblNjaGVtYVZlcnNpb24pLFxuICAgICAgJ2ZvbnRNZXRhZGF0YSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoRm9udE1ldGFkYXRhLnNlcmlhbGl6ZSwgJ2ZvbnRNZXRhZGF0YScsIG0uZm9udE1ldGFkYXRhKSxcbiAgICAgICdzcHJpdGVzaGVldE1ldGFkYXRhJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChTcHJpdGVzaGVldE1ldGFkYXRhLnNlcmlhbGl6ZSwgJ3Nwcml0ZXNoZWV0TWV0YWRhdGEnLCBtLnNwcml0ZXNoZWV0TWV0YWRhdGEpLFxuICAgICAgJ21pbnRVcmxzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW0oTWVkaWFRdWFsaXR5VXRpbC5zZXJpYWxpemUsICdtaW50VXJscycsIG0ubWludFVybHMpLFxuICAgICAgJ2xvY2FsZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIG0ubG9jYWxlKSxcbiAgICAgICdyZXZpZXdlZEJ5JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmV2aWV3ZWRCeScsIG0ucmV2aWV3ZWRCeSksXG4gICAgICAnc2V0T3BlcmF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW0oU2V0T3BlcmF0aW9uVXRpbC5zZXJpYWxpemUsICdzZXRPcGVyYXRpb24nLCBtLnNldE9wZXJhdGlvbiksXG4gICAgICAnc2V0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2V0JywgbS5zZXQpLFxuICAgICAgJ2NvbnRlbnRNZXRhZGF0YSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQ29udGVudE1ldGFkYXRhVXBkYXRlLnNlcmlhbGl6ZSwgJ2NvbnRlbnRNZXRhZGF0YScsIG0uY29udGVudE1ldGFkYXRhKSxcbiAgICAgICdjb2xvckluZm8nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KE1lZGlhQ29sb3JJbmZvLnNlcmlhbGl6ZSwgJ2NvbG9ySW5mbycsIG0uY29sb3JJbmZvKSxcbiAgICAgICdmaWxlcyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoVXBkYXRlTWVkaWFSZXF1ZXN0RmlsZXMuc2VyaWFsaXplLCAnZmlsZXMnLCBtLmZpbGVzKSxcbiAgICAgICdrZXl3b3Jkc18nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVwZGF0ZU1lZGlhUmVxdWVzdEtleXdvcmRzLnNlcmlhbGl6ZSwgJ2tleXdvcmRzXycsIG0ua2V5d29yZHNfKSxcbiAgICAgICdwcm9jZXNzZWRGaWxlc18nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVwZGF0ZU1lZGlhUmVxdWVzdFByb2Nlc3NlZEZpbGVzLnNlcmlhbGl6ZSwgJ3Byb2Nlc3NlZEZpbGVzXycsIG0ucHJvY2Vzc2VkRmlsZXNfKSxcbiAgICAgICdjb21wb25lbnRNZWRpYV8nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVwZGF0ZU1lZGlhUmVxdWVzdENvbXBvbmVudE1lZGlhLnNlcmlhbGl6ZSwgJ2NvbXBvbmVudE1lZGlhXycsIG0uY29tcG9uZW50TWVkaWFfKSxcbiAgICAgICdxdWFsaXR5TWV0YWRhdGEnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFF1YWxpdHlNZXRhZGF0YVVwZGF0ZS5zZXJpYWxpemUsICdxdWFsaXR5TWV0YWRhdGEnLCBtLnF1YWxpdHlNZXRhZGF0YSksXG4gICAgICAnbG9jYWxpemVkTWV0YWRhdGEnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KExvY2FsaXplZE1ldGFkYXRhVXBkYXRlLnNlcmlhbGl6ZSwgJ2xvY2FsaXplZE1ldGFkYXRhJywgbS5sb2NhbGl6ZWRNZXRhZGF0YSksXG4gICAgICAnYXJ0aXN0TWV0YWRhdGEnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEFydGlzdE1ldGFkYXRhVXBkYXRlLnNlcmlhbGl6ZSwgJ2FydGlzdE1ldGFkYXRhJywgbS5hcnRpc3RNZXRhZGF0YSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVNZWRpYVJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgVXBkYXRlTWVkaWFSZXF1ZXN0KHtcbiAgICAgIGlkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbyksXG4gICAgICB2ZXJzaW9uOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ3ZlcnNpb24nLCBvKSxcbiAgICAgIGNvbW1pdDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignY29tbWl0JywgbyksXG4gICAgICByZXNldDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVzZXQnLCBvKSxcbiAgICAgIG5ld0ltcG9ydDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignbmV3SW1wb3J0JywgbyksXG4gICAgICBuZXdJbXBvcnRWZXJzaW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ25ld0ltcG9ydFZlcnNpb24nLCBvKSxcbiAgICAgIGltcG9ydFN0YXRlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtPE1lZGlhSW1wb3J0U3RhdGU+KE1lZGlhSW1wb3J0U3RhdGVVdGlsLmRlc2VyaWFsaXplLCAnaW1wb3J0U3RhdGUnLCBvKSxcbiAgICAgIGltcG9ydE1lc3NhZ2U6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0TWVzc2FnZScsIG8pLFxuICAgICAgc3RhdHVzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtPE1lZGlhSW5nZXN0aW9uU3RhdHVzPihNZWRpYUluZ2VzdGlvblN0YXR1c1V0aWwuZGVzZXJpYWxpemUsICdzdGF0dXMnLCBvKSxcbiAgICAgIHJlamVjdGlvblJlYXNvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWplY3Rpb25SZWFzb24nLCBvKSxcbiAgICAgIHF1YWxpdHk6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigncXVhbGl0eScsIG8pLFxuICAgICAgYWdlUmF0aW5nOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmdFbnVtPE1lZGlhQWdlUmF0aW5nPihNZWRpYUFnZVJhdGluZ1V0aWwuZGVzZXJpYWxpemUsICdhZ2VSYXRpbmcnLCBvKSxcbiAgICAgIGltcG9ydFZlcnNpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnaW1wb3J0VmVyc2lvbicsIG8pLFxuICAgICAgaW1wb3J0U2l6ZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdpbXBvcnRTaXplJywgbyksXG4gICAgICBzdHlsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJ1bmRsZVN0eWxlLmRlc2VyaWFsaXplLCAnc3R5bGUnLCBvKSxcbiAgICAgIG1ldGFkYXRhOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnVuZGxlTWV0YWRhdGEuZGVzZXJpYWxpemUsICdtZXRhZGF0YScsIG8pLFxuICAgICAgc3VwZXJLZXl3b3JkczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KExvY2FsaXplZFN0cmluZy5kZXNlcmlhbGl6ZSwgJ3N1cGVyS2V5d29yZHMnLCBvKSxcbiAgICAgIGxpY2Vuc2luZzogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bTxMaWNlbnNpbmc+KExpY2Vuc2luZ1V0aWwuZGVzZXJpYWxpemUsICdsaWNlbnNpbmcnLCBvKSxcbiAgICAgIGRlYWN0aXZhdGVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdkZWFjdGl2YXRlZCcsIG8pLFxuICAgICAgcmVzdHJpY3RlZEFjY2VzczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigncmVzdHJpY3RlZEFjY2VzcycsIG8pLFxuICAgICAgbGlzdGVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdsaXN0ZWQnLCBvKSxcbiAgICAgIGRlc2lnblZlcnNpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignZGVzaWduVmVyc2lvbicsIG8pLFxuICAgICAgZGVzaWduVHlwZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkZXNpZ25UeXBlJywgbyksXG4gICAgICBkZXNpZ25TY2hlbWFWZXJzaW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2Rlc2lnblNjaGVtYVZlcnNpb24nLCBvKSxcbiAgICAgIGZvbnRNZXRhZGF0YTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEZvbnRNZXRhZGF0YS5kZXNlcmlhbGl6ZSwgJ2ZvbnRNZXRhZGF0YScsIG8pLFxuICAgICAgc3ByaXRlc2hlZXRNZXRhZGF0YTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFNwcml0ZXNoZWV0TWV0YWRhdGEuZGVzZXJpYWxpemUsICdzcHJpdGVzaGVldE1ldGFkYXRhJywgbyksXG4gICAgICBtaW50VXJsczogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxNZWRpYVF1YWxpdHk+KE1lZGlhUXVhbGl0eVV0aWwuZGVzZXJpYWxpemUsICdtaW50VXJscycsIG8pLFxuICAgICAgbG9jYWxlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2xvY2FsZScsIG8pLFxuICAgICAgcmV2aWV3ZWRCeTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZXZpZXdlZEJ5JywgbyksXG4gICAgICBzZXRPcGVyYXRpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08U2V0T3BlcmF0aW9uPihTZXRPcGVyYXRpb25VdGlsLmRlc2VyaWFsaXplLCAnc2V0T3BlcmF0aW9uJywgbyksXG4gICAgICBzZXQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2V0JywgbyksXG4gICAgICBjb250ZW50TWV0YWRhdGE6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChDb250ZW50TWV0YWRhdGFVcGRhdGUuZGVzZXJpYWxpemUsICdjb250ZW50TWV0YWRhdGEnLCBvKSxcbiAgICAgIGNvbG9ySW5mbzogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KE1lZGlhQ29sb3JJbmZvLmRlc2VyaWFsaXplLCAnY29sb3JJbmZvJywgbyksXG4gICAgICBmaWxlczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVwZGF0ZU1lZGlhUmVxdWVzdEZpbGVzLmRlc2VyaWFsaXplLCAnZmlsZXMnLCBvKSxcbiAgICAgIGtleXdvcmRzXzogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFVwZGF0ZU1lZGlhUmVxdWVzdEtleXdvcmRzLmRlc2VyaWFsaXplLCAna2V5d29yZHNfJywgbyksXG4gICAgICBwcm9jZXNzZWRGaWxlc186IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChVcGRhdGVNZWRpYVJlcXVlc3RQcm9jZXNzZWRGaWxlcy5kZXNlcmlhbGl6ZSwgJ3Byb2Nlc3NlZEZpbGVzXycsIG8pLFxuICAgICAgY29tcG9uZW50TWVkaWFfOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoVXBkYXRlTWVkaWFSZXF1ZXN0Q29tcG9uZW50TWVkaWEuZGVzZXJpYWxpemUsICdjb21wb25lbnRNZWRpYV8nLCBvKSxcbiAgICAgIHF1YWxpdHlNZXRhZGF0YTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KFF1YWxpdHlNZXRhZGF0YVVwZGF0ZS5kZXNlcmlhbGl6ZSwgJ3F1YWxpdHlNZXRhZGF0YScsIG8pLFxuICAgICAgbG9jYWxpemVkTWV0YWRhdGE6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE9iamVjdChMb2NhbGl6ZWRNZXRhZGF0YVVwZGF0ZS5kZXNlcmlhbGl6ZSwgJ2xvY2FsaXplZE1ldGFkYXRhJywgbyksXG4gICAgICBhcnRpc3RNZXRhZGF0YTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEFydGlzdE1ldGFkYXRhVXBkYXRlLmRlc2VyaWFsaXplLCAnYXJ0aXN0TWV0YWRhdGEnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlTWVkaWFSZXNwb25zZSB7XG4gIHJlYWRvbmx5IG1lZGlhOiBNZWRpYTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgbWVkaWE6IE1lZGlhLFxuICB9KSB7XG4gICAgdGhpcy5tZWRpYSA9IG9wdHMubWVkaWE7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZU1lZGlhUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbWVkaWEnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KE1lZGlhLnNlcmlhbGl6ZSwgJ21lZGlhJywgbS5tZWRpYSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVNZWRpYVJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZU1lZGlhUmVzcG9uc2Uoe1xuICAgICAgbWVkaWE6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChNZWRpYS5kZXNlcmlhbGl6ZSwgJ21lZGlhJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldE1lZGlhQmF0Y2hScGNSZXF1ZXN0IHtcbiAgLyoqIGlmIGlkcyBhcmUgc3VwcGxpZWQsIHRoZW4gcmVmcyBtdXN0IGJlIGVtcHR5ICovXG4gIHJlYWRvbmx5IGlkczogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBpZiByZWZzIGFyZSBzdXBwbGllZCwgdGhlbiBpZHMgbXVzdCBiZSBlbXB0eSAqL1xuICByZWFkb25seSByZWZzOiByZWFkb25seSBNZWRpYVJlZltdO1xuICByZWFkb25seSBpbXBvcnRlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYXBwcm92ZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHN0YWdpbmc6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHByb2plY3Rpb246IHJlYWRvbmx5IE1lZGlhQ29tcG9uZW50W107XG4gIHJlYWRvbmx5IG1pbnRVcmxzOiByZWFkb25seSBNZWRpYVF1YWxpdHlbXTtcbiAgcmVhZG9ubHkgbWV0YWRhdGFMb2NhbGU6IHJlYWRvbmx5IHN0cmluZ1tdO1xuICByZWFkb25seSBkb2N1bWVudElkOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBpZiB0cnVlLCB0aGUgcmVxdWVzdCB3aWxsIHN1Y2NlZWQgZXZlbiBpZiB0aGUgY2FsbGluZyBjb250ZXh0IGxhY2tzIHBlcm1pc3Npb24gdG8gYWNjZXNzXG4gICAqIChzb21lIG9mKSB0aGUgbWF0Y2hlZCBtZWRpYS4gSW4gdGhhdCBjYXNlLCBhIHN1YnNldCBvZiBvbmx5IG1hdGNoaW5nLCBwZXJtaXNzaWJsZSBtZWRpYVxuICAgKiBpcyByZXR1cm5lZC5cbiAgICovXG4gIHJlYWRvbmx5IGlnbm9yZUZvcmJpZGRlbjogYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIGlmIGlkcyBhcmUgc3VwcGxpZWQsIHRoZW4gcmVmcyBtdXN0IGJlIGVtcHR5ICovXG4gICAgaWRzPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gICAgLyoqIGlmIHJlZnMgYXJlIHN1cHBsaWVkLCB0aGVuIGlkcyBtdXN0IGJlIGVtcHR5ICovXG4gICAgcmVmcz86IHJlYWRvbmx5IE1lZGlhUmVmW10sXG4gICAgaW1wb3J0ZWQ/OiBib29sZWFuLFxuICAgIGFwcHJvdmVkPzogYm9vbGVhbixcbiAgICBzdGFnaW5nPzogYm9vbGVhbixcbiAgICBwcm9qZWN0aW9uPzogcmVhZG9ubHkgTWVkaWFDb21wb25lbnRbXSxcbiAgICBtaW50VXJscz86IHJlYWRvbmx5IE1lZGlhUXVhbGl0eVtdLFxuICAgIG1ldGFkYXRhTG9jYWxlPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gICAgZG9jdW1lbnRJZD86IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBpZiB0cnVlLCB0aGUgcmVxdWVzdCB3aWxsIHN1Y2NlZWQgZXZlbiBpZiB0aGUgY2FsbGluZyBjb250ZXh0IGxhY2tzIHBlcm1pc3Npb24gdG8gYWNjZXNzXG4gICAgICogKHNvbWUgb2YpIHRoZSBtYXRjaGVkIG1lZGlhLiBJbiB0aGF0IGNhc2UsIGEgc3Vic2V0IG9mIG9ubHkgbWF0Y2hpbmcsIHBlcm1pc3NpYmxlIG1lZGlhXG4gICAgICogaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgaWdub3JlRm9yYmlkZGVuPzogYm9vbGVhbixcbiAgfSkge1xuICAgIC8qKiBpZiBpZHMgYXJlIHN1cHBsaWVkLCB0aGVuIHJlZnMgbXVzdCBiZSBlbXB0eSAqL1xuICAgIHRoaXMuaWRzID0gb3B0cy5pZHMgfHwgW107XG4gICAgLyoqIGlmIHJlZnMgYXJlIHN1cHBsaWVkLCB0aGVuIGlkcyBtdXN0IGJlIGVtcHR5ICovXG4gICAgdGhpcy5yZWZzID0gb3B0cy5yZWZzIHx8IFtdO1xuICAgIHRoaXMuaW1wb3J0ZWQgPSBvcHRzLmltcG9ydGVkO1xuICAgIHRoaXMuYXBwcm92ZWQgPSBvcHRzLmFwcHJvdmVkO1xuICAgIHRoaXMuc3RhZ2luZyA9IG9wdHMuc3RhZ2luZztcbiAgICB0aGlzLnByb2plY3Rpb24gPSBvcHRzLnByb2plY3Rpb24gfHwgW107XG4gICAgdGhpcy5taW50VXJscyA9IG9wdHMubWludFVybHMgfHwgW107XG4gICAgdGhpcy5tZXRhZGF0YUxvY2FsZSA9IG9wdHMubWV0YWRhdGFMb2NhbGUgfHwgW107XG4gICAgdGhpcy5kb2N1bWVudElkID0gb3B0cy5kb2N1bWVudElkO1xuICAgIC8qKlxuICAgICAqIGlmIHRydWUsIHRoZSByZXF1ZXN0IHdpbGwgc3VjY2VlZCBldmVuIGlmIHRoZSBjYWxsaW5nIGNvbnRleHQgbGFja3MgcGVybWlzc2lvbiB0byBhY2Nlc3NcbiAgICAgKiAoc29tZSBvZikgdGhlIG1hdGNoZWQgbWVkaWEuIEluIHRoYXQgY2FzZSwgYSBzdWJzZXQgb2Ygb25seSBtYXRjaGluZywgcGVybWlzc2libGUgbWVkaWFcbiAgICAgKiBpcyByZXR1cm5lZC5cbiAgICAgKi9cbiAgICB0aGlzLmlnbm9yZUZvcmJpZGRlbiA9IG9wdHMuaWdub3JlRm9yYmlkZGVuO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRNZWRpYUJhdGNoUnBjUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdpZHMnLCBtLmlkcyksXG4gICAgICAncmVmcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTWVkaWFSZWYuc2VyaWFsaXplLCAncmVmcycsIG0ucmVmcyksXG4gICAgICAnaW1wb3J0ZWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaW1wb3J0ZWQnLCBtLmltcG9ydGVkKSxcbiAgICAgICdhcHByb3ZlZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdhcHByb3ZlZCcsIG0uYXBwcm92ZWQpLFxuICAgICAgJ3N0YWdpbmcnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignc3RhZ2luZycsIG0uc3RhZ2luZyksXG4gICAgICAncHJvamVjdGlvbic6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKE1lZGlhQ29tcG9uZW50VXRpbC5zZXJpYWxpemUsICdwcm9qZWN0aW9uJywgbS5wcm9qZWN0aW9uKSxcbiAgICAgICdtaW50VXJscyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKE1lZGlhUXVhbGl0eVV0aWwuc2VyaWFsaXplLCAnbWludFVybHMnLCBtLm1pbnRVcmxzKSxcbiAgICAgICdtZXRhZGF0YUxvY2FsZSc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ21ldGFkYXRhTG9jYWxlJywgbS5tZXRhZGF0YUxvY2FsZSksXG4gICAgICAnZG9jdW1lbnRJZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2RvY3VtZW50SWQnLCBtLmRvY3VtZW50SWQpLFxuICAgICAgJ2lnbm9yZUZvcmJpZGRlbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdpZ25vcmVGb3JiaWRkZW4nLCBtLmlnbm9yZUZvcmJpZGRlbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRNZWRpYUJhdGNoUnBjUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRNZWRpYUJhdGNoUnBjUmVxdWVzdCh7XG4gICAgICBpZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnaWRzJywgbyksXG4gICAgICByZWZzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTWVkaWFSZWYuZGVzZXJpYWxpemUsICdyZWZzJywgbyksXG4gICAgICBpbXBvcnRlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaW1wb3J0ZWQnLCBvKSxcbiAgICAgIGFwcHJvdmVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdhcHByb3ZlZCcsIG8pLFxuICAgICAgc3RhZ2luZzogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignc3RhZ2luZycsIG8pLFxuICAgICAgcHJvamVjdGlvbjogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nRW51bTxNZWRpYUNvbXBvbmVudD4oTWVkaWFDb21wb25lbnRVdGlsLmRlc2VyaWFsaXplLCAncHJvamVjdGlvbicsIG8pLFxuICAgICAgbWludFVybHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08TWVkaWFRdWFsaXR5PihNZWRpYVF1YWxpdHlVdGlsLmRlc2VyaWFsaXplLCAnbWludFVybHMnLCBvKSxcbiAgICAgIG1ldGFkYXRhTG9jYWxlOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ21ldGFkYXRhTG9jYWxlJywgbyksXG4gICAgICBkb2N1bWVudElkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2RvY3VtZW50SWQnLCBvKSxcbiAgICAgIGlnbm9yZUZvcmJpZGRlbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaWdub3JlRm9yYmlkZGVuJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgR2V0TWVkaWFCYXRjaE1vZGVcbiAgICA9IEdldE1lZGlhQmF0Y2hJZHNNb2RlXG4gICAgfCBHZXRNZWRpYUJhdGNoUmVmc01vZGU7XG5cbmV4cG9ydCBjb25zdCBHZXRNZWRpYUJhdGNoTW9kZSA9IHtcbiAgc2VyaWFsaXplKHU6IEdldE1lZGlhQmF0Y2hNb2RlKTogb2JqZWN0IHtcbiAgICBzd2l0Y2ggKHUudHlwZSkge1xuICAgICAgY2FzZSAnSURTJzogcmV0dXJuIEdldE1lZGlhQmF0Y2hJZHNNb2RlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ1JFRlMnOiByZXR1cm4gR2V0TWVkaWFCYXRjaFJlZnNNb2RlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRNZWRpYUJhdGNoTW9kZSB7XG4gICAgY29uc3Qga2FzZSA9IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndHlwZScsIG8pO1xuICAgIHN3aXRjaCAoa2FzZSkge1xuICAgICAgY2FzZSAnSURTJzogcmV0dXJuIEdldE1lZGlhQmF0Y2hJZHNNb2RlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgY2FzZSAnUkVGUyc6IHJldHVybiBHZXRNZWRpYUJhdGNoUmVmc01vZGUuZGVzZXJpYWxpemUobyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHVua25vd24gY2FzZTogJHtrYXNlfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjbGFzcyBHZXRNZWRpYUJhdGNoSWRzTW9kZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnSURTJztcblxuICByZWFkb25seSBpZHM6IHJlYWRvbmx5IHN0cmluZ1tdO1xuICByZWFkb25seSBpbXBvcnRlZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYXBwcm92ZWQ6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIHJlYWRvbmx5IHN0YWdpbmc6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGlkcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIGltcG9ydGVkPzogYm9vbGVhbixcbiAgICBhcHByb3ZlZD86IGJvb2xlYW4sXG4gICAgc3RhZ2luZz86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLmlkcyA9IG9wdHMuaWRzIHx8IFtdO1xuICAgIHRoaXMuaW1wb3J0ZWQgPSBvcHRzLmltcG9ydGVkO1xuICAgIHRoaXMuYXBwcm92ZWQgPSBvcHRzLmFwcHJvdmVkO1xuICAgIHRoaXMuc3RhZ2luZyA9IG9wdHMuc3RhZ2luZztcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0TWVkaWFCYXRjaElkc01vZGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdJRFMnLFxuICAgICAgJ2lkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2lkcycsIG0uaWRzKSxcbiAgICAgICdpbXBvcnRlZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdpbXBvcnRlZCcsIG0uaW1wb3J0ZWQpLFxuICAgICAgJ2FwcHJvdmVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ2FwcHJvdmVkJywgbS5hcHByb3ZlZCksXG4gICAgICAnc3RhZ2luZyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdzdGFnaW5nJywgbS5zdGFnaW5nKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldE1lZGlhQmF0Y2hJZHNNb2RlIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnSURTJyk7XG4gICAgcmV0dXJuIG5ldyBHZXRNZWRpYUJhdGNoSWRzTW9kZSh7XG4gICAgICBpZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygnaWRzJywgbyksXG4gICAgICBpbXBvcnRlZDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaW1wb3J0ZWQnLCBvKSxcbiAgICAgIGFwcHJvdmVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdhcHByb3ZlZCcsIG8pLFxuICAgICAgc3RhZ2luZzogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignc3RhZ2luZycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRNZWRpYUJhdGNoUmVmc01vZGUge1xuICByZWFkb25seSB0eXBlID0gJ1JFRlMnO1xuXG4gIHJlYWRvbmx5IHJlZnM6IHJlYWRvbmx5IE1lZGlhUmVmW107XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIHJlZnM/OiByZWFkb25seSBNZWRpYVJlZltdLFxuICB9KSB7XG4gICAgdGhpcy5yZWZzID0gb3B0cy5yZWZzIHx8IFtdO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRNZWRpYUJhdGNoUmVmc01vZGUpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAndHlwZSc6ICdSRUZTJyxcbiAgICAgICdyZWZzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChNZWRpYVJlZi5zZXJpYWxpemUsICdyZWZzJywgbS5yZWZzKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldE1lZGlhQmF0Y2hSZWZzTW9kZSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ3R5cGUnXSA9PT0gJ1JFRlMnKTtcbiAgICByZXR1cm4gbmV3IEdldE1lZGlhQmF0Y2hSZWZzTW9kZSh7XG4gICAgICByZWZzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTWVkaWFSZWYuZGVzZXJpYWxpemUsICdyZWZzJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldE1lZGlhQmF0Y2hSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgbW9kZTogR2V0TWVkaWFCYXRjaE1vZGU7XG4gIHJlYWRvbmx5IHByb2plY3Rpb246IHJlYWRvbmx5IE1lZGlhQ29tcG9uZW50W107XG4gIHJlYWRvbmx5IG1pbnRVcmxzOiByZWFkb25seSBNZWRpYVF1YWxpdHlbXTtcbiAgcmVhZG9ubHkgZG9jdW1lbnRJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBpZ25vcmVGb3JiaWRkZW46IGJvb2xlYW47XG4gIHJlYWRvbmx5IG1ldGFkYXRhTG9jYWxlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIG1vZGU6IEdldE1lZGlhQmF0Y2hNb2RlLFxuICAgIHByb2plY3Rpb24/OiByZWFkb25seSBNZWRpYUNvbXBvbmVudFtdLFxuICAgIG1pbnRVcmxzPzogcmVhZG9ubHkgTWVkaWFRdWFsaXR5W10sXG4gICAgZG9jdW1lbnRJZD86IHN0cmluZyxcbiAgICBpZ25vcmVGb3JiaWRkZW4/OiBib29sZWFuLFxuICAgIG1ldGFkYXRhTG9jYWxlPzogc3RyaW5nLFxuICB9KSB7XG4gICAgdGhpcy5tb2RlID0gb3B0cy5tb2RlO1xuICAgIHRoaXMucHJvamVjdGlvbiA9IG9wdHMucHJvamVjdGlvbiB8fCBbXTtcbiAgICB0aGlzLm1pbnRVcmxzID0gb3B0cy5taW50VXJscyB8fCBbXTtcbiAgICB0aGlzLmRvY3VtZW50SWQgPSBvcHRzLmRvY3VtZW50SWQ7XG4gICAgdGhpcy5pZ25vcmVGb3JiaWRkZW4gPSBvcHRzLmlnbm9yZUZvcmJpZGRlbiAhPSBudWxsXG4gICAgICAgID8gb3B0cy5pZ25vcmVGb3JiaWRkZW5cbiAgICAgICAgOiBmYWxzZTtcblxuICAgIHRoaXMubWV0YWRhdGFMb2NhbGUgPSBvcHRzLm1ldGFkYXRhTG9jYWxlO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRNZWRpYUJhdGNoUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdtb2RlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChHZXRNZWRpYUJhdGNoTW9kZS5zZXJpYWxpemUsICdtb2RlJywgbS5tb2RlKSxcbiAgICAgICdwcm9qZWN0aW9uJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW0oTWVkaWFDb21wb25lbnRVdGlsLnNlcmlhbGl6ZSwgJ3Byb2plY3Rpb24nLCBtLnByb2plY3Rpb24pLFxuICAgICAgJ21pbnRVcmxzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW0oTWVkaWFRdWFsaXR5VXRpbC5zZXJpYWxpemUsICdtaW50VXJscycsIG0ubWludFVybHMpLFxuICAgICAgJ2RvY3VtZW50SWQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkb2N1bWVudElkJywgbS5kb2N1bWVudElkKSxcbiAgICAgICdpZ25vcmVGb3JiaWRkZW4nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaWdub3JlRm9yYmlkZGVuJywgbS5pZ25vcmVGb3JiaWRkZW4pLFxuICAgICAgJ21ldGFkYXRhTG9jYWxlJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnbWV0YWRhdGFMb2NhbGUnLCBtLm1ldGFkYXRhTG9jYWxlKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldE1lZGlhQmF0Y2hSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IEdldE1lZGlhQmF0Y2hSZXF1ZXN0KHtcbiAgICAgIG1vZGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChHZXRNZWRpYUJhdGNoTW9kZS5kZXNlcmlhbGl6ZSwgJ21vZGUnLCBvKSxcbiAgICAgIHByb2plY3Rpb246IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08TWVkaWFDb21wb25lbnQ+KE1lZGlhQ29tcG9uZW50VXRpbC5kZXNlcmlhbGl6ZSwgJ3Byb2plY3Rpb24nLCBvKSxcbiAgICAgIG1pbnRVcmxzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtPE1lZGlhUXVhbGl0eT4oTWVkaWFRdWFsaXR5VXRpbC5kZXNlcmlhbGl6ZSwgJ21pbnRVcmxzJywgbyksXG4gICAgICBkb2N1bWVudElkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2RvY3VtZW50SWQnLCBvKSxcbiAgICAgIGlnbm9yZUZvcmJpZGRlbjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignaWdub3JlRm9yYmlkZGVuJywgbyksXG4gICAgICBtZXRhZGF0YUxvY2FsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdtZXRhZGF0YUxvY2FsZScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRNZWRpYUJhdGNoUmVzcG9uc2Uge1xuICByZWFkb25seSBtZWRpYTogcmVhZG9ubHkgTWVkaWFbXTtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgbWVkaWE/OiByZWFkb25seSBNZWRpYVtdLFxuICB9KSB7XG4gICAgdGhpcy5tZWRpYSA9IG9wdHMubWVkaWEgfHwgW107XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldE1lZGlhQmF0Y2hSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdtZWRpYSc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoTWVkaWEuc2VyaWFsaXplLCAnbWVkaWEnLCBtLm1lZGlhKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldE1lZGlhQmF0Y2hSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBHZXRNZWRpYUJhdGNoUmVzcG9uc2Uoe1xuICAgICAgbWVkaWE6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChNZWRpYS5kZXNlcmlhbGl6ZSwgJ21lZGlhJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lZGlhU2V0IHtcbiAgLyoqIFNldCBJZC4gKi9cbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcbiAgLyoqIE93bmluZyBicmFuZC4gKi9cbiAgcmVhZG9ubHkgb3duaW5nQnJhbmQ6IHN0cmluZztcbiAgLyoqIFNldCBuYW1lLiAqL1xuICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuICAvKiogU2V0IGtleXdvcmRzLiAqL1xuICByZWFkb25seSBrZXl3b3JkczogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBNZWRpYSBpZCB0byB1c2UgYXMgYSB0aHVtYm5haWwuICovXG4gIHJlYWRvbmx5IHRodW1ibmFpbE1lZGlhSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGltcG9ydCBidWNrZXQgZm9yIHRoZSBzZXQuIE51bGwgaWYgdGhlIHNldCBpcyBub3QgY3JlYXRlZCBmcm9tIGFuIFMzIGJ1Y2tldC5cbiAgICogVGhlIGJ1Y2tldCBhbmQga2V5IGZvcm0gYSB1bmlxdWUga2V5IGZvciBhIHNldCBpbXBvcnRlZCBmcm9tIGFuIFMzIGJ1Y2tldCBwcmV2ZW50aW5nIGNyZWF0aW9uXG4gICAqIG9mIGR1cGxpY2F0ZSBzZXRzIGlmIHRoZSBidWNrZXQgaXMgcmVzY2FubmVkLlxuICAgKi9cbiAgcmVhZG9ubHkgYnVja2V0OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCBrZXkgd2l0aGluIGFuIFMzIGJ1Y2tldC4gTnVsbCBpZiB0aGUgc2V0IHdhcyBub3QgY3JlYXRlZCBmcm9tIGFuIFMzIGJ1Y2tldC4gKi9cbiAgcmVhZG9ubHkga2V5OiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBTZXQgSWQuICovXG4gICAgaWQ6IHN0cmluZyxcbiAgICAvKiogT3duaW5nIGJyYW5kLiAqL1xuICAgIG93bmluZ0JyYW5kOiBzdHJpbmcsXG4gICAgLyoqIFNldCBuYW1lLiAqL1xuICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgLyoqIFNldCBrZXl3b3Jkcy4gKi9cbiAgICBrZXl3b3Jkcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIC8qKiBNZWRpYSBpZCB0byB1c2UgYXMgYSB0aHVtYm5haWwuICovXG4gICAgdGh1bWJuYWlsTWVkaWFJZD86IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBpbXBvcnQgYnVja2V0IGZvciB0aGUgc2V0LiBOdWxsIGlmIHRoZSBzZXQgaXMgbm90IGNyZWF0ZWQgZnJvbSBhbiBTMyBidWNrZXQuXG4gICAgICogVGhlIGJ1Y2tldCBhbmQga2V5IGZvcm0gYSB1bmlxdWUga2V5IGZvciBhIHNldCBpbXBvcnRlZCBmcm9tIGFuIFMzIGJ1Y2tldCBwcmV2ZW50aW5nIGNyZWF0aW9uXG4gICAgICogb2YgZHVwbGljYXRlIHNldHMgaWYgdGhlIGJ1Y2tldCBpcyByZXNjYW5uZWQuXG4gICAgICovXG4gICAgYnVja2V0Pzogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCBrZXkgd2l0aGluIGFuIFMzIGJ1Y2tldC4gTnVsbCBpZiB0aGUgc2V0IHdhcyBub3QgY3JlYXRlZCBmcm9tIGFuIFMzIGJ1Y2tldC4gKi9cbiAgICBrZXk/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogU2V0IElkLiAqL1xuICAgIHRoaXMuaWQgPSBvcHRzLmlkO1xuICAgIC8qKiBPd25pbmcgYnJhbmQuICovXG4gICAgdGhpcy5vd25pbmdCcmFuZCA9IG9wdHMub3duaW5nQnJhbmQ7XG4gICAgLyoqIFNldCBuYW1lLiAqL1xuICAgIHRoaXMudGl0bGUgPSBvcHRzLnRpdGxlO1xuICAgIC8qKiBTZXQga2V5d29yZHMuICovXG4gICAgdGhpcy5rZXl3b3JkcyA9IG9wdHMua2V5d29yZHMgfHwgW107XG4gICAgLyoqIE1lZGlhIGlkIHRvIHVzZSBhcyBhIHRodW1ibmFpbC4gKi9cbiAgICB0aGlzLnRodW1ibmFpbE1lZGlhSWQgPSBvcHRzLnRodW1ibmFpbE1lZGlhSWQ7XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgaW1wb3J0IGJ1Y2tldCBmb3IgdGhlIHNldC4gTnVsbCBpZiB0aGUgc2V0IGlzIG5vdCBjcmVhdGVkIGZyb20gYW4gUzMgYnVja2V0LlxuICAgICAqIFRoZSBidWNrZXQgYW5kIGtleSBmb3JtIGEgdW5pcXVlIGtleSBmb3IgYSBzZXQgaW1wb3J0ZWQgZnJvbSBhbiBTMyBidWNrZXQgcHJldmVudGluZyBjcmVhdGlvblxuICAgICAqIG9mIGR1cGxpY2F0ZSBzZXRzIGlmIHRoZSBidWNrZXQgaXMgcmVzY2FubmVkLlxuICAgICAqL1xuICAgIHRoaXMuYnVja2V0ID0gb3B0cy5idWNrZXQ7XG4gICAgLyoqIE9wdGlvbmFsIGtleSB3aXRoaW4gYW4gUzMgYnVja2V0LiBOdWxsIGlmIHRoZSBzZXQgd2FzIG5vdCBjcmVhdGVkIGZyb20gYW4gUzMgYnVja2V0LiAqL1xuICAgIHRoaXMua2V5ID0gb3B0cy5rZXk7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IE1lZGlhU2V0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2lkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBtLmlkKSxcbiAgICAgICdvd25pbmdCcmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ293bmluZ0JyYW5kJywgbS5vd25pbmdCcmFuZCksXG4gICAgICAndGl0bGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCd0aXRsZScsIG0udGl0bGUpLFxuICAgICAgJ2tleXdvcmRzJzogU2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygna2V5d29yZHMnLCBtLmtleXdvcmRzKSxcbiAgICAgICd0aHVtYm5haWxNZWRpYUlkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndGh1bWJuYWlsTWVkaWFJZCcsIG0udGh1bWJuYWlsTWVkaWFJZCksXG4gICAgICAnYnVja2V0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnVja2V0JywgbS5idWNrZXQpLFxuICAgICAgJ2tleSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2tleScsIG0ua2V5KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IE1lZGlhU2V0IHtcbiAgICByZXR1cm4gbmV3IE1lZGlhU2V0KHtcbiAgICAgIGlkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbyksXG4gICAgICBvd25pbmdCcmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdvd25pbmdCcmFuZCcsIG8pLFxuICAgICAgdGl0bGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndGl0bGUnLCBvKSxcbiAgICAgIGtleXdvcmRzOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2tleXdvcmRzJywgbyksXG4gICAgICB0aHVtYm5haWxNZWRpYUlkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3RodW1ibmFpbE1lZGlhSWQnLCBvKSxcbiAgICAgIGJ1Y2tldDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdidWNrZXQnLCBvKSxcbiAgICAgIGtleTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdrZXknLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlTWVkaWFTZXRSZXF1ZXN0IHtcbiAgLyoqIFRpdGxlIG9mIHRoZSBjb2xsZWN0aW9uIC0gZGlzcGxheWVkIHRvIHRoZSB1c2VyLiAqL1xuICByZWFkb25seSB0aXRsZTogc3RyaW5nO1xuICAvKiogT3duaW5nIGJyYW5kIG9mIHRoZSBTZXQuICovXG4gIHJlYWRvbmx5IG93bmluZ0JyYW5kOiBzdHJpbmc7XG4gIC8qKiBPcHRpb25hbCBrZXl3b3JkcyBmb3IgdGhlIGNvbGxlY3Rpb24uICovXG4gIHJlYWRvbmx5IGtleXdvcmRzOiByZWFkb25seSBzdHJpbmdbXTtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGltcG9ydCBidWNrZXQgZm9yIHRoZSBzZXQuIE51bGwgaWYgc2V0IHdhcyBubyBpbXBvcnRlZCBmcm9tIGFuIFMzIGJ1Y2tldC4gTXVzdCBiZSBzZXRcbiAgICogaWYgdGhlIGtleSBmaWVsZCBpcyBzZXQuXG4gICAqL1xuICByZWFkb25seSBidWNrZXQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGltcG9ydCBzb3VyY2Uga2V5LiBOdWxsIGlmIHNldCB3YXMgbm8gaW1wb3J0ZWQgZnJvbSBhbiBTMyBidWNrZXQuIE11c3QgYmUgc2V0IGlmIHRoZVxuICAgKiBidWNrZXQgZmllbGQgaXMgc2V0XG4gICAqL1xuICByZWFkb25seSBrZXk6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRpdGxlIG9mIHRoZSBjb2xsZWN0aW9uIC0gZGlzcGxheWVkIHRvIHRoZSB1c2VyLiAqL1xuICAgIHRpdGxlOiBzdHJpbmcsXG4gICAgLyoqIE93bmluZyBicmFuZCBvZiB0aGUgU2V0LiAqL1xuICAgIG93bmluZ0JyYW5kOiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIGtleXdvcmRzIGZvciB0aGUgY29sbGVjdGlvbi4gKi9cbiAgICBrZXl3b3Jkcz86IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGltcG9ydCBidWNrZXQgZm9yIHRoZSBzZXQuIE51bGwgaWYgc2V0IHdhcyBubyBpbXBvcnRlZCBmcm9tIGFuIFMzIGJ1Y2tldC4gTXVzdCBiZSBzZXRcbiAgICAgKiBpZiB0aGUga2V5IGZpZWxkIGlzIHNldC5cbiAgICAgKi9cbiAgICBidWNrZXQ/OiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgaW1wb3J0IHNvdXJjZSBrZXkuIE51bGwgaWYgc2V0IHdhcyBubyBpbXBvcnRlZCBmcm9tIGFuIFMzIGJ1Y2tldC4gTXVzdCBiZSBzZXQgaWYgdGhlXG4gICAgICogYnVja2V0IGZpZWxkIGlzIHNldFxuICAgICAqL1xuICAgIGtleT86IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBUaXRsZSBvZiB0aGUgY29sbGVjdGlvbiAtIGRpc3BsYXllZCB0byB0aGUgdXNlci4gKi9cbiAgICB0aGlzLnRpdGxlID0gb3B0cy50aXRsZTtcbiAgICAvKiogT3duaW5nIGJyYW5kIG9mIHRoZSBTZXQuICovXG4gICAgdGhpcy5vd25pbmdCcmFuZCA9IG9wdHMub3duaW5nQnJhbmQ7XG4gICAgLyoqIE9wdGlvbmFsIGtleXdvcmRzIGZvciB0aGUgY29sbGVjdGlvbi4gKi9cbiAgICB0aGlzLmtleXdvcmRzID0gb3B0cy5rZXl3b3JkcyB8fCBbXTtcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBpbXBvcnQgYnVja2V0IGZvciB0aGUgc2V0LiBOdWxsIGlmIHNldCB3YXMgbm8gaW1wb3J0ZWQgZnJvbSBhbiBTMyBidWNrZXQuIE11c3QgYmUgc2V0XG4gICAgICogaWYgdGhlIGtleSBmaWVsZCBpcyBzZXQuXG4gICAgICovXG4gICAgdGhpcy5idWNrZXQgPSBvcHRzLmJ1Y2tldDtcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBpbXBvcnQgc291cmNlIGtleS4gTnVsbCBpZiBzZXQgd2FzIG5vIGltcG9ydGVkIGZyb20gYW4gUzMgYnVja2V0LiBNdXN0IGJlIHNldCBpZiB0aGVcbiAgICAgKiBidWNrZXQgZmllbGQgaXMgc2V0XG4gICAgICovXG4gICAgdGhpcy5rZXkgPSBvcHRzLmtleTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ3JlYXRlTWVkaWFTZXRSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3RpdGxlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndGl0bGUnLCBtLnRpdGxlKSxcbiAgICAgICdvd25pbmdCcmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ293bmluZ0JyYW5kJywgbS5vd25pbmdCcmFuZCksXG4gICAgICAna2V5d29yZHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkU3RyaW5nKCdrZXl3b3JkcycsIG0ua2V5d29yZHMpLFxuICAgICAgJ2J1Y2tldCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2J1Y2tldCcsIG0uYnVja2V0KSxcbiAgICAgICdrZXknOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdrZXknLCBtLmtleSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVNZWRpYVNldFJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgQ3JlYXRlTWVkaWFTZXRSZXF1ZXN0KHtcbiAgICAgIHRpdGxlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3RpdGxlJywgbyksXG4gICAgICBvd25pbmdCcmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdvd25pbmdCcmFuZCcsIG8pLFxuICAgICAga2V5d29yZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygna2V5d29yZHMnLCBvKSxcbiAgICAgIGJ1Y2tldDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdidWNrZXQnLCBvKSxcbiAgICAgIGtleTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdrZXknLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlTWVkaWFTZXRSZXNwb25zZSB7XG4gIHJlYWRvbmx5IG1lZGlhU2V0OiBNZWRpYVNldDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgbWVkaWFTZXQ6IE1lZGlhU2V0LFxuICB9KSB7XG4gICAgdGhpcy5tZWRpYVNldCA9IG9wdHMubWVkaWFTZXQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IENyZWF0ZU1lZGlhU2V0UmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbWVkaWFTZXQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KE1lZGlhU2V0LnNlcmlhbGl6ZSwgJ21lZGlhU2V0JywgbS5tZWRpYVNldCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDcmVhdGVNZWRpYVNldFJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IENyZWF0ZU1lZGlhU2V0UmVzcG9uc2Uoe1xuICAgICAgbWVkaWFTZXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChNZWRpYVNldC5kZXNlcmlhbGl6ZSwgJ21lZGlhU2V0JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldE1lZGlhU2V0UmVxdWVzdCB7XG4gIC8qKiBJZCBvZiBzZXQgdG8gcmV0cmlldmUuICovXG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBJZCBvZiBzZXQgdG8gcmV0cmlldmUuICovXG4gICAgaWQ6IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBJZCBvZiBzZXQgdG8gcmV0cmlldmUuICovXG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEdldE1lZGlhU2V0UmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbS5pZCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRNZWRpYVNldFJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgR2V0TWVkaWFTZXRSZXF1ZXN0KHtcbiAgICAgIGlkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldE1lZGlhU2V0UmVzcG9uc2Uge1xuICAvKiogUmV0cmlldmVkIFNldC4gKi9cbiAgcmVhZG9ubHkgbWVkaWFTZXQ6IE1lZGlhU2V0O1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogUmV0cmlldmVkIFNldC4gKi9cbiAgICBtZWRpYVNldDogTWVkaWFTZXQsXG4gIH0pIHtcbiAgICAvKiogUmV0cmlldmVkIFNldC4gKi9cbiAgICB0aGlzLm1lZGlhU2V0ID0gb3B0cy5tZWRpYVNldDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0TWVkaWFTZXRSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdtZWRpYVNldCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoTWVkaWFTZXQuc2VyaWFsaXplLCAnbWVkaWFTZXQnLCBtLm1lZGlhU2V0KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEdldE1lZGlhU2V0UmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0TWVkaWFTZXRSZXNwb25zZSh7XG4gICAgICBtZWRpYVNldDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KE1lZGlhU2V0LmRlc2VyaWFsaXplLCAnbWVkaWFTZXQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgVXBkYXRlTWVkaWFTZXRSZXF1ZXN0IHtcbiAgLyoqIFNldCBpZCB0byB1cGRhdGUvICovXG4gIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gIC8qKiBJZiB0cnVlLCBvdmVyd3JpdGUga2V5d29yZHMgd2l0aCB0aG9zZSBzcGVjaWZpZWQgaW4gdGhlIGtleXdvcmRzIHBhcmFtLiAqL1xuICByZWFkb25seSB1cGRhdGVLZXl3b3JkczogYm9vbGVhbiB8IHVuZGVmaW5lZDtcbiAgLyoqIEtleXdvcmRzIHRvIHJlcGxhY2UgdGhlIGN1cnJlbnQga2V5d29yZCBsaXN0LiAqL1xuICByZWFkb25seSBrZXl3b3JkczogcmVhZG9ubHkgc3RyaW5nW107XG4gIC8qKiBOZXcgdGl0bGUgZm9yIHNldCAqL1xuICByZWFkb25seSB0aXRsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogTWVkaWEgaWQgb2YgdGhlIG5ldyB0aHVtYm5haWwgaW1hZ2UgKi9cbiAgcmVhZG9ubHkgdGh1bWJuYWlsTWVkaWE6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFNldCBpZCB0byB1cGRhdGUvICovXG4gICAgaWQ6IHN0cmluZyxcbiAgICAvKiogSWYgdHJ1ZSwgb3ZlcndyaXRlIGtleXdvcmRzIHdpdGggdGhvc2Ugc3BlY2lmaWVkIGluIHRoZSBrZXl3b3JkcyBwYXJhbS4gKi9cbiAgICB1cGRhdGVLZXl3b3Jkcz86IGJvb2xlYW4sXG4gICAgLyoqIEtleXdvcmRzIHRvIHJlcGxhY2UgdGhlIGN1cnJlbnQga2V5d29yZCBsaXN0LiAqL1xuICAgIGtleXdvcmRzPzogcmVhZG9ubHkgc3RyaW5nW10sXG4gICAgLyoqIE5ldyB0aXRsZSBmb3Igc2V0ICovXG4gICAgdGl0bGU/OiBzdHJpbmcsXG4gICAgLyoqIE1lZGlhIGlkIG9mIHRoZSBuZXcgdGh1bWJuYWlsIGltYWdlICovXG4gICAgdGh1bWJuYWlsTWVkaWE/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogU2V0IGlkIHRvIHVwZGF0ZS8gKi9cbiAgICB0aGlzLmlkID0gb3B0cy5pZDtcbiAgICAvKiogSWYgdHJ1ZSwgb3ZlcndyaXRlIGtleXdvcmRzIHdpdGggdGhvc2Ugc3BlY2lmaWVkIGluIHRoZSBrZXl3b3JkcyBwYXJhbS4gKi9cbiAgICB0aGlzLnVwZGF0ZUtleXdvcmRzID0gb3B0cy51cGRhdGVLZXl3b3JkcztcbiAgICAvKiogS2V5d29yZHMgdG8gcmVwbGFjZSB0aGUgY3VycmVudCBrZXl3b3JkIGxpc3QuICovXG4gICAgdGhpcy5rZXl3b3JkcyA9IG9wdHMua2V5d29yZHMgfHwgW107XG4gICAgLyoqIE5ldyB0aXRsZSBmb3Igc2V0ICovXG4gICAgdGhpcy50aXRsZSA9IG9wdHMudGl0bGU7XG4gICAgLyoqIE1lZGlhIGlkIG9mIHRoZSBuZXcgdGh1bWJuYWlsIGltYWdlICovXG4gICAgdGhpcy50aHVtYm5haWxNZWRpYSA9IG9wdHMudGh1bWJuYWlsTWVkaWE7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZU1lZGlhU2V0UmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbS5pZCksXG4gICAgICAndXBkYXRlS2V5d29yZHMnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbigndXBkYXRlS2V5d29yZHMnLCBtLnVwZGF0ZUtleXdvcmRzKSxcbiAgICAgICdrZXl3b3Jkcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmcoJ2tleXdvcmRzJywgbS5rZXl3b3JkcyksXG4gICAgICAndGl0bGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd0aXRsZScsIG0udGl0bGUpLFxuICAgICAgJ3RodW1ibmFpbE1lZGlhJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndGh1bWJuYWlsTWVkaWEnLCBtLnRodW1ibmFpbE1lZGlhKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwZGF0ZU1lZGlhU2V0UmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVNZWRpYVNldFJlcXVlc3Qoe1xuICAgICAgaWQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBvKSxcbiAgICAgIHVwZGF0ZUtleXdvcmRzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCd1cGRhdGVLZXl3b3JkcycsIG8pLFxuICAgICAga2V5d29yZHM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZygna2V5d29yZHMnLCBvKSxcbiAgICAgIHRpdGxlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3RpdGxlJywgbyksXG4gICAgICB0aHVtYm5haWxNZWRpYTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd0aHVtYm5haWxNZWRpYScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGRhdGVNZWRpYVNldFJlc3BvbnNlIHtcbiAgLyoqIFVwZGF0ZWQgc2V0LiAqL1xuICByZWFkb25seSBtZWRpYVNldDogTWVkaWFTZXQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBVcGRhdGVkIHNldC4gKi9cbiAgICBtZWRpYVNldDogTWVkaWFTZXQsXG4gIH0pIHtcbiAgICAvKiogVXBkYXRlZCBzZXQuICovXG4gICAgdGhpcy5tZWRpYVNldCA9IG9wdHMubWVkaWFTZXQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZU1lZGlhU2V0UmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbWVkaWFTZXQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KE1lZGlhU2V0LnNlcmlhbGl6ZSwgJ21lZGlhU2V0JywgbS5tZWRpYVNldCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVNZWRpYVNldFJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZU1lZGlhU2V0UmVzcG9uc2Uoe1xuICAgICAgbWVkaWFTZXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChNZWRpYVNldC5kZXNlcmlhbGl6ZSwgJ21lZGlhU2V0JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgRmluZE1lZGlhU2V0c01vZGVcbiAgICA9IEZpbmRNZWRpYVNldHNCcmFuZE1vZGVcbiAgICB8IEZpbmRNZWRpYVNldHNCbG9iTW9kZTtcblxuZXhwb3J0IGNvbnN0IEZpbmRNZWRpYVNldHNNb2RlID0ge1xuICBzZXJpYWxpemUodTogRmluZE1lZGlhU2V0c01vZGUpOiBvYmplY3Qge1xuICAgIHN3aXRjaCAodS50eXBlKSB7XG4gICAgICBjYXNlICdGSU5EX01FRElBX1NFVFNfQlJBTkRfTU9ERSc6IHJldHVybiBGaW5kTWVkaWFTZXRzQnJhbmRNb2RlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0ZJTkRfTUVESUFfU0VUU19CTE9CX01PREUnOiByZXR1cm4gRmluZE1lZGlhU2V0c0Jsb2JNb2RlLnNlcmlhbGl6ZSh1KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHUpO1xuICAgIH1cbiAgfSxcblxuICBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFTZXRzTW9kZSB7XG4gICAgY29uc3Qga2FzZSA9IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndHlwZScsIG8pO1xuICAgIHN3aXRjaCAoa2FzZSkge1xuICAgICAgY2FzZSAnRklORF9NRURJQV9TRVRTX0JSQU5EX01PREUnOiByZXR1cm4gRmluZE1lZGlhU2V0c0JyYW5kTW9kZS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0ZJTkRfTUVESUFfU0VUU19CTE9CX01PREUnOiByZXR1cm4gRmluZE1lZGlhU2V0c0Jsb2JNb2RlLmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgRmluZE1lZGlhU2V0c0JyYW5kTW9kZSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnRklORF9NRURJQV9TRVRTX0JSQU5EX01PREUnO1xuXG4gIC8qKiBGaW5kIHNldHMgYmVsb25naW5nIHRvIHRoaXMgYnJhbmQuICovXG4gIHJlYWRvbmx5IG93bmluZ0JyYW5kOiBzdHJpbmc7XG4gIC8qKiBTZXQgSUQgZm9yIGNvbnRpbnVhdGlvbi4gKi9cbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBMaXN0aW5nIGxpbWl0LiAqL1xuICByZWFkb25seSBsaW1pdDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogRmluZCBzZXRzIGJlbG9uZ2luZyB0byB0aGlzIGJyYW5kLiAqL1xuICAgIG93bmluZ0JyYW5kOiBzdHJpbmcsXG4gICAgLyoqIFNldCBJRCBmb3IgY29udGludWF0aW9uLiAqL1xuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgICAvKiogTGlzdGluZyBsaW1pdC4gKi9cbiAgICBsaW1pdDogbnVtYmVyLFxuICB9KSB7XG4gICAgLyoqIEZpbmQgc2V0cyBiZWxvbmdpbmcgdG8gdGhpcyBicmFuZC4gKi9cbiAgICB0aGlzLm93bmluZ0JyYW5kID0gb3B0cy5vd25pbmdCcmFuZDtcbiAgICAvKiogU2V0IElEIGZvciBjb250aW51YXRpb24uICovXG4gICAgdGhpcy5jb250aW51YXRpb24gPSBvcHRzLmNvbnRpbnVhdGlvbjtcbiAgICAvKiogTGlzdGluZyBsaW1pdC4gKi9cbiAgICB0aGlzLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZE1lZGlhU2V0c0JyYW5kTW9kZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ0ZJTkRfTUVESUFfU0VUU19CUkFORF9NT0RFJyxcbiAgICAgICdvd25pbmdCcmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ293bmluZ0JyYW5kJywgbS5vd25pbmdCcmFuZCksXG4gICAgICAnY29udGludWF0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbS5jb250aW51YXRpb24pLFxuICAgICAgJ2xpbWl0JzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBtLmxpbWl0KSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbmRNZWRpYVNldHNCcmFuZE1vZGUge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdGSU5EX01FRElBX1NFVFNfQlJBTkRfTU9ERScpO1xuICAgIHJldHVybiBuZXcgRmluZE1lZGlhU2V0c0JyYW5kTW9kZSh7XG4gICAgICBvd25pbmdCcmFuZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdvd25pbmdCcmFuZCcsIG8pLFxuICAgICAgY29udGludWF0aW9uOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2NvbnRpbnVhdGlvbicsIG8pLFxuICAgICAgbGltaXQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignbGltaXQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRmluZE1lZGlhU2V0c0Jsb2JNb2RlIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdGSU5EX01FRElBX1NFVFNfQkxPQl9NT0RFJztcblxuICAvKipcbiAgICogT3B0aW9uYWwgaW1wb3J0IHNvdXJjZSBidWNrZXQuIE51bGwgaWYgc2V0IHdhcyBubyBpbXBvcnRlZCBmcm9tIGFuIFMzIGJ1Y2tldC4gTXVzdCBiZSBzZXQgaWZcbiAgICogdGhlIGtleSBmaWVsZCBpcyBzZXQuXG4gICAqL1xuICByZWFkb25seSBidWNrZXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIGltcG9ydCBzb3VyY2Uga2V5LiBOdWxsIGlmIHNldCB3YXMgbm8gaW1wb3J0ZWQgZnJvbSBhbiBTMyBidWNrZXQuIE11c3QgYmUgc2V0IGlmIHRoZVxuICAgKiBidWNrZXQgZmllbGQgaXMgc2V0XG4gICAqL1xuICByZWFkb25seSBrZXk6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgaW1wb3J0IHNvdXJjZSBidWNrZXQuIE51bGwgaWYgc2V0IHdhcyBubyBpbXBvcnRlZCBmcm9tIGFuIFMzIGJ1Y2tldC4gTXVzdCBiZSBzZXQgaWZcbiAgICAgKiB0aGUga2V5IGZpZWxkIGlzIHNldC5cbiAgICAgKi9cbiAgICBidWNrZXQ6IHN0cmluZyxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBpbXBvcnQgc291cmNlIGtleS4gTnVsbCBpZiBzZXQgd2FzIG5vIGltcG9ydGVkIGZyb20gYW4gUzMgYnVja2V0LiBNdXN0IGJlIHNldCBpZiB0aGVcbiAgICAgKiBidWNrZXQgZmllbGQgaXMgc2V0XG4gICAgICovXG4gICAga2V5OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBpbXBvcnQgc291cmNlIGJ1Y2tldC4gTnVsbCBpZiBzZXQgd2FzIG5vIGltcG9ydGVkIGZyb20gYW4gUzMgYnVja2V0LiBNdXN0IGJlIHNldCBpZlxuICAgICAqIHRoZSBrZXkgZmllbGQgaXMgc2V0LlxuICAgICAqL1xuICAgIHRoaXMuYnVja2V0ID0gb3B0cy5idWNrZXQ7XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgaW1wb3J0IHNvdXJjZSBrZXkuIE51bGwgaWYgc2V0IHdhcyBubyBpbXBvcnRlZCBmcm9tIGFuIFMzIGJ1Y2tldC4gTXVzdCBiZSBzZXQgaWYgdGhlXG4gICAgICogYnVja2V0IGZpZWxkIGlzIHNldFxuICAgICAqL1xuICAgIHRoaXMua2V5ID0gb3B0cy5rZXk7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRNZWRpYVNldHNCbG9iTW9kZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0eXBlJzogJ0ZJTkRfTUVESUFfU0VUU19CTE9CX01PREUnLFxuICAgICAgJ2J1Y2tldCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2J1Y2tldCcsIG0uYnVja2V0KSxcbiAgICAgICdrZXknOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdrZXknLCBtLmtleSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFTZXRzQmxvYk1vZGUge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdGSU5EX01FRElBX1NFVFNfQkxPQl9NT0RFJyk7XG4gICAgcmV0dXJuIG5ldyBGaW5kTWVkaWFTZXRzQmxvYk1vZGUoe1xuICAgICAgYnVja2V0OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2J1Y2tldCcsIG8pLFxuICAgICAga2V5OiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2tleScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBGaW5kTWVkaWFTZXRzUmVxdWVzdCB7XG4gIHJlYWRvbmx5IG1vZGU6IEZpbmRNZWRpYVNldHNNb2RlO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBtb2RlOiBGaW5kTWVkaWFTZXRzTW9kZSxcbiAgfSkge1xuICAgIHRoaXMubW9kZSA9IG9wdHMubW9kZTtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogRmluZE1lZGlhU2V0c1JlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbW9kZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoRmluZE1lZGlhU2V0c01vZGUuc2VyaWFsaXplLCAnbW9kZScsIG0ubW9kZSksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFTZXRzUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBGaW5kTWVkaWFTZXRzUmVxdWVzdCh7XG4gICAgICBtb2RlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoRmluZE1lZGlhU2V0c01vZGUuZGVzZXJpYWxpemUsICdtb2RlJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZpbmRNZWRpYVNldHNSZXNwb25zZSB7XG4gIC8qKiBTZXRzIG1hdGNoaW5nIHRoZSByZXF1ZXN0IGNyaXRlcmlhLiAqL1xuICByZWFkb25seSBtZWRpYVNldHM6IHJlYWRvbmx5IE1lZGlhU2V0W107XG4gIC8qKiBTZXQgaWQgZm9yIGNvbnRpbnVhdGlvbi4gKi9cbiAgcmVhZG9ubHkgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBTZXRzIG1hdGNoaW5nIHRoZSByZXF1ZXN0IGNyaXRlcmlhLiAqL1xuICAgIG1lZGlhU2V0cz86IHJlYWRvbmx5IE1lZGlhU2V0W10sXG4gICAgLyoqIFNldCBpZCBmb3IgY29udGludWF0aW9uLiAqL1xuICAgIGNvbnRpbnVhdGlvbj86IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBTZXRzIG1hdGNoaW5nIHRoZSByZXF1ZXN0IGNyaXRlcmlhLiAqL1xuICAgIHRoaXMubWVkaWFTZXRzID0gb3B0cy5tZWRpYVNldHMgfHwgW107XG4gICAgLyoqIFNldCBpZCBmb3IgY29udGludWF0aW9uLiAqL1xuICAgIHRoaXMuY29udGludWF0aW9uID0gb3B0cy5jb250aW51YXRpb247XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbmRNZWRpYVNldHNSZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdtZWRpYVNldHMnOiBTZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KE1lZGlhU2V0LnNlcmlhbGl6ZSwgJ21lZGlhU2V0cycsIG0ubWVkaWFTZXRzKSxcbiAgICAgICdjb250aW51YXRpb24nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjb250aW51YXRpb24nLCBtLmNvbnRpbnVhdGlvbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBGaW5kTWVkaWFTZXRzUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgRmluZE1lZGlhU2V0c1Jlc3BvbnNlKHtcbiAgICAgIG1lZGlhU2V0czogRGVzZXJpYWxpemF0aW9uLnJlcGVhdGVkT2JqZWN0KE1lZGlhU2V0LmRlc2VyaWFsaXplLCAnbWVkaWFTZXRzJywgbyksXG4gICAgICBjb250aW51YXRpb246IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY29udGludWF0aW9uJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZU1lZGlhU2V0UmVxdWVzdCB7XG4gIC8qKiBTZXQgaWQgdG8gZGVsZXRlLiAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogU2V0IGlkIHRvIGRlbGV0ZS4gKi9cbiAgICBpZDogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIFNldCBpZCB0byBkZWxldGUuICovXG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IERlbGV0ZU1lZGlhU2V0UmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdpZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbS5pZCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBEZWxldGVNZWRpYVNldFJlcXVlc3Qge1xuICAgIHJldHVybiBuZXcgRGVsZXRlTWVkaWFTZXRSZXF1ZXN0KHtcbiAgICAgIGlkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2lkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlbGV0ZU1lZGlhU2V0UmVzcG9uc2Uge1xuICBzdGF0aWMgc2VyaWFsaXplKG06IERlbGV0ZU1lZGlhU2V0UmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBEZWxldGVNZWRpYVNldFJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IERlbGV0ZU1lZGlhU2V0UmVzcG9uc2UoKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVsZXRlTWVkaWFSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgbWVkaWE6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgbWVkaWE6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMubWVkaWEgPSBvcHRzLm1lZGlhO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBEZWxldGVNZWRpYVJlcXVlc3QpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnbWVkaWEnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZWRpYScsIG0ubWVkaWEpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRGVsZXRlTWVkaWFSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IERlbGV0ZU1lZGlhUmVxdWVzdCh7XG4gICAgICBtZWRpYTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdtZWRpYScsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEZWxldGVNZWRpYVJlc3BvbnNlIHtcbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBEZWxldGVNZWRpYVJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRGVsZXRlTWVkaWFSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBEZWxldGVNZWRpYVJlc3BvbnNlKCk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lZGlhRXh0ZXJuYWxSZWYge1xuICAvKiogUHJvdmlkZXIgZm9yIHRoZSBleHRlcm5hbCBtZWRpYS4gKi9cbiAgcmVhZG9ubHkgcHJvdmlkZXI6IEV4dGVybmFsUHJvdmlkZXI7XG4gIC8qKiBFeHRlcm5hbCBpZCBmb3IgdGhlIGV4dGVybmFsIG1lZGlhLiAqL1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogUHJvdmlkZXIgZm9yIHRoZSBleHRlcm5hbCBtZWRpYS4gKi9cbiAgICBwcm92aWRlcjogRXh0ZXJuYWxQcm92aWRlcixcbiAgICAvKiogRXh0ZXJuYWwgaWQgZm9yIHRoZSBleHRlcm5hbCBtZWRpYS4gKi9cbiAgICBpZDogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIFByb3ZpZGVyIGZvciB0aGUgZXh0ZXJuYWwgbWVkaWEuICovXG4gICAgdGhpcy5wcm92aWRlciA9IG9wdHMucHJvdmlkZXI7XG4gICAgLyoqIEV4dGVybmFsIGlkIGZvciB0aGUgZXh0ZXJuYWwgbWVkaWEuICovXG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IE1lZGlhRXh0ZXJuYWxSZWYpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncHJvdmlkZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShFeHRlcm5hbFByb3ZpZGVyVXRpbC5zZXJpYWxpemUsICdwcm92aWRlcicsIG0ucHJvdmlkZXIpLFxuICAgICAgJ2lkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBtLmlkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IE1lZGlhRXh0ZXJuYWxSZWYge1xuICAgIHJldHVybiBuZXcgTWVkaWFFeHRlcm5hbFJlZih7XG4gICAgICBwcm92aWRlcjogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bTxFeHRlcm5hbFByb3ZpZGVyPihFeHRlcm5hbFByb3ZpZGVyVXRpbC5kZXNlcmlhbGl6ZSwgJ3Byb3ZpZGVyJywgbyksXG4gICAgICBpZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBHZXRNZWRpYVN0b3JhZ2VSZXF1ZXN0IHtcbiAgcmVhZG9ubHkgYnJhbmQ6IHN0cmluZztcbiAgcmVhZG9ubHkgdXNlcjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBicmFuZDogc3RyaW5nLFxuICAgIHVzZXI6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuYnJhbmQgPSBvcHRzLmJyYW5kO1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0TWVkaWFTdG9yYWdlUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbS5icmFuZCksXG4gICAgICAndXNlcic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBtLnVzZXIpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0TWVkaWFTdG9yYWdlUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRNZWRpYVN0b3JhZ2VSZXF1ZXN0KHtcbiAgICAgIGJyYW5kOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2JyYW5kJywgbyksXG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3VzZXInLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0TWVkaWFTdG9yYWdlUmVzcG9uc2Uge1xuICByZWFkb25seSBjdXJyZW50Qnl0ZXM6IG51bWJlcjtcbiAgcmVhZG9ubHkgbWF4Qnl0ZXM6IG51bWJlciB8IHVuZGVmaW5lZDtcbiAgLyoqIENvdW50IG9mIGZpbGVzIHVzZWQgdG8gY2FsY3VsYXRlIGN1cnJlbnRfYnl0ZXMgKi9cbiAgcmVhZG9ubHkgY3VycmVudEZpbGVzOiBudW1iZXI7XG4gIHJlYWRvbmx5IHRvdGFsQnl0ZXNBdFF1b3RhRW5yb2xtZW50OiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGN1cnJlbnRCeXRlczogbnVtYmVyLFxuICAgIG1heEJ5dGVzPzogbnVtYmVyLFxuICAgIC8qKiBDb3VudCBvZiBmaWxlcyB1c2VkIHRvIGNhbGN1bGF0ZSBjdXJyZW50X2J5dGVzICovXG4gICAgY3VycmVudEZpbGVzOiBudW1iZXIsXG4gICAgdG90YWxCeXRlc0F0UXVvdGFFbnJvbG1lbnQ/OiBudW1iZXIsXG4gIH0pIHtcbiAgICB0aGlzLmN1cnJlbnRCeXRlcyA9IG9wdHMuY3VycmVudEJ5dGVzO1xuICAgIHRoaXMubWF4Qnl0ZXMgPSBvcHRzLm1heEJ5dGVzO1xuICAgIC8qKiBDb3VudCBvZiBmaWxlcyB1c2VkIHRvIGNhbGN1bGF0ZSBjdXJyZW50X2J5dGVzICovXG4gICAgdGhpcy5jdXJyZW50RmlsZXMgPSBvcHRzLmN1cnJlbnRGaWxlcztcbiAgICB0aGlzLnRvdGFsQnl0ZXNBdFF1b3RhRW5yb2xtZW50ID0gb3B0cy50b3RhbEJ5dGVzQXRRdW90YUVucm9sbWVudDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0TWVkaWFTdG9yYWdlUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnY3VycmVudEJ5dGVzJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZE51bWJlcignY3VycmVudEJ5dGVzJywgbS5jdXJyZW50Qnl0ZXMpLFxuICAgICAgJ21heEJ5dGVzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignbWF4Qnl0ZXMnLCBtLm1heEJ5dGVzKSxcbiAgICAgICdjdXJyZW50RmlsZXMnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdjdXJyZW50RmlsZXMnLCBtLmN1cnJlbnRGaWxlcyksXG4gICAgICAndG90YWxCeXRlc0F0UXVvdGFFbnJvbG1lbnQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCd0b3RhbEJ5dGVzQXRRdW90YUVucm9sbWVudCcsIG0udG90YWxCeXRlc0F0UXVvdGFFbnJvbG1lbnQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogR2V0TWVkaWFTdG9yYWdlUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0TWVkaWFTdG9yYWdlUmVzcG9uc2Uoe1xuICAgICAgY3VycmVudEJ5dGVzOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWROdW1iZXIoJ2N1cnJlbnRCeXRlcycsIG8pLFxuICAgICAgbWF4Qnl0ZXM6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignbWF4Qnl0ZXMnLCBvKSxcbiAgICAgIGN1cnJlbnRGaWxlczogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkTnVtYmVyKCdjdXJyZW50RmlsZXMnLCBvKSxcbiAgICAgIHRvdGFsQnl0ZXNBdFF1b3RhRW5yb2xtZW50OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3RvdGFsQnl0ZXNBdFF1b3RhRW5yb2xtZW50JywgbyksXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFHQTtBQW9CQTtBQUNBO0FBQ0E7Ozs7Ozs7O0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBOzs7Ozs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkJBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMkVBO0FBQ0E7QUFDQTs7Ozs7Ozs7OztBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7OztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUF3QkE7QUF3QkE7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBOEJBO0FBOEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBY0E7QUFjQTs7O0FBR0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBYUE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFPQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFXQTtBQVdBO0FBQ0E7QUFDQTs7Ozs7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTtBQUNBO0FBNEdBO0FBdUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQTBCQTtBQTBCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQXNDQTtBQXFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7Ozs7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUErQkE7QUErQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFRQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFrQkE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQWNBO0FBYkE7QUF5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFQQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVlBO0FBWEE7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBUUE7QUFQQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVlBO0FBWEE7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBVEE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFZQTtBQVhBO0FBcUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQVBBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFRQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFnQkE7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7O0FBSUE7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVVBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBOENBO0FBNENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBbUJBO0FBbUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFQQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBS0E7QUFKQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBUUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQW9CQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWtCQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQVlBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFUQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWNBO0FBYkE7QUF5QkE7OztBQUdBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFPQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///31\n");

/***/ }),
/* 32 */
/*!*******************************************!*\
  !*** ./src/services/oauth/oauth_proto.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PlatformUtil\", function() { return PlatformUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PermissionUtil\", function() { return PermissionUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"TargetTypeUtil\", function() { return TargetTypeUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PrivacyUtil\", function() { return PrivacyUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OauthFileFormatUtil\", function() { return OauthFileFormatUtil; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Target\", function() { return Target; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"OauthResponse\", function() { return OauthResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetUploadMetricsRequest\", function() { return GetUploadMetricsRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"GetUploadMetricsResponse\", function() { return GetUploadMetricsResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UploadMetrics\", function() { return UploadMetrics; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"NestedItem\", function() { return NestedItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FileItem\", function() { return FileItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FolderItem\", function() { return FolderItem; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PreferredImageSettings\", function() { return PreferredImageSettings; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from services/oauth/oauth.proto.\r\n\r\n\r\n\r\nconst PlatformUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* DROPBOX */,\r\n            2 /* FACEBOOK */,\r\n            3 /* GOOGLE */,\r\n            4 /* INSTAGRAM */,\r\n            5 /* LINKEDIN */,\r\n            6 /* MAILCHIMP */,\r\n            7 /* MICROSOFT */,\r\n            8 /* PINTEREST */,\r\n            9 /* QQ */,\r\n            10 /* SLACK */,\r\n            11 /* TRELLO */,\r\n            12 /* TUMBLR */,\r\n            13 /* TWITTER */,\r\n            14 /* WECHAT */,\r\n            15 /* WEIBO */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* DROPBOX */: return 'DROPBOX';\r\n            case 2 /* FACEBOOK */: return 'FACEBOOK';\r\n            case 3 /* GOOGLE */: return 'GOOGLE';\r\n            case 4 /* INSTAGRAM */: return 'INSTAGRAM';\r\n            case 5 /* LINKEDIN */: return 'LINKEDIN';\r\n            case 6 /* MAILCHIMP */: return 'MAILCHIMP';\r\n            case 7 /* MICROSOFT */: return 'MICROSOFT';\r\n            case 8 /* PINTEREST */: return 'PINTEREST';\r\n            case 9 /* QQ */: return 'QQ';\r\n            case 10 /* SLACK */: return 'SLACK';\r\n            case 11 /* TRELLO */: return 'TRELLO';\r\n            case 12 /* TUMBLR */: return 'TUMBLR';\r\n            case 13 /* TWITTER */: return 'TWITTER';\r\n            case 14 /* WECHAT */: return 'WECHAT';\r\n            case 15 /* WEIBO */: return 'WEIBO';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'DROPBOX': return 1 /* DROPBOX */;\r\n            case 'FACEBOOK': return 2 /* FACEBOOK */;\r\n            case 'GOOGLE': return 3 /* GOOGLE */;\r\n            case 'INSTAGRAM': return 4 /* INSTAGRAM */;\r\n            case 'LINKEDIN': return 5 /* LINKEDIN */;\r\n            case 'MAILCHIMP': return 6 /* MAILCHIMP */;\r\n            case 'MICROSOFT': return 7 /* MICROSOFT */;\r\n            case 'PINTEREST': return 8 /* PINTEREST */;\r\n            case 'QQ': return 9 /* QQ */;\r\n            case 'SLACK': return 10 /* SLACK */;\r\n            case 'TRELLO': return 11 /* TRELLO */;\r\n            case 'TUMBLR': return 12 /* TUMBLR */;\r\n            case 'TWITTER': return 13 /* TWITTER */;\r\n            case 'WECHAT': return 14 /* WECHAT */;\r\n            case 'WEIBO': return 15 /* WEIBO */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'Platform'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst PermissionUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* GET_BASIC_PROFILE */,\r\n            2 /* GET_EMAIL */,\r\n            3 /* PUBLISH */,\r\n            4 /* PUBLISH_TO_GROUP */,\r\n            5 /* PUBLISH_TO_PAGE */,\r\n            6 /* PUBLISH_TO_STORAGE */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* GET_BASIC_PROFILE */: return 'GET_BASIC_PROFILE';\r\n            case 2 /* GET_EMAIL */: return 'GET_EMAIL';\r\n            case 3 /* PUBLISH */: return 'PUBLISH';\r\n            case 4 /* PUBLISH_TO_GROUP */: return 'PUBLISH_TO_GROUP';\r\n            case 5 /* PUBLISH_TO_PAGE */: return 'PUBLISH_TO_PAGE';\r\n            case 6 /* PUBLISH_TO_STORAGE */: return 'PUBLISH_TO_STORAGE';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'GET_BASIC_PROFILE': return 1 /* GET_BASIC_PROFILE */;\r\n            case 'GET_EMAIL': return 2 /* GET_EMAIL */;\r\n            case 'PUBLISH': return 3 /* PUBLISH */;\r\n            case 'PUBLISH_TO_GROUP': return 4 /* PUBLISH_TO_GROUP */;\r\n            case 'PUBLISH_TO_PAGE': return 5 /* PUBLISH_TO_PAGE */;\r\n            case 'PUBLISH_TO_STORAGE': return 6 /* PUBLISH_TO_STORAGE */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'Permission'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst TargetTypeUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* DEFAULT */,\r\n            2 /* PAGE */,\r\n            3 /* GROUP */,\r\n            4 /* NESTED */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* DEFAULT */: return 'DEFAULT';\r\n            case 2 /* PAGE */: return 'PAGE';\r\n            case 3 /* GROUP */: return 'GROUP';\r\n            case 4 /* NESTED */: return 'NESTED';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'DEFAULT': return 1 /* DEFAULT */;\r\n            case 'PAGE': return 2 /* PAGE */;\r\n            case 'GROUP': return 3 /* GROUP */;\r\n            case 'NESTED': return 4 /* NESTED */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'TargetType'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst PrivacyUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* PRIVATE */,\r\n            2 /* CUSTOM */,\r\n            3 /* PUBLIC */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* PRIVATE */: return 'PRIVATE';\r\n            case 2 /* CUSTOM */: return 'CUSTOM';\r\n            case 3 /* PUBLIC */: return 'PUBLIC';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'PRIVATE': return 1 /* PRIVATE */;\r\n            case 'CUSTOM': return 2 /* CUSTOM */;\r\n            case 'PUBLIC': return 3 /* PUBLIC */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'Privacy'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nconst OauthFileFormatUtil = {\r\n    values: () => {\r\n        return [\r\n            1 /* PNG */,\r\n            2 /* PDF */,\r\n            3 /* JPG */,\r\n            4 /* PPTX */,\r\n        ];\r\n    },\r\n    serialize: (value) => {\r\n        switch (value) {\r\n            case 1 /* PNG */: return 'PNG';\r\n            case 2 /* PDF */: return 'PDF';\r\n            case 3 /* JPG */: return 'JPG';\r\n            case 4 /* PPTX */: return 'PPTX';\r\n            default: throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](value);\r\n        }\r\n    },\r\n    deserialize: (value, name) => {\r\n        switch (value) {\r\n            case 'PNG': return 1 /* PNG */;\r\n            case 'PDF': return 2 /* PDF */;\r\n            case 'JPG': return 3 /* JPG */;\r\n            case 'PPTX': return 4 /* PPTX */;\r\n            default: throw new TypeError(`Unrecognized value ${JSON.stringify(value)} for type 'OauthFileFormat'${name ? ` (property '${name}')` : ''}`);\r\n        }\r\n    },\r\n};\r\nclass Target {\r\n    constructor(opts) {\r\n        this.id = opts.id;\r\n        this.name = opts.name;\r\n        this.thumbnail = opts.thumbnail;\r\n        this.description = opts.description;\r\n        /** deprecated, do no longer use */\r\n        this.isPrivate = opts.isPrivate;\r\n        /** if supported and known, the privacy of the target */\r\n        this.privacy = opts.privacy;\r\n        /**\r\n         * If non-null, indicates whether Canva has acquired the addional authorization required to post\r\n         * to this target. Some platforms require further authorization to allow uploads such as Facebook\r\n         * Groups which require users to add the Canva app to the group in the group settings.\r\n         */\r\n        this.uploadAuthorized = opts.uploadAuthorized;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'id': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('id', m.id),\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('name', m.name),\r\n            'thumbnail': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('thumbnail', m.thumbnail),\r\n            'description': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('description', m.description),\r\n            'isPrivate': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('isPrivate', m.isPrivate),\r\n            'privacy': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalStringEnum(PrivacyUtil.serialize, 'privacy', m.privacy),\r\n            'uploadAuthorized': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalBoolean('uploadAuthorized', m.uploadAuthorized),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new Target({\r\n            id: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('id', o),\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('name', o),\r\n            thumbnail: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('thumbnail', o),\r\n            description: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('description', o),\r\n            isPrivate: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('isPrivate', o),\r\n            privacy: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalStringEnum(PrivacyUtil.deserialize, 'privacy', o),\r\n            uploadAuthorized: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalBoolean('uploadAuthorized', o),\r\n        });\r\n    }\r\n}\r\nclass OauthResponse {\r\n    constructor(opts) {\r\n        this.platform = opts.platform;\r\n        this.userDeniedAuthorization = opts.userDeniedAuthorization;\r\n        this.grantedPermissions = opts.grantedPermissions || [];\r\n        this.deniedPermissions = opts.deniedPermissions || [];\r\n        this.username = opts.username;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'platform': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredStringEnum(PlatformUtil.serialize, 'platform', m.platform),\r\n            'userDeniedAuthorization': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('userDeniedAuthorization', m.userDeniedAuthorization),\r\n            'grantedPermissions': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(PermissionUtil.serialize, 'grantedPermissions', m.grantedPermissions),\r\n            'deniedPermissions': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].repeatedStringEnum(PermissionUtil.serialize, 'deniedPermissions', m.deniedPermissions),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalString('username', m.username),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new OauthResponse({\r\n            platform: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredStringEnum(PlatformUtil.deserialize, 'platform', o),\r\n            userDeniedAuthorization: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('userDeniedAuthorization', o),\r\n            grantedPermissions: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(PermissionUtil.deserialize, 'grantedPermissions', o),\r\n            deniedPermissions: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].repeatedStringEnum(PermissionUtil.deserialize, 'deniedPermissions', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalString('username', o),\r\n        });\r\n    }\r\n}\r\nclass GetUploadMetricsRequest {\r\n    constructor(opts) {\r\n        /** The id of the upload given by the external platform. */\r\n        this.externalId = opts.externalId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'externalId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('externalId', m.externalId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetUploadMetricsRequest({\r\n            externalId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('externalId', o),\r\n        });\r\n    }\r\n}\r\nclass GetUploadMetricsResponse {\r\n    constructor(opts) {\r\n        this.metrics = opts.metrics;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'metrics': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredObject(UploadMetrics.serialize, 'metrics', m.metrics),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new GetUploadMetricsResponse({\r\n            metrics: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredObject(UploadMetrics.deserialize, 'metrics', o),\r\n        });\r\n    }\r\n}\r\nclass UploadMetrics {\r\n    constructor(opts) {\r\n        /** Total number of likes the upload has if applicable. */\r\n        this.likes = opts.likes;\r\n        /** Total number of comments the upload has if applicable. */\r\n        this.comments = opts.comments;\r\n        /** Total number of re-shares the upload has if applicable. */\r\n        this.shares = opts.shares;\r\n        /** Total number of unique people who have viewed the upload if applicable. */\r\n        this.reach = opts.reach;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'likes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('likes', m.likes),\r\n            'comments': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('comments', m.comments),\r\n            'shares': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('shares', m.shares),\r\n            'reach': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('reach', m.reach),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UploadMetrics({\r\n            likes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('likes', o),\r\n            comments: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('comments', o),\r\n            shares: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('shares', o),\r\n            reach: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('reach', o),\r\n        });\r\n    }\r\n}\r\nconst NestedItem = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'FILE': return FileItem.serialize(u);\r\n            case 'FOLDER': return FolderItem.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('type', o);\r\n        switch (kase) {\r\n            case 'FILE': return FileItem.deserialize(o);\r\n            case 'FOLDER': return FolderItem.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass FileItem {\r\n    constructor(opts) {\r\n        this.type = 'FILE';\r\n        this.name = opts.name;\r\n        this.externalId = opts.externalId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'FILE',\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('name', m.name),\r\n            'externalId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('externalId', m.externalId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'FILE');\r\n        return new FileItem({\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('name', o),\r\n            externalId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('externalId', o),\r\n        });\r\n    }\r\n}\r\nclass FolderItem {\r\n    constructor(opts) {\r\n        this.type = 'FOLDER';\r\n        this.name = opts.name;\r\n        this.externalId = opts.externalId;\r\n        /** If this folder is not owned by the user, and instead has been shared with them. */\r\n        this.shared = opts.shared;\r\n        /**\r\n         * Whether the user is authorized to create files in this folder, should be inspected for shared\r\n         * folders as the user may only have read access.\r\n         */\r\n        this.uploadAuthorized = opts.uploadAuthorized;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'type': 'FOLDER',\r\n            'name': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('name', m.name),\r\n            'externalId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('externalId', m.externalId),\r\n            'shared': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('shared', m.shared),\r\n            'uploadAuthorized': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredBoolean('uploadAuthorized', m.uploadAuthorized),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['type'] === 'FOLDER');\r\n        return new FolderItem({\r\n            name: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('name', o),\r\n            externalId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('externalId', o),\r\n            shared: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('shared', o),\r\n            uploadAuthorized: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredBoolean('uploadAuthorized', o),\r\n        });\r\n    }\r\n}\r\nclass PreferredImageSettings {\r\n    constructor(opts) {\r\n        this.width = opts.width;\r\n        this.height = opts.height;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'width': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('width', m.width),\r\n            'height': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].optionalNumber('height', m.height),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new PreferredImageSettings({\r\n            width: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('width', o),\r\n            height: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].optionalNumber('height', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvb2F1dGgvb2F1dGhfcHJvdG8udHM/ODE1NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZm9ybWF0dGVyOm9mZlxuLy8gQ29weXJpZ2h0IENhbnZhIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIEdlbmVyYXRlZCBmcm9tIHNlcnZpY2VzL29hdXRoL29hdXRoLnByb3RvLlxuXG5pbXBvcnQge1xuICBQcmVjb25kaXRpb25zLFxuICBVbnJlYWNoYWJsZUVycm9yLFxufSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuaW1wb3J0IHtcbiAgRGVzZXJpYWxpemF0aW9uLFxufSBmcm9tICdiYXNlL3NlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uJztcbmltcG9ydCB7XG4gIFNlcmlhbGl6YXRpb24sXG59IGZyb20gJ2Jhc2Uvc2VyaWFsaXphdGlvbi9zZXJpYWxpemF0aW9uJztcblxuLyoqIGtlZXAgaW4gc3luYyB3aXRoIFNvY2lhbFBsYXRmb3JtIGluIGRvY3VtZW50X3R5cGUucHJvdG8gYW5kIHB1Ymxpc2gucHJvdG8gKi9cbmV4cG9ydCBjb25zdCBlbnVtIFBsYXRmb3JtIHtcbiAgRFJPUEJPWCA9IDEsXG4gIEZBQ0VCT09LLFxuICBHT09HTEUsXG4gIElOU1RBR1JBTSxcbiAgTElOS0VESU4sXG4gIE1BSUxDSElNUCxcbiAgTUlDUk9TT0ZULFxuICBQSU5URVJFU1QsXG4gIFFRLFxuICBTTEFDSyxcbiAgVFJFTExPLFxuICBUVU1CTFIsXG4gIFRXSVRURVIsXG4gIFdFQ0hBVCxcbiAgV0VJQk8sXG59XG5cbmV4cG9ydCBjb25zdCBQbGF0Zm9ybVV0aWwgPSB7XG4gIHZhbHVlczogKCk6IFBsYXRmb3JtW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBQbGF0Zm9ybS5EUk9QQk9YLFxuICAgICAgUGxhdGZvcm0uRkFDRUJPT0ssXG4gICAgICBQbGF0Zm9ybS5HT09HTEUsXG4gICAgICBQbGF0Zm9ybS5JTlNUQUdSQU0sXG4gICAgICBQbGF0Zm9ybS5MSU5LRURJTixcbiAgICAgIFBsYXRmb3JtLk1BSUxDSElNUCxcbiAgICAgIFBsYXRmb3JtLk1JQ1JPU09GVCxcbiAgICAgIFBsYXRmb3JtLlBJTlRFUkVTVCxcbiAgICAgIFBsYXRmb3JtLlFRLFxuICAgICAgUGxhdGZvcm0uU0xBQ0ssXG4gICAgICBQbGF0Zm9ybS5UUkVMTE8sXG4gICAgICBQbGF0Zm9ybS5UVU1CTFIsXG4gICAgICBQbGF0Zm9ybS5UV0lUVEVSLFxuICAgICAgUGxhdGZvcm0uV0VDSEFULFxuICAgICAgUGxhdGZvcm0uV0VJQk8sXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IFBsYXRmb3JtKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIFBsYXRmb3JtLkRST1BCT1g6IHJldHVybiAnRFJPUEJPWCc7XG4gICAgICBjYXNlIFBsYXRmb3JtLkZBQ0VCT09LOiByZXR1cm4gJ0ZBQ0VCT09LJztcbiAgICAgIGNhc2UgUGxhdGZvcm0uR09PR0xFOiByZXR1cm4gJ0dPT0dMRSc7XG4gICAgICBjYXNlIFBsYXRmb3JtLklOU1RBR1JBTTogcmV0dXJuICdJTlNUQUdSQU0nO1xuICAgICAgY2FzZSBQbGF0Zm9ybS5MSU5LRURJTjogcmV0dXJuICdMSU5LRURJTic7XG4gICAgICBjYXNlIFBsYXRmb3JtLk1BSUxDSElNUDogcmV0dXJuICdNQUlMQ0hJTVAnO1xuICAgICAgY2FzZSBQbGF0Zm9ybS5NSUNST1NPRlQ6IHJldHVybiAnTUlDUk9TT0ZUJztcbiAgICAgIGNhc2UgUGxhdGZvcm0uUElOVEVSRVNUOiByZXR1cm4gJ1BJTlRFUkVTVCc7XG4gICAgICBjYXNlIFBsYXRmb3JtLlFROiByZXR1cm4gJ1FRJztcbiAgICAgIGNhc2UgUGxhdGZvcm0uU0xBQ0s6IHJldHVybiAnU0xBQ0snO1xuICAgICAgY2FzZSBQbGF0Zm9ybS5UUkVMTE86IHJldHVybiAnVFJFTExPJztcbiAgICAgIGNhc2UgUGxhdGZvcm0uVFVNQkxSOiByZXR1cm4gJ1RVTUJMUic7XG4gICAgICBjYXNlIFBsYXRmb3JtLlRXSVRURVI6IHJldHVybiAnVFdJVFRFUic7XG4gICAgICBjYXNlIFBsYXRmb3JtLldFQ0hBVDogcmV0dXJuICdXRUNIQVQnO1xuICAgICAgY2FzZSBQbGF0Zm9ybS5XRUlCTzogcmV0dXJuICdXRUlCTyc7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih2YWx1ZSk7XG4gICAgfVxuICB9LFxuICBkZXNlcmlhbGl6ZTogKHZhbHVlOiBzdHJpbmcsIG5hbWU/OiBzdHJpbmcpOiBQbGF0Zm9ybSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnRFJPUEJPWCc6IHJldHVybiBQbGF0Zm9ybS5EUk9QQk9YO1xuICAgICAgY2FzZSAnRkFDRUJPT0snOiByZXR1cm4gUGxhdGZvcm0uRkFDRUJPT0s7XG4gICAgICBjYXNlICdHT09HTEUnOiByZXR1cm4gUGxhdGZvcm0uR09PR0xFO1xuICAgICAgY2FzZSAnSU5TVEFHUkFNJzogcmV0dXJuIFBsYXRmb3JtLklOU1RBR1JBTTtcbiAgICAgIGNhc2UgJ0xJTktFRElOJzogcmV0dXJuIFBsYXRmb3JtLkxJTktFRElOO1xuICAgICAgY2FzZSAnTUFJTENISU1QJzogcmV0dXJuIFBsYXRmb3JtLk1BSUxDSElNUDtcbiAgICAgIGNhc2UgJ01JQ1JPU09GVCc6IHJldHVybiBQbGF0Zm9ybS5NSUNST1NPRlQ7XG4gICAgICBjYXNlICdQSU5URVJFU1QnOiByZXR1cm4gUGxhdGZvcm0uUElOVEVSRVNUO1xuICAgICAgY2FzZSAnUVEnOiByZXR1cm4gUGxhdGZvcm0uUVE7XG4gICAgICBjYXNlICdTTEFDSyc6IHJldHVybiBQbGF0Zm9ybS5TTEFDSztcbiAgICAgIGNhc2UgJ1RSRUxMTyc6IHJldHVybiBQbGF0Zm9ybS5UUkVMTE87XG4gICAgICBjYXNlICdUVU1CTFInOiByZXR1cm4gUGxhdGZvcm0uVFVNQkxSO1xuICAgICAgY2FzZSAnVFdJVFRFUic6IHJldHVybiBQbGF0Zm9ybS5UV0lUVEVSO1xuICAgICAgY2FzZSAnV0VDSEFUJzogcmV0dXJuIFBsYXRmb3JtLldFQ0hBVDtcbiAgICAgIGNhc2UgJ1dFSUJPJzogcmV0dXJuIFBsYXRmb3JtLldFSUJPO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnUGxhdGZvcm0nJHtuYW1lID8gYCAocHJvcGVydHkgJyR7bmFtZX0nKWAgOiAnJ31gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3QgZW51bSBQZXJtaXNzaW9uIHtcbiAgR0VUX0JBU0lDX1BST0ZJTEUgPSAxLFxuICBHRVRfRU1BSUwsXG4gIFBVQkxJU0gsXG4gIFBVQkxJU0hfVE9fR1JPVVAsXG4gIFBVQkxJU0hfVE9fUEFHRSxcbiAgUFVCTElTSF9UT19TVE9SQUdFLFxufVxuXG5leHBvcnQgY29uc3QgUGVybWlzc2lvblV0aWwgPSB7XG4gIHZhbHVlczogKCk6IFBlcm1pc3Npb25bXSA9PiB7XG4gICAgcmV0dXJuIFtcbiAgICAgIFBlcm1pc3Npb24uR0VUX0JBU0lDX1BST0ZJTEUsXG4gICAgICBQZXJtaXNzaW9uLkdFVF9FTUFJTCxcbiAgICAgIFBlcm1pc3Npb24uUFVCTElTSCxcbiAgICAgIFBlcm1pc3Npb24uUFVCTElTSF9UT19HUk9VUCxcbiAgICAgIFBlcm1pc3Npb24uUFVCTElTSF9UT19QQUdFLFxuICAgICAgUGVybWlzc2lvbi5QVUJMSVNIX1RPX1NUT1JBR0UsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IFBlcm1pc3Npb24pOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgUGVybWlzc2lvbi5HRVRfQkFTSUNfUFJPRklMRTogcmV0dXJuICdHRVRfQkFTSUNfUFJPRklMRSc7XG4gICAgICBjYXNlIFBlcm1pc3Npb24uR0VUX0VNQUlMOiByZXR1cm4gJ0dFVF9FTUFJTCc7XG4gICAgICBjYXNlIFBlcm1pc3Npb24uUFVCTElTSDogcmV0dXJuICdQVUJMSVNIJztcbiAgICAgIGNhc2UgUGVybWlzc2lvbi5QVUJMSVNIX1RPX0dST1VQOiByZXR1cm4gJ1BVQkxJU0hfVE9fR1JPVVAnO1xuICAgICAgY2FzZSBQZXJtaXNzaW9uLlBVQkxJU0hfVE9fUEFHRTogcmV0dXJuICdQVUJMSVNIX1RPX1BBR0UnO1xuICAgICAgY2FzZSBQZXJtaXNzaW9uLlBVQkxJU0hfVE9fU1RPUkFHRTogcmV0dXJuICdQVUJMSVNIX1RPX1NUT1JBR0UnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogUGVybWlzc2lvbiA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnR0VUX0JBU0lDX1BST0ZJTEUnOiByZXR1cm4gUGVybWlzc2lvbi5HRVRfQkFTSUNfUFJPRklMRTtcbiAgICAgIGNhc2UgJ0dFVF9FTUFJTCc6IHJldHVybiBQZXJtaXNzaW9uLkdFVF9FTUFJTDtcbiAgICAgIGNhc2UgJ1BVQkxJU0gnOiByZXR1cm4gUGVybWlzc2lvbi5QVUJMSVNIO1xuICAgICAgY2FzZSAnUFVCTElTSF9UT19HUk9VUCc6IHJldHVybiBQZXJtaXNzaW9uLlBVQkxJU0hfVE9fR1JPVVA7XG4gICAgICBjYXNlICdQVUJMSVNIX1RPX1BBR0UnOiByZXR1cm4gUGVybWlzc2lvbi5QVUJMSVNIX1RPX1BBR0U7XG4gICAgICBjYXNlICdQVUJMSVNIX1RPX1NUT1JBR0UnOiByZXR1cm4gUGVybWlzc2lvbi5QVUJMSVNIX1RPX1NUT1JBR0U7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdQZXJtaXNzaW9uJyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuLyoqXG4gKiBUaGUgZGVmYXVsdCB0YXJnZXQgZm9yIHRoZSBwbGF0Zm9ybS4gTm90IHN1cHBvcnRlZCBieSBhbGwgcGxhdGZvcm1zOlxuICogT25seSBwbGF0Zm9ybXMgd2hpY2ggZG8gbm90IG5lY2Vzc2FyaWx5IHJlcXVpcmUgdG8gc3BlY2lmeSBhbiBleHRlcm5hbCB0YXJnZXQgaGF2ZVxuICogYSBERUZBVUxUIHR5cGUgKGZvciBpbnN0YW5jZSwgVHdpdHRlcikuXG4gKi9cbmV4cG9ydCBjb25zdCBlbnVtIFRhcmdldFR5cGUge1xuICBERUZBVUxUID0gMSxcbiAgUEFHRSxcbiAgR1JPVVAsXG4gIE5FU1RFRCxcbn1cblxuZXhwb3J0IGNvbnN0IFRhcmdldFR5cGVVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBUYXJnZXRUeXBlW10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBUYXJnZXRUeXBlLkRFRkFVTFQsXG4gICAgICBUYXJnZXRUeXBlLlBBR0UsXG4gICAgICBUYXJnZXRUeXBlLkdST1VQLFxuICAgICAgVGFyZ2V0VHlwZS5ORVNURUQsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IFRhcmdldFR5cGUpOiBzdHJpbmcgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgVGFyZ2V0VHlwZS5ERUZBVUxUOiByZXR1cm4gJ0RFRkFVTFQnO1xuICAgICAgY2FzZSBUYXJnZXRUeXBlLlBBR0U6IHJldHVybiAnUEFHRSc7XG4gICAgICBjYXNlIFRhcmdldFR5cGUuR1JPVVA6IHJldHVybiAnR1JPVVAnO1xuICAgICAgY2FzZSBUYXJnZXRUeXBlLk5FU1RFRDogcmV0dXJuICdORVNURUQnO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfSxcbiAgZGVzZXJpYWxpemU6ICh2YWx1ZTogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogVGFyZ2V0VHlwZSA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnREVGQVVMVCc6IHJldHVybiBUYXJnZXRUeXBlLkRFRkFVTFQ7XG4gICAgICBjYXNlICdQQUdFJzogcmV0dXJuIFRhcmdldFR5cGUuUEFHRTtcbiAgICAgIGNhc2UgJ0dST1VQJzogcmV0dXJuIFRhcmdldFR5cGUuR1JPVVA7XG4gICAgICBjYXNlICdORVNURUQnOiByZXR1cm4gVGFyZ2V0VHlwZS5ORVNURUQ7XG4gICAgICBkZWZhdWx0OiB0aHJvdyBuZXcgVHlwZUVycm9yKGBVbnJlY29nbml6ZWQgdmFsdWUgJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9IGZvciB0eXBlICdUYXJnZXRUeXBlJyR7bmFtZSA/IGAgKHByb3BlcnR5ICcke25hbWV9JylgIDogJyd9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGVudW0gUHJpdmFjeSB7XG4gIFBSSVZBVEUgPSAxLFxuICBDVVNUT00sXG4gIFBVQkxJQyxcbn1cblxuZXhwb3J0IGNvbnN0IFByaXZhY3lVdGlsID0ge1xuICB2YWx1ZXM6ICgpOiBQcml2YWN5W10gPT4ge1xuICAgIHJldHVybiBbXG4gICAgICBQcml2YWN5LlBSSVZBVEUsXG4gICAgICBQcml2YWN5LkNVU1RPTSxcbiAgICAgIFByaXZhY3kuUFVCTElDLFxuICAgIF07XG4gIH0sXG4gIHNlcmlhbGl6ZTogKHZhbHVlOiBQcml2YWN5KTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHZhbHVlKSB7XG4gICAgICBjYXNlIFByaXZhY3kuUFJJVkFURTogcmV0dXJuICdQUklWQVRFJztcbiAgICAgIGNhc2UgUHJpdmFjeS5DVVNUT006IHJldHVybiAnQ1VTVE9NJztcbiAgICAgIGNhc2UgUHJpdmFjeS5QVUJMSUM6IHJldHVybiAnUFVCTElDJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IFByaXZhY3kgPT4ge1xuICAgIHN3aXRjaCAodmFsdWUpIHtcbiAgICAgIGNhc2UgJ1BSSVZBVEUnOiByZXR1cm4gUHJpdmFjeS5QUklWQVRFO1xuICAgICAgY2FzZSAnQ1VTVE9NJzogcmV0dXJuIFByaXZhY3kuQ1VTVE9NO1xuICAgICAgY2FzZSAnUFVCTElDJzogcmV0dXJuIFByaXZhY3kuUFVCTElDO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IFR5cGVFcnJvcihgVW5yZWNvZ25pemVkIHZhbHVlICR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfSBmb3IgdHlwZSAnUHJpdmFjeScke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbi8qKiBLZWVwIGluIHN5bmMgd2l0aCBzaGFyZSBwcm90byBhbmQgZXhwb3J0IHByb3RvICovXG5leHBvcnQgY29uc3QgZW51bSBPYXV0aEZpbGVGb3JtYXQge1xuICBQTkcgPSAxLFxuICBQREYsXG4gIEpQRyxcbiAgUFBUWCxcbn1cblxuZXhwb3J0IGNvbnN0IE9hdXRoRmlsZUZvcm1hdFV0aWwgPSB7XG4gIHZhbHVlczogKCk6IE9hdXRoRmlsZUZvcm1hdFtdID0+IHtcbiAgICByZXR1cm4gW1xuICAgICAgT2F1dGhGaWxlRm9ybWF0LlBORyxcbiAgICAgIE9hdXRoRmlsZUZvcm1hdC5QREYsXG4gICAgICBPYXV0aEZpbGVGb3JtYXQuSlBHLFxuICAgICAgT2F1dGhGaWxlRm9ybWF0LlBQVFgsXG4gICAgXTtcbiAgfSxcbiAgc2VyaWFsaXplOiAodmFsdWU6IE9hdXRoRmlsZUZvcm1hdCk6IHN0cmluZyA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSBPYXV0aEZpbGVGb3JtYXQuUE5HOiByZXR1cm4gJ1BORyc7XG4gICAgICBjYXNlIE9hdXRoRmlsZUZvcm1hdC5QREY6IHJldHVybiAnUERGJztcbiAgICAgIGNhc2UgT2F1dGhGaWxlRm9ybWF0LkpQRzogcmV0dXJuICdKUEcnO1xuICAgICAgY2FzZSBPYXV0aEZpbGVGb3JtYXQuUFBUWDogcmV0dXJuICdQUFRYJztcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBVbnJlYWNoYWJsZUVycm9yKHZhbHVlKTtcbiAgICB9XG4gIH0sXG4gIGRlc2VyaWFsaXplOiAodmFsdWU6IHN0cmluZywgbmFtZT86IHN0cmluZyk6IE9hdXRoRmlsZUZvcm1hdCA9PiB7XG4gICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgY2FzZSAnUE5HJzogcmV0dXJuIE9hdXRoRmlsZUZvcm1hdC5QTkc7XG4gICAgICBjYXNlICdQREYnOiByZXR1cm4gT2F1dGhGaWxlRm9ybWF0LlBERjtcbiAgICAgIGNhc2UgJ0pQRyc6IHJldHVybiBPYXV0aEZpbGVGb3JtYXQuSlBHO1xuICAgICAgY2FzZSAnUFBUWCc6IHJldHVybiBPYXV0aEZpbGVGb3JtYXQuUFBUWDtcbiAgICAgIGRlZmF1bHQ6IHRocm93IG5ldyBUeXBlRXJyb3IoYFVucmVjb2duaXplZCB2YWx1ZSAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0gZm9yIHR5cGUgJ09hdXRoRmlsZUZvcm1hdCcke25hbWUgPyBgIChwcm9wZXJ0eSAnJHtuYW1lfScpYCA6ICcnfWApO1xuICAgIH1cbiAgfSxcbn07XG5cbmV4cG9ydCBjbGFzcyBUYXJnZXQge1xuICByZWFkb25seSBpZDogc3RyaW5nO1xuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IHRodW1ibmFpbDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkZXNjcmlwdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogZGVwcmVjYXRlZCwgZG8gbm8gbG9uZ2VyIHVzZSAqL1xuICByZWFkb25seSBpc1ByaXZhdGU6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG4gIC8qKiBpZiBzdXBwb3J0ZWQgYW5kIGtub3duLCB0aGUgcHJpdmFjeSBvZiB0aGUgdGFyZ2V0ICovXG4gIHJlYWRvbmx5IHByaXZhY3k6IFByaXZhY3kgfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBJZiBub24tbnVsbCwgaW5kaWNhdGVzIHdoZXRoZXIgQ2FudmEgaGFzIGFjcXVpcmVkIHRoZSBhZGRpb25hbCBhdXRob3JpemF0aW9uIHJlcXVpcmVkIHRvIHBvc3RcbiAgICogdG8gdGhpcyB0YXJnZXQuIFNvbWUgcGxhdGZvcm1zIHJlcXVpcmUgZnVydGhlciBhdXRob3JpemF0aW9uIHRvIGFsbG93IHVwbG9hZHMgc3VjaCBhcyBGYWNlYm9va1xuICAgKiBHcm91cHMgd2hpY2ggcmVxdWlyZSB1c2VycyB0byBhZGQgdGhlIENhbnZhIGFwcCB0byB0aGUgZ3JvdXAgaW4gdGhlIGdyb3VwIHNldHRpbmdzLlxuICAgKi9cbiAgcmVhZG9ubHkgdXBsb2FkQXV0aG9yaXplZDogYm9vbGVhbiB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgaWQ6IHN0cmluZyxcbiAgICBuYW1lOiBzdHJpbmcsXG4gICAgdGh1bWJuYWlsPzogc3RyaW5nLFxuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nLFxuICAgIC8qKiBkZXByZWNhdGVkLCBkbyBubyBsb25nZXIgdXNlICovXG4gICAgaXNQcml2YXRlPzogYm9vbGVhbixcbiAgICAvKiogaWYgc3VwcG9ydGVkIGFuZCBrbm93biwgdGhlIHByaXZhY3kgb2YgdGhlIHRhcmdldCAqL1xuICAgIHByaXZhY3k/OiBQcml2YWN5LFxuICAgIC8qKlxuICAgICAqIElmIG5vbi1udWxsLCBpbmRpY2F0ZXMgd2hldGhlciBDYW52YSBoYXMgYWNxdWlyZWQgdGhlIGFkZGlvbmFsIGF1dGhvcml6YXRpb24gcmVxdWlyZWQgdG8gcG9zdFxuICAgICAqIHRvIHRoaXMgdGFyZ2V0LiBTb21lIHBsYXRmb3JtcyByZXF1aXJlIGZ1cnRoZXIgYXV0aG9yaXphdGlvbiB0byBhbGxvdyB1cGxvYWRzIHN1Y2ggYXMgRmFjZWJvb2tcbiAgICAgKiBHcm91cHMgd2hpY2ggcmVxdWlyZSB1c2VycyB0byBhZGQgdGhlIENhbnZhIGFwcCB0byB0aGUgZ3JvdXAgaW4gdGhlIGdyb3VwIHNldHRpbmdzLlxuICAgICAqL1xuICAgIHVwbG9hZEF1dGhvcml6ZWQ/OiBib29sZWFuLFxuICB9KSB7XG4gICAgdGhpcy5pZCA9IG9wdHMuaWQ7XG4gICAgdGhpcy5uYW1lID0gb3B0cy5uYW1lO1xuICAgIHRoaXMudGh1bWJuYWlsID0gb3B0cy50aHVtYm5haWw7XG4gICAgdGhpcy5kZXNjcmlwdGlvbiA9IG9wdHMuZGVzY3JpcHRpb247XG4gICAgLyoqIGRlcHJlY2F0ZWQsIGRvIG5vIGxvbmdlciB1c2UgKi9cbiAgICB0aGlzLmlzUHJpdmF0ZSA9IG9wdHMuaXNQcml2YXRlO1xuICAgIC8qKiBpZiBzdXBwb3J0ZWQgYW5kIGtub3duLCB0aGUgcHJpdmFjeSBvZiB0aGUgdGFyZ2V0ICovXG4gICAgdGhpcy5wcml2YWN5ID0gb3B0cy5wcml2YWN5O1xuICAgIC8qKlxuICAgICAqIElmIG5vbi1udWxsLCBpbmRpY2F0ZXMgd2hldGhlciBDYW52YSBoYXMgYWNxdWlyZWQgdGhlIGFkZGlvbmFsIGF1dGhvcml6YXRpb24gcmVxdWlyZWQgdG8gcG9zdFxuICAgICAqIHRvIHRoaXMgdGFyZ2V0LiBTb21lIHBsYXRmb3JtcyByZXF1aXJlIGZ1cnRoZXIgYXV0aG9yaXphdGlvbiB0byBhbGxvdyB1cGxvYWRzIHN1Y2ggYXMgRmFjZWJvb2tcbiAgICAgKiBHcm91cHMgd2hpY2ggcmVxdWlyZSB1c2VycyB0byBhZGQgdGhlIENhbnZhIGFwcCB0byB0aGUgZ3JvdXAgaW4gdGhlIGdyb3VwIHNldHRpbmdzLlxuICAgICAqL1xuICAgIHRoaXMudXBsb2FkQXV0aG9yaXplZCA9IG9wdHMudXBsb2FkQXV0aG9yaXplZDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogVGFyZ2V0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2lkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnaWQnLCBtLmlkKSxcbiAgICAgICduYW1lJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnbmFtZScsIG0ubmFtZSksXG4gICAgICAndGh1bWJuYWlsJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndGh1bWJuYWlsJywgbS50aHVtYm5haWwpLFxuICAgICAgJ2Rlc2NyaXB0aW9uJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGVzY3JpcHRpb24nLCBtLmRlc2NyaXB0aW9uKSxcbiAgICAgICdpc1ByaXZhdGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignaXNQcml2YXRlJywgbS5pc1ByaXZhdGUpLFxuICAgICAgJ3ByaXZhY3knOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nRW51bShQcml2YWN5VXRpbC5zZXJpYWxpemUsICdwcml2YWN5JywgbS5wcml2YWN5KSxcbiAgICAgICd1cGxvYWRBdXRob3JpemVkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbEJvb2xlYW4oJ3VwbG9hZEF1dGhvcml6ZWQnLCBtLnVwbG9hZEF1dGhvcml6ZWQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogVGFyZ2V0IHtcbiAgICByZXR1cm4gbmV3IFRhcmdldCh7XG4gICAgICBpZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdpZCcsIG8pLFxuICAgICAgbmFtZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCduYW1lJywgbyksXG4gICAgICB0aHVtYm5haWw6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygndGh1bWJuYWlsJywgbyksXG4gICAgICBkZXNjcmlwdGlvbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkZXNjcmlwdGlvbicsIG8pLFxuICAgICAgaXNQcml2YXRlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdpc1ByaXZhdGUnLCBvKSxcbiAgICAgIHByaXZhY3k6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZ0VudW08UHJpdmFjeT4oUHJpdmFjeVV0aWwuZGVzZXJpYWxpemUsICdwcml2YWN5JywgbyksXG4gICAgICB1cGxvYWRBdXRob3JpemVkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCd1cGxvYWRBdXRob3JpemVkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE9hdXRoUmVzcG9uc2Uge1xuICByZWFkb25seSBwbGF0Zm9ybTogUGxhdGZvcm07XG4gIHJlYWRvbmx5IHVzZXJEZW5pZWRBdXRob3JpemF0aW9uOiBib29sZWFuO1xuICByZWFkb25seSBncmFudGVkUGVybWlzc2lvbnM6IHJlYWRvbmx5IFBlcm1pc3Npb25bXTtcbiAgcmVhZG9ubHkgZGVuaWVkUGVybWlzc2lvbnM6IHJlYWRvbmx5IFBlcm1pc3Npb25bXTtcbiAgcmVhZG9ubHkgdXNlcm5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgcGxhdGZvcm06IFBsYXRmb3JtLFxuICAgIHVzZXJEZW5pZWRBdXRob3JpemF0aW9uOiBib29sZWFuLFxuICAgIGdyYW50ZWRQZXJtaXNzaW9ucz86IHJlYWRvbmx5IFBlcm1pc3Npb25bXSxcbiAgICBkZW5pZWRQZXJtaXNzaW9ucz86IHJlYWRvbmx5IFBlcm1pc3Npb25bXSxcbiAgICB1c2VybmFtZT86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMucGxhdGZvcm0gPSBvcHRzLnBsYXRmb3JtO1xuICAgIHRoaXMudXNlckRlbmllZEF1dGhvcml6YXRpb24gPSBvcHRzLnVzZXJEZW5pZWRBdXRob3JpemF0aW9uO1xuICAgIHRoaXMuZ3JhbnRlZFBlcm1pc3Npb25zID0gb3B0cy5ncmFudGVkUGVybWlzc2lvbnMgfHwgW107XG4gICAgdGhpcy5kZW5pZWRQZXJtaXNzaW9ucyA9IG9wdHMuZGVuaWVkUGVybWlzc2lvbnMgfHwgW107XG4gICAgdGhpcy51c2VybmFtZSA9IG9wdHMudXNlcm5hbWU7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IE9hdXRoUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAncGxhdGZvcm0nOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nRW51bShQbGF0Zm9ybVV0aWwuc2VyaWFsaXplLCAncGxhdGZvcm0nLCBtLnBsYXRmb3JtKSxcbiAgICAgICd1c2VyRGVuaWVkQXV0aG9yaXphdGlvbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd1c2VyRGVuaWVkQXV0aG9yaXphdGlvbicsIG0udXNlckRlbmllZEF1dGhvcml6YXRpb24pLFxuICAgICAgJ2dyYW50ZWRQZXJtaXNzaW9ucyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKFBlcm1pc3Npb25VdGlsLnNlcmlhbGl6ZSwgJ2dyYW50ZWRQZXJtaXNzaW9ucycsIG0uZ3JhbnRlZFBlcm1pc3Npb25zKSxcbiAgICAgICdkZW5pZWRQZXJtaXNzaW9ucyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtKFBlcm1pc3Npb25VdGlsLnNlcmlhbGl6ZSwgJ2RlbmllZFBlcm1pc3Npb25zJywgbS5kZW5pZWRQZXJtaXNzaW9ucyksXG4gICAgICAndXNlcm5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VybmFtZScsIG0udXNlcm5hbWUpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogT2F1dGhSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBPYXV0aFJlc3BvbnNlKHtcbiAgICAgIHBsYXRmb3JtOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPFBsYXRmb3JtPihQbGF0Zm9ybVV0aWwuZGVzZXJpYWxpemUsICdwbGF0Zm9ybScsIG8pLFxuICAgICAgdXNlckRlbmllZEF1dGhvcml6YXRpb246IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3VzZXJEZW5pZWRBdXRob3JpemF0aW9uJywgbyksXG4gICAgICBncmFudGVkUGVybWlzc2lvbnM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZFN0cmluZ0VudW08UGVybWlzc2lvbj4oUGVybWlzc2lvblV0aWwuZGVzZXJpYWxpemUsICdncmFudGVkUGVybWlzc2lvbnMnLCBvKSxcbiAgICAgIGRlbmllZFBlcm1pc3Npb25zOiBEZXNlcmlhbGl6YXRpb24ucmVwZWF0ZWRTdHJpbmdFbnVtPFBlcm1pc3Npb24+KFBlcm1pc3Npb25VdGlsLmRlc2VyaWFsaXplLCAnZGVuaWVkUGVybWlzc2lvbnMnLCBvKSxcbiAgICAgIHVzZXJuYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXJuYW1lJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIEdldFVwbG9hZE1ldHJpY3NSZXF1ZXN0IHtcbiAgLyoqIFRoZSBpZCBvZiB0aGUgdXBsb2FkIGdpdmVuIGJ5IHRoZSBleHRlcm5hbCBwbGF0Zm9ybS4gKi9cbiAgcmVhZG9ubHkgZXh0ZXJuYWxJZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogVGhlIGlkIG9mIHRoZSB1cGxvYWQgZ2l2ZW4gYnkgdGhlIGV4dGVybmFsIHBsYXRmb3JtLiAqL1xuICAgIGV4dGVybmFsSWQ6IHN0cmluZyxcbiAgfSkge1xuICAgIC8qKiBUaGUgaWQgb2YgdGhlIHVwbG9hZCBnaXZlbiBieSB0aGUgZXh0ZXJuYWwgcGxhdGZvcm0uICovXG4gICAgdGhpcy5leHRlcm5hbElkID0gb3B0cy5leHRlcm5hbElkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBHZXRVcGxvYWRNZXRyaWNzUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdleHRlcm5hbElkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZXh0ZXJuYWxJZCcsIG0uZXh0ZXJuYWxJZCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRVcGxvYWRNZXRyaWNzUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBHZXRVcGxvYWRNZXRyaWNzUmVxdWVzdCh7XG4gICAgICBleHRlcm5hbElkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2V4dGVybmFsSWQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgR2V0VXBsb2FkTWV0cmljc1Jlc3BvbnNlIHtcbiAgcmVhZG9ubHkgbWV0cmljczogVXBsb2FkTWV0cmljcztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgbWV0cmljczogVXBsb2FkTWV0cmljcyxcbiAgfSkge1xuICAgIHRoaXMubWV0cmljcyA9IG9wdHMubWV0cmljcztcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogR2V0VXBsb2FkTWV0cmljc1Jlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ21ldHJpY3MnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KFVwbG9hZE1ldHJpY3Muc2VyaWFsaXplLCAnbWV0cmljcycsIG0ubWV0cmljcyksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBHZXRVcGxvYWRNZXRyaWNzUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgR2V0VXBsb2FkTWV0cmljc1Jlc3BvbnNlKHtcbiAgICAgIG1ldHJpY3M6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChVcGxvYWRNZXRyaWNzLmRlc2VyaWFsaXplLCAnbWV0cmljcycsIG8pLFxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBVcGxvYWRNZXRyaWNzIHtcbiAgLyoqIFRvdGFsIG51bWJlciBvZiBsaWtlcyB0aGUgdXBsb2FkIGhhcyBpZiBhcHBsaWNhYmxlLiAqL1xuICByZWFkb25seSBsaWtlczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKiogVG90YWwgbnVtYmVyIG9mIGNvbW1lbnRzIHRoZSB1cGxvYWQgaGFzIGlmIGFwcGxpY2FibGUuICovXG4gIHJlYWRvbmx5IGNvbW1lbnRzOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gIC8qKiBUb3RhbCBudW1iZXIgb2YgcmUtc2hhcmVzIHRoZSB1cGxvYWQgaGFzIGlmIGFwcGxpY2FibGUuICovXG4gIHJlYWRvbmx5IHNoYXJlczogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICAvKiogVG90YWwgbnVtYmVyIG9mIHVuaXF1ZSBwZW9wbGUgd2hvIGhhdmUgdmlld2VkIHRoZSB1cGxvYWQgaWYgYXBwbGljYWJsZS4gKi9cbiAgcmVhZG9ubHkgcmVhY2g6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIFRvdGFsIG51bWJlciBvZiBsaWtlcyB0aGUgdXBsb2FkIGhhcyBpZiBhcHBsaWNhYmxlLiAqL1xuICAgIGxpa2VzPzogbnVtYmVyLFxuICAgIC8qKiBUb3RhbCBudW1iZXIgb2YgY29tbWVudHMgdGhlIHVwbG9hZCBoYXMgaWYgYXBwbGljYWJsZS4gKi9cbiAgICBjb21tZW50cz86IG51bWJlcixcbiAgICAvKiogVG90YWwgbnVtYmVyIG9mIHJlLXNoYXJlcyB0aGUgdXBsb2FkIGhhcyBpZiBhcHBsaWNhYmxlLiAqL1xuICAgIHNoYXJlcz86IG51bWJlcixcbiAgICAvKiogVG90YWwgbnVtYmVyIG9mIHVuaXF1ZSBwZW9wbGUgd2hvIGhhdmUgdmlld2VkIHRoZSB1cGxvYWQgaWYgYXBwbGljYWJsZS4gKi9cbiAgICByZWFjaD86IG51bWJlcixcbiAgfSkge1xuICAgIC8qKiBUb3RhbCBudW1iZXIgb2YgbGlrZXMgdGhlIHVwbG9hZCBoYXMgaWYgYXBwbGljYWJsZS4gKi9cbiAgICB0aGlzLmxpa2VzID0gb3B0cy5saWtlcztcbiAgICAvKiogVG90YWwgbnVtYmVyIG9mIGNvbW1lbnRzIHRoZSB1cGxvYWQgaGFzIGlmIGFwcGxpY2FibGUuICovXG4gICAgdGhpcy5jb21tZW50cyA9IG9wdHMuY29tbWVudHM7XG4gICAgLyoqIFRvdGFsIG51bWJlciBvZiByZS1zaGFyZXMgdGhlIHVwbG9hZCBoYXMgaWYgYXBwbGljYWJsZS4gKi9cbiAgICB0aGlzLnNoYXJlcyA9IG9wdHMuc2hhcmVzO1xuICAgIC8qKiBUb3RhbCBudW1iZXIgb2YgdW5pcXVlIHBlb3BsZSB3aG8gaGF2ZSB2aWV3ZWQgdGhlIHVwbG9hZCBpZiBhcHBsaWNhYmxlLiAqL1xuICAgIHRoaXMucmVhY2ggPSBvcHRzLnJlYWNoO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGxvYWRNZXRyaWNzKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2xpa2VzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignbGlrZXMnLCBtLmxpa2VzKSxcbiAgICAgICdjb21tZW50cyc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ2NvbW1lbnRzJywgbS5jb21tZW50cyksXG4gICAgICAnc2hhcmVzJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignc2hhcmVzJywgbS5zaGFyZXMpLFxuICAgICAgJ3JlYWNoJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcigncmVhY2gnLCBtLnJlYWNoKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IFVwbG9hZE1ldHJpY3Mge1xuICAgIHJldHVybiBuZXcgVXBsb2FkTWV0cmljcyh7XG4gICAgICBsaWtlczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdsaWtlcycsIG8pLFxuICAgICAgY29tbWVudHM6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignY29tbWVudHMnLCBvKSxcbiAgICAgIHNoYXJlczogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsTnVtYmVyKCdzaGFyZXMnLCBvKSxcbiAgICAgIHJlYWNoOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3JlYWNoJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IHR5cGUgTmVzdGVkSXRlbVxuICAgID0gRmlsZUl0ZW1cbiAgICB8IEZvbGRlckl0ZW07XG5cbmV4cG9ydCBjb25zdCBOZXN0ZWRJdGVtID0ge1xuICBzZXJpYWxpemUodTogTmVzdGVkSXRlbSk6IG9iamVjdCB7XG4gICAgc3dpdGNoICh1LnR5cGUpIHtcbiAgICAgIGNhc2UgJ0ZJTEUnOiByZXR1cm4gRmlsZUl0ZW0uc2VyaWFsaXplKHUpO1xuICAgICAgY2FzZSAnRk9MREVSJzogcmV0dXJuIEZvbGRlckl0ZW0uc2VyaWFsaXplKHUpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IodSk7XG4gICAgfVxuICB9LFxuXG4gIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IE5lc3RlZEl0ZW0ge1xuICAgIGNvbnN0IGthc2UgPSBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3R5cGUnLCBvKTtcbiAgICBzd2l0Y2ggKGthc2UpIHtcbiAgICAgIGNhc2UgJ0ZJTEUnOiByZXR1cm4gRmlsZUl0ZW0uZGVzZXJpYWxpemUobyk7XG4gICAgICBjYXNlICdGT0xERVInOiByZXR1cm4gRm9sZGVySXRlbS5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5rbm93biBjYXNlOiAke2thc2V9YCk7XG4gICAgfVxuICB9LFxufTtcblxuZXhwb3J0IGNsYXNzIEZpbGVJdGVtIHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdGSUxFJztcblxuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGV4dGVybmFsSWQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgbmFtZTogc3RyaW5nLFxuICAgIGV4dGVybmFsSWQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMubmFtZSA9IG9wdHMubmFtZTtcbiAgICB0aGlzLmV4dGVybmFsSWQgPSBvcHRzLmV4dGVybmFsSWQ7XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IEZpbGVJdGVtKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRklMRScsXG4gICAgICAnbmFtZSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ25hbWUnLCBtLm5hbWUpLFxuICAgICAgJ2V4dGVybmFsSWQnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdleHRlcm5hbElkJywgbS5leHRlcm5hbElkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZpbGVJdGVtIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrQXJndW1lbnQoKG8gYXMgYW55KVsndHlwZSddID09PSAnRklMRScpO1xuICAgIHJldHVybiBuZXcgRmlsZUl0ZW0oe1xuICAgICAgbmFtZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCduYW1lJywgbyksXG4gICAgICBleHRlcm5hbElkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2V4dGVybmFsSWQnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRm9sZGVySXRlbSB7XG4gIHJlYWRvbmx5IHR5cGUgPSAnRk9MREVSJztcblxuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGV4dGVybmFsSWQ6IHN0cmluZztcbiAgLyoqIElmIHRoaXMgZm9sZGVyIGlzIG5vdCBvd25lZCBieSB0aGUgdXNlciwgYW5kIGluc3RlYWQgaGFzIGJlZW4gc2hhcmVkIHdpdGggdGhlbS4gKi9cbiAgcmVhZG9ubHkgc2hhcmVkOiBib29sZWFuO1xuICAvKipcbiAgICogV2hldGhlciB0aGUgdXNlciBpcyBhdXRob3JpemVkIHRvIGNyZWF0ZSBmaWxlcyBpbiB0aGlzIGZvbGRlciwgc2hvdWxkIGJlIGluc3BlY3RlZCBmb3Igc2hhcmVkXG4gICAqIGZvbGRlcnMgYXMgdGhlIHVzZXIgbWF5IG9ubHkgaGF2ZSByZWFkIGFjY2Vzcy5cbiAgICovXG4gIHJlYWRvbmx5IHVwbG9hZEF1dGhvcml6ZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIG5hbWU6IHN0cmluZyxcbiAgICBleHRlcm5hbElkOiBzdHJpbmcsXG4gICAgLyoqIElmIHRoaXMgZm9sZGVyIGlzIG5vdCBvd25lZCBieSB0aGUgdXNlciwgYW5kIGluc3RlYWQgaGFzIGJlZW4gc2hhcmVkIHdpdGggdGhlbS4gKi9cbiAgICBzaGFyZWQ6IGJvb2xlYW4sXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgdXNlciBpcyBhdXRob3JpemVkIHRvIGNyZWF0ZSBmaWxlcyBpbiB0aGlzIGZvbGRlciwgc2hvdWxkIGJlIGluc3BlY3RlZCBmb3Igc2hhcmVkXG4gICAgICogZm9sZGVycyBhcyB0aGUgdXNlciBtYXkgb25seSBoYXZlIHJlYWQgYWNjZXNzLlxuICAgICAqL1xuICAgIHVwbG9hZEF1dGhvcml6ZWQ6IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLm5hbWUgPSBvcHRzLm5hbWU7XG4gICAgdGhpcy5leHRlcm5hbElkID0gb3B0cy5leHRlcm5hbElkO1xuICAgIC8qKiBJZiB0aGlzIGZvbGRlciBpcyBub3Qgb3duZWQgYnkgdGhlIHVzZXIsIGFuZCBpbnN0ZWFkIGhhcyBiZWVuIHNoYXJlZCB3aXRoIHRoZW0uICovXG4gICAgdGhpcy5zaGFyZWQgPSBvcHRzLnNoYXJlZDtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSB1c2VyIGlzIGF1dGhvcml6ZWQgdG8gY3JlYXRlIGZpbGVzIGluIHRoaXMgZm9sZGVyLCBzaG91bGQgYmUgaW5zcGVjdGVkIGZvciBzaGFyZWRcbiAgICAgKiBmb2xkZXJzIGFzIHRoZSB1c2VyIG1heSBvbmx5IGhhdmUgcmVhZCBhY2Nlc3MuXG4gICAgICovXG4gICAgdGhpcy51cGxvYWRBdXRob3JpemVkID0gb3B0cy51cGxvYWRBdXRob3JpemVkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBGb2xkZXJJdGVtKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3R5cGUnOiAnRk9MREVSJyxcbiAgICAgICduYW1lJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnbmFtZScsIG0ubmFtZSksXG4gICAgICAnZXh0ZXJuYWxJZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2V4dGVybmFsSWQnLCBtLmV4dGVybmFsSWQpLFxuICAgICAgJ3NoYXJlZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCdzaGFyZWQnLCBtLnNoYXJlZCksXG4gICAgICAndXBsb2FkQXV0aG9yaXplZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd1cGxvYWRBdXRob3JpemVkJywgbS51cGxvYWRBdXRob3JpemVkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IEZvbGRlckl0ZW0ge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWyd0eXBlJ10gPT09ICdGT0xERVInKTtcbiAgICByZXR1cm4gbmV3IEZvbGRlckl0ZW0oe1xuICAgICAgbmFtZTogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCduYW1lJywgbyksXG4gICAgICBleHRlcm5hbElkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2V4dGVybmFsSWQnLCBvKSxcbiAgICAgIHNoYXJlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbignc2hhcmVkJywgbyksXG4gICAgICB1cGxvYWRBdXRob3JpemVkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRCb29sZWFuKCd1cGxvYWRBdXRob3JpemVkJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByZWZlcnJlZEltYWdlU2V0dGluZ3Mge1xuICByZWFkb25seSB3aWR0aDogbnVtYmVyIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBoZWlnaHQ6IG51bWJlciB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgd2lkdGg/OiBudW1iZXIsXG4gICAgaGVpZ2h0PzogbnVtYmVyLFxuICB9KSB7XG4gICAgdGhpcy53aWR0aCA9IG9wdHMud2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBvcHRzLmhlaWdodDtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogUHJlZmVycmVkSW1hZ2VTZXR0aW5ncyk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd3aWR0aCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3dpZHRoJywgbS53aWR0aCksXG4gICAgICAnaGVpZ2h0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignaGVpZ2h0JywgbS5oZWlnaHQpLFxuICAgIH07XG4gIH1cblxuICBzdGF0aWMgZGVzZXJpYWxpemUobzogb2JqZWN0KTogUHJlZmVycmVkSW1hZ2VTZXR0aW5ncyB7XG4gICAgcmV0dXJuIG5ldyBQcmVmZXJyZWRJbWFnZVNldHRpbmdzKHtcbiAgICAgIHdpZHRoOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxOdW1iZXIoJ3dpZHRoJywgbyksXG4gICAgICBoZWlnaHQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbE51bWJlcignaGVpZ2h0JywgbyksXG4gICAgfSk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUdBO0FBdUJBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7OztBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTs7Ozs7OztBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBOzs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBZ0JBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU9BO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBR0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQU1BO0FBTEE7QUFTQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQWFBO0FBWkE7QUF1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///32\n");

/***/ }),
/* 33 */
/*!*******************************************!*\
  !*** ./src/services/login/login_proto.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoginResponse\", function() { return LoginResponse; });\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from services/login/login.proto.\r\n\r\n\r\nclass LoginResponse {\r\n    constructor(opts) {\r\n        /** Optional error message, if login failed. */\r\n        this.error = opts.error;\r\n        /** Optional redirect for web logins. */\r\n        this.redirect = opts.redirect;\r\n        /** Whether this login reactivated the user. */\r\n        this.userReactivated = opts.userReactivated;\r\n        /** Map of pre-filled CSRF tokens. */\r\n        this.csrfTokens = opts.csrfTokens || new Map();\r\n        /**\r\n         * Optional token to be used by design button.\r\n         * Will only be present when the request used PartnerAuthTokenCredentials.\r\n         */\r\n        this.xatToken = opts.xatToken;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'error': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('error', m.error),\r\n            'redirect': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('redirect', m.redirect),\r\n            'userReactivated': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredBoolean('userReactivated', m.userReactivated),\r\n            'csrfTokens': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].stringStringMap('csrfTokens', m.csrfTokens),\r\n            'xatToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('xatToken', m.xatToken),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new LoginResponse({\r\n            error: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('error', o),\r\n            redirect: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('redirect', o),\r\n            userReactivated: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredBoolean('userReactivated', o),\r\n            csrfTokens: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].stringStringMap('csrfTokens', o),\r\n            xatToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('xatToken', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvbG9naW4vbG9naW5fcHJvdG8udHM/ZjA1NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAZm9ybWF0dGVyOm9mZlxuLy8gQ29weXJpZ2h0IENhbnZhIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbi8vIEdlbmVyYXRlZCBmcm9tIHNlcnZpY2VzL2xvZ2luL2xvZ2luLnByb3RvLlxuXG5pbXBvcnQge1xuICBEZXNlcmlhbGl6YXRpb24sXG59IGZyb20gJ2Jhc2Uvc2VyaWFsaXphdGlvbi9kZXNlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHtcbiAgU2VyaWFsaXphdGlvbixcbn0gZnJvbSAnYmFzZS9zZXJpYWxpemF0aW9uL3NlcmlhbGl6YXRpb24nO1xuXG5leHBvcnQgY2xhc3MgTG9naW5SZXNwb25zZSB7XG4gIC8qKiBPcHRpb25hbCBlcnJvciBtZXNzYWdlLCBpZiBsb2dpbiBmYWlsZWQuICovXG4gIHJlYWRvbmx5IGVycm9yOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBPcHRpb25hbCByZWRpcmVjdCBmb3Igd2ViIGxvZ2lucy4gKi9cbiAgcmVhZG9ubHkgcmVkaXJlY3Q6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIFdoZXRoZXIgdGhpcyBsb2dpbiByZWFjdGl2YXRlZCB0aGUgdXNlci4gKi9cbiAgcmVhZG9ubHkgdXNlclJlYWN0aXZhdGVkOiBib29sZWFuO1xuICAvKiogTWFwIG9mIHByZS1maWxsZWQgQ1NSRiB0b2tlbnMuICovXG4gIHJlYWRvbmx5IGNzcmZUb2tlbnM6IFJlYWRvbmx5TWFwPHN0cmluZywgc3RyaW5nPjtcbiAgLyoqXG4gICAqIE9wdGlvbmFsIHRva2VuIHRvIGJlIHVzZWQgYnkgZGVzaWduIGJ1dHRvbi5cbiAgICogV2lsbCBvbmx5IGJlIHByZXNlbnQgd2hlbiB0aGUgcmVxdWVzdCB1c2VkIFBhcnRuZXJBdXRoVG9rZW5DcmVkZW50aWFscy5cbiAgICovXG4gIHJlYWRvbmx5IHhhdFRva2VuOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIC8qKiBPcHRpb25hbCBlcnJvciBtZXNzYWdlLCBpZiBsb2dpbiBmYWlsZWQuICovXG4gICAgZXJyb3I/OiBzdHJpbmcsXG4gICAgLyoqIE9wdGlvbmFsIHJlZGlyZWN0IGZvciB3ZWIgbG9naW5zLiAqL1xuICAgIHJlZGlyZWN0Pzogc3RyaW5nLFxuICAgIC8qKiBXaGV0aGVyIHRoaXMgbG9naW4gcmVhY3RpdmF0ZWQgdGhlIHVzZXIuICovXG4gICAgdXNlclJlYWN0aXZhdGVkOiBib29sZWFuLFxuICAgIC8qKiBNYXAgb2YgcHJlLWZpbGxlZCBDU1JGIHRva2Vucy4gKi9cbiAgICBjc3JmVG9rZW5zPzogUmVhZG9ubHlNYXA8c3RyaW5nLCBzdHJpbmc+LFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIHRva2VuIHRvIGJlIHVzZWQgYnkgZGVzaWduIGJ1dHRvbi5cbiAgICAgKiBXaWxsIG9ubHkgYmUgcHJlc2VudCB3aGVuIHRoZSByZXF1ZXN0IHVzZWQgUGFydG5lckF1dGhUb2tlbkNyZWRlbnRpYWxzLlxuICAgICAqL1xuICAgIHhhdFRva2VuPzogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIE9wdGlvbmFsIGVycm9yIG1lc3NhZ2UsIGlmIGxvZ2luIGZhaWxlZC4gKi9cbiAgICB0aGlzLmVycm9yID0gb3B0cy5lcnJvcjtcbiAgICAvKiogT3B0aW9uYWwgcmVkaXJlY3QgZm9yIHdlYiBsb2dpbnMuICovXG4gICAgdGhpcy5yZWRpcmVjdCA9IG9wdHMucmVkaXJlY3Q7XG4gICAgLyoqIFdoZXRoZXIgdGhpcyBsb2dpbiByZWFjdGl2YXRlZCB0aGUgdXNlci4gKi9cbiAgICB0aGlzLnVzZXJSZWFjdGl2YXRlZCA9IG9wdHMudXNlclJlYWN0aXZhdGVkO1xuICAgIC8qKiBNYXAgb2YgcHJlLWZpbGxlZCBDU1JGIHRva2Vucy4gKi9cbiAgICB0aGlzLmNzcmZUb2tlbnMgPSBvcHRzLmNzcmZUb2tlbnMgfHwgbmV3IE1hcCgpO1xuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIHRva2VuIHRvIGJlIHVzZWQgYnkgZGVzaWduIGJ1dHRvbi5cbiAgICAgKiBXaWxsIG9ubHkgYmUgcHJlc2VudCB3aGVuIHRoZSByZXF1ZXN0IHVzZWQgUGFydG5lckF1dGhUb2tlbkNyZWRlbnRpYWxzLlxuICAgICAqL1xuICAgIHRoaXMueGF0VG9rZW4gPSBvcHRzLnhhdFRva2VuO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBMb2dpblJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2Vycm9yJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZXJyb3InLCBtLmVycm9yKSxcbiAgICAgICdyZWRpcmVjdCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlZGlyZWN0JywgbS5yZWRpcmVjdCksXG4gICAgICAndXNlclJlYWN0aXZhdGVkJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZEJvb2xlYW4oJ3VzZXJSZWFjdGl2YXRlZCcsIG0udXNlclJlYWN0aXZhdGVkKSxcbiAgICAgICdjc3JmVG9rZW5zJzogU2VyaWFsaXphdGlvbi5zdHJpbmdTdHJpbmdNYXAoJ2NzcmZUb2tlbnMnLCBtLmNzcmZUb2tlbnMpLFxuICAgICAgJ3hhdFRva2VuJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygneGF0VG9rZW4nLCBtLnhhdFRva2VuKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IExvZ2luUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgTG9naW5SZXNwb25zZSh7XG4gICAgICBlcnJvcjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdlcnJvcicsIG8pLFxuICAgICAgcmVkaXJlY3Q6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmVkaXJlY3QnLCBvKSxcbiAgICAgIHVzZXJSZWFjdGl2YXRlZDogRGVzZXJpYWxpemF0aW9uLnJlcXVpcmVkQm9vbGVhbigndXNlclJlYWN0aXZhdGVkJywgbyksXG4gICAgICBjc3JmVG9rZW5zOiBEZXNlcmlhbGl6YXRpb24uc3RyaW5nU3RyaW5nTWFwKCdjc3JmVG9rZW5zJywgbyksXG4gICAgICB4YXRUb2tlbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd4YXRUb2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUlBO0FBZUE7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///33\n");

/***/ }),
/* 34 */
/*!*****************************************************!*\
  !*** ./src/services/profile/http_profile_client.ts ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpProfileClient\", function() { return HttpProfileClient; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/url_builder/url_builder */ 28);\n/* harmony import */ var services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! services/oauth/oauth_proto */ 32);\n/* harmony import */ var _profile_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./profile_proto */ 29);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n// Copyright 2017 Canva Inc. All Rights Reserved.\r\n\r\n\r\n\r\n\r\n/**\r\n * This is used for FindBrandMembersMode frontend polyfill only (before API support is in)\r\n */\r\nconst findBrandMembersModeFilters = {\r\n    ['BY_NAME']: (brandMember, query) => (brandMember.user.displayName && localeInvariantIncludes(brandMember.user.displayName, query))\r\n        || false,\r\n    ['BY_NAME_OR_EMAIL']: (brandMember, query) => (brandMember.user.displayName && localeInvariantIncludes(brandMember.user.displayName, query))\r\n        || (brandMember.email && localeInvariantIncludes(brandMember.email, query))\r\n        || false,\r\n};\r\nfunction localeInvariantIncludes(a, b) {\r\n    return removeDiacritics(a).toLowerCase().includes(removeDiacritics(b).toLowerCase());\r\n}\r\nfunction removeDiacritics(input) {\r\n    return input.normalize('NFKD').replace(/[\\u0300-\\u036F]/g, '');\r\n}\r\nfunction paginate(pool, request) {\r\n    const { limit = 100, continuation } = request;\r\n    const fromIndex = continuation && parseInt(continuation, 10) || 0;\r\n    const toIndex = fromIndex + limit;\r\n    const items = pool.slice(fromIndex, toIndex);\r\n    const nextContinuation = toIndex >= pool.length\r\n        ? undefined\r\n        : toIndex.toString();\r\n    return {\r\n        items,\r\n        continuation: nextContinuation,\r\n    };\r\n}\r\nclass HttpProfileClient {\r\n    constructor(httpService) {\r\n        this.httpService = httpService;\r\n    }\r\n    getApiStatus(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.API,\r\n            HttpProfileClient.STATUS,\r\n        ]).withParams({\r\n            ['apiKey']: req.key,\r\n        }).toURI();\r\n        return this.httpService.get(url)\r\n            .then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"GetApiStatusResponse\"].deserialize);\r\n    }\r\n    createOauthLinkToken(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            HttpProfileClient.OAUTH_EXCHANGE,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateOauthLinkTokenRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateOauthLinkTokenResponse\"].deserialize);\r\n    }\r\n    getOauthSummary(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            req.user,\r\n            HttpProfileClient.OAUTH,\r\n            services_oauth_oauth_proto__WEBPACK_IMPORTED_MODULE_2__[\"PlatformUtil\"].serialize(req.platform),\r\n        ]).withParams({\r\n            ['fetchAvatar']: req.fetchAvatar,\r\n        }).toURI();\r\n        return this.httpService.get(url)\r\n            .then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"GetOauthSummaryResponse\"].deserialize);\r\n    }\r\n    getUser(req) {\r\n        let url;\r\n        if (req.byId) {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.USERS,\r\n                req.byId,\r\n            ]).withParams({\r\n                ['v2']: true,\r\n            }).toURI();\r\n        }\r\n        else if (req.byUsername) {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.NAMES,\r\n                HttpProfileClient.USERS,\r\n                req.byUsername,\r\n            ]).withParams({\r\n                ['v2']: true,\r\n            }).toURI();\r\n        }\r\n        else {\r\n            throw new Error('only byId and byUsername are supported by the backends');\r\n        }\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"GetUserResponse\"].deserialize);\r\n    }\r\n    deactivateUser(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            req.user,\r\n        ]).toURI();\r\n        return this.httpService.delete(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"DeactivateUserResponse\"].deserialize);\r\n    }\r\n    createUserAvatar(req) {\r\n        let url;\r\n        if (req.user) {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.USERS,\r\n                req.user,\r\n                HttpProfileClient.AVATARS,\r\n            ]).toURI();\r\n        }\r\n        else {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.USER,\r\n                HttpProfileClient.AVATARS,\r\n            ]).toURI();\r\n        }\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateUserAvatarRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateUserAvatarResponse\"].deserialize);\r\n    }\r\n    importUserAvatar(req) {\r\n        // The version is required to make the importUserAvatar URL.\r\n        // Otherwise that would be the same as createUserAvatar.\r\n        const version = base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(req.version);\r\n        let url;\r\n        if (req.user) {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.USERS,\r\n                req.user,\r\n                HttpProfileClient.AVATARS,\r\n                String(version),\r\n            ]).toURI();\r\n        }\r\n        else {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.USER,\r\n                HttpProfileClient.AVATARS,\r\n                String(version),\r\n            ]).toURI();\r\n        }\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"ImportUserAvatarRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"ImportUserAvatarResponse\"].deserialize);\r\n    }\r\n    getUserAvatar(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            req.user,\r\n            HttpProfileClient.AVATARS,\r\n            String(req.version),\r\n        ]).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"AvatarBundle\"].deserialize);\r\n    }\r\n    findBrands(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n        ]).withParams({\r\n            ['query']: req.query,\r\n            ['user']: req.user,\r\n            ['contributor']: req.contributor,\r\n            ['discountContributor']: req.discountContributor,\r\n            ['ids']: req.ids,\r\n            ['continuation']: req.continuation,\r\n            ['limit']: req.limit,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindBrandsResponse\"].deserialize);\r\n    }\r\n    findBrandMembers(req) {\r\n        if (req.mode) {\r\n            return this.findBrandMembersFromLocalCache(req);\r\n        }\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n            req.brand,\r\n            HttpProfileClient.MEMBERS,\r\n        ]).withParams({\r\n            ['includeAvatars']: req.includeAvatars,\r\n            ['includeEmails']: req.includeEmails,\r\n            ['countOnly']: req.countOnly,\r\n            ['continuation']: req.continuation,\r\n            ['limit']: req.limit,\r\n            ['users']: req.users.length > 0 ? req.users : undefined,\r\n            ['roles']: req.roles.length > 0 ? req.roles : undefined,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindBrandMembersResponse\"].deserialize);\r\n    }\r\n    updateBrandMembers(req) {\r\n        // UpdateBrandMembersRequest.brand is only optional for addByToken (which does not use\r\n        // this method) - it is required for all other update requests.\r\n        const brand = base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(req.brand);\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n            brand,\r\n            HttpProfileClient.MEMBERS,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateBrandMembersRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateBrandMembersResponse\"].deserialize);\r\n    }\r\n    findBrandInvitations(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n            req.brand,\r\n            HttpProfileClient.INVITATIONS,\r\n        ]).withParams({\r\n            ['brand']: req.brand,\r\n            ['countOnly']: req.countOnly,\r\n            ['includeMultiUseInvite']: req.includeMultiUseInvite,\r\n            ['continuation']: req.continuation,\r\n            ['limit']: req.limit,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindBrandInvitationsResponse\"].deserialize);\r\n    }\r\n    sendBrandInvitation(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n            req.brand,\r\n            HttpProfileClient.INVITATIONS,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"SendBrandInvitationsRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"SendBrandInvitationsResponse\"].deserialize);\r\n    }\r\n    createBrandInvitation(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n            req.brand,\r\n            HttpProfileClient.INVITATIONS,\r\n        ]).withParams({\r\n            ['create']: true,\r\n        }).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateBrandInvitationRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateBrandInvitationResponse\"].deserialize);\r\n    }\r\n    updateBrandInvitation(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n            req.brand,\r\n            HttpProfileClient.INVITATIONS,\r\n        ]).withParams({\r\n            ['update']: true,\r\n        }).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateBrandInvitationRequest\"].serialize(req))\r\n            .then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateBrandInvitationResponse\"].deserialize);\r\n    }\r\n    createBrand(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateBrandRequest\"].serialize(req))\r\n            .then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateBrandResponse\"].deserialize);\r\n    }\r\n    getBrand(req) {\r\n        let url = '';\r\n        if (req.byId) {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.BRANDS,\r\n                req.byId,\r\n            ]).withParams({\r\n                ['v2']: true,\r\n                ['projection']: req.projection.map(p => _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"BrandComponentUtil\"].serialize(p)),\r\n            }).toURI();\r\n        }\r\n        else if (req.byBrandname) {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.NAMES,\r\n                HttpProfileClient.BRANDS,\r\n                req.byBrandname,\r\n            ]).withParams({\r\n                ['v2']: true,\r\n                ['projection']: req.projection.map(p => _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"BrandComponentUtil\"].serialize(p)),\r\n            }).toURI();\r\n        }\r\n        else if (req.byBrandAccessToken) {\r\n            url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpProfileClient.BASE,\r\n                HttpProfileClient.BRANDS,\r\n                HttpProfileClient.TOKEN,\r\n            ]).withParams({\r\n                ['v2']: true,\r\n                ['brandAccessToken']: req.byBrandAccessToken,\r\n                ['projection']: req.projection.map(p => _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"BrandComponentUtil\"].serialize(p)),\r\n            }).toURI();\r\n        }\r\n        else {\r\n            throw new Error('only byId, byBrandname and byBrandAccessToken are supported');\r\n        }\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"GetBrandResponse\"].deserialize);\r\n    }\r\n    getBrandDetails(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n            req.byId,\r\n        ]).withParams({\r\n            ['detailed']: true,\r\n            ['withBillingInfo']: req.includeBillingInfo,\r\n            ['withDiscountContributor']: req.includeDiscountContributor,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"BrandDetails\"].deserialize);\r\n    }\r\n    updateBrand(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.BRANDS,\r\n            req.brand,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateBrandRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"BrandDetails\"].deserialize);\r\n    }\r\n    updateUser(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            req.user,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateUserRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateUserResponse\"].deserialize);\r\n    }\r\n    normalizePhoneNumber(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.PHONE_NUMBER,\r\n        ]).withParams({\r\n            ['normalize']: true,\r\n        }).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"NormalizePhoneNumberRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"NormalizePhoneNumberResponse\"].deserialize);\r\n    }\r\n    checkPasswordResetCode(req) {\r\n        const url = HttpProfileClient.getResetPath().withParams({\r\n            ['phoneNumber']: req.phoneNumber,\r\n            ['mode']: _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"VerificationModeUtil\"].serialize(req.mode),\r\n            ['code']: req.code,\r\n            ['state']: req.state,\r\n            ['token']: req.token,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CheckPasswordResetCodeResponse\"].deserialize);\r\n    }\r\n    sendPasswordResetEmail(req) {\r\n        const url = HttpProfileClient.getResetPath().toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"SendPasswordResetEmailRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"SendPasswordResetEmailResponse\"].deserialize);\r\n    }\r\n    sendPasswordResetCode(req) {\r\n        const url = HttpProfileClient.getResetPath().withParams({\r\n            ['code']: true,\r\n            ['action']: 'send',\r\n        }).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"SendPasswordResetCodeRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"SendPasswordResetCodeResponse\"].deserialize);\r\n    }\r\n    resetPasswordWithCode(req) {\r\n        const url = HttpProfileClient.getResetPath().withParams({\r\n            ['code']: true,\r\n            ['action']: 'apply',\r\n        }).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"ResetPasswordWithCodeRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"ResetPasswordWithCodeResponse\"].deserialize);\r\n    }\r\n    createGroup(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.GROUPS,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateGroupRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateGroupResponse\"].deserialize);\r\n    }\r\n    getGroup(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.GROUPS,\r\n            req.group,\r\n        ]).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"GetGroupResponse\"].deserialize);\r\n    }\r\n    updateGroup(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.GROUPS,\r\n            req.id,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateGroupRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateGroupResponse\"].deserialize);\r\n    }\r\n    deleteGroup(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.GROUPS,\r\n            req.group,\r\n        ]).toURI();\r\n        return this.httpService.delete(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"DeleteGroupResponse\"].deserialize);\r\n    }\r\n    findGroups(req) {\r\n        let groups = req.groups;\r\n        if (req.mode) {\r\n            if (req.mode.type === 'BY_NAME') {\r\n                return this.findGroupsFromLocalCache(req, req.mode);\r\n            }\r\n            if (req.mode.type === 'BY_ID') {\r\n                groups = req.mode.ids;\r\n            }\r\n        }\r\n        const path = [\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.GROUPS,\r\n        ];\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments(path).withParams({\r\n            ['brand']: req.brand,\r\n            ['continuation']: req.continuation,\r\n            ['limit']: req.limit,\r\n            ['groups']: groups,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindGroupsResponse\"].deserialize);\r\n    }\r\n    findGroupMemberships(req) {\r\n        const path = [\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.GROUPS,\r\n            HttpProfileClient.MEMBERSHIPS,\r\n        ];\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments(path).withParams({\r\n            ['type']: req.type,\r\n            ['group']: req.type === 'BY_GROUP' ? req.group : undefined,\r\n            ['user']: req.type === 'BY_USER' ? req.user : undefined,\r\n            ['brand']: req.type === 'BY_USER' ? req.brand : undefined,\r\n            ['continuation']: req.continuation,\r\n            ['limit']: req.limit,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindGroupMembershipsResponse\"].deserialize);\r\n    }\r\n    createGroupMemberships(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.GROUPS,\r\n            HttpProfileClient.MEMBERSHIPS,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateGroupMembershipsRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"CreateGroupMembershipsResponse\"].deserialize);\r\n    }\r\n    updateGroupMembership(req) {\r\n        const path = [\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.GROUPS,\r\n            req.group,\r\n            HttpProfileClient.MEMBERSHIPS,\r\n        ];\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments(path).withParams({\r\n            ['user']: req.user,\r\n        }).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateGroupMembershipRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateGroupMembershipResponse\"].deserialize);\r\n    }\r\n    getUserDetails(req) {\r\n        const errorMessage = 'only get user details by id is supported right now';\r\n        const path = [\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(req.byId, errorMessage),\r\n        ];\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments(path).withParams({\r\n            ['detailed']: true,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(payload => {\r\n            // As of this moment the AFE returns a UserDetails payload for backwards\r\n            // compatibilty reasons instead of GetUserDetailsResponse, and this will\r\n            // eventually change, but till then we'll manually construct the\r\n            // GetUserDetailsResponse.\r\n            const user = _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UserDetails\"].deserialize(payload);\r\n            return new _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"GetUserDetailsResponse\"]({ user });\r\n        });\r\n    }\r\n    sendVerificationEmail(req) {\r\n        const path = [\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            req.user,\r\n            HttpProfileClient.VERIFICATION,\r\n        ];\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments(path).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"SendVerificationEmailRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"SendVerificationEmailResponse\"].deserialize);\r\n    }\r\n    static getResetPath() {\r\n        return base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            HttpProfileClient.PASSWORD_RESET,\r\n        ]);\r\n    }\r\n    authenticateUser(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n        ]).withParams({\r\n            ['authenticate']: true,\r\n        }).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticateUserRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"AuthenticateUserResponse\"].deserialize);\r\n    }\r\n    findUsers(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n        ]).withParams({\r\n            ['brand']: req.brand,\r\n            ['deactivated']: req.deactivated,\r\n            ['emails']: req.emails,\r\n            ['includeAvatars']: req.includeAvatars,\r\n            ['nameEmailQuery']: req.nameEmailQuery,\r\n            ['ids']: req.ids,\r\n            ['continuation']: req.continuation,\r\n            ['limit']: req.limit,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindUsersResponse\"].deserialize);\r\n    }\r\n    updateUserAttribute(req) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            req.user,\r\n            HttpProfileClient.ATTRIBUTE,\r\n        ]).toURI();\r\n        return this.httpService.post(url, _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateUserAttributeRequest\"].serialize(req)).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateUserAttributeResponse\"].deserialize);\r\n    }\r\n    findUserAttributes(req) {\r\n        const path = [\r\n            HttpProfileClient.BASE,\r\n            HttpProfileClient.USERS,\r\n            req.user,\r\n            HttpProfileClient.FIND,\r\n            HttpProfileClient.ATTRIBUTES,\r\n        ];\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments(path).withParams({\r\n            ['attributes']: req.attributes.map(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"AttributeNameUtil\"].serialize),\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindUserAttributesResponse\"].deserialize);\r\n    }\r\n    refreshSession() {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_1__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpProfileClient.SESSION,\r\n            HttpProfileClient.USER,\r\n        ]).withParams({\r\n            ['refresh']: true,\r\n        }).toURI();\r\n        return this.httpService.post(url).then(() => undefined);\r\n    }\r\n    /**\r\n     * This is reserved for the `FindBrandMembersMode` polyfill and is DISCOURAGED to be used for\r\n     * other purposes. Should be wiped away once that filtering is implemented in API\r\n     */\r\n    findBrandMembersFromLocalCache(req) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const { type, query } = base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(req.mode);\r\n            const normalizedQuery = query.trim();\r\n            let members = yield this.maybeFetchAllBrandMembers(req.brand);\r\n            if (normalizedQuery) {\r\n                const filterFn = findBrandMembersModeFilters[type];\r\n                members = members.filter(member => filterFn(member, normalizedQuery));\r\n            }\r\n            const { items: paginatedMembers, continuation } = paginate(members, req);\r\n            return new _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindBrandMembersResponse\"]({\r\n                members: paginatedMembers,\r\n                continuation,\r\n            });\r\n        });\r\n    }\r\n    /**\r\n     * This is reserved for the `FindGroupsMode` polyfill and is DISCOURAGED to be used for\r\n     * other purposes. Should be wiped away once that filtering is implemented in API\r\n     */\r\n    findGroupsFromLocalCache(req, mode) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            let groups = yield this.maybeFetchAllGroups(req.brand);\r\n            const normalizedQuery = mode.query.trim();\r\n            if (normalizedQuery) {\r\n                groups = groups.filter(group => (group.displayName && localeInvariantIncludes(group.displayName, normalizedQuery)));\r\n            }\r\n            const { items: paginatedGroups, continuation } = paginate(groups, req);\r\n            return new _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindGroupsResponse\"]({\r\n                groups: paginatedGroups,\r\n                continuation,\r\n            });\r\n        });\r\n    }\r\n    maybeFetchAllBrandMembers(brandId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.cachedBrandMembers) {\r\n                return this.cachedBrandMembers;\r\n            }\r\n            if (this.cachedBrandMembersPendingRequest) {\r\n                return this.cachedBrandMembersPendingRequest;\r\n            }\r\n            this.cachedBrandMembersPendingRequest = this.fetchAllBrandMembers(brandId);\r\n            this.cachedBrandMembers = yield this.cachedBrandMembersPendingRequest;\r\n            this.cachedBrandMembersPendingRequest = undefined;\r\n            return this.cachedBrandMembers;\r\n        });\r\n    }\r\n    maybeFetchAllGroups(brandId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.cachedGroups) {\r\n                return this.cachedGroups;\r\n            }\r\n            if (this.cachedGroupsPendingRequest) {\r\n                return this.cachedGroupsPendingRequest;\r\n            }\r\n            this.cachedGroupsPendingRequest = this.fetchAllGroups(brandId);\r\n            this.cachedGroups = yield this.cachedGroupsPendingRequest;\r\n            this.cachedGroupsPendingRequest = undefined;\r\n            return this.cachedGroups;\r\n        });\r\n    }\r\n    fetchAllBrandMembers(brandId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const brandMembers = [];\r\n            let continuation;\r\n            do {\r\n                const response = yield this.findBrandMembers(new _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindBrandMembersRequest\"]({\r\n                    brand: brandId,\r\n                    includeAvatars: true,\r\n                    includeEmails: true,\r\n                    countOnly: false,\r\n                    continuation,\r\n                }));\r\n                brandMembers.push(...response.members);\r\n                continuation = response.continuation;\r\n            } while (continuation);\r\n            return brandMembers;\r\n        });\r\n    }\r\n    fetchAllGroups(brandId) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const groups = [];\r\n            let continuation;\r\n            do {\r\n                const response = yield this.findGroups(new _profile_proto__WEBPACK_IMPORTED_MODULE_3__[\"FindGroupsRequest\"]({\r\n                    brand: brandId,\r\n                    continuation,\r\n                }));\r\n                groups.push(...response.groups);\r\n                continuation = response.continuation;\r\n            } while (continuation);\r\n            return groups;\r\n        });\r\n    }\r\n}\r\nHttpProfileClient.API = 'api';\r\nHttpProfileClient.ATTRIBUTE = 'attribute';\r\nHttpProfileClient.ATTRIBUTES = 'attributes';\r\nHttpProfileClient.FIND = 'find';\r\nHttpProfileClient.BASE = 'profile';\r\nHttpProfileClient.BRANDS = 'brands';\r\nHttpProfileClient.GROUPS = 'groups';\r\nHttpProfileClient.INVITATIONS = 'invitations';\r\nHttpProfileClient.MEMBERS = 'members';\r\nHttpProfileClient.MEMBERSHIPS = 'memberships';\r\nHttpProfileClient.NAMES = 'names';\r\nHttpProfileClient.OAUTH = 'oauth';\r\nHttpProfileClient.OAUTH_EXCHANGE = 'oauthexchange';\r\nHttpProfileClient.PASSWORD_RESET = 'passwordreset';\r\nHttpProfileClient.PHONE_NUMBER = 'phonenumber';\r\nHttpProfileClient.SESSION = 'session';\r\nHttpProfileClient.STATUS = 'status';\r\nHttpProfileClient.TOKEN = 'token';\r\nHttpProfileClient.USER = 'user';\r\nHttpProfileClient.USERS = 'users';\r\nHttpProfileClient.AVATARS = 'avatars';\r\nHttpProfileClient.VERIFICATION = 'verification';\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvcHJvZmlsZS9odHRwX3Byb2ZpbGVfY2xpZW50LnRzPzg0ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTcgQ2FudmEgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuaW1wb3J0IHsgUHJlY29uZGl0aW9ucyB9IGZyb20gJ2Jhc2UvcHJlY29uZGl0aW9ucyc7XG5pbXBvcnQgeyBVcmxCdWlsZGVyIH0gZnJvbSAnYmFzZS91cmxfYnVpbGRlci91cmxfYnVpbGRlcic7XG5pbXBvcnQgeyBIdHRwU2VydmljZSB9IGZyb20gJ3NlcnZpY2VzL2h0dHAvaHR0cF9zZXJ2aWNlJztcbmltcG9ydCB7IFBsYXRmb3JtVXRpbCB9IGZyb20gJ3NlcnZpY2VzL29hdXRoL29hdXRoX3Byb3RvJztcbmltcG9ydCB7XG4gIEF0dHJpYnV0ZU5hbWVVdGlsLFxuICBBdXRoZW50aWNhdGVVc2VyUmVxdWVzdCxcbiAgQXV0aGVudGljYXRlVXNlclJlc3BvbnNlLFxuICBBdmF0YXJCdW5kbGUsXG4gIEJyYW5kQ29tcG9uZW50VXRpbCxcbiAgQnJhbmREZXRhaWxzLFxuICBCcmFuZE1lbWJlcixcbiAgQ2hlY2tQYXNzd29yZFJlc2V0Q29kZVJlcXVlc3QsXG4gIENoZWNrUGFzc3dvcmRSZXNldENvZGVSZXNwb25zZSxcbiAgQ3JlYXRlQnJhbmRJbnZpdGF0aW9uUmVxdWVzdCxcbiAgQ3JlYXRlQnJhbmRJbnZpdGF0aW9uUmVzcG9uc2UsXG4gIENyZWF0ZUJyYW5kUmVxdWVzdCxcbiAgQ3JlYXRlQnJhbmRSZXNwb25zZSxcbiAgQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1JlcXVlc3QsXG4gIENyZWF0ZUdyb3VwTWVtYmVyc2hpcHNSZXNwb25zZSxcbiAgQ3JlYXRlR3JvdXBSZXF1ZXN0LFxuICBDcmVhdGVHcm91cFJlc3BvbnNlLFxuICBDcmVhdGVPYXV0aExpbmtUb2tlblJlcXVlc3QsXG4gIENyZWF0ZU9hdXRoTGlua1Rva2VuUmVzcG9uc2UsXG4gIENyZWF0ZVVzZXJBdmF0YXJSZXF1ZXN0LFxuICBDcmVhdGVVc2VyQXZhdGFyUmVzcG9uc2UsXG4gIERlYWN0aXZhdGVVc2VyUmVxdWVzdCxcbiAgRGVhY3RpdmF0ZVVzZXJSZXNwb25zZSxcbiAgRGVsZXRlR3JvdXBSZXF1ZXN0LFxuICBEZWxldGVHcm91cFJlc3BvbnNlLFxuICBGaW5kQnJhbmRJbnZpdGF0aW9uc1JlcXVlc3QsXG4gIEZpbmRCcmFuZEludml0YXRpb25zUmVzcG9uc2UsXG4gIEZpbmRCcmFuZE1lbWJlcnNNb2RlLFxuICBGaW5kQnJhbmRNZW1iZXJzUmVxdWVzdCxcbiAgRmluZEJyYW5kTWVtYmVyc1Jlc3BvbnNlLFxuICBGaW5kQnJhbmRzUmVxdWVzdCxcbiAgRmluZEJyYW5kc1Jlc3BvbnNlLFxuICBGaW5kR3JvdXBNZW1iZXJzaGlwc1JlcXVlc3QsXG4gIEZpbmRHcm91cE1lbWJlcnNoaXBzUmVzcG9uc2UsXG4gIEZpbmRHcm91cHNCeU5hbWUsXG4gIEZpbmRHcm91cHNSZXF1ZXN0LFxuICBGaW5kR3JvdXBzUmVzcG9uc2UsXG4gIEZpbmRVc2VyQXR0cmlidXRlc1JlcXVlc3QsXG4gIEZpbmRVc2VyQXR0cmlidXRlc1Jlc3BvbnNlLFxuICBGaW5kVXNlcnNSZXF1ZXN0LFxuICBGaW5kVXNlcnNSZXNwb25zZSxcbiAgR2V0QXBpU3RhdHVzUmVxdWVzdCxcbiAgR2V0QXBpU3RhdHVzUmVzcG9uc2UsXG4gIEdldEJyYW5kRGV0YWlsc1JlcXVlc3QsXG4gIEdldEJyYW5kUmVxdWVzdCxcbiAgR2V0QnJhbmRSZXNwb25zZSxcbiAgR2V0R3JvdXBSZXF1ZXN0LFxuICBHZXRHcm91cFJlc3BvbnNlLFxuICBHZXRPYXV0aFN1bW1hcnlSZXF1ZXN0LFxuICBHZXRPYXV0aFN1bW1hcnlSZXNwb25zZSxcbiAgR2V0VXNlckF2YXRhclJlcXVlc3QsXG4gIEdldFVzZXJEZXRhaWxzUmVxdWVzdCxcbiAgR2V0VXNlckRldGFpbHNSZXNwb25zZSxcbiAgR2V0VXNlclJlcXVlc3QsXG4gIEdldFVzZXJSZXNwb25zZSxcbiAgR3JvdXAsXG4gIEltcG9ydFVzZXJBdmF0YXJSZXF1ZXN0LFxuICBJbXBvcnRVc2VyQXZhdGFyUmVzcG9uc2UsXG4gIE5vcm1hbGl6ZVBob25lTnVtYmVyUmVxdWVzdCxcbiAgTm9ybWFsaXplUGhvbmVOdW1iZXJSZXNwb25zZSxcbiAgUmVzZXRQYXNzd29yZFdpdGhDb2RlUmVxdWVzdCxcbiAgUmVzZXRQYXNzd29yZFdpdGhDb2RlUmVzcG9uc2UsXG4gIFNlbmRCcmFuZEludml0YXRpb25zUmVxdWVzdCxcbiAgU2VuZEJyYW5kSW52aXRhdGlvbnNSZXNwb25zZSxcbiAgU2VuZFBhc3N3b3JkUmVzZXRDb2RlUmVxdWVzdCxcbiAgU2VuZFBhc3N3b3JkUmVzZXRDb2RlUmVzcG9uc2UsXG4gIFNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0LFxuICBTZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVzcG9uc2UsXG4gIFNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3QsXG4gIFNlbmRWZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlLFxuICBVcGRhdGVCcmFuZEludml0YXRpb25SZXF1ZXN0LFxuICBVcGRhdGVCcmFuZEludml0YXRpb25SZXNwb25zZSxcbiAgVXBkYXRlQnJhbmRNZW1iZXJzUmVxdWVzdCxcbiAgVXBkYXRlQnJhbmRNZW1iZXJzUmVzcG9uc2UsXG4gIFVwZGF0ZUJyYW5kUmVxdWVzdCxcbiAgVXBkYXRlR3JvdXBNZW1iZXJzaGlwUmVxdWVzdCxcbiAgVXBkYXRlR3JvdXBNZW1iZXJzaGlwUmVzcG9uc2UsXG4gIFVwZGF0ZUdyb3VwUmVxdWVzdCxcbiAgVXBkYXRlR3JvdXBSZXNwb25zZSxcbiAgVXBkYXRlVXNlckF0dHJpYnV0ZVJlcXVlc3QsXG4gIFVwZGF0ZVVzZXJBdHRyaWJ1dGVSZXNwb25zZSxcbiAgVXBkYXRlVXNlclJlcXVlc3QsXG4gIFVwZGF0ZVVzZXJSZXNwb25zZSxcbiAgVXNlckRldGFpbHMsXG4gIFZlcmlmaWNhdGlvbk1vZGVVdGlsLFxufSBmcm9tICcuL3Byb2ZpbGVfcHJvdG8nO1xuaW1wb3J0IHsgUHJvZmlsZVNlcnZpY2UgfSBmcm9tICcuL3Byb2ZpbGVfc2VydmljZSc7XG5cbi8qKlxuICogVGhpcyBpcyB1c2VkIGZvciBGaW5kQnJhbmRNZW1iZXJzTW9kZSBmcm9udGVuZCBwb2x5ZmlsbCBvbmx5IChiZWZvcmUgQVBJIHN1cHBvcnQgaXMgaW4pXG4gKi9cbmNvbnN0IGZpbmRCcmFuZE1lbWJlcnNNb2RlRmlsdGVyczogUmVjb3JkPFxuICBGaW5kQnJhbmRNZW1iZXJzTW9kZVsndHlwZSddLFxuICAoYnJhbmRNZW1iZXI6IEJyYW5kTWVtYmVyLCBxdWVyeTogc3RyaW5nKSA9PiBib29sZWFuXG4+ID0ge1xuICBbJ0JZX05BTUUnXTogKGJyYW5kTWVtYmVyOiBCcmFuZE1lbWJlciwgcXVlcnk6IHN0cmluZykgPT5cbiAgICAgIChicmFuZE1lbWJlci51c2VyLmRpc3BsYXlOYW1lICYmIGxvY2FsZUludmFyaWFudEluY2x1ZGVzKGJyYW5kTWVtYmVyLnVzZXIuZGlzcGxheU5hbWUsIHF1ZXJ5KSlcbiAgICAgIHx8IGZhbHNlLFxuICBbJ0JZX05BTUVfT1JfRU1BSUwnXTogKGJyYW5kTWVtYmVyOiBCcmFuZE1lbWJlciwgcXVlcnk6IHN0cmluZykgPT5cbiAgICAgIChicmFuZE1lbWJlci51c2VyLmRpc3BsYXlOYW1lICYmIGxvY2FsZUludmFyaWFudEluY2x1ZGVzKGJyYW5kTWVtYmVyLnVzZXIuZGlzcGxheU5hbWUsIHF1ZXJ5KSlcbiAgICAgIHx8IChicmFuZE1lbWJlci5lbWFpbCAmJiBsb2NhbGVJbnZhcmlhbnRJbmNsdWRlcyhicmFuZE1lbWJlci5lbWFpbCwgcXVlcnkpKVxuICAgICAgfHwgZmFsc2UsXG59O1xuXG5mdW5jdGlvbiBsb2NhbGVJbnZhcmlhbnRJbmNsdWRlcyhhOiBzdHJpbmcsIGI6IHN0cmluZykge1xuICByZXR1cm4gcmVtb3ZlRGlhY3JpdGljcyhhKS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHJlbW92ZURpYWNyaXRpY3MoYikudG9Mb3dlckNhc2UoKSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZURpYWNyaXRpY3MoaW5wdXQ6IHN0cmluZykge1xuICByZXR1cm4gaW5wdXQubm9ybWFsaXplKCdORktEJykucmVwbGFjZSgvW1xcdTAzMDAtXFx1MDM2Rl0vZywgJycpO1xufVxuXG5mdW5jdGlvbiBwYWdpbmF0ZTxUPihwb29sOiBUW10sIHJlcXVlc3Q6IHsgbGltaXQ/OiBudW1iZXIsIGNvbnRpbnVhdGlvbj86IHN0cmluZyB9KSB7XG4gIGNvbnN0IHsgbGltaXQgPSAxMDAsIGNvbnRpbnVhdGlvbiB9ID0gcmVxdWVzdDtcbiAgY29uc3QgZnJvbUluZGV4ID0gY29udGludWF0aW9uICYmIHBhcnNlSW50KGNvbnRpbnVhdGlvbiwgMTApIHx8IDA7XG4gIGNvbnN0IHRvSW5kZXggPSBmcm9tSW5kZXggKyBsaW1pdDtcblxuICBjb25zdCBpdGVtcyA9IHBvb2wuc2xpY2UoZnJvbUluZGV4LCB0b0luZGV4KTtcbiAgY29uc3QgbmV4dENvbnRpbnVhdGlvbiA9IHRvSW5kZXggPj0gcG9vbC5sZW5ndGhcbiAgICAgID8gdW5kZWZpbmVkXG4gICAgICA6IHRvSW5kZXgudG9TdHJpbmcoKTtcblxuICByZXR1cm4ge1xuICAgIGl0ZW1zLFxuICAgIGNvbnRpbnVhdGlvbjogbmV4dENvbnRpbnVhdGlvbixcbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIEh0dHBQcm9maWxlQ2xpZW50IGltcGxlbWVudHMgUHJvZmlsZVNlcnZpY2Uge1xuICBwcml2YXRlIHN0YXRpYyBBUEkgPSAnYXBpJztcbiAgcHJpdmF0ZSBzdGF0aWMgQVRUUklCVVRFID0gJ2F0dHJpYnV0ZSc7XG4gIHByaXZhdGUgc3RhdGljIEFUVFJJQlVURVMgPSAnYXR0cmlidXRlcyc7XG4gIHByaXZhdGUgc3RhdGljIEZJTkQgPSAnZmluZCc7XG4gIHByaXZhdGUgc3RhdGljIEJBU0UgPSAncHJvZmlsZSc7XG4gIHByaXZhdGUgc3RhdGljIEJSQU5EUyA9ICdicmFuZHMnO1xuICBwcml2YXRlIHN0YXRpYyBHUk9VUFMgPSAnZ3JvdXBzJztcbiAgcHJpdmF0ZSBzdGF0aWMgSU5WSVRBVElPTlMgPSAnaW52aXRhdGlvbnMnO1xuICBwcml2YXRlIHN0YXRpYyBNRU1CRVJTID0gJ21lbWJlcnMnO1xuICBwcml2YXRlIHN0YXRpYyBNRU1CRVJTSElQUyA9ICdtZW1iZXJzaGlwcyc7XG4gIHByaXZhdGUgc3RhdGljIE5BTUVTID0gJ25hbWVzJztcbiAgcHJpdmF0ZSBzdGF0aWMgT0FVVEggPSAnb2F1dGgnO1xuICBwcml2YXRlIHN0YXRpYyBPQVVUSF9FWENIQU5HRSA9ICdvYXV0aGV4Y2hhbmdlJztcbiAgcHJpdmF0ZSBzdGF0aWMgUEFTU1dPUkRfUkVTRVQgPSAncGFzc3dvcmRyZXNldCc7XG4gIHByaXZhdGUgc3RhdGljIFBIT05FX05VTUJFUiA9ICdwaG9uZW51bWJlcic7XG4gIHByaXZhdGUgc3RhdGljIFNFU1NJT04gPSAnc2Vzc2lvbic7XG4gIHByaXZhdGUgc3RhdGljIFNUQVRVUyA9ICdzdGF0dXMnO1xuICBwcml2YXRlIHN0YXRpYyBUT0tFTiA9ICd0b2tlbic7XG4gIHByaXZhdGUgc3RhdGljIFVTRVIgPSAndXNlcic7XG4gIHByaXZhdGUgc3RhdGljIFVTRVJTID0gJ3VzZXJzJztcbiAgcHJpdmF0ZSBzdGF0aWMgQVZBVEFSUyA9ICdhdmF0YXJzJztcbiAgcHJpdmF0ZSBzdGF0aWMgVkVSSUZJQ0FUSU9OID0gJ3ZlcmlmaWNhdGlvbic7XG5cbiAgcHJpdmF0ZSBjYWNoZWRCcmFuZE1lbWJlcnM6IEJyYW5kTWVtYmVyW10gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgY2FjaGVkQnJhbmRNZW1iZXJzUGVuZGluZ1JlcXVlc3Q6IFByb21pc2U8QnJhbmRNZW1iZXJbXT4gfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgY2FjaGVkR3JvdXBzOiBHcm91cFtdIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGNhY2hlZEdyb3Vwc1BlbmRpbmdSZXF1ZXN0OiBQcm9taXNlPEdyb3VwW10+IHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgaHR0cFNlcnZpY2U6IEh0dHBTZXJ2aWNlKSB7XG4gIH1cblxuICBnZXRBcGlTdGF0dXMocmVxOiBHZXRBcGlTdGF0dXNSZXF1ZXN0KTogUHJvbWlzZTxHZXRBcGlTdGF0dXNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5BUEksXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5TVEFUVVMsXG4gICAgXSkud2l0aFBhcmFtcyh7XG4gICAgICBbJ2FwaUtleSddOiByZXEua2V5LFxuICAgIH0pLnRvVVJJKCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5nZXQodXJsKVxuICAgICAgICAudGhlbihHZXRBcGlTdGF0dXNSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBjcmVhdGVPYXV0aExpbmtUb2tlbihyZXE6IENyZWF0ZU9hdXRoTGlua1Rva2VuUmVxdWVzdCk6IFByb21pc2U8Q3JlYXRlT2F1dGhMaW5rVG9rZW5SZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSUyxcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50Lk9BVVRIX0VYQ0hBTkdFLFxuICAgIF0pLnRvVVJJKCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5wb3N0KFxuICAgICAgICB1cmwsXG4gICAgICAgIENyZWF0ZU9hdXRoTGlua1Rva2VuUmVxdWVzdC5zZXJpYWxpemUocmVxKSxcbiAgICApLnRoZW4oQ3JlYXRlT2F1dGhMaW5rVG9rZW5SZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBnZXRPYXV0aFN1bW1hcnkocmVxOiBHZXRPYXV0aFN1bW1hcnlSZXF1ZXN0KTogUHJvbWlzZTxHZXRPYXV0aFN1bW1hcnlSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSUyxcbiAgICAgIHJlcS51c2VyLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuT0FVVEgsXG4gICAgICBQbGF0Zm9ybVV0aWwuc2VyaWFsaXplKHJlcS5wbGF0Zm9ybSksXG4gICAgXSkud2l0aFBhcmFtcyh7XG4gICAgICBbJ2ZldGNoQXZhdGFyJ106IHJlcS5mZXRjaEF2YXRhcixcbiAgICB9KS50b1VSSSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UuZ2V0KHVybClcbiAgICAgICAgLnRoZW4oR2V0T2F1dGhTdW1tYXJ5UmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgZ2V0VXNlcihyZXE6IEdldFVzZXJSZXF1ZXN0KTogUHJvbWlzZTxHZXRVc2VyUmVzcG9uc2U+IHtcbiAgICBsZXQgdXJsO1xuICAgIGlmIChyZXEuYnlJZCkge1xuICAgICAgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMoW1xuICAgICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSUyxcbiAgICAgICAgcmVxLmJ5SWQsXG4gICAgICBdKS53aXRoUGFyYW1zKHtcbiAgICAgICAgWyd2MiddOiB0cnVlLCAvLyBFbmFibGUgcHJvZmlsZSBycGMgaGFuZGxlciB0byByZXR1cm4gYSBHZXRVc2VyUmVzcG9uc2UgaW5zdGVhZCBvZiBVc2VyXG4gICAgICB9KS50b1VSSSgpO1xuICAgIH0gZWxzZSBpZiAocmVxLmJ5VXNlcm5hbWUpIHtcbiAgICAgIHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuTkFNRVMsXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LlVTRVJTLFxuICAgICAgICByZXEuYnlVc2VybmFtZSxcbiAgICAgIF0pLndpdGhQYXJhbXMoe1xuICAgICAgICBbJ3YyJ106IHRydWUsIC8vIEVuYWJsZSBwcm9maWxlIHJwYyBoYW5kbGVyIHRvIHJldHVybiBhIEdldFVzZXJSZXNwb25zZSBpbnN0ZWFkIG9mIFVzZXJcbiAgICAgIH0pLnRvVVJJKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignb25seSBieUlkIGFuZCBieVVzZXJuYW1lIGFyZSBzdXBwb3J0ZWQgYnkgdGhlIGJhY2tlbmRzJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UuZ2V0KHVybCkudGhlbihHZXRVc2VyUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgZGVhY3RpdmF0ZVVzZXIocmVxOiBEZWFjdGl2YXRlVXNlclJlcXVlc3QpOiBQcm9taXNlPERlYWN0aXZhdGVVc2VyUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuVVNFUlMsXG4gICAgICByZXEudXNlcixcbiAgICBdKS50b1VSSSgpO1xuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLmRlbGV0ZSh1cmwpLnRoZW4oRGVhY3RpdmF0ZVVzZXJSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBjcmVhdGVVc2VyQXZhdGFyKHJlcTogQ3JlYXRlVXNlckF2YXRhclJlcXVlc3QpOiBQcm9taXNlPENyZWF0ZVVzZXJBdmF0YXJSZXNwb25zZT4ge1xuICAgIGxldCB1cmw7XG4gICAgaWYgKHJlcS51c2VyKSB7XG4gICAgICB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LlVTRVJTLFxuICAgICAgICByZXEudXNlcixcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQVZBVEFSUyxcbiAgICAgIF0pLnRvVVJJKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuVVNFUixcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQVZBVEFSUyxcbiAgICAgIF0pLnRvVVJJKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QoXG4gICAgICAgIHVybCxcbiAgICAgICAgQ3JlYXRlVXNlckF2YXRhclJlcXVlc3Quc2VyaWFsaXplKHJlcSksXG4gICAgKS50aGVuKENyZWF0ZVVzZXJBdmF0YXJSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBpbXBvcnRVc2VyQXZhdGFyKHJlcTogSW1wb3J0VXNlckF2YXRhclJlcXVlc3QpOiBQcm9taXNlPEltcG9ydFVzZXJBdmF0YXJSZXNwb25zZT4ge1xuICAgIC8vIFRoZSB2ZXJzaW9uIGlzIHJlcXVpcmVkIHRvIG1ha2UgdGhlIGltcG9ydFVzZXJBdmF0YXIgVVJMLlxuICAgIC8vIE90aGVyd2lzZSB0aGF0IHdvdWxkIGJlIHRoZSBzYW1lIGFzIGNyZWF0ZVVzZXJBdmF0YXIuXG4gICAgY29uc3QgdmVyc2lvbiA9IFByZWNvbmRpdGlvbnMuY2hlY2tFeGlzdHMocmVxLnZlcnNpb24pO1xuXG4gICAgbGV0IHVybDtcbiAgICBpZiAocmVxLnVzZXIpIHtcbiAgICAgIHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuVVNFUlMsXG4gICAgICAgIHJlcS51c2VyLFxuICAgICAgICBIdHRwUHJvZmlsZUNsaWVudC5BVkFUQVJTLFxuICAgICAgICBTdHJpbmcodmVyc2lvbiksXG4gICAgICBdKS50b1VSSSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LlVTRVIsXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkFWQVRBUlMsXG4gICAgICAgIFN0cmluZyh2ZXJzaW9uKSxcbiAgICAgIF0pLnRvVVJJKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QoXG4gICAgICAgIHVybCxcbiAgICAgICAgSW1wb3J0VXNlckF2YXRhclJlcXVlc3Quc2VyaWFsaXplKHJlcSksXG4gICAgKS50aGVuKEltcG9ydFVzZXJBdmF0YXJSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBnZXRVc2VyQXZhdGFyKHJlcTogR2V0VXNlckF2YXRhclJlcXVlc3QpOiBQcm9taXNlPEF2YXRhckJ1bmRsZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSUyxcbiAgICAgIHJlcS51c2VyLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQVZBVEFSUyxcbiAgICAgIFN0cmluZyhyZXEudmVyc2lvbiksXG4gICAgXSkudG9VUkkoKTtcbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5nZXQodXJsKS50aGVuKEF2YXRhckJ1bmRsZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBmaW5kQnJhbmRzKHJlcTogRmluZEJyYW5kc1JlcXVlc3QpOiBQcm9taXNlPEZpbmRCcmFuZHNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CUkFORFMsXG4gICAgXSkud2l0aFBhcmFtcyh7XG4gICAgICBbJ3F1ZXJ5J106IHJlcS5xdWVyeSxcbiAgICAgIFsndXNlciddOiByZXEudXNlcixcbiAgICAgIFsnY29udHJpYnV0b3InXTogcmVxLmNvbnRyaWJ1dG9yLFxuICAgICAgWydkaXNjb3VudENvbnRyaWJ1dG9yJ106IHJlcS5kaXNjb3VudENvbnRyaWJ1dG9yLFxuICAgICAgWydpZHMnXTogcmVxLmlkcyxcbiAgICAgIFsnY29udGludWF0aW9uJ106IHJlcS5jb250aW51YXRpb24sXG4gICAgICBbJ2xpbWl0J106IHJlcS5saW1pdCxcbiAgICB9KS50b1VSSSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UuZ2V0KHVybCkudGhlbihGaW5kQnJhbmRzUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgZmluZEJyYW5kTWVtYmVycyhyZXE6IEZpbmRCcmFuZE1lbWJlcnNSZXF1ZXN0KTogUHJvbWlzZTxGaW5kQnJhbmRNZW1iZXJzUmVzcG9uc2U+IHtcbiAgICBpZiAocmVxLm1vZGUpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbmRCcmFuZE1lbWJlcnNGcm9tTG9jYWxDYWNoZShyZXEpO1xuICAgIH1cblxuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CUkFORFMsXG4gICAgICByZXEuYnJhbmQsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5NRU1CRVJTLFxuICAgIF0pLndpdGhQYXJhbXMoe1xuICAgICAgWydpbmNsdWRlQXZhdGFycyddOiByZXEuaW5jbHVkZUF2YXRhcnMsXG4gICAgICBbJ2luY2x1ZGVFbWFpbHMnXTogcmVxLmluY2x1ZGVFbWFpbHMsXG4gICAgICBbJ2NvdW50T25seSddOiByZXEuY291bnRPbmx5LFxuICAgICAgWydjb250aW51YXRpb24nXTogcmVxLmNvbnRpbnVhdGlvbixcbiAgICAgIFsnbGltaXQnXTogcmVxLmxpbWl0LFxuICAgICAgWyd1c2VycyddOiByZXEudXNlcnMubGVuZ3RoID4gMCA/IHJlcS51c2VycyA6IHVuZGVmaW5lZCxcbiAgICAgIFsncm9sZXMnXTogcmVxLnJvbGVzLmxlbmd0aCA+IDAgPyByZXEucm9sZXMgOiB1bmRlZmluZWQsXG4gICAgfSkudG9VUkkoKTtcbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5nZXQodXJsKS50aGVuKEZpbmRCcmFuZE1lbWJlcnNSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICB1cGRhdGVCcmFuZE1lbWJlcnMocmVxOiBVcGRhdGVCcmFuZE1lbWJlcnNSZXF1ZXN0KTogUHJvbWlzZTxVcGRhdGVCcmFuZE1lbWJlcnNSZXNwb25zZT4ge1xuICAgIC8vIFVwZGF0ZUJyYW5kTWVtYmVyc1JlcXVlc3QuYnJhbmQgaXMgb25seSBvcHRpb25hbCBmb3IgYWRkQnlUb2tlbiAod2hpY2ggZG9lcyBub3QgdXNlXG4gICAgLy8gdGhpcyBtZXRob2QpIC0gaXQgaXMgcmVxdWlyZWQgZm9yIGFsbCBvdGhlciB1cGRhdGUgcmVxdWVzdHMuXG4gICAgY29uc3QgYnJhbmQgPSBQcmVjb25kaXRpb25zLmNoZWNrRXhpc3RzKHJlcS5icmFuZCk7XG4gICAgY29uc3QgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMoW1xuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJSQU5EUyxcbiAgICAgIGJyYW5kLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuTUVNQkVSUyxcbiAgICBdKS50b1VSSSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBVcGRhdGVCcmFuZE1lbWJlcnNSZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihVcGRhdGVCcmFuZE1lbWJlcnNSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBmaW5kQnJhbmRJbnZpdGF0aW9ucyhyZXE6IEZpbmRCcmFuZEludml0YXRpb25zUmVxdWVzdCk6IFByb21pc2U8RmluZEJyYW5kSW52aXRhdGlvbnNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CUkFORFMsXG4gICAgICByZXEuYnJhbmQsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5JTlZJVEFUSU9OUyxcbiAgICBdKS53aXRoUGFyYW1zKHtcbiAgICAgIFsnYnJhbmQnXTogcmVxLmJyYW5kLFxuICAgICAgWydjb3VudE9ubHknXTogcmVxLmNvdW50T25seSxcbiAgICAgIFsnaW5jbHVkZU11bHRpVXNlSW52aXRlJ106IHJlcS5pbmNsdWRlTXVsdGlVc2VJbnZpdGUsXG4gICAgICBbJ2NvbnRpbnVhdGlvbiddOiByZXEuY29udGludWF0aW9uLFxuICAgICAgWydsaW1pdCddOiByZXEubGltaXQsXG4gICAgfSkudG9VUkkoKTtcblxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLmdldCh1cmwpLnRoZW4oRmluZEJyYW5kSW52aXRhdGlvbnNSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBzZW5kQnJhbmRJbnZpdGF0aW9uKHJlcTogU2VuZEJyYW5kSW52aXRhdGlvbnNSZXF1ZXN0KTogUHJvbWlzZTxTZW5kQnJhbmRJbnZpdGF0aW9uc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMoW1xuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJSQU5EUyxcbiAgICAgIHJlcS5icmFuZCxcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LklOVklUQVRJT05TLFxuICAgIF0pLnRvVVJJKCk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBTZW5kQnJhbmRJbnZpdGF0aW9uc1JlcXVlc3Quc2VyaWFsaXplKHJlcSksXG4gICAgKS50aGVuKFNlbmRCcmFuZEludml0YXRpb25zUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgY3JlYXRlQnJhbmRJbnZpdGF0aW9uKHJlcTogQ3JlYXRlQnJhbmRJbnZpdGF0aW9uUmVxdWVzdCk6IFByb21pc2U8Q3JlYXRlQnJhbmRJbnZpdGF0aW9uUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQlJBTkRTLFxuICAgICAgcmVxLmJyYW5kLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuSU5WSVRBVElPTlMsXG4gICAgXSkud2l0aFBhcmFtcyh7XG4gICAgICBbJ2NyZWF0ZSddOiB0cnVlLFxuICAgIH0pLnRvVVJJKCk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBDcmVhdGVCcmFuZEludml0YXRpb25SZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihDcmVhdGVCcmFuZEludml0YXRpb25SZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICB1cGRhdGVCcmFuZEludml0YXRpb24ocmVxOiBVcGRhdGVCcmFuZEludml0YXRpb25SZXF1ZXN0KTogUHJvbWlzZTxVcGRhdGVCcmFuZEludml0YXRpb25SZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CUkFORFMsXG4gICAgICByZXEuYnJhbmQsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5JTlZJVEFUSU9OUyxcbiAgICBdKS53aXRoUGFyYW1zKHtcbiAgICAgIFsndXBkYXRlJ106IHRydWUsXG4gICAgfSkudG9VUkkoKTtcblxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QodXJsLCBVcGRhdGVCcmFuZEludml0YXRpb25SZXF1ZXN0LnNlcmlhbGl6ZShyZXEpKVxuICAgICAgICAudGhlbihVcGRhdGVCcmFuZEludml0YXRpb25SZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBjcmVhdGVCcmFuZChyZXE6IENyZWF0ZUJyYW5kUmVxdWVzdCk6IFByb21pc2U8Q3JlYXRlQnJhbmRSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CUkFORFMsXG4gICAgXSkudG9VUkkoKTtcblxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QodXJsLCBDcmVhdGVCcmFuZFJlcXVlc3Quc2VyaWFsaXplKHJlcSkpXG4gICAgICAgIC50aGVuKENyZWF0ZUJyYW5kUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgZ2V0QnJhbmQocmVxOiBHZXRCcmFuZFJlcXVlc3QpOiBQcm9taXNlPEdldEJyYW5kUmVzcG9uc2U+IHtcbiAgICBsZXQgdXJsID0gJyc7XG4gICAgaWYgKHJlcS5ieUlkKSB7XG4gICAgICB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJSQU5EUyxcbiAgICAgICAgcmVxLmJ5SWQsXG4gICAgICBdKS53aXRoUGFyYW1zKHtcbiAgICAgICAgWyd2MiddOiB0cnVlLFxuICAgICAgICBbJ3Byb2plY3Rpb24nXTogcmVxLnByb2plY3Rpb24ubWFwKHAgPT4gQnJhbmRDb21wb25lbnRVdGlsLnNlcmlhbGl6ZShwKSksXG4gICAgICB9KS50b1VSSSgpO1xuICAgIH0gZWxzZSBpZiAocmVxLmJ5QnJhbmRuYW1lKSB7XG4gICAgICB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50Lk5BTUVTLFxuICAgICAgICBIdHRwUHJvZmlsZUNsaWVudC5CUkFORFMsXG4gICAgICAgIHJlcS5ieUJyYW5kbmFtZSxcbiAgICAgIF0pLndpdGhQYXJhbXMoe1xuICAgICAgICBbJ3YyJ106IHRydWUsXG4gICAgICAgIFsncHJvamVjdGlvbiddOiByZXEucHJvamVjdGlvbi5tYXAocCA9PiBCcmFuZENvbXBvbmVudFV0aWwuc2VyaWFsaXplKHApKSxcbiAgICAgIH0pLnRvVVJJKCk7XG4gICAgfSBlbHNlIGlmIChyZXEuYnlCcmFuZEFjY2Vzc1Rva2VuKSB7XG4gICAgICB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJSQU5EUyxcbiAgICAgICAgSHR0cFByb2ZpbGVDbGllbnQuVE9LRU4sXG4gICAgICBdKS53aXRoUGFyYW1zKHtcbiAgICAgICAgWyd2MiddOiB0cnVlLFxuICAgICAgICBbJ2JyYW5kQWNjZXNzVG9rZW4nXTogcmVxLmJ5QnJhbmRBY2Nlc3NUb2tlbixcbiAgICAgICAgWydwcm9qZWN0aW9uJ106IHJlcS5wcm9qZWN0aW9uLm1hcChwID0+IEJyYW5kQ29tcG9uZW50VXRpbC5zZXJpYWxpemUocCkpLFxuICAgICAgfSkudG9VUkkoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbmx5IGJ5SWQsIGJ5QnJhbmRuYW1lIGFuZCBieUJyYW5kQWNjZXNzVG9rZW4gYXJlIHN1cHBvcnRlZCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLmdldCh1cmwpLnRoZW4oR2V0QnJhbmRSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBnZXRCcmFuZERldGFpbHMocmVxOiBHZXRCcmFuZERldGFpbHNSZXF1ZXN0KTogUHJvbWlzZTxCcmFuZERldGFpbHM+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQlJBTkRTLFxuICAgICAgcmVxLmJ5SWQsXG4gICAgXSkud2l0aFBhcmFtcyh7XG4gICAgICBbJ2RldGFpbGVkJ106IHRydWUsXG4gICAgICBbJ3dpdGhCaWxsaW5nSW5mbyddOiByZXEuaW5jbHVkZUJpbGxpbmdJbmZvLFxuICAgICAgWyd3aXRoRGlzY291bnRDb250cmlidXRvciddOiByZXEuaW5jbHVkZURpc2NvdW50Q29udHJpYnV0b3IsXG4gICAgfSkudG9VUkkoKTtcblxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLmdldCh1cmwpLnRoZW4oQnJhbmREZXRhaWxzLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIHVwZGF0ZUJyYW5kKHJlcTogVXBkYXRlQnJhbmRSZXF1ZXN0KTogUHJvbWlzZTxCcmFuZERldGFpbHM+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQlJBTkRTLFxuICAgICAgcmVxLmJyYW5kLFxuICAgIF0pLnRvVVJJKCk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBVcGRhdGVCcmFuZFJlcXVlc3Quc2VyaWFsaXplKHJlcSksXG4gICAgKS50aGVuKEJyYW5kRGV0YWlscy5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICB1cGRhdGVVc2VyKHJlcTogVXBkYXRlVXNlclJlcXVlc3QpOiBQcm9taXNlPFVwZGF0ZVVzZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSUyxcbiAgICAgIHJlcS51c2VyLFxuICAgIF0pLnRvVVJJKCk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBVcGRhdGVVc2VyUmVxdWVzdC5zZXJpYWxpemUocmVxKSxcbiAgICApLnRoZW4oVXBkYXRlVXNlclJlc3BvbnNlLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIG5vcm1hbGl6ZVBob25lTnVtYmVyKHJlcTogTm9ybWFsaXplUGhvbmVOdW1iZXJSZXF1ZXN0KTogUHJvbWlzZTxOb3JtYWxpemVQaG9uZU51bWJlclJlc3BvbnNlPiB7XG4gICAgY29uc3QgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMoW1xuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LlBIT05FX05VTUJFUixcbiAgICBdKS53aXRoUGFyYW1zKHtcbiAgICAgIFsnbm9ybWFsaXplJ106IHRydWUsXG4gICAgfSkudG9VUkkoKTtcblxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QoXG4gICAgICAgIHVybCxcbiAgICAgICAgTm9ybWFsaXplUGhvbmVOdW1iZXJSZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihOb3JtYWxpemVQaG9uZU51bWJlclJlc3BvbnNlLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIGNoZWNrUGFzc3dvcmRSZXNldENvZGUocmVxOiBDaGVja1Bhc3N3b3JkUmVzZXRDb2RlUmVxdWVzdCk6IFByb21pc2U8Q2hlY2tQYXNzd29yZFJlc2V0Q29kZVJlc3BvbnNlPiB7XG4gICAgY29uc3QgdXJsID0gSHR0cFByb2ZpbGVDbGllbnQuZ2V0UmVzZXRQYXRoKCkud2l0aFBhcmFtcyh7XG4gICAgICBbJ3Bob25lTnVtYmVyJ106IHJlcS5waG9uZU51bWJlcixcbiAgICAgIFsnbW9kZSddOiBWZXJpZmljYXRpb25Nb2RlVXRpbC5zZXJpYWxpemUocmVxLm1vZGUpLFxuICAgICAgWydjb2RlJ106IHJlcS5jb2RlLFxuICAgICAgWydzdGF0ZSddOiByZXEuc3RhdGUsXG4gICAgICBbJ3Rva2VuJ106IHJlcS50b2tlbixcbiAgICB9KS50b1VSSSgpO1xuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLmdldCh1cmwpLnRoZW4oQ2hlY2tQYXNzd29yZFJlc2V0Q29kZVJlc3BvbnNlLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIHNlbmRQYXNzd29yZFJlc2V0RW1haWwocmVxOiBTZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVxdWVzdCk6IFByb21pc2U8U2VuZFBhc3N3b3JkUmVzZXRFbWFpbFJlc3BvbnNlPiB7XG4gICAgY29uc3QgdXJsID0gSHR0cFByb2ZpbGVDbGllbnQuZ2V0UmVzZXRQYXRoKCkudG9VUkkoKTtcbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5wb3N0KFxuICAgICAgICB1cmwsXG4gICAgICAgIFNlbmRQYXNzd29yZFJlc2V0RW1haWxSZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihTZW5kUGFzc3dvcmRSZXNldEVtYWlsUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgc2VuZFBhc3N3b3JkUmVzZXRDb2RlKHJlcTogU2VuZFBhc3N3b3JkUmVzZXRDb2RlUmVxdWVzdCk6IFByb21pc2U8U2VuZFBhc3N3b3JkUmVzZXRDb2RlUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBIdHRwUHJvZmlsZUNsaWVudC5nZXRSZXNldFBhdGgoKS53aXRoUGFyYW1zKHtcbiAgICAgIFsnY29kZSddOiB0cnVlLFxuICAgICAgWydhY3Rpb24nXTogJ3NlbmQnLFxuICAgIH0pLnRvVVJJKCk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBTZW5kUGFzc3dvcmRSZXNldENvZGVSZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihTZW5kUGFzc3dvcmRSZXNldENvZGVSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICByZXNldFBhc3N3b3JkV2l0aENvZGUocmVxOiBSZXNldFBhc3N3b3JkV2l0aENvZGVSZXF1ZXN0KTogUHJvbWlzZTxSZXNldFBhc3N3b3JkV2l0aENvZGVSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IEh0dHBQcm9maWxlQ2xpZW50LmdldFJlc2V0UGF0aCgpLndpdGhQYXJhbXMoe1xuICAgICAgWydjb2RlJ106IHRydWUsXG4gICAgICBbJ2FjdGlvbiddOiAnYXBwbHknLFxuICAgIH0pLnRvVVJJKCk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBSZXNldFBhc3N3b3JkV2l0aENvZGVSZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihSZXNldFBhc3N3b3JkV2l0aENvZGVSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBjcmVhdGVHcm91cChyZXE6IENyZWF0ZUdyb3VwUmVxdWVzdCk6IFByb21pc2U8Q3JlYXRlR3JvdXBSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5HUk9VUFMsXG4gICAgXSkudG9VUkkoKTtcbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5wb3N0KFxuICAgICAgICB1cmwsXG4gICAgICAgIENyZWF0ZUdyb3VwUmVxdWVzdC5zZXJpYWxpemUocmVxKSxcbiAgICApLnRoZW4oQ3JlYXRlR3JvdXBSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBnZXRHcm91cChyZXE6IEdldEdyb3VwUmVxdWVzdCk6IFByb21pc2U8R2V0R3JvdXBSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5HUk9VUFMsXG4gICAgICByZXEuZ3JvdXAsXG4gICAgXSkudG9VUkkoKTtcbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5nZXQodXJsKS50aGVuKEdldEdyb3VwUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgdXBkYXRlR3JvdXAocmVxOiBVcGRhdGVHcm91cFJlcXVlc3QpOiBQcm9taXNlPFVwZGF0ZUdyb3VwUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuR1JPVVBTLFxuICAgICAgcmVxLmlkLFxuICAgIF0pLnRvVVJJKCk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBVcGRhdGVHcm91cFJlcXVlc3Quc2VyaWFsaXplKHJlcSksXG4gICAgKS50aGVuKFVwZGF0ZUdyb3VwUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgZGVsZXRlR3JvdXAocmVxOiBEZWxldGVHcm91cFJlcXVlc3QpOiBQcm9taXNlPERlbGV0ZUdyb3VwUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuR1JPVVBTLFxuICAgICAgcmVxLmdyb3VwLFxuICAgIF0pLnRvVVJJKCk7XG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UuZGVsZXRlKHVybCkudGhlbihEZWxldGVHcm91cFJlc3BvbnNlLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIGZpbmRHcm91cHMocmVxOiBGaW5kR3JvdXBzUmVxdWVzdCk6IFByb21pc2U8RmluZEdyb3Vwc1Jlc3BvbnNlPiB7XG4gICAgbGV0IGdyb3VwcyA9IHJlcS5ncm91cHM7XG5cbiAgICBpZiAocmVxLm1vZGUpIHtcbiAgICAgIGlmIChyZXEubW9kZS50eXBlID09PSAnQllfTkFNRScpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluZEdyb3Vwc0Zyb21Mb2NhbENhY2hlKHJlcSwgcmVxLm1vZGUpO1xuICAgICAgfVxuICAgICAgaWYgKHJlcS5tb2RlLnR5cGUgPT09ICdCWV9JRCcpIHtcbiAgICAgICAgZ3JvdXBzID0gcmVxLm1vZGUuaWRzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHBhdGggPSBbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuR1JPVVBTLFxuICAgIF07XG4gICAgY29uc3QgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMocGF0aCkud2l0aFBhcmFtcyh7XG4gICAgICBbJ2JyYW5kJ106IHJlcS5icmFuZCxcbiAgICAgIFsnY29udGludWF0aW9uJ106IHJlcS5jb250aW51YXRpb24sXG4gICAgICBbJ2xpbWl0J106IHJlcS5saW1pdCxcbiAgICAgIFsnZ3JvdXBzJ106IGdyb3VwcyxcbiAgICB9KS50b1VSSSgpO1xuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLmdldCh1cmwpLnRoZW4oRmluZEdyb3Vwc1Jlc3BvbnNlLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIGZpbmRHcm91cE1lbWJlcnNoaXBzKHJlcTogRmluZEdyb3VwTWVtYmVyc2hpcHNSZXF1ZXN0KTogUHJvbWlzZTxGaW5kR3JvdXBNZW1iZXJzaGlwc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5HUk9VUFMsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5NRU1CRVJTSElQUyxcbiAgICBdO1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKHBhdGgpLndpdGhQYXJhbXMoe1xuICAgICAgWyd0eXBlJ106IHJlcS50eXBlLFxuICAgICAgWydncm91cCddOiByZXEudHlwZSA9PT0gJ0JZX0dST1VQJyA/IHJlcS5ncm91cCA6IHVuZGVmaW5lZCxcbiAgICAgIFsndXNlciddOiByZXEudHlwZSA9PT0gJ0JZX1VTRVInID8gcmVxLnVzZXIgOiB1bmRlZmluZWQsXG4gICAgICBbJ2JyYW5kJ106IHJlcS50eXBlID09PSAnQllfVVNFUicgPyByZXEuYnJhbmQgOiB1bmRlZmluZWQsXG4gICAgICBbJ2NvbnRpbnVhdGlvbiddOiByZXEuY29udGludWF0aW9uLFxuICAgICAgWydsaW1pdCddOiByZXEubGltaXQsXG4gICAgfSkudG9VUkkoKTtcblxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLmdldCh1cmwpLnRoZW4oRmluZEdyb3VwTWVtYmVyc2hpcHNSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBjcmVhdGVHcm91cE1lbWJlcnNoaXBzKHJlcTogQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1JlcXVlc3QpOiBQcm9taXNlPENyZWF0ZUdyb3VwTWVtYmVyc2hpcHNSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5HUk9VUFMsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5NRU1CRVJTSElQUyxcbiAgICBdKS50b1VSSSgpO1xuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QoXG4gICAgICAgIHVybCxcbiAgICAgICAgQ3JlYXRlR3JvdXBNZW1iZXJzaGlwc1JlcXVlc3Quc2VyaWFsaXplKHJlcSksXG4gICAgKS50aGVuKENyZWF0ZUdyb3VwTWVtYmVyc2hpcHNSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICB1cGRhdGVHcm91cE1lbWJlcnNoaXAocmVxOiBVcGRhdGVHcm91cE1lbWJlcnNoaXBSZXF1ZXN0KTogUHJvbWlzZTxVcGRhdGVHcm91cE1lbWJlcnNoaXBSZXNwb25zZT4ge1xuICAgIGNvbnN0IHBhdGggPSBbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuR1JPVVBTLFxuICAgICAgcmVxLmdyb3VwLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuTUVNQkVSU0hJUFMsXG4gICAgXTtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhwYXRoKS53aXRoUGFyYW1zKHtcbiAgICAgIFsndXNlciddOiByZXEudXNlcixcbiAgICB9KS50b1VSSSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBVcGRhdGVHcm91cE1lbWJlcnNoaXBSZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihVcGRhdGVHcm91cE1lbWJlcnNoaXBSZXNwb25zZS5kZXNlcmlhbGl6ZSk7XG4gIH1cblxuICBnZXRVc2VyRGV0YWlscyhyZXE6IEdldFVzZXJEZXRhaWxzUmVxdWVzdCk6IFByb21pc2U8R2V0VXNlckRldGFpbHNSZXNwb25zZT4ge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICdvbmx5IGdldCB1c2VyIGRldGFpbHMgYnkgaWQgaXMgc3VwcG9ydGVkIHJpZ2h0IG5vdyc7XG4gICAgY29uc3QgcGF0aCA9IFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSUyxcbiAgICAgIFByZWNvbmRpdGlvbnMuY2hlY2tFeGlzdHMocmVxLmJ5SWQsIGVycm9yTWVzc2FnZSksXG4gICAgXTtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhwYXRoKS53aXRoUGFyYW1zKHtcbiAgICAgIFsnZGV0YWlsZWQnXTogdHJ1ZSxcbiAgICB9KS50b1VSSSgpO1xuXG4gICAgcmV0dXJuIHRoaXMuaHR0cFNlcnZpY2UuZ2V0KHVybCkudGhlbihwYXlsb2FkID0+IHtcbiAgICAgIC8vIEFzIG9mIHRoaXMgbW9tZW50IHRoZSBBRkUgcmV0dXJucyBhIFVzZXJEZXRhaWxzIHBheWxvYWQgZm9yIGJhY2t3YXJkc1xuICAgICAgLy8gY29tcGF0aWJpbHR5IHJlYXNvbnMgaW5zdGVhZCBvZiBHZXRVc2VyRGV0YWlsc1Jlc3BvbnNlLCBhbmQgdGhpcyB3aWxsXG4gICAgICAvLyBldmVudHVhbGx5IGNoYW5nZSwgYnV0IHRpbGwgdGhlbiB3ZSdsbCBtYW51YWxseSBjb25zdHJ1Y3QgdGhlXG4gICAgICAvLyBHZXRVc2VyRGV0YWlsc1Jlc3BvbnNlLlxuICAgICAgY29uc3QgdXNlciA9IFVzZXJEZXRhaWxzLmRlc2VyaWFsaXplKHBheWxvYWQpO1xuICAgICAgcmV0dXJuIG5ldyBHZXRVc2VyRGV0YWlsc1Jlc3BvbnNlKHsgdXNlciB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNlbmRWZXJpZmljYXRpb25FbWFpbChyZXE6IFNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3QpOiBQcm9taXNlPFNlbmRWZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlPiB7XG4gICAgY29uc3QgcGF0aCA9IFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSUyxcbiAgICAgIHJlcS51c2VyLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuVkVSSUZJQ0FUSU9OLFxuICAgIF07XG4gICAgY29uc3QgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMocGF0aCkudG9VUkkoKTtcbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5wb3N0KFxuICAgICAgICB1cmwsXG4gICAgICAgIFNlbmRWZXJpZmljYXRpb25FbWFpbFJlcXVlc3Quc2VyaWFsaXplKHJlcSksXG4gICAgKS50aGVuKFNlbmRWZXJpZmljYXRpb25FbWFpbFJlc3BvbnNlLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIHByaXZhdGUgc3RhdGljIGdldFJlc2V0UGF0aCgpOiBVcmxCdWlsZGVyIHtcbiAgICByZXR1cm4gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMoW1xuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LlVTRVJTLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuUEFTU1dPUkRfUkVTRVQsXG4gICAgXSk7XG4gIH1cblxuICBhdXRoZW50aWNhdGVVc2VyKHJlcTogQXV0aGVudGljYXRlVXNlclJlcXVlc3QpOiBQcm9taXNlPEF1dGhlbnRpY2F0ZVVzZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LkJBU0UsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSUyxcbiAgICBdKS53aXRoUGFyYW1zKHtcbiAgICAgIFsnYXV0aGVudGljYXRlJ106IHRydWUsXG4gICAgfSkudG9VUkkoKTtcbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5wb3N0KFxuICAgICAgICB1cmwsXG4gICAgICAgIEF1dGhlbnRpY2F0ZVVzZXJSZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihBdXRoZW50aWNhdGVVc2VyUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgZmluZFVzZXJzKHJlcTogRmluZFVzZXJzUmVxdWVzdCk6IFByb21pc2U8RmluZFVzZXJzUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5CQVNFLFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuVVNFUlMsXG4gICAgXSkud2l0aFBhcmFtcyh7XG4gICAgICBbJ2JyYW5kJ106IHJlcS5icmFuZCxcbiAgICAgIFsnZGVhY3RpdmF0ZWQnXTogcmVxLmRlYWN0aXZhdGVkLFxuICAgICAgWydlbWFpbHMnXTogcmVxLmVtYWlscyxcbiAgICAgIFsnaW5jbHVkZUF2YXRhcnMnXTogcmVxLmluY2x1ZGVBdmF0YXJzLFxuICAgICAgWyduYW1lRW1haWxRdWVyeSddOiByZXEubmFtZUVtYWlsUXVlcnksXG4gICAgICBbJ2lkcyddOiByZXEuaWRzLFxuICAgICAgWydjb250aW51YXRpb24nXTogcmVxLmNvbnRpbnVhdGlvbixcbiAgICAgIFsnbGltaXQnXTogcmVxLmxpbWl0LFxuICAgIH0pLnRvVVJJKCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5nZXQodXJsKS50aGVuKEZpbmRVc2Vyc1Jlc3BvbnNlLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIHVwZGF0ZVVzZXJBdHRyaWJ1dGUocmVxOiBVcGRhdGVVc2VyQXR0cmlidXRlUmVxdWVzdCk6IFByb21pc2U8VXBkYXRlVXNlckF0dHJpYnV0ZVJlc3BvbnNlPiB7XG4gICAgY29uc3QgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMoW1xuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LlVTRVJTLFxuICAgICAgcmVxLnVzZXIsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5BVFRSSUJVVEUsXG4gICAgXSkudG9VUkkoKTtcbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5wb3N0KFxuICAgICAgICB1cmwsXG4gICAgICAgIFVwZGF0ZVVzZXJBdHRyaWJ1dGVSZXF1ZXN0LnNlcmlhbGl6ZShyZXEpLFxuICAgICkudGhlbihVcGRhdGVVc2VyQXR0cmlidXRlUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG5cbiAgZmluZFVzZXJBdHRyaWJ1dGVzKHJlcTogRmluZFVzZXJBdHRyaWJ1dGVzUmVxdWVzdCk6IFByb21pc2U8RmluZFVzZXJBdHRyaWJ1dGVzUmVzcG9uc2U+IHtcbiAgICBjb25zdCBwYXRoID0gW1xuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQkFTRSxcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LlVTRVJTLFxuICAgICAgcmVxLnVzZXIsXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5GSU5ELFxuICAgICAgSHR0cFByb2ZpbGVDbGllbnQuQVRUUklCVVRFUyxcbiAgICBdO1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKHBhdGgpLndpdGhQYXJhbXMoe1xuICAgICAgWydhdHRyaWJ1dGVzJ106IHJlcS5hdHRyaWJ1dGVzLm1hcChBdHRyaWJ1dGVOYW1lVXRpbC5zZXJpYWxpemUpLFxuICAgIH0pLnRvVVJJKCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5nZXQodXJsKS50aGVuKEZpbmRVc2VyQXR0cmlidXRlc1Jlc3BvbnNlLmRlc2VyaWFsaXplKTtcbiAgfVxuXG4gIHJlZnJlc2hTZXNzaW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHVybCA9IFVybEJ1aWxkZXIuam9pbkFuZEVuY29kZVNlZ21lbnRzKFtcbiAgICAgIEh0dHBQcm9maWxlQ2xpZW50LlNFU1NJT04sXG4gICAgICBIdHRwUHJvZmlsZUNsaWVudC5VU0VSLFxuICAgIF0pLndpdGhQYXJhbXMoe1xuICAgICAgWydyZWZyZXNoJ106IHRydWUsXG4gICAgfSkudG9VUkkoKTtcblxuICAgIHJldHVybiB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QodXJsKS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyByZXNlcnZlZCBmb3IgdGhlIGBGaW5kQnJhbmRNZW1iZXJzTW9kZWAgcG9seWZpbGwgYW5kIGlzIERJU0NPVVJBR0VEIHRvIGJlIHVzZWQgZm9yXG4gICAqIG90aGVyIHB1cnBvc2VzLiBTaG91bGQgYmUgd2lwZWQgYXdheSBvbmNlIHRoYXQgZmlsdGVyaW5nIGlzIGltcGxlbWVudGVkIGluIEFQSVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBmaW5kQnJhbmRNZW1iZXJzRnJvbUxvY2FsQ2FjaGUocmVxOiBGaW5kQnJhbmRNZW1iZXJzUmVxdWVzdCk6IFByb21pc2U8RmluZEJyYW5kTWVtYmVyc1Jlc3BvbnNlPiB7XG4gICAgY29uc3QgeyB0eXBlLCBxdWVyeSB9ID0gUHJlY29uZGl0aW9ucy5jaGVja0V4aXN0cyhyZXEubW9kZSk7XG4gICAgY29uc3Qgbm9ybWFsaXplZFF1ZXJ5ID0gcXVlcnkudHJpbSgpO1xuXG4gICAgbGV0IG1lbWJlcnMgPSBhd2FpdCB0aGlzLm1heWJlRmV0Y2hBbGxCcmFuZE1lbWJlcnMocmVxLmJyYW5kKTtcblxuICAgIGlmIChub3JtYWxpemVkUXVlcnkpIHtcbiAgICAgIGNvbnN0IGZpbHRlckZuID0gZmluZEJyYW5kTWVtYmVyc01vZGVGaWx0ZXJzW3R5cGVdO1xuICAgICAgbWVtYmVycyA9IG1lbWJlcnMuZmlsdGVyKG1lbWJlciA9PiBmaWx0ZXJGbihtZW1iZXIsIG5vcm1hbGl6ZWRRdWVyeSkpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaXRlbXM6IHBhZ2luYXRlZE1lbWJlcnMsIGNvbnRpbnVhdGlvbiB9ID0gcGFnaW5hdGUobWVtYmVycywgcmVxKTtcblxuICAgIHJldHVybiBuZXcgRmluZEJyYW5kTWVtYmVyc1Jlc3BvbnNlKHtcbiAgICAgIG1lbWJlcnM6IHBhZ2luYXRlZE1lbWJlcnMsXG4gICAgICBjb250aW51YXRpb24sXG4gICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgaXMgcmVzZXJ2ZWQgZm9yIHRoZSBgRmluZEdyb3Vwc01vZGVgIHBvbHlmaWxsIGFuZCBpcyBESVNDT1VSQUdFRCB0byBiZSB1c2VkIGZvclxuICAgKiBvdGhlciBwdXJwb3Nlcy4gU2hvdWxkIGJlIHdpcGVkIGF3YXkgb25jZSB0aGF0IGZpbHRlcmluZyBpcyBpbXBsZW1lbnRlZCBpbiBBUElcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgZmluZEdyb3Vwc0Zyb21Mb2NhbENhY2hlKFxuICAgICAgcmVxOiBGaW5kR3JvdXBzUmVxdWVzdCxcbiAgICAgIG1vZGU6IEZpbmRHcm91cHNCeU5hbWUsXG4gICk6IFByb21pc2U8RmluZEdyb3Vwc1Jlc3BvbnNlPiB7XG4gICAgbGV0IGdyb3VwcyA9IGF3YWl0IHRoaXMubWF5YmVGZXRjaEFsbEdyb3VwcyhyZXEuYnJhbmQpO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplZFF1ZXJ5ID0gbW9kZS5xdWVyeS50cmltKCk7XG4gICAgaWYgKG5vcm1hbGl6ZWRRdWVyeSkge1xuICAgICAgZ3JvdXBzID0gZ3JvdXBzLmZpbHRlcihncm91cCA9PiAoXG4gICAgICAgICAgZ3JvdXAuZGlzcGxheU5hbWUgJiYgbG9jYWxlSW52YXJpYW50SW5jbHVkZXMoZ3JvdXAuZGlzcGxheU5hbWUsIG5vcm1hbGl6ZWRRdWVyeSlcbiAgICAgICkpO1xuICAgIH1cblxuICAgIGNvbnN0IHsgaXRlbXM6IHBhZ2luYXRlZEdyb3VwcywgY29udGludWF0aW9uIH0gPSBwYWdpbmF0ZShncm91cHMsIHJlcSk7XG5cbiAgICByZXR1cm4gbmV3IEZpbmRHcm91cHNSZXNwb25zZSh7XG4gICAgICBncm91cHM6IHBhZ2luYXRlZEdyb3VwcyxcbiAgICAgIGNvbnRpbnVhdGlvbixcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgbWF5YmVGZXRjaEFsbEJyYW5kTWVtYmVycyhicmFuZElkOiBzdHJpbmcpOiBQcm9taXNlPEJyYW5kTWVtYmVyW10+IHtcbiAgICBpZiAodGhpcy5jYWNoZWRCcmFuZE1lbWJlcnMpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlZEJyYW5kTWVtYmVycztcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FjaGVkQnJhbmRNZW1iZXJzUGVuZGluZ1JlcXVlc3QpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlZEJyYW5kTWVtYmVyc1BlbmRpbmdSZXF1ZXN0O1xuICAgIH1cblxuICAgIHRoaXMuY2FjaGVkQnJhbmRNZW1iZXJzUGVuZGluZ1JlcXVlc3QgPSB0aGlzLmZldGNoQWxsQnJhbmRNZW1iZXJzKGJyYW5kSWQpO1xuICAgIHRoaXMuY2FjaGVkQnJhbmRNZW1iZXJzID0gYXdhaXQgdGhpcy5jYWNoZWRCcmFuZE1lbWJlcnNQZW5kaW5nUmVxdWVzdDtcbiAgICB0aGlzLmNhY2hlZEJyYW5kTWVtYmVyc1BlbmRpbmdSZXF1ZXN0ID0gdW5kZWZpbmVkO1xuXG4gICAgcmV0dXJuIHRoaXMuY2FjaGVkQnJhbmRNZW1iZXJzO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBtYXliZUZldGNoQWxsR3JvdXBzKGJyYW5kSWQ6IHN0cmluZyk6IFByb21pc2U8R3JvdXBbXT4ge1xuICAgIGlmICh0aGlzLmNhY2hlZEdyb3Vwcykge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkR3JvdXBzO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYWNoZWRHcm91cHNQZW5kaW5nUmVxdWVzdCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2FjaGVkR3JvdXBzUGVuZGluZ1JlcXVlc3Q7XG4gICAgfVxuXG4gICAgdGhpcy5jYWNoZWRHcm91cHNQZW5kaW5nUmVxdWVzdCA9IHRoaXMuZmV0Y2hBbGxHcm91cHMoYnJhbmRJZCk7XG4gICAgdGhpcy5jYWNoZWRHcm91cHMgPSBhd2FpdCB0aGlzLmNhY2hlZEdyb3Vwc1BlbmRpbmdSZXF1ZXN0O1xuICAgIHRoaXMuY2FjaGVkR3JvdXBzUGVuZGluZ1JlcXVlc3QgPSB1bmRlZmluZWQ7XG5cbiAgICByZXR1cm4gdGhpcy5jYWNoZWRHcm91cHM7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGZldGNoQWxsQnJhbmRNZW1iZXJzKGJyYW5kSWQ6IHN0cmluZyk6IFByb21pc2U8QnJhbmRNZW1iZXJbXT4ge1xuICAgIGNvbnN0IGJyYW5kTWVtYmVyczogQnJhbmRNZW1iZXJbXSA9IFtdO1xuXG4gICAgbGV0IGNvbnRpbnVhdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgIGRvIHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5maW5kQnJhbmRNZW1iZXJzKG5ldyBGaW5kQnJhbmRNZW1iZXJzUmVxdWVzdCh7XG4gICAgICAgIGJyYW5kOiBicmFuZElkLFxuICAgICAgICBpbmNsdWRlQXZhdGFyczogdHJ1ZSxcbiAgICAgICAgaW5jbHVkZUVtYWlsczogdHJ1ZSxcbiAgICAgICAgY291bnRPbmx5OiBmYWxzZSxcbiAgICAgICAgY29udGludWF0aW9uLFxuICAgICAgfSkpO1xuXG4gICAgICBicmFuZE1lbWJlcnMucHVzaCguLi5yZXNwb25zZS5tZW1iZXJzKTtcbiAgICAgIGNvbnRpbnVhdGlvbiA9IHJlc3BvbnNlLmNvbnRpbnVhdGlvbjtcbiAgICB9IHdoaWxlIChjb250aW51YXRpb24pO1xuXG4gICAgcmV0dXJuIGJyYW5kTWVtYmVycztcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgZmV0Y2hBbGxHcm91cHMoYnJhbmRJZDogc3RyaW5nKTogUHJvbWlzZTxHcm91cFtdPiB7XG4gICAgY29uc3QgZ3JvdXBzOiBHcm91cFtdID0gW107XG5cbiAgICBsZXQgY29udGludWF0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgZG8ge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZpbmRHcm91cHMobmV3IEZpbmRHcm91cHNSZXF1ZXN0KHtcbiAgICAgICAgYnJhbmQ6IGJyYW5kSWQsXG4gICAgICAgIGNvbnRpbnVhdGlvbixcbiAgICAgIH0pKTtcblxuICAgICAgZ3JvdXBzLnB1c2goLi4ucmVzcG9uc2UuZ3JvdXBzKTtcbiAgICAgIGNvbnRpbnVhdGlvbiA9IHJlc3BvbnNlLmNvbnRpbnVhdGlvbjtcbiAgICB9IHdoaWxlIChjb250aW51YXRpb24pO1xuXG4gICAgcmV0dXJuIGdyb3VwcztcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUF5RkE7O0FBRUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUE2QkE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBOzs7QUFHQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7O0FBR0E7QUFDQTs7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBOztBQTN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///34\n");

/***/ }),
/* 35 */
/*!***************************************************!*\
  !*** ./src/services/signup/http_signup_client.ts ***!
  \***************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HttpSignupClient\", function() { return HttpSignupClient; });\n/* harmony import */ var base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/url_builder/url_builder */ 28);\n/* harmony import */ var _signup_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signup_proto */ 36);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass HttpSignupClient {\r\n    constructor(httpService) {\r\n        this.httpService = httpService;\r\n    }\r\n    signup(request, useFixedPersistence = false) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpSignupClient.BASE,\r\n            ]).withParams({\r\n                // This parameter is used in canva button mode for header mode authentication\r\n                ['_fixedPersistence']: useFixedPersistence || undefined,\r\n            }).toURI();\r\n            const response = yield this.httpService.post(url, _signup_proto__WEBPACK_IMPORTED_MODULE_1__[\"UpdateSignupRequest\"].serialize(request));\r\n            return _signup_proto__WEBPACK_IMPORTED_MODULE_1__[\"UpdateSignupResponse\"].deserialize(response);\r\n        });\r\n    }\r\n    sendVerification(request) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n                HttpSignupClient.BASE,\r\n                HttpSignupClient.VERIFY,\r\n            ]).toURI();\r\n            const response = yield this.httpService.post(url, _signup_proto__WEBPACK_IMPORTED_MODULE_1__[\"SendVerificationRequest\"].serialize(request));\r\n            return _signup_proto__WEBPACK_IMPORTED_MODULE_1__[\"SendVerificationResponse\"].deserialize(response);\r\n        });\r\n    }\r\n    checkVerification(request) {\r\n        const url = base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__[\"UrlBuilder\"].joinAndEncodeSegments([\r\n            HttpSignupClient.BASE,\r\n            HttpSignupClient.VERIFY,\r\n        ]).withParams({\r\n            ['phoneNumber']: request.phoneNumber,\r\n            ['code']: request.code,\r\n            ['state']: request.state,\r\n            ['token']: request.token,\r\n        }).toURI();\r\n        return this.httpService.get(url).then(_signup_proto__WEBPACK_IMPORTED_MODULE_1__[\"CheckVerificationResponse\"].deserialize);\r\n    }\r\n}\r\nHttpSignupClient.BASE = 'signup';\r\nHttpSignupClient.VERIFY = 'verify';\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvc2lnbnVwL2h0dHBfc2lnbnVwX2NsaWVudC50cz9iNDRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVybEJ1aWxkZXIgfSBmcm9tICdiYXNlL3VybF9idWlsZGVyL3VybF9idWlsZGVyJztcbmltcG9ydCB7IEh0dHBTZXJ2aWNlIH0gZnJvbSAnc2VydmljZXMvaHR0cC9odHRwX3NlcnZpY2UnO1xuXG5pbXBvcnQge1xuICBDaGVja1ZlcmlmaWNhdGlvblJlcXVlc3QsXG4gIENoZWNrVmVyaWZpY2F0aW9uUmVzcG9uc2UsXG4gIFNlbmRWZXJpZmljYXRpb25SZXF1ZXN0LFxuICBTZW5kVmVyaWZpY2F0aW9uUmVzcG9uc2UsXG4gIFVwZGF0ZVNpZ251cFJlcXVlc3QsXG4gIFVwZGF0ZVNpZ251cFJlc3BvbnNlLFxufSBmcm9tICcuL3NpZ251cF9wcm90byc7XG5pbXBvcnQgeyBTaWdudXBTZXJ2aWNlIH0gZnJvbSAnLi9zaWdudXBfc2VydmljZSc7XG5cbmV4cG9ydCBjbGFzcyBIdHRwU2lnbnVwQ2xpZW50IGltcGxlbWVudHMgU2lnbnVwU2VydmljZSB7XG4gIHByaXZhdGUgc3RhdGljIEJBU0UgPSAnc2lnbnVwJztcbiAgcHJpdmF0ZSBzdGF0aWMgVkVSSUZZID0gJ3ZlcmlmeSc7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBodHRwU2VydmljZTogSHR0cFNlcnZpY2UpIHtcbiAgfVxuXG4gIGFzeW5jIHNpZ251cChcbiAgICAgIHJlcXVlc3Q6IFVwZGF0ZVNpZ251cFJlcXVlc3QsXG4gICAgICB1c2VGaXhlZFBlcnNpc3RlbmNlOiBib29sZWFuID0gZmFsc2UsXG4gICk6IFByb21pc2U8VXBkYXRlU2lnbnVwUmVzcG9uc2U+IHtcbiAgICBjb25zdCB1cmwgPSBVcmxCdWlsZGVyLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbXG4gICAgICBIdHRwU2lnbnVwQ2xpZW50LkJBU0UsXG4gICAgXSkud2l0aFBhcmFtcyh7XG4gICAgICAvLyBUaGlzIHBhcmFtZXRlciBpcyB1c2VkIGluIGNhbnZhIGJ1dHRvbiBtb2RlIGZvciBoZWFkZXIgbW9kZSBhdXRoZW50aWNhdGlvblxuICAgICAgWydfZml4ZWRQZXJzaXN0ZW5jZSddOiB1c2VGaXhlZFBlcnNpc3RlbmNlIHx8IHVuZGVmaW5lZCxcbiAgICB9KS50b1VSSSgpO1xuXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmh0dHBTZXJ2aWNlLnBvc3QoXG4gICAgICAgIHVybCxcbiAgICAgICAgVXBkYXRlU2lnbnVwUmVxdWVzdC5zZXJpYWxpemUocmVxdWVzdCksXG4gICAgKTtcbiAgICByZXR1cm4gVXBkYXRlU2lnbnVwUmVzcG9uc2UuZGVzZXJpYWxpemUocmVzcG9uc2UpO1xuICB9XG5cbiAgYXN5bmMgc2VuZFZlcmlmaWNhdGlvbihyZXF1ZXN0OiBTZW5kVmVyaWZpY2F0aW9uUmVxdWVzdCk6IFByb21pc2U8U2VuZFZlcmlmaWNhdGlvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMoW1xuICAgICAgSHR0cFNpZ251cENsaWVudC5CQVNFLFxuICAgICAgSHR0cFNpZ251cENsaWVudC5WRVJJRlksXG4gICAgXSkudG9VUkkoKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5odHRwU2VydmljZS5wb3N0KFxuICAgICAgICB1cmwsXG4gICAgICAgIFNlbmRWZXJpZmljYXRpb25SZXF1ZXN0LnNlcmlhbGl6ZShyZXF1ZXN0KSxcbiAgICApO1xuICAgIHJldHVybiBTZW5kVmVyaWZpY2F0aW9uUmVzcG9uc2UuZGVzZXJpYWxpemUocmVzcG9uc2UpO1xuICB9XG5cbiAgY2hlY2tWZXJpZmljYXRpb24ocmVxdWVzdDogQ2hlY2tWZXJpZmljYXRpb25SZXF1ZXN0KTogUHJvbWlzZTxDaGVja1ZlcmlmaWNhdGlvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgdXJsID0gVXJsQnVpbGRlci5qb2luQW5kRW5jb2RlU2VnbWVudHMoW1xuICAgICAgSHR0cFNpZ251cENsaWVudC5CQVNFLFxuICAgICAgSHR0cFNpZ251cENsaWVudC5WRVJJRlksXG4gICAgXSkud2l0aFBhcmFtcyh7XG4gICAgICBbJ3Bob25lTnVtYmVyJ106IHJlcXVlc3QucGhvbmVOdW1iZXIsXG4gICAgICBbJ2NvZGUnXTogcmVxdWVzdC5jb2RlLFxuICAgICAgWydzdGF0ZSddOiByZXF1ZXN0LnN0YXRlLFxuICAgICAgWyd0b2tlbiddOiByZXF1ZXN0LnRva2VuLFxuICAgIH0pLnRvVVJJKCk7XG5cbiAgICByZXR1cm4gdGhpcy5odHRwU2VydmljZS5nZXQodXJsKS50aGVuKENoZWNrVmVyaWZpY2F0aW9uUmVzcG9uc2UuZGVzZXJpYWxpemUpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBR0E7QUFVQTtBQUlBO0FBQUE7QUFDQTtBQUVBOztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUFBO0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFqREE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///35\n");

/***/ }),
/* 36 */
/*!*********************************************!*\
  !*** ./src/services/signup/signup_proto.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendVerificationRequest\", function() { return SendVerificationRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"SendVerificationResponse\", function() { return SendVerificationResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckVerificationRequest\", function() { return CheckVerificationRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CheckVerificationResponse\", function() { return CheckVerificationResponse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateSignupRequest\", function() { return UpdateSignupRequest; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UpdateSignupResponse\", function() { return UpdateSignupResponse; });\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n/* harmony import */ var services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! services/profile/profile_proto */ 29);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from services/signup/signup.proto.\r\n\r\n\r\n\r\n/** Sends a verification code. */\r\nclass SendVerificationRequest {\r\n    constructor(opts) {\r\n        /** Mode to send verification. */\r\n        this.mode = opts.mode;\r\n        /** Phone number required for SMS verification. */\r\n        this.phoneNumber = opts.phoneNumber;\r\n        /**\r\n         * Client defined state to be used in all subsequent calls. This state is provided when the\r\n         * verification code is checked and ensures that the client that sent the verification code is\r\n         * same client to check it.\r\n         */\r\n        this.state = opts.state;\r\n        /** Optional captcha token, not needed for mobile clients. */\r\n        this.captchaToken = opts.captchaToken;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'mode': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredStringEnum(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"VerificationModeUtil\"].serialize, 'mode', m.mode),\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredString('phoneNumber', m.phoneNumber),\r\n            'state': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredString('state', m.state),\r\n            'captchaToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('captchaToken', m.captchaToken),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SendVerificationRequest({\r\n            mode: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredStringEnum(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"VerificationModeUtil\"].deserialize, 'mode', o),\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredString('phoneNumber', o),\r\n            state: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredString('state', o),\r\n            captchaToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('captchaToken', o),\r\n        });\r\n    }\r\n}\r\nclass SendVerificationResponse {\r\n    constructor(opts) {\r\n        /** Encrypted verification token. */\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new SendVerificationResponse({\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\n/** Checks a verification token against user entered details. */\r\nclass CheckVerificationRequest {\r\n    constructor(opts) {\r\n        /** Phone number that the code was sent to. */\r\n        this.phoneNumber = opts.phoneNumber;\r\n        /** User entered code to verify against. */\r\n        this.code = opts.code;\r\n        /**\r\n         * Client defined state that was used when the verification code was sent. Ensures that the\r\n         * client checking the the verification code is the same client that sent the verification code.\r\n         */\r\n        this.state = opts.state;\r\n        /** Token returned from the server when the code was sent. */\r\n        this.token = opts.token;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'phoneNumber': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredString('phoneNumber', m.phoneNumber),\r\n            'code': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredString('code', m.code),\r\n            'state': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredString('state', m.state),\r\n            'token': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredString('token', m.token),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new CheckVerificationRequest({\r\n            phoneNumber: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredString('phoneNumber', o),\r\n            code: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredString('code', o),\r\n            state: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredString('state', o),\r\n            token: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredString('token', o),\r\n        });\r\n    }\r\n}\r\nclass CheckVerificationResponse {\r\n    static serialize(m) {\r\n        return {};\r\n    }\r\n    static deserialize(o) {\r\n        return new CheckVerificationResponse();\r\n    }\r\n}\r\n/** Creates a user. */\r\nclass UpdateSignupRequest {\r\n    constructor(opts) {\r\n        this.email = opts.email;\r\n        /** Locale of the signup request.  Must be a supported locale. */\r\n        this.locale = opts.locale;\r\n        this.username = opts.username;\r\n        this.displayName = opts.displayName;\r\n        this.password = opts.password;\r\n        /** Alternative set of credentials. */\r\n        this.credentials = opts.credentials;\r\n        /** Token containing context for a self-signup. */\r\n        this.selfSignupToken = opts.selfSignupToken;\r\n        /** Analytics id, to be aliased with a user id if signup succeeds. */\r\n        this.analyticsId = opts.analyticsId;\r\n        /** Design type that the user was directed to signup to use. */\r\n        this.initialDesignType = opts.initialDesignType;\r\n        /** Brand id of the API requester. */\r\n        this.apiBrandId = opts.apiBrandId;\r\n        /** Referrer id of page/event leading to signup */\r\n        this.referrer = opts.referrer;\r\n        /** Optional captcha token, required for some credential types. Not needed for mobile clients. */\r\n        this.captchaToken = opts.captchaToken;\r\n        /** The journey option selected during signup. */\r\n        this.journey = opts.journey;\r\n        /** Brand access token, to sign up directly into a specific brand. */\r\n        this.brandAccessToken = opts.brandAccessToken;\r\n        /** List of UserAttributes which can be set on signup */\r\n        this.userAttributes = opts.userAttributes || [];\r\n        /** Whether the user has given consent to receive marketing emails. Defaults to true if null */\r\n        this.marketingEmailConsent = opts.marketingEmailConsent;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'email': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('email', m.email),\r\n            'locale': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('locale', m.locale),\r\n            'username': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('username', m.username),\r\n            'displayName': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('displayName', m.displayName),\r\n            'password': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('password', m.password),\r\n            'credentials': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"Credentials\"].serialize, 'credentials', m.credentials),\r\n            'selfSignupToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('selfSignupToken', m.selfSignupToken),\r\n            'analyticsId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('analyticsId', m.analyticsId),\r\n            'initialDesignType': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('initialDesignType', m.initialDesignType),\r\n            'apiBrandId': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('apiBrandId', m.apiBrandId),\r\n            'referrer': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('referrer', m.referrer),\r\n            'captchaToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('captchaToken', m.captchaToken),\r\n            'journey': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('journey', m.journey),\r\n            'brandAccessToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('brandAccessToken', m.brandAccessToken),\r\n            'userAttributes': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].repeatedObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"UserAttribute\"].serialize, 'userAttributes', m.userAttributes),\r\n            'marketingEmailConsent': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalBoolean('marketingEmailConsent', m.marketingEmailConsent),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateSignupRequest({\r\n            email: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('email', o),\r\n            locale: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('locale', o),\r\n            username: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('username', o),\r\n            displayName: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('displayName', o),\r\n            password: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('password', o),\r\n            credentials: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"Credentials\"].deserialize, 'credentials', o),\r\n            selfSignupToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('selfSignupToken', o),\r\n            analyticsId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('analyticsId', o),\r\n            initialDesignType: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('initialDesignType', o),\r\n            apiBrandId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('apiBrandId', o),\r\n            referrer: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('referrer', o),\r\n            captchaToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('captchaToken', o),\r\n            journey: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('journey', o),\r\n            brandAccessToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('brandAccessToken', o),\r\n            userAttributes: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].repeatedObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"UserAttribute\"].deserialize, 'userAttributes', o),\r\n            marketingEmailConsent: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalBoolean('marketingEmailConsent', o),\r\n        });\r\n    }\r\n}\r\nclass UpdateSignupResponse {\r\n    constructor(opts) {\r\n        this.user = opts.user;\r\n        this.personalBrand = opts.personalBrand;\r\n        this.redirect = opts.redirect;\r\n        this.brand = opts.brand;\r\n        /**\r\n         * Optional token to be used by design button.\r\n         * Will only be present when the request used PartnerAuthTokenCredentials.\r\n         */\r\n        this.xatToken = opts.xatToken;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'user': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"UserDetails\"].serialize, 'user', m.user),\r\n            'personalBrand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"Brand\"].serialize, 'personalBrand', m.personalBrand),\r\n            'redirect': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('redirect', m.redirect),\r\n            'brand': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].requiredObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"Brand\"].serialize, 'brand', m.brand),\r\n            'xatToken': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_1__[\"Serialization\"].optionalString('xatToken', m.xatToken),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        return new UpdateSignupResponse({\r\n            user: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"UserDetails\"].deserialize, 'user', o),\r\n            personalBrand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"Brand\"].deserialize, 'personalBrand', o),\r\n            redirect: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('redirect', o),\r\n            brand: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].requiredObject(services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"Brand\"].deserialize, 'brand', o),\r\n            xatToken: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_0__[\"Deserialization\"].optionalString('xatToken', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2VydmljZXMvc2lnbnVwL3NpZ251cF9wcm90by50cz85MjJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBmb3JtYXR0ZXI6b2ZmXG4vLyBDb3B5cmlnaHQgQ2FudmEgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuLy8gR2VuZXJhdGVkIGZyb20gc2VydmljZXMvc2lnbnVwL3NpZ251cC5wcm90by5cblxuaW1wb3J0IHtcbiAgRGVzZXJpYWxpemF0aW9uLFxufSBmcm9tICdiYXNlL3NlcmlhbGl6YXRpb24vZGVzZXJpYWxpemF0aW9uJztcbmltcG9ydCB7XG4gIFNlcmlhbGl6YXRpb24sXG59IGZyb20gJ2Jhc2Uvc2VyaWFsaXphdGlvbi9zZXJpYWxpemF0aW9uJztcbmltcG9ydCB7XG4gIEJyYW5kLFxuICBDcmVkZW50aWFscyxcbiAgVXNlckF0dHJpYnV0ZSxcbiAgVXNlckRldGFpbHMsXG4gIFZlcmlmaWNhdGlvbk1vZGUsXG4gIFZlcmlmaWNhdGlvbk1vZGVVdGlsLFxufSBmcm9tICdzZXJ2aWNlcy9wcm9maWxlL3Byb2ZpbGVfcHJvdG8nO1xuXG4vKiogU2VuZHMgYSB2ZXJpZmljYXRpb24gY29kZS4gKi9cbmV4cG9ydCBjbGFzcyBTZW5kVmVyaWZpY2F0aW9uUmVxdWVzdCB7XG4gIC8qKiBNb2RlIHRvIHNlbmQgdmVyaWZpY2F0aW9uLiAqL1xuICByZWFkb25seSBtb2RlOiBWZXJpZmljYXRpb25Nb2RlO1xuICAvKiogUGhvbmUgbnVtYmVyIHJlcXVpcmVkIGZvciBTTVMgdmVyaWZpY2F0aW9uLiAqL1xuICByZWFkb25seSBwaG9uZU51bWJlcjogc3RyaW5nO1xuICAvKipcbiAgICogQ2xpZW50IGRlZmluZWQgc3RhdGUgdG8gYmUgdXNlZCBpbiBhbGwgc3Vic2VxdWVudCBjYWxscy4gVGhpcyBzdGF0ZSBpcyBwcm92aWRlZCB3aGVuIHRoZVxuICAgKiB2ZXJpZmljYXRpb24gY29kZSBpcyBjaGVja2VkIGFuZCBlbnN1cmVzIHRoYXQgdGhlIGNsaWVudCB0aGF0IHNlbnQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGlzXG4gICAqIHNhbWUgY2xpZW50IHRvIGNoZWNrIGl0LlxuICAgKi9cbiAgcmVhZG9ubHkgc3RhdGU6IHN0cmluZztcbiAgLyoqIE9wdGlvbmFsIGNhcHRjaGEgdG9rZW4sIG5vdCBuZWVkZWQgZm9yIG1vYmlsZSBjbGllbnRzLiAqL1xuICByZWFkb25seSBjYXB0Y2hhVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgLyoqIE1vZGUgdG8gc2VuZCB2ZXJpZmljYXRpb24uICovXG4gICAgbW9kZTogVmVyaWZpY2F0aW9uTW9kZSxcbiAgICAvKiogUGhvbmUgbnVtYmVyIHJlcXVpcmVkIGZvciBTTVMgdmVyaWZpY2F0aW9uLiAqL1xuICAgIHBob25lTnVtYmVyOiBzdHJpbmcsXG4gICAgLyoqXG4gICAgICogQ2xpZW50IGRlZmluZWQgc3RhdGUgdG8gYmUgdXNlZCBpbiBhbGwgc3Vic2VxdWVudCBjYWxscy4gVGhpcyBzdGF0ZSBpcyBwcm92aWRlZCB3aGVuIHRoZVxuICAgICAqIHZlcmlmaWNhdGlvbiBjb2RlIGlzIGNoZWNrZWQgYW5kIGVuc3VyZXMgdGhhdCB0aGUgY2xpZW50IHRoYXQgc2VudCB0aGUgdmVyaWZpY2F0aW9uIGNvZGUgaXNcbiAgICAgKiBzYW1lIGNsaWVudCB0byBjaGVjayBpdC5cbiAgICAgKi9cbiAgICBzdGF0ZTogc3RyaW5nLFxuICAgIC8qKiBPcHRpb25hbCBjYXB0Y2hhIHRva2VuLCBub3QgbmVlZGVkIGZvciBtb2JpbGUgY2xpZW50cy4gKi9cbiAgICBjYXB0Y2hhVG9rZW4/OiBzdHJpbmcsXG4gIH0pIHtcbiAgICAvKiogTW9kZSB0byBzZW5kIHZlcmlmaWNhdGlvbi4gKi9cbiAgICB0aGlzLm1vZGUgPSBvcHRzLm1vZGU7XG4gICAgLyoqIFBob25lIG51bWJlciByZXF1aXJlZCBmb3IgU01TIHZlcmlmaWNhdGlvbi4gKi9cbiAgICB0aGlzLnBob25lTnVtYmVyID0gb3B0cy5waG9uZU51bWJlcjtcbiAgICAvKipcbiAgICAgKiBDbGllbnQgZGVmaW5lZCBzdGF0ZSB0byBiZSB1c2VkIGluIGFsbCBzdWJzZXF1ZW50IGNhbGxzLiBUaGlzIHN0YXRlIGlzIHByb3ZpZGVkIHdoZW4gdGhlXG4gICAgICogdmVyaWZpY2F0aW9uIGNvZGUgaXMgY2hlY2tlZCBhbmQgZW5zdXJlcyB0aGF0IHRoZSBjbGllbnQgdGhhdCBzZW50IHRoZSB2ZXJpZmljYXRpb24gY29kZSBpc1xuICAgICAqIHNhbWUgY2xpZW50IHRvIGNoZWNrIGl0LlxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBvcHRzLnN0YXRlO1xuICAgIC8qKiBPcHRpb25hbCBjYXB0Y2hhIHRva2VuLCBub3QgbmVlZGVkIGZvciBtb2JpbGUgY2xpZW50cy4gKi9cbiAgICB0aGlzLmNhcHRjaGFUb2tlbiA9IG9wdHMuY2FwdGNoYVRva2VuO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBTZW5kVmVyaWZpY2F0aW9uUmVxdWVzdCk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICdtb2RlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZ0VudW0oVmVyaWZpY2F0aW9uTW9kZVV0aWwuc2VyaWFsaXplLCAnbW9kZScsIG0ubW9kZSksXG4gICAgICAncGhvbmVOdW1iZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdwaG9uZU51bWJlcicsIG0ucGhvbmVOdW1iZXIpLFxuICAgICAgJ3N0YXRlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnc3RhdGUnLCBtLnN0YXRlKSxcbiAgICAgICdjYXB0Y2hhVG9rZW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjYXB0Y2hhVG9rZW4nLCBtLmNhcHRjaGFUb2tlbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBTZW5kVmVyaWZpY2F0aW9uUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBTZW5kVmVyaWZpY2F0aW9uUmVxdWVzdCh7XG4gICAgICBtb2RlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmdFbnVtPFZlcmlmaWNhdGlvbk1vZGU+KFZlcmlmaWNhdGlvbk1vZGVVdGlsLmRlc2VyaWFsaXplLCAnbW9kZScsIG8pLFxuICAgICAgcGhvbmVOdW1iZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGhvbmVOdW1iZXInLCBvKSxcbiAgICAgIHN0YXRlOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3N0YXRlJywgbyksXG4gICAgICBjYXB0Y2hhVG9rZW46IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY2FwdGNoYVRva2VuJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFNlbmRWZXJpZmljYXRpb25SZXNwb25zZSB7XG4gIC8qKiBFbmNyeXB0ZWQgdmVyaWZpY2F0aW9uIHRva2VuLiAqL1xuICByZWFkb25seSB0b2tlbjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogRW5jcnlwdGVkIHZlcmlmaWNhdGlvbiB0b2tlbi4gKi9cbiAgICB0b2tlbjogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIEVuY3J5cHRlZCB2ZXJpZmljYXRpb24gdG9rZW4uICovXG4gICAgdGhpcy50b2tlbiA9IG9wdHMudG9rZW47XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFNlbmRWZXJpZmljYXRpb25SZXNwb25zZSk6IG9iamVjdCB7XG4gICAgcmV0dXJuIHtcbiAgICAgICd0b2tlbic6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbS50b2tlbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBTZW5kVmVyaWZpY2F0aW9uUmVzcG9uc2Uge1xuICAgIHJldHVybiBuZXcgU2VuZFZlcmlmaWNhdGlvblJlc3BvbnNlKHtcbiAgICAgIHRva2VuOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuLyoqIENoZWNrcyBhIHZlcmlmaWNhdGlvbiB0b2tlbiBhZ2FpbnN0IHVzZXIgZW50ZXJlZCBkZXRhaWxzLiAqL1xuZXhwb3J0IGNsYXNzIENoZWNrVmVyaWZpY2F0aW9uUmVxdWVzdCB7XG4gIC8qKiBQaG9uZSBudW1iZXIgdGhhdCB0aGUgY29kZSB3YXMgc2VudCB0by4gKi9cbiAgcmVhZG9ubHkgcGhvbmVOdW1iZXI6IHN0cmluZztcbiAgLyoqIFVzZXIgZW50ZXJlZCBjb2RlIHRvIHZlcmlmeSBhZ2FpbnN0LiAqL1xuICByZWFkb25seSBjb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDbGllbnQgZGVmaW5lZCBzdGF0ZSB0aGF0IHdhcyB1c2VkIHdoZW4gdGhlIHZlcmlmaWNhdGlvbiBjb2RlIHdhcyBzZW50LiBFbnN1cmVzIHRoYXQgdGhlXG4gICAqIGNsaWVudCBjaGVja2luZyB0aGUgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGlzIHRoZSBzYW1lIGNsaWVudCB0aGF0IHNlbnQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlLlxuICAgKi9cbiAgcmVhZG9ubHkgc3RhdGU6IHN0cmluZztcbiAgLyoqIFRva2VuIHJldHVybmVkIGZyb20gdGhlIHNlcnZlciB3aGVuIHRoZSBjb2RlIHdhcyBzZW50LiAqL1xuICByZWFkb25seSB0b2tlbjogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICAvKiogUGhvbmUgbnVtYmVyIHRoYXQgdGhlIGNvZGUgd2FzIHNlbnQgdG8uICovXG4gICAgcGhvbmVOdW1iZXI6IHN0cmluZyxcbiAgICAvKiogVXNlciBlbnRlcmVkIGNvZGUgdG8gdmVyaWZ5IGFnYWluc3QuICovXG4gICAgY29kZTogc3RyaW5nLFxuICAgIC8qKlxuICAgICAqIENsaWVudCBkZWZpbmVkIHN0YXRlIHRoYXQgd2FzIHVzZWQgd2hlbiB0aGUgdmVyaWZpY2F0aW9uIGNvZGUgd2FzIHNlbnQuIEVuc3VyZXMgdGhhdCB0aGVcbiAgICAgKiBjbGllbnQgY2hlY2tpbmcgdGhlIHRoZSB2ZXJpZmljYXRpb24gY29kZSBpcyB0aGUgc2FtZSBjbGllbnQgdGhhdCBzZW50IHRoZSB2ZXJpZmljYXRpb24gY29kZS5cbiAgICAgKi9cbiAgICBzdGF0ZTogc3RyaW5nLFxuICAgIC8qKiBUb2tlbiByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIgd2hlbiB0aGUgY29kZSB3YXMgc2VudC4gKi9cbiAgICB0b2tlbjogc3RyaW5nLFxuICB9KSB7XG4gICAgLyoqIFBob25lIG51bWJlciB0aGF0IHRoZSBjb2RlIHdhcyBzZW50IHRvLiAqL1xuICAgIHRoaXMucGhvbmVOdW1iZXIgPSBvcHRzLnBob25lTnVtYmVyO1xuICAgIC8qKiBVc2VyIGVudGVyZWQgY29kZSB0byB2ZXJpZnkgYWdhaW5zdC4gKi9cbiAgICB0aGlzLmNvZGUgPSBvcHRzLmNvZGU7XG4gICAgLyoqXG4gICAgICogQ2xpZW50IGRlZmluZWQgc3RhdGUgdGhhdCB3YXMgdXNlZCB3aGVuIHRoZSB2ZXJpZmljYXRpb24gY29kZSB3YXMgc2VudC4gRW5zdXJlcyB0aGF0IHRoZVxuICAgICAqIGNsaWVudCBjaGVja2luZyB0aGUgdGhlIHZlcmlmaWNhdGlvbiBjb2RlIGlzIHRoZSBzYW1lIGNsaWVudCB0aGF0IHNlbnQgdGhlIHZlcmlmaWNhdGlvbiBjb2RlLlxuICAgICAqL1xuICAgIHRoaXMuc3RhdGUgPSBvcHRzLnN0YXRlO1xuICAgIC8qKiBUb2tlbiByZXR1cm5lZCBmcm9tIHRoZSBzZXJ2ZXIgd2hlbiB0aGUgY29kZSB3YXMgc2VudC4gKi9cbiAgICB0aGlzLnRva2VuID0gb3B0cy50b2tlbjtcbiAgfVxuXG4gIHN0YXRpYyBzZXJpYWxpemUobTogQ2hlY2tWZXJpZmljYXRpb25SZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3Bob25lTnVtYmVyJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGhvbmVOdW1iZXInLCBtLnBob25lTnVtYmVyKSxcbiAgICAgICdjb2RlJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnY29kZScsIG0uY29kZSksXG4gICAgICAnc3RhdGUnOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkU3RyaW5nKCdzdGF0ZScsIG0uc3RhdGUpLFxuICAgICAgJ3Rva2VuJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygndG9rZW4nLCBtLnRva2VuKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IENoZWNrVmVyaWZpY2F0aW9uUmVxdWVzdCB7XG4gICAgcmV0dXJuIG5ldyBDaGVja1ZlcmlmaWNhdGlvblJlcXVlc3Qoe1xuICAgICAgcGhvbmVOdW1iZXI6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygncGhvbmVOdW1iZXInLCBvKSxcbiAgICAgIGNvZGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnY29kZScsIG8pLFxuICAgICAgc3RhdGU6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnc3RhdGUnLCBvKSxcbiAgICAgIHRva2VuOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ3Rva2VuJywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIENoZWNrVmVyaWZpY2F0aW9uUmVzcG9uc2Uge1xuICBzdGF0aWMgc2VyaWFsaXplKG06IENoZWNrVmVyaWZpY2F0aW9uUmVzcG9uc2UpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBDaGVja1ZlcmlmaWNhdGlvblJlc3BvbnNlIHtcbiAgICByZXR1cm4gbmV3IENoZWNrVmVyaWZpY2F0aW9uUmVzcG9uc2UoKTtcbiAgfVxufVxuXG4vKiogQ3JlYXRlcyBhIHVzZXIuICovXG5leHBvcnQgY2xhc3MgVXBkYXRlU2lnbnVwUmVxdWVzdCB7XG4gIHJlYWRvbmx5IGVtYWlsOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBMb2NhbGUgb2YgdGhlIHNpZ251cCByZXF1ZXN0LiAgTXVzdCBiZSBhIHN1cHBvcnRlZCBsb2NhbGUuICovXG4gIHJlYWRvbmx5IGxvY2FsZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSB1c2VybmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBkaXNwbGF5TmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICByZWFkb25seSBwYXNzd29yZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogQWx0ZXJuYXRpdmUgc2V0IG9mIGNyZWRlbnRpYWxzLiAqL1xuICByZWFkb25seSBjcmVkZW50aWFsczogQ3JlZGVudGlhbHMgfCB1bmRlZmluZWQ7XG4gIC8qKiBUb2tlbiBjb250YWluaW5nIGNvbnRleHQgZm9yIGEgc2VsZi1zaWdudXAuICovXG4gIHJlYWRvbmx5IHNlbGZTaWdudXBUb2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogQW5hbHl0aWNzIGlkLCB0byBiZSBhbGlhc2VkIHdpdGggYSB1c2VyIGlkIGlmIHNpZ251cCBzdWNjZWVkcy4gKi9cbiAgcmVhZG9ubHkgYW5hbHl0aWNzSWQ6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIERlc2lnbiB0eXBlIHRoYXQgdGhlIHVzZXIgd2FzIGRpcmVjdGVkIHRvIHNpZ251cCB0byB1c2UuICovXG4gIHJlYWRvbmx5IGluaXRpYWxEZXNpZ25UeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gIC8qKiBCcmFuZCBpZCBvZiB0aGUgQVBJIHJlcXVlc3Rlci4gKi9cbiAgcmVhZG9ubHkgYXBpQnJhbmRJZDogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogUmVmZXJyZXIgaWQgb2YgcGFnZS9ldmVudCBsZWFkaW5nIHRvIHNpZ251cCAqL1xuICByZWFkb25seSByZWZlcnJlcjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogT3B0aW9uYWwgY2FwdGNoYSB0b2tlbiwgcmVxdWlyZWQgZm9yIHNvbWUgY3JlZGVudGlhbCB0eXBlcy4gTm90IG5lZWRlZCBmb3IgbW9iaWxlIGNsaWVudHMuICovXG4gIHJlYWRvbmx5IGNhcHRjaGFUb2tlbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAvKiogVGhlIGpvdXJuZXkgb3B0aW9uIHNlbGVjdGVkIGR1cmluZyBzaWdudXAuICovXG4gIHJlYWRvbmx5IGpvdXJuZXk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIEJyYW5kIGFjY2VzcyB0b2tlbiwgdG8gc2lnbiB1cCBkaXJlY3RseSBpbnRvIGEgc3BlY2lmaWMgYnJhbmQuICovXG4gIHJlYWRvbmx5IGJyYW5kQWNjZXNzVG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgLyoqIExpc3Qgb2YgVXNlckF0dHJpYnV0ZXMgd2hpY2ggY2FuIGJlIHNldCBvbiBzaWdudXAgKi9cbiAgcmVhZG9ubHkgdXNlckF0dHJpYnV0ZXM6IHJlYWRvbmx5IFVzZXJBdHRyaWJ1dGVbXTtcbiAgLyoqIFdoZXRoZXIgdGhlIHVzZXIgaGFzIGdpdmVuIGNvbnNlbnQgdG8gcmVjZWl2ZSBtYXJrZXRpbmcgZW1haWxzLiBEZWZhdWx0cyB0byB0cnVlIGlmIG51bGwgKi9cbiAgcmVhZG9ubHkgbWFya2V0aW5nRW1haWxDb25zZW50OiBib29sZWFuIHwgdW5kZWZpbmVkO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICBlbWFpbD86IHN0cmluZyxcbiAgICAvKiogTG9jYWxlIG9mIHRoZSBzaWdudXAgcmVxdWVzdC4gIE11c3QgYmUgYSBzdXBwb3J0ZWQgbG9jYWxlLiAqL1xuICAgIGxvY2FsZT86IHN0cmluZyxcbiAgICB1c2VybmFtZT86IHN0cmluZyxcbiAgICBkaXNwbGF5TmFtZT86IHN0cmluZyxcbiAgICBwYXNzd29yZD86IHN0cmluZyxcbiAgICAvKiogQWx0ZXJuYXRpdmUgc2V0IG9mIGNyZWRlbnRpYWxzLiAqL1xuICAgIGNyZWRlbnRpYWxzPzogQ3JlZGVudGlhbHMsXG4gICAgLyoqIFRva2VuIGNvbnRhaW5pbmcgY29udGV4dCBmb3IgYSBzZWxmLXNpZ251cC4gKi9cbiAgICBzZWxmU2lnbnVwVG9rZW4/OiBzdHJpbmcsXG4gICAgLyoqIEFuYWx5dGljcyBpZCwgdG8gYmUgYWxpYXNlZCB3aXRoIGEgdXNlciBpZCBpZiBzaWdudXAgc3VjY2VlZHMuICovXG4gICAgYW5hbHl0aWNzSWQ/OiBzdHJpbmcsXG4gICAgLyoqIERlc2lnbiB0eXBlIHRoYXQgdGhlIHVzZXIgd2FzIGRpcmVjdGVkIHRvIHNpZ251cCB0byB1c2UuICovXG4gICAgaW5pdGlhbERlc2lnblR5cGU/OiBzdHJpbmcsXG4gICAgLyoqIEJyYW5kIGlkIG9mIHRoZSBBUEkgcmVxdWVzdGVyLiAqL1xuICAgIGFwaUJyYW5kSWQ/OiBzdHJpbmcsXG4gICAgLyoqIFJlZmVycmVyIGlkIG9mIHBhZ2UvZXZlbnQgbGVhZGluZyB0byBzaWdudXAgKi9cbiAgICByZWZlcnJlcj86IHN0cmluZyxcbiAgICAvKiogT3B0aW9uYWwgY2FwdGNoYSB0b2tlbiwgcmVxdWlyZWQgZm9yIHNvbWUgY3JlZGVudGlhbCB0eXBlcy4gTm90IG5lZWRlZCBmb3IgbW9iaWxlIGNsaWVudHMuICovXG4gICAgY2FwdGNoYVRva2VuPzogc3RyaW5nLFxuICAgIC8qKiBUaGUgam91cm5leSBvcHRpb24gc2VsZWN0ZWQgZHVyaW5nIHNpZ251cC4gKi9cbiAgICBqb3VybmV5Pzogc3RyaW5nLFxuICAgIC8qKiBCcmFuZCBhY2Nlc3MgdG9rZW4sIHRvIHNpZ24gdXAgZGlyZWN0bHkgaW50byBhIHNwZWNpZmljIGJyYW5kLiAqL1xuICAgIGJyYW5kQWNjZXNzVG9rZW4/OiBzdHJpbmcsXG4gICAgLyoqIExpc3Qgb2YgVXNlckF0dHJpYnV0ZXMgd2hpY2ggY2FuIGJlIHNldCBvbiBzaWdudXAgKi9cbiAgICB1c2VyQXR0cmlidXRlcz86IHJlYWRvbmx5IFVzZXJBdHRyaWJ1dGVbXSxcbiAgICAvKiogV2hldGhlciB0aGUgdXNlciBoYXMgZ2l2ZW4gY29uc2VudCB0byByZWNlaXZlIG1hcmtldGluZyBlbWFpbHMuIERlZmF1bHRzIHRvIHRydWUgaWYgbnVsbCAqL1xuICAgIG1hcmtldGluZ0VtYWlsQ29uc2VudD86IGJvb2xlYW4sXG4gIH0pIHtcbiAgICB0aGlzLmVtYWlsID0gb3B0cy5lbWFpbDtcbiAgICAvKiogTG9jYWxlIG9mIHRoZSBzaWdudXAgcmVxdWVzdC4gIE11c3QgYmUgYSBzdXBwb3J0ZWQgbG9jYWxlLiAqL1xuICAgIHRoaXMubG9jYWxlID0gb3B0cy5sb2NhbGU7XG4gICAgdGhpcy51c2VybmFtZSA9IG9wdHMudXNlcm5hbWU7XG4gICAgdGhpcy5kaXNwbGF5TmFtZSA9IG9wdHMuZGlzcGxheU5hbWU7XG4gICAgdGhpcy5wYXNzd29yZCA9IG9wdHMucGFzc3dvcmQ7XG4gICAgLyoqIEFsdGVybmF0aXZlIHNldCBvZiBjcmVkZW50aWFscy4gKi9cbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gb3B0cy5jcmVkZW50aWFscztcbiAgICAvKiogVG9rZW4gY29udGFpbmluZyBjb250ZXh0IGZvciBhIHNlbGYtc2lnbnVwLiAqL1xuICAgIHRoaXMuc2VsZlNpZ251cFRva2VuID0gb3B0cy5zZWxmU2lnbnVwVG9rZW47XG4gICAgLyoqIEFuYWx5dGljcyBpZCwgdG8gYmUgYWxpYXNlZCB3aXRoIGEgdXNlciBpZCBpZiBzaWdudXAgc3VjY2VlZHMuICovXG4gICAgdGhpcy5hbmFseXRpY3NJZCA9IG9wdHMuYW5hbHl0aWNzSWQ7XG4gICAgLyoqIERlc2lnbiB0eXBlIHRoYXQgdGhlIHVzZXIgd2FzIGRpcmVjdGVkIHRvIHNpZ251cCB0byB1c2UuICovXG4gICAgdGhpcy5pbml0aWFsRGVzaWduVHlwZSA9IG9wdHMuaW5pdGlhbERlc2lnblR5cGU7XG4gICAgLyoqIEJyYW5kIGlkIG9mIHRoZSBBUEkgcmVxdWVzdGVyLiAqL1xuICAgIHRoaXMuYXBpQnJhbmRJZCA9IG9wdHMuYXBpQnJhbmRJZDtcbiAgICAvKiogUmVmZXJyZXIgaWQgb2YgcGFnZS9ldmVudCBsZWFkaW5nIHRvIHNpZ251cCAqL1xuICAgIHRoaXMucmVmZXJyZXIgPSBvcHRzLnJlZmVycmVyO1xuICAgIC8qKiBPcHRpb25hbCBjYXB0Y2hhIHRva2VuLCByZXF1aXJlZCBmb3Igc29tZSBjcmVkZW50aWFsIHR5cGVzLiBOb3QgbmVlZGVkIGZvciBtb2JpbGUgY2xpZW50cy4gKi9cbiAgICB0aGlzLmNhcHRjaGFUb2tlbiA9IG9wdHMuY2FwdGNoYVRva2VuO1xuICAgIC8qKiBUaGUgam91cm5leSBvcHRpb24gc2VsZWN0ZWQgZHVyaW5nIHNpZ251cC4gKi9cbiAgICB0aGlzLmpvdXJuZXkgPSBvcHRzLmpvdXJuZXk7XG4gICAgLyoqIEJyYW5kIGFjY2VzcyB0b2tlbiwgdG8gc2lnbiB1cCBkaXJlY3RseSBpbnRvIGEgc3BlY2lmaWMgYnJhbmQuICovXG4gICAgdGhpcy5icmFuZEFjY2Vzc1Rva2VuID0gb3B0cy5icmFuZEFjY2Vzc1Rva2VuO1xuICAgIC8qKiBMaXN0IG9mIFVzZXJBdHRyaWJ1dGVzIHdoaWNoIGNhbiBiZSBzZXQgb24gc2lnbnVwICovXG4gICAgdGhpcy51c2VyQXR0cmlidXRlcyA9IG9wdHMudXNlckF0dHJpYnV0ZXMgfHwgW107XG4gICAgLyoqIFdoZXRoZXIgdGhlIHVzZXIgaGFzIGdpdmVuIGNvbnNlbnQgdG8gcmVjZWl2ZSBtYXJrZXRpbmcgZW1haWxzLiBEZWZhdWx0cyB0byB0cnVlIGlmIG51bGwgKi9cbiAgICB0aGlzLm1hcmtldGluZ0VtYWlsQ29uc2VudCA9IG9wdHMubWFya2V0aW5nRW1haWxDb25zZW50O1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBVcGRhdGVTaWdudXBSZXF1ZXN0KTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ2VtYWlsJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZW1haWwnLCBtLmVtYWlsKSxcbiAgICAgICdsb2NhbGUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBtLmxvY2FsZSksXG4gICAgICAndXNlcm5hbWUnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd1c2VybmFtZScsIG0udXNlcm5hbWUpLFxuICAgICAgJ2Rpc3BsYXlOYW1lJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZGlzcGxheU5hbWUnLCBtLmRpc3BsYXlOYW1lKSxcbiAgICAgICdwYXNzd29yZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3Bhc3N3b3JkJywgbS5wYXNzd29yZCksXG4gICAgICAnY3JlZGVudGlhbHMnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KENyZWRlbnRpYWxzLnNlcmlhbGl6ZSwgJ2NyZWRlbnRpYWxzJywgbS5jcmVkZW50aWFscyksXG4gICAgICAnc2VsZlNpZ251cFRva2VuJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnc2VsZlNpZ251cFRva2VuJywgbS5zZWxmU2lnbnVwVG9rZW4pLFxuICAgICAgJ2FuYWx5dGljc0lkJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYW5hbHl0aWNzSWQnLCBtLmFuYWx5dGljc0lkKSxcbiAgICAgICdpbml0aWFsRGVzaWduVHlwZSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2luaXRpYWxEZXNpZ25UeXBlJywgbS5pbml0aWFsRGVzaWduVHlwZSksXG4gICAgICAnYXBpQnJhbmRJZCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2FwaUJyYW5kSWQnLCBtLmFwaUJyYW5kSWQpLFxuICAgICAgJ3JlZmVycmVyJzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmVmZXJyZXInLCBtLnJlZmVycmVyKSxcbiAgICAgICdjYXB0Y2hhVG9rZW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdjYXB0Y2hhVG9rZW4nLCBtLmNhcHRjaGFUb2tlbiksXG4gICAgICAnam91cm5leSc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2pvdXJuZXknLCBtLmpvdXJuZXkpLFxuICAgICAgJ2JyYW5kQWNjZXNzVG9rZW4nOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdicmFuZEFjY2Vzc1Rva2VuJywgbS5icmFuZEFjY2Vzc1Rva2VuKSxcbiAgICAgICd1c2VyQXR0cmlidXRlcyc6IFNlcmlhbGl6YXRpb24ucmVwZWF0ZWRPYmplY3QoVXNlckF0dHJpYnV0ZS5zZXJpYWxpemUsICd1c2VyQXR0cmlidXRlcycsIG0udXNlckF0dHJpYnV0ZXMpLFxuICAgICAgJ21hcmtldGluZ0VtYWlsQ29uc2VudCc6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxCb29sZWFuKCdtYXJrZXRpbmdFbWFpbENvbnNlbnQnLCBtLm1hcmtldGluZ0VtYWlsQ29uc2VudCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVTaWdudXBSZXF1ZXN0IHtcbiAgICByZXR1cm4gbmV3IFVwZGF0ZVNpZ251cFJlcXVlc3Qoe1xuICAgICAgZW1haWw6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnZW1haWwnLCBvKSxcbiAgICAgIGxvY2FsZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdsb2NhbGUnLCBvKSxcbiAgICAgIHVzZXJuYW1lOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3VzZXJuYW1lJywgbyksXG4gICAgICBkaXNwbGF5TmFtZTogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdkaXNwbGF5TmFtZScsIG8pLFxuICAgICAgcGFzc3dvcmQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncGFzc3dvcmQnLCBvKSxcbiAgICAgIGNyZWRlbnRpYWxzOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQ3JlZGVudGlhbHMuZGVzZXJpYWxpemUsICdjcmVkZW50aWFscycsIG8pLFxuICAgICAgc2VsZlNpZ251cFRva2VuOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3NlbGZTaWdudXBUb2tlbicsIG8pLFxuICAgICAgYW5hbHl0aWNzSWQ6IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYW5hbHl0aWNzSWQnLCBvKSxcbiAgICAgIGluaXRpYWxEZXNpZ25UeXBlOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2luaXRpYWxEZXNpZ25UeXBlJywgbyksXG4gICAgICBhcGlCcmFuZElkOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2FwaUJyYW5kSWQnLCBvKSxcbiAgICAgIHJlZmVycmVyOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3JlZmVycmVyJywgbyksXG4gICAgICBjYXB0Y2hhVG9rZW46IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnY2FwdGNoYVRva2VuJywgbyksXG4gICAgICBqb3VybmV5OiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ2pvdXJuZXknLCBvKSxcbiAgICAgIGJyYW5kQWNjZXNzVG9rZW46IERlc2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygnYnJhbmRBY2Nlc3NUb2tlbicsIG8pLFxuICAgICAgdXNlckF0dHJpYnV0ZXM6IERlc2VyaWFsaXphdGlvbi5yZXBlYXRlZE9iamVjdChVc2VyQXR0cmlidXRlLmRlc2VyaWFsaXplLCAndXNlckF0dHJpYnV0ZXMnLCBvKSxcbiAgICAgIG1hcmtldGluZ0VtYWlsQ29uc2VudDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsQm9vbGVhbignbWFya2V0aW5nRW1haWxDb25zZW50JywgbyksXG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIFVwZGF0ZVNpZ251cFJlc3BvbnNlIHtcbiAgcmVhZG9ubHkgdXNlcjogVXNlckRldGFpbHM7XG4gIC8qKiBAZGVwcmVjYXRlZCAqL1xuICByZWFkb25seSBwZXJzb25hbEJyYW5kOiBCcmFuZCB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgcmVkaXJlY3Q6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgcmVhZG9ubHkgYnJhbmQ6IEJyYW5kO1xuICAvKipcbiAgICogT3B0aW9uYWwgdG9rZW4gdG8gYmUgdXNlZCBieSBkZXNpZ24gYnV0dG9uLlxuICAgKiBXaWxsIG9ubHkgYmUgcHJlc2VudCB3aGVuIHRoZSByZXF1ZXN0IHVzZWQgUGFydG5lckF1dGhUb2tlbkNyZWRlbnRpYWxzLlxuICAgKi9cbiAgcmVhZG9ubHkgeGF0VG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgdXNlcjogVXNlckRldGFpbHMsXG4gICAgcGVyc29uYWxCcmFuZD86IEJyYW5kLFxuICAgIHJlZGlyZWN0Pzogc3RyaW5nLFxuICAgIGJyYW5kOiBCcmFuZCxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCB0b2tlbiB0byBiZSB1c2VkIGJ5IGRlc2lnbiBidXR0b24uXG4gICAgICogV2lsbCBvbmx5IGJlIHByZXNlbnQgd2hlbiB0aGUgcmVxdWVzdCB1c2VkIFBhcnRuZXJBdXRoVG9rZW5DcmVkZW50aWFscy5cbiAgICAgKi9cbiAgICB4YXRUb2tlbj86IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMudXNlciA9IG9wdHMudXNlcjtcbiAgICB0aGlzLnBlcnNvbmFsQnJhbmQgPSBvcHRzLnBlcnNvbmFsQnJhbmQ7XG4gICAgdGhpcy5yZWRpcmVjdCA9IG9wdHMucmVkaXJlY3Q7XG4gICAgdGhpcy5icmFuZCA9IG9wdHMuYnJhbmQ7XG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgdG9rZW4gdG8gYmUgdXNlZCBieSBkZXNpZ24gYnV0dG9uLlxuICAgICAqIFdpbGwgb25seSBiZSBwcmVzZW50IHdoZW4gdGhlIHJlcXVlc3QgdXNlZCBQYXJ0bmVyQXV0aFRva2VuQ3JlZGVudGlhbHMuXG4gICAgICovXG4gICAgdGhpcy54YXRUb2tlbiA9IG9wdHMueGF0VG9rZW47XG4gIH1cblxuICBzdGF0aWMgc2VyaWFsaXplKG06IFVwZGF0ZVNpZ251cFJlc3BvbnNlKTogb2JqZWN0IHtcbiAgICByZXR1cm4ge1xuICAgICAgJ3VzZXInOiBTZXJpYWxpemF0aW9uLnJlcXVpcmVkT2JqZWN0KFVzZXJEZXRhaWxzLnNlcmlhbGl6ZSwgJ3VzZXInLCBtLnVzZXIpLFxuICAgICAgJ3BlcnNvbmFsQnJhbmQnOiBTZXJpYWxpemF0aW9uLm9wdGlvbmFsT2JqZWN0KEJyYW5kLnNlcmlhbGl6ZSwgJ3BlcnNvbmFsQnJhbmQnLCBtLnBlcnNvbmFsQnJhbmQpLFxuICAgICAgJ3JlZGlyZWN0JzogU2VyaWFsaXphdGlvbi5vcHRpb25hbFN0cmluZygncmVkaXJlY3QnLCBtLnJlZGlyZWN0KSxcbiAgICAgICdicmFuZCc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoQnJhbmQuc2VyaWFsaXplLCAnYnJhbmQnLCBtLmJyYW5kKSxcbiAgICAgICd4YXRUb2tlbic6IFNlcmlhbGl6YXRpb24ub3B0aW9uYWxTdHJpbmcoJ3hhdFRva2VuJywgbS54YXRUb2tlbiksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBVcGRhdGVTaWdudXBSZXNwb25zZSB7XG4gICAgcmV0dXJuIG5ldyBVcGRhdGVTaWdudXBSZXNwb25zZSh7XG4gICAgICB1c2VyOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRPYmplY3QoVXNlckRldGFpbHMuZGVzZXJpYWxpemUsICd1c2VyJywgbyksXG4gICAgICBwZXJzb25hbEJyYW5kOiBEZXNlcmlhbGl6YXRpb24ub3B0aW9uYWxPYmplY3QoQnJhbmQuZGVzZXJpYWxpemUsICdwZXJzb25hbEJyYW5kJywgbyksXG4gICAgICByZWRpcmVjdDogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCdyZWRpcmVjdCcsIG8pLFxuICAgICAgYnJhbmQ6IERlc2VyaWFsaXphdGlvbi5yZXF1aXJlZE9iamVjdChCcmFuZC5kZXNlcmlhbGl6ZSwgJ2JyYW5kJywgbyksXG4gICAgICB4YXRUb2tlbjogRGVzZXJpYWxpemF0aW9uLm9wdGlvbmFsU3RyaW5nKCd4YXRUb2tlbicsIG8pLFxuICAgIH0pO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFHQTtBQUdBO0FBU0E7QUFDQTtBQWNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBYUE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBOEJBO0FBOEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFZQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///36\n");

/***/ }),
/* 37 */
/*!****************************************************!*\
  !*** ./src/pages/design_button/api_initializer.ts ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApiInitializer\", function() { return ApiInitializer; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var _design_event_listener__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./design_event_listener */ 38);\n/* harmony import */ var _designer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./designer */ 40);\n/* harmony import */ var _iframe_view_iframe_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./iframe_view/iframe_view */ 41);\n/* harmony import */ var _is_rtl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./is_rtl */ 47);\n/* harmony import */ var _routes_routes__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./routes/routes */ 48);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass ApiInitializer {\r\n    constructor(opts) {\r\n        this.state = 0 /* UNINITIALZED */;\r\n        this.targetOrigin = opts.targetOrigin;\r\n        this.currentOrigin = opts.currentOrigin;\r\n        this.cssUrl = opts.cssUrl;\r\n        this.authenticationProvider = opts.authenticationProvider;\r\n        this.container = opts.container;\r\n    }\r\n    // The side-effects(changes DOM, bind events...) goes here\r\n    initialize(apiKey, autoAuthToken) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkState(this.state === 0 /* UNINITIALZED */, 'should only initialize once');\r\n            this.state = 1 /* INITIALIZING */;\r\n            let xatToken;\r\n            // try {\r\n            //   if (autoAuthToken) {\r\n            //     xatToken = await this.authenticationProvider.authenticateWithAutoAuthToken(autoAuthToken);\r\n            //   } else {\r\n            //     await this.authenticationProvider.authenticate({\r\n            //       apiKey,\r\n            //       referrer: this.currentOrigin,\r\n            //     });\r\n            //   }\r\n            //   // await this.appendCssLinkNode(this.cssUrl);\r\n            // } catch (e) {\r\n            //   this.state = InitializationState.UNINITIALZED;\r\n            //   throw e;\r\n            // }\r\n            // make sure addEventListener and appendChild only happen once.\r\n            const iframeView = _iframe_view_iframe_view__WEBPACK_IMPORTED_MODULE_3__[\"IframeView\"].render(Object(_is_rtl__WEBPACK_IMPORTED_MODULE_4__[\"isRtl\"])(window.navigator.language) ? 'rtl' : 'ltr');\r\n            const routes = new _routes_routes__WEBPACK_IMPORTED_MODULE_5__[\"Routes\"](this.targetOrigin, apiKey, this.currentOrigin, xatToken);\r\n            const listener = new _design_event_listener__WEBPACK_IMPORTED_MODULE_1__[\"DesignEventListener\"]((cb) => window.addEventListener('message', cb), this.targetOrigin);\r\n            const designer = new _designer__WEBPACK_IMPORTED_MODULE_2__[\"Designer\"](listener, routes, iframeView);\r\n            designer.startListening();\r\n            this.container.appendChild(iframeView.el);\r\n            const api = this.exposeApiInstance(designer);\r\n            this.state = 2 /* INITIALIZED */;\r\n            return api;\r\n        });\r\n    }\r\n    appendCssLinkNode(src) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            return new Promise((resolve, reject) => {\r\n                const link = document.createElement('link');\r\n                link.rel = 'stylesheet';\r\n                link.href = src;\r\n                link.onload = () => resolve();\r\n                link.onerror = () => reject();\r\n                this.container.appendChild(link);\r\n            });\r\n        });\r\n    }\r\n    // The object we exposed to through a compiled API bundle can never be a TS instance,\r\n    // because the consumer code can directly access TS `private` fields.\r\n    exposeApiInstance(designer) {\r\n        return {\r\n            createDesign({ designId, type, height, width, publishLabel, onCreateCallback, onPublishCallback, }) {\r\n                designer.createDesign({\r\n                    designId,\r\n                    type,\r\n                    height,\r\n                    width,\r\n                    publishLabel,\r\n                    onDesignOpenCallback: onCreateCallback,\r\n                    onDesignPublishCallback: onPublishCallback,\r\n                });\r\n            },\r\n        };\r\n    }\r\n    exposeNamespace() {\r\n        return {\r\n            initialize: (apiKey, autoAuthToken) => __awaiter(this, void 0, void 0, function* () {\r\n                return yield this.initialize(apiKey, autoAuthToken);\r\n            }),\r\n        };\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9hcGlfaW5pdGlhbGl6ZXIudHM/MGI4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmVjb25kaXRpb25zIH0gZnJvbSAnYmFzZS9wcmVjb25kaXRpb25zJztcbmltcG9ydCB7IEF1dGhlbnRpY2F0aW9uUHJvdmlkZXIgfSBmcm9tICcuL2F1dGhlbnRpY2F0aW9uL2F1dGhlbnRpY2F0aW9uX3Byb3ZpZGVyJztcbmltcG9ydCB7IERlc2lnbkV2ZW50TGlzdGVuZXIgfSBmcm9tICcuL2Rlc2lnbl9ldmVudF9saXN0ZW5lcic7XG5pbXBvcnQgeyBEZXNpZ25lciB9IGZyb20gJy4vZGVzaWduZXInO1xuaW1wb3J0IHsgSWZyYW1lVmlldyB9IGZyb20gJy4vaWZyYW1lX3ZpZXcvaWZyYW1lX3ZpZXcnO1xuaW1wb3J0IHsgaXNSdGwgfSBmcm9tICcuL2lzX3J0bCc7XG5pbXBvcnQgeyBSb3V0ZXMgfSBmcm9tICcuL3JvdXRlcy9yb3V0ZXMnO1xuXG5jb25zdCBlbnVtIEluaXRpYWxpemF0aW9uU3RhdGUge1xuICBVTklOSVRJQUxaRUQsXG4gIElOSVRJQUxJWklORyxcbiAgSU5JVElBTElaRUQsXG59XG5cbmV4cG9ydCBjbGFzcyBBcGlJbml0aWFsaXplciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgdGFyZ2V0T3JpZ2luOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgY3VycmVudE9yaWdpbjogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGNzc1VybDogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGF1dGhlbnRpY2F0aW9uUHJvdmlkZXI6IEF1dGhlbnRpY2F0aW9uUHJvdmlkZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgY29udGFpbmVyOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSBzdGF0ZSA9IEluaXRpYWxpemF0aW9uU3RhdGUuVU5JTklUSUFMWkVEO1xuXG4gIGNvbnN0cnVjdG9yKG9wdHM6IHtcbiAgICB0YXJnZXRPcmlnaW46IHN0cmluZyxcbiAgICBjdXJyZW50T3JpZ2luOiBzdHJpbmcsXG4gICAgY3NzVXJsOiBzdHJpbmcsXG4gICAgYXV0aGVudGljYXRpb25Qcm92aWRlcjogQXV0aGVudGljYXRpb25Qcm92aWRlcixcbiAgICBjb250YWluZXI6IEhUTUxFbGVtZW50LFxuICB9KSB7XG4gICAgdGhpcy50YXJnZXRPcmlnaW4gPSBvcHRzLnRhcmdldE9yaWdpbjtcbiAgICB0aGlzLmN1cnJlbnRPcmlnaW4gPSBvcHRzLmN1cnJlbnRPcmlnaW47XG4gICAgdGhpcy5jc3NVcmwgPSBvcHRzLmNzc1VybDtcbiAgICB0aGlzLmF1dGhlbnRpY2F0aW9uUHJvdmlkZXIgPSBvcHRzLmF1dGhlbnRpY2F0aW9uUHJvdmlkZXI7XG4gICAgdGhpcy5jb250YWluZXIgPSBvcHRzLmNvbnRhaW5lcjtcbiAgfVxuXG4gIC8vIFRoZSBzaWRlLWVmZmVjdHMoY2hhbmdlcyBET00sIGJpbmQgZXZlbnRzLi4uKSBnb2VzIGhlcmVcbiAgcHJpdmF0ZSBhc3luYyBpbml0aWFsaXplKGFwaUtleTogc3RyaW5nLCBhdXRvQXV0aFRva2VuPzogc3RyaW5nKTogUHJvbWlzZTxEZXNpZ25CdXR0b25BcGk+IHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrU3RhdGUoXG4gICAgICAgIHRoaXMuc3RhdGUgPT09IEluaXRpYWxpemF0aW9uU3RhdGUuVU5JTklUSUFMWkVELFxuICAgICAgICAnc2hvdWxkIG9ubHkgaW5pdGlhbGl6ZSBvbmNlJyxcbiAgICApO1xuICAgIHRoaXMuc3RhdGUgPSBJbml0aWFsaXphdGlvblN0YXRlLklOSVRJQUxJWklORztcbiAgICBsZXQgeGF0VG9rZW46IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAvLyB0cnkge1xuICAgIC8vICAgaWYgKGF1dG9BdXRoVG9rZW4pIHtcbiAgICAvLyAgICAgeGF0VG9rZW4gPSBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0aW9uUHJvdmlkZXIuYXV0aGVudGljYXRlV2l0aEF1dG9BdXRoVG9rZW4oYXV0b0F1dGhUb2tlbik7XG4gICAgLy8gICB9IGVsc2Uge1xuICAgIC8vICAgICBhd2FpdCB0aGlzLmF1dGhlbnRpY2F0aW9uUHJvdmlkZXIuYXV0aGVudGljYXRlKHtcbiAgICAvLyAgICAgICBhcGlLZXksXG4gICAgLy8gICAgICAgcmVmZXJyZXI6IHRoaXMuY3VycmVudE9yaWdpbixcbiAgICAvLyAgICAgfSk7XG4gICAgLy8gICB9XG4gICAgLy8gICAvLyBhd2FpdCB0aGlzLmFwcGVuZENzc0xpbmtOb2RlKHRoaXMuY3NzVXJsKTtcbiAgICAvLyB9IGNhdGNoIChlKSB7XG4gICAgLy8gICB0aGlzLnN0YXRlID0gSW5pdGlhbGl6YXRpb25TdGF0ZS5VTklOSVRJQUxaRUQ7XG4gICAgLy8gICB0aHJvdyBlO1xuICAgIC8vIH1cbiAgICAvLyBtYWtlIHN1cmUgYWRkRXZlbnRMaXN0ZW5lciBhbmQgYXBwZW5kQ2hpbGQgb25seSBoYXBwZW4gb25jZS5cbiAgICBjb25zdCBpZnJhbWVWaWV3ID0gSWZyYW1lVmlldy5yZW5kZXIoaXNSdGwod2luZG93Lm5hdmlnYXRvci5sYW5ndWFnZSkgPyAncnRsJyA6ICdsdHInKTtcbiAgICBjb25zdCByb3V0ZXMgPSBuZXcgUm91dGVzKHRoaXMudGFyZ2V0T3JpZ2luLCBhcGlLZXksIHRoaXMuY3VycmVudE9yaWdpbiwgeGF0VG9rZW4pO1xuICAgIGNvbnN0IGxpc3RlbmVyID0gbmV3IERlc2lnbkV2ZW50TGlzdGVuZXIoXG4gICAgICAgIChjYjogKGV2ZW50OiB7IG9yaWdpbjogc3RyaW5nLCBkYXRhOiBhbnkgfSkgPT4gdm9pZCkgPT4gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAnbWVzc2FnZScsXG4gICAgICAgICAgICBjYixcbiAgICAgICAgKSxcbiAgICAgICAgdGhpcy50YXJnZXRPcmlnaW4sXG4gICAgKTtcbiAgICBjb25zdCBkZXNpZ25lciA9IG5ldyBEZXNpZ25lcihsaXN0ZW5lciwgcm91dGVzLCBpZnJhbWVWaWV3KTtcbiAgICBkZXNpZ25lci5zdGFydExpc3RlbmluZygpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZVZpZXcuZWwpO1xuXG4gICAgY29uc3QgYXBpID0gdGhpcy5leHBvc2VBcGlJbnN0YW5jZShkZXNpZ25lcik7XG4gICAgdGhpcy5zdGF0ZSA9IEluaXRpYWxpemF0aW9uU3RhdGUuSU5JVElBTElaRUQ7XG4gICAgcmV0dXJuIGFwaTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgYXBwZW5kQ3NzTGlua05vZGUoc3JjOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpbmsnKTtcbiAgICAgIGxpbmsucmVsID0gJ3N0eWxlc2hlZXQnO1xuICAgICAgbGluay5ocmVmID0gc3JjO1xuICAgICAgbGluay5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKCk7XG4gICAgICBsaW5rLm9uZXJyb3IgPSAoKSA9PiByZWplY3QoKTtcbiAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGxpbmspO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gVGhlIG9iamVjdCB3ZSBleHBvc2VkIHRvIHRocm91Z2ggYSBjb21waWxlZCBBUEkgYnVuZGxlIGNhbiBuZXZlciBiZSBhIFRTIGluc3RhbmNlLFxuICAvLyBiZWNhdXNlIHRoZSBjb25zdW1lciBjb2RlIGNhbiBkaXJlY3RseSBhY2Nlc3MgVFMgYHByaXZhdGVgIGZpZWxkcy5cbiAgcHJpdmF0ZSBleHBvc2VBcGlJbnN0YW5jZShkZXNpZ25lcjogRGVzaWduZXIpOiBEZXNpZ25CdXR0b25BcGkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVEZXNpZ24oe1xuICAgICAgICBkZXNpZ25JZCxcbiAgICAgICAgdHlwZSxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgcHVibGlzaExhYmVsLFxuICAgICAgICBvbkNyZWF0ZUNhbGxiYWNrLFxuICAgICAgICBvblB1Ymxpc2hDYWxsYmFjayxcbiAgICAgIH06IENyZWF0ZURlc2lnbk9wdGlvbnMpIHtcbiAgICAgICAgZGVzaWduZXIuY3JlYXRlRGVzaWduKHtcbiAgICAgICAgICBkZXNpZ25JZCxcbiAgICAgICAgICB0eXBlLFxuICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICBwdWJsaXNoTGFiZWwsXG4gICAgICAgICAgb25EZXNpZ25PcGVuQ2FsbGJhY2s6IG9uQ3JlYXRlQ2FsbGJhY2ssXG4gICAgICAgICAgb25EZXNpZ25QdWJsaXNoQ2FsbGJhY2s6IG9uUHVibGlzaENhbGxiYWNrLFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgfTtcbiAgfVxuXG4gIGV4cG9zZU5hbWVzcGFjZSgpOiBEZXNpZ25CdXR0b25OYW1lc3BhY2Uge1xuICAgIHJldHVybiB7XG4gICAgICBpbml0aWFsaXplOiBhc3luYyAoYXBpS2V5OiBzdHJpbmcsIGF1dG9BdXRoVG9rZW4/OiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZShhcGlLZXksIGF1dG9BdXRoVG9rZW4pO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQVFBO0FBRkE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///37\n");

/***/ }),
/* 38 */
/*!**********************************************************!*\
  !*** ./src/pages/design_button/design_event_listener.ts ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignEventListener\", function() { return DesignEventListener; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var _design_button_proto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./design_button_proto */ 39);\n\r\n\r\n// keep sync with canva/web/src/pages/editor/publish/design_button/design_event_emitter.ts\r\nconst MESSAGE_NAME = '__design_button_message__';\r\n/**\r\n *\r\n *                        3rd-party site                                        canva\r\n *\r\n *      +------------------------------------------------------+       +-----------------------+\r\n *\r\n *      +--------------+       +----------------+     +--------+       +-------+  +------------+\r\n *      |3rd party code|       |canva button api|     |listener|       |emitter|  |canva editor|\r\n *      +-------+------+       +--------+-------+     +---+----+       +---+---+  +-------+----+\r\n *              |     initialize        |                 |                |              |\r\n *              +---------------------->+                 |                |              |\r\n *              |                       |                 |                |              |\r\n *              |     createDesign      |                 |                |              |\r\n *              +---------------------->+ startListening  |                |              |\r\n *              |                       +---------------->+                |              |\r\n *              |                       |  create iframe  |                |              |\r\n *              |                       +------------------------------------------------>+\r\n *              |                       |                 |                |              |\r\n *              |                       |                 |                |  emmitEvent  |\r\n *              |                       |                 |   postMessage  +<-------------+\r\n *              |                       |                 +<---------------+              |\r\n *              |                       |   onMessage     |                |              |\r\n *              |       callback        +<----------------+                |              |\r\n *              +<----------------------+                 |                |              |\r\n *              |                       |                 |                |              |\r\n *              |                       |                 |                |              |\r\n *              |                       |                 |                |              |\r\n *              |                       |                 |                |              |\r\n *              |                       |                 |                |              |\r\n *              +                       +                 +                +              +\r\n *\r\n * This is for the design button script to listen to the message events send from embed editor, the\r\n * communication should be one-way, if there are needs to `postMessage` from 3rd-party site to\r\n * to canva they should be done in other components.\r\n *\r\n * The consumer need to `startListening` first before create the iframe to prevent losing messages.\r\n *\r\n * The DesignEventListener just a thin layer to pass the event to the consumer code, the consumer\r\n * should make sure the DesignEventListener only be created once for each consumer instance.\r\n *\r\n * If there will be multiple consumer instances like multiple editor in one page (highly unlikely),\r\n * the multiple DesignEventListener instances will be received the same message, then the consumer\r\n * will need to add something like request id in the event to ignore the message not belong to them.\r\n *\r\n */\r\nclass DesignEventListener {\r\n    constructor(addMessageListener, origin) {\r\n        this.addMessageListener = addMessageListener;\r\n        this.origin = origin;\r\n    }\r\n    startListening() {\r\n        this.addMessageListener((event) => this.onMessage(event));\r\n    }\r\n    onDesignEvent(designEventCallback) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkState(!this.designEventCallback, 'Callback already registered');\r\n        this.designEventCallback = designEventCallback;\r\n    }\r\n    onMessage({ origin, data }) {\r\n        if (!data[MESSAGE_NAME] || this.origin !== origin) {\r\n            return;\r\n        }\r\n        this.designEventCallback && this.designEventCallback(_design_button_proto__WEBPACK_IMPORTED_MODULE_1__[\"DesignEvent\"].deserialize(data[MESSAGE_NAME]));\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9kZXNpZ25fZXZlbnRfbGlzdGVuZXIudHM/NzVjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmVjb25kaXRpb25zIH0gZnJvbSAnYmFzZS9wcmVjb25kaXRpb25zJztcbmltcG9ydCB7IERlc2lnbkV2ZW50IH0gZnJvbSAnLi9kZXNpZ25fYnV0dG9uX3Byb3RvJztcblxuLy8ga2VlcCBzeW5jIHdpdGggY2FudmEvd2ViL3NyYy9wYWdlcy9lZGl0b3IvcHVibGlzaC9kZXNpZ25fYnV0dG9uL2Rlc2lnbl9ldmVudF9lbWl0dGVyLnRzXG5jb25zdCBNRVNTQUdFX05BTUUgPSAnX19kZXNpZ25fYnV0dG9uX21lc3NhZ2VfXyc7XG5cbnR5cGUgRGVzaWduRXZlbnRDYWxsYmFjayA9IChldmVudDogRGVzaWduRXZlbnQpID0+IHZvaWQ7XG50eXBlIE1lc3NhZ2VFdmVudCA9IHsgb3JpZ2luOiBzdHJpbmcsIGRhdGE6IGFueSB9O1xuXG4vKipcbiAqXG4gKiAgICAgICAgICAgICAgICAgICAgICAgIDNyZC1wYXJ0eSBzaXRlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhXG4gKlxuICogICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKyAgICAgICArLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0rXG4gKlxuICogICAgICArLS0tLS0tLS0tLS0tLS0rICAgICAgICstLS0tLS0tLS0tLS0tLS0tKyAgICAgKy0tLS0tLS0tKyAgICAgICArLS0tLS0tLSsgICstLS0tLS0tLS0tLS0rXG4gKiAgICAgIHwzcmQgcGFydHkgY29kZXwgICAgICAgfGNhbnZhIGJ1dHRvbiBhcGl8ICAgICB8bGlzdGVuZXJ8ICAgICAgIHxlbWl0dGVyfCAgfGNhbnZhIGVkaXRvcnxcbiAqICAgICAgKy0tLS0tLS0rLS0tLS0tKyAgICAgICArLS0tLS0tLS0rLS0tLS0tLSsgICAgICstLS0rLS0tLSsgICAgICAgKy0tLSstLS0rICArLS0tLS0tLSstLS0tK1xuICogICAgICAgICAgICAgIHwgICAgIGluaXRpYWxpemUgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tPisgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgIGNyZWF0ZURlc2lnbiAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tPisgc3RhcnRMaXN0ZW5pbmcgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tPisgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgIGNyZWF0ZSBpZnJhbWUgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+K1xuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgZW1taXRFdmVudCAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICBwb3N0TWVzc2FnZSAgKzwtLS0tLS0tLS0tLS0tK1xuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICs8LS0tLS0tLS0tLS0tLS0tKyAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICBvbk1lc3NhZ2UgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgY2FsbGJhY2sgICAgICAgICs8LS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICs8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSsgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICogICAgICAgICAgICAgICsgICAgICAgICAgICAgICAgICAgICAgICsgICAgICAgICAgICAgICAgICsgICAgICAgICAgICAgICAgKyAgICAgICAgICAgICAgK1xuICpcbiAqIFRoaXMgaXMgZm9yIHRoZSBkZXNpZ24gYnV0dG9uIHNjcmlwdCB0byBsaXN0ZW4gdG8gdGhlIG1lc3NhZ2UgZXZlbnRzIHNlbmQgZnJvbSBlbWJlZCBlZGl0b3IsIHRoZVxuICogY29tbXVuaWNhdGlvbiBzaG91bGQgYmUgb25lLXdheSwgaWYgdGhlcmUgYXJlIG5lZWRzIHRvIGBwb3N0TWVzc2FnZWAgZnJvbSAzcmQtcGFydHkgc2l0ZSB0b1xuICogdG8gY2FudmEgdGhleSBzaG91bGQgYmUgZG9uZSBpbiBvdGhlciBjb21wb25lbnRzLlxuICpcbiAqIFRoZSBjb25zdW1lciBuZWVkIHRvIGBzdGFydExpc3RlbmluZ2AgZmlyc3QgYmVmb3JlIGNyZWF0ZSB0aGUgaWZyYW1lIHRvIHByZXZlbnQgbG9zaW5nIG1lc3NhZ2VzLlxuICpcbiAqIFRoZSBEZXNpZ25FdmVudExpc3RlbmVyIGp1c3QgYSB0aGluIGxheWVyIHRvIHBhc3MgdGhlIGV2ZW50IHRvIHRoZSBjb25zdW1lciBjb2RlLCB0aGUgY29uc3VtZXJcbiAqIHNob3VsZCBtYWtlIHN1cmUgdGhlIERlc2lnbkV2ZW50TGlzdGVuZXIgb25seSBiZSBjcmVhdGVkIG9uY2UgZm9yIGVhY2ggY29uc3VtZXIgaW5zdGFuY2UuXG4gKlxuICogSWYgdGhlcmUgd2lsbCBiZSBtdWx0aXBsZSBjb25zdW1lciBpbnN0YW5jZXMgbGlrZSBtdWx0aXBsZSBlZGl0b3IgaW4gb25lIHBhZ2UgKGhpZ2hseSB1bmxpa2VseSksXG4gKiB0aGUgbXVsdGlwbGUgRGVzaWduRXZlbnRMaXN0ZW5lciBpbnN0YW5jZXMgd2lsbCBiZSByZWNlaXZlZCB0aGUgc2FtZSBtZXNzYWdlLCB0aGVuIHRoZSBjb25zdW1lclxuICogd2lsbCBuZWVkIHRvIGFkZCBzb21ldGhpbmcgbGlrZSByZXF1ZXN0IGlkIGluIHRoZSBldmVudCB0byBpZ25vcmUgdGhlIG1lc3NhZ2Ugbm90IGJlbG9uZyB0byB0aGVtLlxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIERlc2lnbkV2ZW50TGlzdGVuZXIge1xuICBwcml2YXRlIGRlc2lnbkV2ZW50Q2FsbGJhY2s/OiBEZXNpZ25FdmVudENhbGxiYWNrO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBhZGRNZXNzYWdlTGlzdGVuZXI6IChjYjogKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHZvaWQpID0+IHZvaWQsXG4gICAgICBwcml2YXRlIHJlYWRvbmx5IG9yaWdpbjogc3RyaW5nLFxuICApIHtcbiAgfVxuXG4gIHN0YXJ0TGlzdGVuaW5nKCkge1xuICAgIHRoaXMuYWRkTWVzc2FnZUxpc3RlbmVyKFxuICAgICAgKGV2ZW50OiBNZXNzYWdlRXZlbnQpID0+IHRoaXMub25NZXNzYWdlKGV2ZW50KSxcbiAgICApO1xuICB9XG5cbiAgb25EZXNpZ25FdmVudChkZXNpZ25FdmVudENhbGxiYWNrOiBEZXNpZ25FdmVudENhbGxiYWNrKSB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja1N0YXRlKCF0aGlzLmRlc2lnbkV2ZW50Q2FsbGJhY2ssICdDYWxsYmFjayBhbHJlYWR5IHJlZ2lzdGVyZWQnKTtcbiAgICB0aGlzLmRlc2lnbkV2ZW50Q2FsbGJhY2sgPSBkZXNpZ25FdmVudENhbGxiYWNrO1xuICB9XG5cbiAgcHJpdmF0ZSBvbk1lc3NhZ2UoeyBvcmlnaW4sIGRhdGEgfTogTWVzc2FnZUV2ZW50KSB7XG4gICAgaWYgKCFkYXRhW01FU1NBR0VfTkFNRV0gfHwgdGhpcy5vcmlnaW4gIT09IG9yaWdpbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmRlc2lnbkV2ZW50Q2FsbGJhY2sgJiYgdGhpcy5kZXNpZ25FdmVudENhbGxiYWNrKFxuICAgICAgICBEZXNpZ25FdmVudC5kZXNlcmlhbGl6ZShkYXRhW01FU1NBR0VfTkFNRV0pLFxuICAgICk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUtBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTRDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///38\n");

/***/ }),
/* 39 */
/*!********************************************************!*\
  !*** ./src/pages/design_button/design_button_proto.ts ***!
  \********************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignEvent\", function() { return DesignEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignOpenEvent\", function() { return DesignOpenEvent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DesignPublishEvent\", function() { return DesignPublishEvent; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! base/serialization/deserialization */ 16);\n/* harmony import */ var base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! base/serialization/serialization */ 22);\n// @formatter:off\r\n// Copyright Canva Inc. All Rights Reserved.\r\n// Generated from pages/design_button/design_button.proto.\r\n\r\n\r\n\r\nconst DesignEvent = {\r\n    serialize(u) {\r\n        switch (u.type) {\r\n            case 'DESIGN_OPEN_EVENT': return DesignOpenEvent.serialize(u);\r\n            case 'DESIGN_PUBLISH_EVENT': return DesignPublishEvent.serialize(u);\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](u);\r\n        }\r\n    },\r\n    deserialize(o) {\r\n        const kase = base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('A?', o);\r\n        switch (kase) {\r\n            case 'A': return DesignOpenEvent.deserialize(o);\r\n            case 'B': return DesignPublishEvent.deserialize(o);\r\n            default:\r\n                throw new Error(`unknown case: ${kase}`);\r\n        }\r\n    },\r\n};\r\nclass DesignOpenEvent {\r\n    constructor(opts) {\r\n        this.type = 'DESIGN_OPEN_EVENT';\r\n        this.designId = opts.designId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'A?': 'A',\r\n            'A': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('designId', m.designId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['A?'] === 'A');\r\n        return new DesignOpenEvent({\r\n            designId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('A', o),\r\n        });\r\n    }\r\n}\r\nclass DesignPublishEvent {\r\n    constructor(opts) {\r\n        this.type = 'DESIGN_PUBLISH_EVENT';\r\n        this.exportUrl = opts.exportUrl;\r\n        this.designId = opts.designId;\r\n    }\r\n    static serialize(m) {\r\n        return {\r\n            'A?': 'B',\r\n            'A': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('exportUrl', m.exportUrl),\r\n            'B': base_serialization_serialization__WEBPACK_IMPORTED_MODULE_2__[\"Serialization\"].requiredString('designId', m.designId),\r\n        };\r\n    }\r\n    static deserialize(o) {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(o['A?'] === 'B');\r\n        return new DesignPublishEvent({\r\n            exportUrl: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('A', o),\r\n            designId: base_serialization_deserialization__WEBPACK_IMPORTED_MODULE_1__[\"Deserialization\"].requiredString('B', o),\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9kZXNpZ25fYnV0dG9uX3Byb3RvLnRzPzMwMWIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQGZvcm1hdHRlcjpvZmZcbi8vIENvcHlyaWdodCBDYW52YSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4vLyBHZW5lcmF0ZWQgZnJvbSBwYWdlcy9kZXNpZ25fYnV0dG9uL2Rlc2lnbl9idXR0b24ucHJvdG8uXG5cbmltcG9ydCB7XG4gIFByZWNvbmRpdGlvbnMsXG4gIFVucmVhY2hhYmxlRXJyb3IsXG59IGZyb20gJ2Jhc2UvcHJlY29uZGl0aW9ucyc7XG5pbXBvcnQge1xuICBEZXNlcmlhbGl6YXRpb24sXG59IGZyb20gJ2Jhc2Uvc2VyaWFsaXphdGlvbi9kZXNlcmlhbGl6YXRpb24nO1xuaW1wb3J0IHtcbiAgU2VyaWFsaXphdGlvbixcbn0gZnJvbSAnYmFzZS9zZXJpYWxpemF0aW9uL3NlcmlhbGl6YXRpb24nO1xuXG5leHBvcnQgdHlwZSBEZXNpZ25FdmVudFxuICAgID0gRGVzaWduT3BlbkV2ZW50XG4gICAgfCBEZXNpZ25QdWJsaXNoRXZlbnQ7XG5cbmV4cG9ydCBjb25zdCBEZXNpZ25FdmVudCA9IHtcbiAgc2VyaWFsaXplKHU6IERlc2lnbkV2ZW50KTogb2JqZWN0IHtcbiAgICBzd2l0Y2ggKHUudHlwZSkge1xuICAgICAgY2FzZSAnREVTSUdOX09QRU5fRVZFTlQnOiByZXR1cm4gRGVzaWduT3BlbkV2ZW50LnNlcmlhbGl6ZSh1KTtcbiAgICAgIGNhc2UgJ0RFU0lHTl9QVUJMSVNIX0VWRU5UJzogcmV0dXJuIERlc2lnblB1Ymxpc2hFdmVudC5zZXJpYWxpemUodSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgVW5yZWFjaGFibGVFcnJvcih1KTtcbiAgICB9XG4gIH0sXG5cbiAgZGVzZXJpYWxpemUobzogb2JqZWN0KTogRGVzaWduRXZlbnQge1xuICAgIGNvbnN0IGthc2UgPSBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ0E/Jywgbyk7XG4gICAgc3dpdGNoIChrYXNlKSB7XG4gICAgICBjYXNlICdBJzogcmV0dXJuIERlc2lnbk9wZW5FdmVudC5kZXNlcmlhbGl6ZShvKTtcbiAgICAgIGNhc2UgJ0InOiByZXR1cm4gRGVzaWduUHVibGlzaEV2ZW50LmRlc2VyaWFsaXplKG8pO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bmtub3duIGNhc2U6ICR7a2FzZX1gKTtcbiAgICB9XG4gIH0sXG59O1xuXG5leHBvcnQgY2xhc3MgRGVzaWduT3BlbkV2ZW50IHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdERVNJR05fT1BFTl9FVkVOVCc7XG5cbiAgcmVhZG9ubHkgZGVzaWduSWQ6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihvcHRzOiB7XG4gICAgZGVzaWduSWQ6IHN0cmluZyxcbiAgfSkge1xuICAgIHRoaXMuZGVzaWduSWQgPSBvcHRzLmRlc2lnbklkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBEZXNpZ25PcGVuRXZlbnQpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnQT8nOiAnQScsXG4gICAgICAnQSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2Rlc2lnbklkJywgbS5kZXNpZ25JZCksXG4gICAgfTtcbiAgfVxuXG4gIHN0YXRpYyBkZXNlcmlhbGl6ZShvOiBvYmplY3QpOiBEZXNpZ25PcGVuRXZlbnQge1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tBcmd1bWVudCgobyBhcyBhbnkpWydBPyddID09PSAnQScpO1xuICAgIHJldHVybiBuZXcgRGVzaWduT3BlbkV2ZW50KHtcbiAgICAgIGRlc2lnbklkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ0EnLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGVzaWduUHVibGlzaEV2ZW50IHtcbiAgcmVhZG9ubHkgdHlwZSA9ICdERVNJR05fUFVCTElTSF9FVkVOVCc7XG5cbiAgcmVhZG9ubHkgZXhwb3J0VXJsOiBzdHJpbmc7XG4gIHJlYWRvbmx5IGRlc2lnbklkOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Iob3B0czoge1xuICAgIGV4cG9ydFVybDogc3RyaW5nLFxuICAgIGRlc2lnbklkOiBzdHJpbmcsXG4gIH0pIHtcbiAgICB0aGlzLmV4cG9ydFVybCA9IG9wdHMuZXhwb3J0VXJsO1xuICAgIHRoaXMuZGVzaWduSWQgPSBvcHRzLmRlc2lnbklkO1xuICB9XG5cbiAgc3RhdGljIHNlcmlhbGl6ZShtOiBEZXNpZ25QdWJsaXNoRXZlbnQpOiBvYmplY3Qge1xuICAgIHJldHVybiB7XG4gICAgICAnQT8nOiAnQicsXG4gICAgICAnQSc6IFNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ2V4cG9ydFVybCcsIG0uZXhwb3J0VXJsKSxcbiAgICAgICdCJzogU2VyaWFsaXphdGlvbi5yZXF1aXJlZFN0cmluZygnZGVzaWduSWQnLCBtLmRlc2lnbklkKSxcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGRlc2VyaWFsaXplKG86IG9iamVjdCk6IERlc2lnblB1Ymxpc2hFdmVudCB7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KChvIGFzIGFueSlbJ0E/J10gPT09ICdCJyk7XG4gICAgcmV0dXJuIG5ldyBEZXNpZ25QdWJsaXNoRXZlbnQoe1xuICAgICAgZXhwb3J0VXJsOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ0EnLCBvKSxcbiAgICAgIGRlc2lnbklkOiBEZXNlcmlhbGl6YXRpb24ucmVxdWlyZWRTdHJpbmcoJ0InLCBvKSxcbiAgICB9KTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFHQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFLQTtBQUpBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUxBO0FBU0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///39\n");

/***/ }),
/* 40 */
/*!*********************************************!*\
  !*** ./src/pages/design_button/designer.ts ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Designer\", function() { return Designer; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n};\r\n\r\nclass Designer {\r\n    constructor(designEventListener, routes, iframeView) {\r\n        this.designEventListener = designEventListener;\r\n        this.routes = routes;\r\n        this.iframeView = iframeView;\r\n        this.isListening = false;\r\n    }\r\n    startListening() {\r\n        this.designEventListener.onDesignEvent((event) => this.onDesignEvent(event));\r\n        this.designEventListener.startListening();\r\n        this.iframeView.onCloseButtonClick(() => this.iframeView.hide());\r\n        this.isListening = true;\r\n    }\r\n    onDesignEvent(event) {\r\n        switch (event.type) {\r\n            case 'DESIGN_OPEN_EVENT':\r\n                this.iframeView.showEditor();\r\n                this.onDesignOpenCallback && this.onDesignOpenCallback(event.designId);\r\n                break;\r\n            case 'DESIGN_PUBLISH_EVENT':\r\n                this.iframeView.hide();\r\n                this.onDesignPublishCallback && this.onDesignPublishCallback(event.exportUrl, event.designId);\r\n                break;\r\n            default:\r\n                throw new base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"UnreachableError\"](event);\r\n        }\r\n    }\r\n    setCallback(callbacks) {\r\n        this.onDesignOpenCallback = callbacks.onDesignOpenCallback;\r\n        this.onDesignPublishCallback = callbacks.onDesignPublishCallback;\r\n    }\r\n    launchView(url) {\r\n        this.iframeView.setSrc(url);\r\n        this.iframeView.showLoading();\r\n    }\r\n    checkListening() {\r\n        // TODO(martin): Add isEditing prevent the 3rd-party code trigger while user is editing.\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkState(this.isListening, 'startListening has not been called');\r\n    }\r\n    createDesign(_a) {\r\n        var { designId, type, height, width, publishLabel } = _a, callbacks = __rest(_a, [\"designId\", \"type\", \"height\", \"width\", \"publishLabel\"]);\r\n        this.checkListening();\r\n        this.setCallback(callbacks);\r\n        if (designId) {\r\n            this.launchView(this.routes.getRemixDesignUrl(designId, type, publishLabel));\r\n        }\r\n        else if (type) {\r\n            this.launchView(this.routes.getCreateDesignUrl(type, publishLabel, height, width));\r\n        }\r\n        else {\r\n            throw new Error('Must specify either type or designId');\r\n        }\r\n    }\r\n    editDesign(_a) {\r\n        var { designId, publishLabel } = _a, callbacks = __rest(_a, [\"designId\", \"publishLabel\"]);\r\n        this.checkListening();\r\n        this.setCallback(callbacks);\r\n        this.launchView(this.routes.getEditDesignUrl(designId, publishLabel));\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9kZXNpZ25lci50cz8zMjM0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByZWNvbmRpdGlvbnMsIFVucmVhY2hhYmxlRXJyb3IgfSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuaW1wb3J0IHsgRGVzaWduRXZlbnQgfSBmcm9tICcuL2Rlc2lnbl9idXR0b25fcHJvdG8nO1xuaW1wb3J0IHsgRGVzaWduRXZlbnRMaXN0ZW5lciB9IGZyb20gJy4vZGVzaWduX2V2ZW50X2xpc3RlbmVyJztcbmltcG9ydCB7IElmcmFtZVZpZXcgfSBmcm9tICcuL2lmcmFtZV92aWV3L2lmcmFtZV92aWV3JztcbmltcG9ydCB7IFJvdXRlcyB9IGZyb20gJy4vcm91dGVzL3JvdXRlcyc7XG5cbnR5cGUgRGVzaWduQXBpQ2FsbGJhY2tzID0ge1xuICBvbkRlc2lnbk9wZW5DYWxsYmFjaz86IChkZXNpZ25JZDogc3RyaW5nKSA9PiB2b2lkLFxuICBvbkRlc2lnblB1Ymxpc2hDYWxsYmFjaz86IChleHBvcnRVcmw6IHN0cmluZywgZGVzaWduSWQ6IHN0cmluZykgPT4gdm9pZCxcbn07XG5cbnR5cGUgQ3JlYXRlT3B0aW9ucyA9IHsgdHlwZT86IHN0cmluZywgaGVpZ2h0PzogbnVtYmVyLCB3aWR0aD86IG51bWJlciwgZGVzaWduSWQ/OiBzdHJpbmcgLCBwdWJsaXNoTGFiZWw/OiBzdHJpbmcgfSAmIERlc2lnbkFwaUNhbGxiYWNrcztcbnR5cGUgRWRpdE9wdGlvbnMgPSB7IGRlc2lnbklkOiBzdHJpbmcsIHB1Ymxpc2hMYWJlbD86IHN0cmluZyB9ICYgRGVzaWduQXBpQ2FsbGJhY2tzO1xuXG5leHBvcnQgY2xhc3MgRGVzaWduZXIge1xuICBwcml2YXRlIG9uRGVzaWduT3BlbkNhbGxiYWNrPzogKGRlc2lnbklkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHByaXZhdGUgb25EZXNpZ25QdWJsaXNoQ2FsbGJhY2s/OiAoZXhwb3J0VXJsOiBzdHJpbmcsIGRlc2lnbklkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHByaXZhdGUgaXNMaXN0ZW5pbmcgPSBmYWxzZTtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSByZWFkb25seSBkZXNpZ25FdmVudExpc3RlbmVyOiBEZXNpZ25FdmVudExpc3RlbmVyLFxuICAgIHByaXZhdGUgcmVhZG9ubHkgcm91dGVzOiBSb3V0ZXMsXG4gICAgcHJpdmF0ZSByZWFkb25seSBpZnJhbWVWaWV3OiBJZnJhbWVWaWV3LFxuICApIHtcbiAgfVxuXG4gIHN0YXJ0TGlzdGVuaW5nKCkge1xuICAgIHRoaXMuZGVzaWduRXZlbnRMaXN0ZW5lci5vbkRlc2lnbkV2ZW50KFxuICAgICAgKGV2ZW50OiBEZXNpZ25FdmVudCkgPT4gdGhpcy5vbkRlc2lnbkV2ZW50KGV2ZW50KSxcbiAgICApO1xuICAgIHRoaXMuZGVzaWduRXZlbnRMaXN0ZW5lci5zdGFydExpc3RlbmluZygpO1xuICAgIHRoaXMuaWZyYW1lVmlldy5vbkNsb3NlQnV0dG9uQ2xpY2soKCkgPT4gdGhpcy5pZnJhbWVWaWV3LmhpZGUoKSk7XG4gICAgdGhpcy5pc0xpc3RlbmluZyA9IHRydWU7XG4gIH1cblxuICBwcml2YXRlIG9uRGVzaWduRXZlbnQoZXZlbnQ6IERlc2lnbkV2ZW50KSB7XG4gICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICBjYXNlICdERVNJR05fT1BFTl9FVkVOVCc6XG4gICAgICAgIHRoaXMuaWZyYW1lVmlldy5zaG93RWRpdG9yKCk7XG4gICAgICAgIHRoaXMub25EZXNpZ25PcGVuQ2FsbGJhY2sgJiYgdGhpcy5vbkRlc2lnbk9wZW5DYWxsYmFjayhcbiAgICAgICAgICBldmVudC5kZXNpZ25JZCxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdERVNJR05fUFVCTElTSF9FVkVOVCc6XG4gICAgICAgIHRoaXMuaWZyYW1lVmlldy5oaWRlKCk7XG4gICAgICAgIHRoaXMub25EZXNpZ25QdWJsaXNoQ2FsbGJhY2sgJiYgdGhpcy5vbkRlc2lnblB1Ymxpc2hDYWxsYmFjayhcbiAgICAgICAgICBldmVudC5leHBvcnRVcmwsXG4gICAgICAgICAgZXZlbnQuZGVzaWduSWQsXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IFVucmVhY2hhYmxlRXJyb3IoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2V0Q2FsbGJhY2soY2FsbGJhY2tzOiBEZXNpZ25BcGlDYWxsYmFja3MpIHtcbiAgICB0aGlzLm9uRGVzaWduT3BlbkNhbGxiYWNrID0gY2FsbGJhY2tzLm9uRGVzaWduT3BlbkNhbGxiYWNrO1xuICAgIHRoaXMub25EZXNpZ25QdWJsaXNoQ2FsbGJhY2sgPSBjYWxsYmFja3Mub25EZXNpZ25QdWJsaXNoQ2FsbGJhY2s7XG4gIH1cblxuICBwcml2YXRlIGxhdW5jaFZpZXcodXJsOiBzdHJpbmcpIHtcbiAgICB0aGlzLmlmcmFtZVZpZXcuc2V0U3JjKHVybCk7XG4gICAgdGhpcy5pZnJhbWVWaWV3LnNob3dMb2FkaW5nKCk7XG4gIH1cblxuICBwcml2YXRlIGNoZWNrTGlzdGVuaW5nKCkge1xuICAgIC8vIFRPRE8obWFydGluKTogQWRkIGlzRWRpdGluZyBwcmV2ZW50IHRoZSAzcmQtcGFydHkgY29kZSB0cmlnZ2VyIHdoaWxlIHVzZXIgaXMgZWRpdGluZy5cbiAgICBQcmVjb25kaXRpb25zLmNoZWNrU3RhdGUodGhpcy5pc0xpc3RlbmluZywgJ3N0YXJ0TGlzdGVuaW5nIGhhcyBub3QgYmVlbiBjYWxsZWQnKTtcbiAgfVxuXG4gIGNyZWF0ZURlc2lnbih7IGRlc2lnbklkLCB0eXBlLCBoZWlnaHQsIHdpZHRoLCBwdWJsaXNoTGFiZWwsIC4uLmNhbGxiYWNrcyB9OiBDcmVhdGVPcHRpb25zKSB7XG4gICAgdGhpcy5jaGVja0xpc3RlbmluZygpO1xuICAgIHRoaXMuc2V0Q2FsbGJhY2soY2FsbGJhY2tzKTtcbiAgICBpZiAoZGVzaWduSWQpIHtcbiAgICAgIHRoaXMubGF1bmNoVmlldyh0aGlzLnJvdXRlcy5nZXRSZW1peERlc2lnblVybChkZXNpZ25JZCwgdHlwZSwgcHVibGlzaExhYmVsKSk7XG4gICAgfSBlbHNlIGlmICh0eXBlKSB7XG4gICAgICB0aGlzLmxhdW5jaFZpZXcodGhpcy5yb3V0ZXMuZ2V0Q3JlYXRlRGVzaWduVXJsKHR5cGUsIHB1Ymxpc2hMYWJlbCwgaGVpZ2h0LCB3aWR0aCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ011c3Qgc3BlY2lmeSBlaXRoZXIgdHlwZSBvciBkZXNpZ25JZCcpO1xuICAgIH1cbiAgfVxuXG4gIGVkaXREZXNpZ24oeyBkZXNpZ25JZCwgcHVibGlzaExhYmVsLCAuLi5jYWxsYmFja3MgfTogRWRpdE9wdGlvbnMpIHtcbiAgICB0aGlzLmNoZWNrTGlzdGVuaW5nKCk7XG4gICAgdGhpcy5zZXRDYWxsYmFjayhjYWxsYmFja3MpO1xuICAgIHRoaXMubGF1bmNoVmlldyh0aGlzLnJvdXRlcy5nZXRFZGl0RGVzaWduVXJsKGRlc2lnbklkLCBwdWJsaXNoTGFiZWwpKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQWNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///40\n");

/***/ }),
/* 41 */
/*!************************************************************!*\
  !*** ./src/pages/design_button/iframe_view/iframe_view.ts ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"IframeView\", function() { return IframeView; });\n/* harmony import */ var _assets_close_svg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./assets/close.svg */ 42);\n/* harmony import */ var _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./iframe_view.css */ 43);\n\r\n\r\nconst TRANSITION_END_EVENTS = ['transitionend', 'transitionEnd', 'webkitTransitionEnd'];\r\nclass IframeView {\r\n    constructor({ el, iframe, closeButton, loadingIcon }) {\r\n        // The onLoad will be called with DesignOpenEvent event and the iframe onload event if \r\n        // DesignOpenEvent event is not called.\r\n        this.showEditor = () => {\r\n            const { iframe, loadingIcon } = this;\r\n            iframe.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].iframeLoaded;\r\n            loadingIcon.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].loadingIconLoaded;\r\n            iframe.onload = null;\r\n        };\r\n        this.el = el;\r\n        this.iframe = iframe;\r\n        this.closeButton = closeButton;\r\n        this.loadingIcon = loadingIcon;\r\n        this.closeButton.addEventListener('click', () => {\r\n            this.onCloseButtonClickCallback &&\r\n                this.onCloseButtonClickCallback();\r\n        });\r\n    }\r\n    onCloseButtonClick(callback) {\r\n        this.onCloseButtonClickCallback = callback;\r\n    }\r\n    setSrc(url) {\r\n        this.iframe.setAttribute('src', url);\r\n    }\r\n    showLoading() {\r\n        const { iframe, el, loadingIcon } = this;\r\n        el.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rootShow;\r\n        iframe.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].iframeLoading;\r\n        loadingIcon.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].loadingIcon;\r\n        iframe.onload = this.showEditor;\r\n    }\r\n    hide() {\r\n        const { el } = this;\r\n        el.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].rootHiding;\r\n        const transitionEndHandler = () => {\r\n            el.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].root;\r\n            TRANSITION_END_EVENTS.forEach(eventName => {\r\n                el.removeEventListener(eventName, transitionEndHandler);\r\n            });\r\n        };\r\n        TRANSITION_END_EVENTS.forEach(eventName => {\r\n            el.addEventListener(eventName, transitionEndHandler);\r\n        });\r\n    }\r\n    static render(dir) {\r\n        const el = document.createElement('div');\r\n        const container = document.createElement('div');\r\n        const iframe = document.createElement('iframe');\r\n        const closeButton = document.createElement('span');\r\n        const loadingIcon = document.createElement('div');\r\n        container.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].container;\r\n        iframe.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].iframe;\r\n        closeButton.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].closeButton;\r\n        closeButton.innerHTML = _assets_close_svg__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n        loadingIcon.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].loadingIcon;\r\n        container.appendChild(closeButton);\r\n        container.appendChild(iframe);\r\n        container.appendChild(loadingIcon);\r\n        // make sure the css work on 3rd-party site which don't have [dir=ltr|rtl] on html\r\n        el.setAttribute('dir', dir);\r\n        el.appendChild(container);\r\n        el.className = _iframe_view_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].root;\r\n        return IframeView.of({ el, iframe, closeButton, loadingIcon });\r\n    }\r\n    static of(opts) {\r\n        return new IframeView(opts);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9pZnJhbWVfdmlldy9pZnJhbWVfdmlldy50cz8zMGQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjbG9zZVNWRyBmcm9tICcuL2Fzc2V0cy9jbG9zZS5zdmcnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL2lmcmFtZV92aWV3LmNzcyc7XG5cbnR5cGUgSWZyYW1lVmlld09wdGlvbnMgPSB7XG4gIGVsOiBIVE1MRWxlbWVudCxcbiAgaWZyYW1lOiBIVE1MSUZyYW1lRWxlbWVudCxcbiAgY2xvc2VCdXR0b246IEhUTUxFbGVtZW50LFxuICBsb2FkaW5nSWNvbjogSFRNTEVsZW1lbnQsXG59O1xuXG5jb25zdCBUUkFOU0lUSU9OX0VORF9FVkVOVFMgPSBbJ3RyYW5zaXRpb25lbmQnLCAndHJhbnNpdGlvbkVuZCcsICd3ZWJraXRUcmFuc2l0aW9uRW5kJ107XG5cbmV4cG9ydCBjbGFzcyBJZnJhbWVWaWV3IHtcbiAgcHVibGljIHJlYWRvbmx5IGVsOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSBpZnJhbWU6IEhUTUxJRnJhbWVFbGVtZW50O1xuICBwcml2YXRlIHJlYWRvbmx5IGNsb3NlQnV0dG9uOiBIVE1MRWxlbWVudDtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2FkaW5nSWNvbjogSFRNTEVsZW1lbnQ7XG4gIHByaXZhdGUgb25DbG9zZUJ1dHRvbkNsaWNrQ2FsbGJhY2s/OiAoKSA9PiB2b2lkO1xuXG4gIGNvbnN0cnVjdG9yKHsgZWwsIGlmcmFtZSwgY2xvc2VCdXR0b24sIGxvYWRpbmdJY29uIH06IElmcmFtZVZpZXdPcHRpb25zKSB7XG4gICAgdGhpcy5lbCA9IGVsO1xuICAgIHRoaXMuaWZyYW1lID0gaWZyYW1lO1xuICAgIHRoaXMuY2xvc2VCdXR0b24gPSBjbG9zZUJ1dHRvbjtcbiAgICB0aGlzLmxvYWRpbmdJY29uID0gbG9hZGluZ0ljb247XG4gICAgdGhpcy5jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMub25DbG9zZUJ1dHRvbkNsaWNrQ2FsbGJhY2sgJiZcbiAgICAgIHRoaXMub25DbG9zZUJ1dHRvbkNsaWNrQ2FsbGJhY2soKTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2xvc2VCdXR0b25DbGljayhjYWxsYmFjazogKCkgPT4gdm9pZCkge1xuICAgIHRoaXMub25DbG9zZUJ1dHRvbkNsaWNrQ2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgfVxuXG4gIC8vIFRoZSBvbkxvYWQgd2lsbCBiZSBjYWxsZWQgd2l0aCBEZXNpZ25PcGVuRXZlbnQgZXZlbnQgYW5kIHRoZSBpZnJhbWUgb25sb2FkIGV2ZW50IGlmIFxuICAvLyBEZXNpZ25PcGVuRXZlbnQgZXZlbnQgaXMgbm90IGNhbGxlZC5cbiAgc2hvd0VkaXRvciA9ICgpID0+IHtcbiAgICBjb25zdCB7IGlmcmFtZSwgbG9hZGluZ0ljb24gfSA9IHRoaXM7XG4gICAgaWZyYW1lLmNsYXNzTmFtZSA9IHN0eWxlcy5pZnJhbWVMb2FkZWQ7XG4gICAgbG9hZGluZ0ljb24uY2xhc3NOYW1lID0gc3R5bGVzLmxvYWRpbmdJY29uTG9hZGVkO1xuICAgIGlmcmFtZS5vbmxvYWQgPSBudWxsO1xuICB9XG5cbiAgc2V0U3JjKHVybDogc3RyaW5nKSB7XG4gICAgdGhpcy5pZnJhbWUuc2V0QXR0cmlidXRlKCdzcmMnLCB1cmwpO1xuICB9XG5cbiAgc2hvd0xvYWRpbmcoKSB7XG4gICAgY29uc3QgeyBpZnJhbWUsIGVsLCBsb2FkaW5nSWNvbiB9ID0gdGhpcztcbiAgICBlbC5jbGFzc05hbWUgPSBzdHlsZXMucm9vdFNob3c7XG4gICAgaWZyYW1lLmNsYXNzTmFtZSA9IHN0eWxlcy5pZnJhbWVMb2FkaW5nO1xuICAgIGxvYWRpbmdJY29uLmNsYXNzTmFtZSA9IHN0eWxlcy5sb2FkaW5nSWNvbjtcbiAgICBpZnJhbWUub25sb2FkID0gdGhpcy5zaG93RWRpdG9yO1xuICB9XG5cbiAgaGlkZSgpIHtcbiAgICBjb25zdCB7IGVsIH0gPSB0aGlzO1xuICAgIGVsLmNsYXNzTmFtZSA9IHN0eWxlcy5yb290SGlkaW5nO1xuICAgIGNvbnN0IHRyYW5zaXRpb25FbmRIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgZWwuY2xhc3NOYW1lID0gc3R5bGVzLnJvb3Q7XG4gICAgICBUUkFOU0lUSU9OX0VORF9FVkVOVFMuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgdHJhbnNpdGlvbkVuZEhhbmRsZXIpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBUUkFOU0lUSU9OX0VORF9FVkVOVFMuZm9yRWFjaChldmVudE5hbWUgPT4ge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyByZW5kZXIoZGlyOiAnbHRyJyB8ICdydGwnKTogSWZyYW1lVmlldyB7XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBjb25zdCBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcbiAgICBjb25zdCBjbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBjb25zdCBsb2FkaW5nSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IHN0eWxlcy5jb250YWluZXI7XG4gICAgaWZyYW1lLmNsYXNzTmFtZSA9IHN0eWxlcy5pZnJhbWU7XG4gICAgY2xvc2VCdXR0b24uY2xhc3NOYW1lID0gc3R5bGVzLmNsb3NlQnV0dG9uO1xuICAgIGNsb3NlQnV0dG9uLmlubmVySFRNTCA9IGNsb3NlU1ZHO1xuICAgIGxvYWRpbmdJY29uLmNsYXNzTmFtZSA9IHN0eWxlcy5sb2FkaW5nSWNvbjtcblxuICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxvYWRpbmdJY29uKTtcblxuICAgIC8vIG1ha2Ugc3VyZSB0aGUgY3NzIHdvcmsgb24gM3JkLXBhcnR5IHNpdGUgd2hpY2ggZG9uJ3QgaGF2ZSBbZGlyPWx0cnxydGxdIG9uIGh0bWxcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ2RpcicsIGRpcik7XG4gICAgZWwuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICBlbC5jbGFzc05hbWUgPSBzdHlsZXMucm9vdDtcblxuICAgIHJldHVybiBJZnJhbWVWaWV3Lm9mKHsgZWwsIGlmcmFtZSwgY2xvc2VCdXR0b24sIGxvYWRpbmdJY29uIH0pO1xuICB9XG5cbiAgc3RhdGljIG9mKG9wdHM6IElmcmFtZVZpZXdPcHRpb25zKTogSWZyYW1lVmlldyB7XG4gICAgcmV0dXJuIG5ldyBJZnJhbWVWaWV3KG9wdHMpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVNBO0FBRUE7QUFPQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///41\n");

/***/ }),
/* 42 */
/*!**************************************************************!*\
  !*** ./src/pages/design_button/iframe_view/assets/close.svg ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 90 90\\\"><path fill=\\\"#fff\\\" d=\\\"M49 45l14-14c.5-.5.8-1.3.9-2 .1-.8-.2-1.6-.7-2.1s-1.3-.8-2.1-.7c-.8 0-1.5.4-2 .9l-14 14-14-14c-.5-.5-1.3-.8-2-.9-.8-.1-1.6.2-2.1.7s-.8 1.3-.7 2.1c0 .8.4 1.5.9 2l14 14-14 14c-.5.5-.8 1.3-.9 2-.1.8.2 1.6.7 2.1s1.3.8 2.1.7c.8 0 1.5-.4 2-.9l14-14 14 14c.5.5 1.3.8 2 .9.8.1 1.6-.2 2.1-.7s.8-1.3.7-2.1c0-.8-.4-1.5-.9-2L49 45z\\\"/></svg>\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9pZnJhbWVfdmlldy9hc3NldHMvY2xvc2Uuc3ZnPzg0NjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgXCI8c3ZnIHhtbG5zPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgdmlld0JveD1cXFwiMCAwIDkwIDkwXFxcIj48cGF0aCBmaWxsPVxcXCIjZmZmXFxcIiBkPVxcXCJNNDkgNDVsMTQtMTRjLjUtLjUuOC0xLjMuOS0yIC4xLS44LS4yLTEuNi0uNy0yLjFzLTEuMy0uOC0yLjEtLjdjLS44IDAtMS41LjQtMiAuOWwtMTQgMTQtMTQtMTRjLS41LS41LTEuMy0uOC0yLS45LS44LS4xLTEuNi4yLTIuMS43cy0uOCAxLjMtLjcgMi4xYzAgLjguNCAxLjUuOSAybDE0IDE0LTE0IDE0Yy0uNS41LS44IDEuMy0uOSAyLS4xLjguMiAxLjYuNyAyLjFzMS4zLjggMi4xLjdjLjggMCAxLjUtLjQgMi0uOWwxNC0xNCAxNCAxNGMuNS41IDEuMy44IDIgLjkuOC4xIDEuNi0uMiAyLjEtLjdzLjgtMS4zLjctMi4xYzAtLjgtLjQtMS41LS45LTJMNDkgNDV6XFxcIi8+PC9zdmc+XCIiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42\n");

/***/ }),
/* 43 */
/*!*************************************************************!*\
  !*** ./src/pages/design_button/iframe_view/iframe_view.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getStyle\", function() { return getStyle; });\n/**\r\n * @constructor\r\n * @struct\r\n */\r\nfunction Struct() { }\r\n/**\r\n * @constructor\r\n * @dict\r\n */\r\nfunction Dict() { }\r\n/** @type {!Struct} */\r\nconst styles = { colorCanvaBrand: \"rgb(0, 196, 204)\", gridBaseline: \"8px\", zIndexContainer: \"2147483640\", loadingIconSize: \"160px\", root: \"src-pages-design_button-iframe_view-iframe_view__root\", rootShow: \"src-pages-design_button-iframe_view-iframe_view__rootShow src-pages-design_button-iframe_view-iframe_view__root\", rootHiding: \"src-pages-design_button-iframe_view-iframe_view__rootHiding src-pages-design_button-iframe_view-iframe_view__root\", container: \"src-pages-design_button-iframe_view-iframe_view__container\", closeButton: \"src-pages-design_button-iframe_view-iframe_view__closeButton\", iframe: \"src-pages-design_button-iframe_view-iframe_view__iframe\", iframeLoading: \"src-pages-design_button-iframe_view-iframe_view__iframeLoading src-pages-design_button-iframe_view-iframe_view__iframe\", iframeLoaded: \"src-pages-design_button-iframe_view-iframe_view__iframeLoaded src-pages-design_button-iframe_view-iframe_view__iframe\", loadingIcon: \"src-pages-design_button-iframe_view-iframe_view__loadingIcon\", fade: \"src-pages-design_button-iframe_view-iframe_view__fade\", loadingIconLoaded: \"src-pages-design_button-iframe_view-iframe_view__loadingIconLoaded\" };\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (styles);\r\n/** @type {!Dict} */\r\nconst dictStyles = { \"colorCanvaBrand\": \"rgb(0, 196, 204)\", \"gridBaseline\": \"8px\", \"zIndexContainer\": \"2147483640\", \"loadingIconSize\": \"160px\", \"root\": \"src-pages-design_button-iframe_view-iframe_view__root\", \"rootShow\": \"src-pages-design_button-iframe_view-iframe_view__rootShow src-pages-design_button-iframe_view-iframe_view__root\", \"rootHiding\": \"src-pages-design_button-iframe_view-iframe_view__rootHiding src-pages-design_button-iframe_view-iframe_view__root\", \"container\": \"src-pages-design_button-iframe_view-iframe_view__container\", \"closeButton\": \"src-pages-design_button-iframe_view-iframe_view__closeButton\", \"iframe\": \"src-pages-design_button-iframe_view-iframe_view__iframe\", \"iframeLoading\": \"src-pages-design_button-iframe_view-iframe_view__iframeLoading src-pages-design_button-iframe_view-iframe_view__iframe\", \"iframeLoaded\": \"src-pages-design_button-iframe_view-iframe_view__iframeLoaded src-pages-design_button-iframe_view-iframe_view__iframe\", \"loadingIcon\": \"src-pages-design_button-iframe_view-iframe_view__loadingIcon\", \"fade\": \"src-pages-design_button-iframe_view-iframe_view__fade\", \"loadingIconLoaded\": \"src-pages-design_button-iframe_view-iframe_view__loadingIconLoaded\" };\r\nfunction getStyle(style) {\r\n    return dictStyles[style];\r\n}\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9pZnJhbWVfdmlldy9pZnJhbWVfdmlldy5jc3M/NDJkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlIH0gZnJvbSAndWkvYmFzZS9odG1sL2VuY29kZSc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAc3RydWN0XG4gKi9cbmZ1bmN0aW9uIFN0cnVjdCgpIHsgfVxuIFxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkaWN0XG4gKi9cbmZ1bmN0aW9uIERpY3QoKSB7IH1cbiAgXG4vKiogQHR5cGUgeyFTdHJ1Y3R9ICovXG5jb25zdCBzdHlsZXMgPSB7IGNvbG9yQ2FudmFCcmFuZDogXCJyZ2IoMCwgMTk2LCAyMDQpXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxncmlkQmFzZWxpbmU6IFwiOHB4XCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSx6SW5kZXhDb250YWluZXI6IFwiMjE0NzQ4MzY0MFwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUsbG9hZGluZ0ljb25TaXplOiBcIjE2MHB4XCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxyb290OiBcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19yb290XCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxyb290U2hvdzogXCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19fcm9vdFNob3cgc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX3Jvb3RcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLHJvb3RIaWRpbmc6IFwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX3Jvb3RIaWRpbmcgc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX3Jvb3RcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGNvbnRhaW5lcjogXCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19fY29udGFpbmVyXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxjbG9zZUJ1dHRvbjogXCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19fY2xvc2VCdXR0b25cIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGlmcmFtZTogXCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19faWZyYW1lXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxpZnJhbWVMb2FkaW5nOiBcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19pZnJhbWVMb2FkaW5nIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19pZnJhbWVcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGlmcmFtZUxvYWRlZDogXCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19faWZyYW1lTG9hZGVkIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19pZnJhbWVcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGxvYWRpbmdJY29uOiBcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19sb2FkaW5nSWNvblwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUsZmFkZTogXCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19fZmFkZVwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUsbG9hZGluZ0ljb25Mb2FkZWQ6IFwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX2xvYWRpbmdJY29uTG9hZGVkXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSB9O1xuZXhwb3J0IGRlZmF1bHQgc3R5bGVzO1xuXG4vKiogQHR5cGUgeyFEaWN0fSAqL1xuY29uc3QgZGljdFN0eWxlcyA9IHtcImNvbG9yQ2FudmFCcmFuZFwiOlwicmdiKDAsIDE5NiwgMjA0KVwiLFwiZ3JpZEJhc2VsaW5lXCI6XCI4cHhcIixcInpJbmRleENvbnRhaW5lclwiOlwiMjE0NzQ4MzY0MFwiLFwibG9hZGluZ0ljb25TaXplXCI6XCIxNjBweFwiLFwicm9vdFwiOlwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX3Jvb3RcIixcInJvb3RTaG93XCI6XCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19fcm9vdFNob3cgc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX3Jvb3RcIixcInJvb3RIaWRpbmdcIjpcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19yb290SGlkaW5nIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19yb290XCIsXCJjb250YWluZXJcIjpcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19jb250YWluZXJcIixcImNsb3NlQnV0dG9uXCI6XCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19fY2xvc2VCdXR0b25cIixcImlmcmFtZVwiOlwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX2lmcmFtZVwiLFwiaWZyYW1lTG9hZGluZ1wiOlwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX2lmcmFtZUxvYWRpbmcgc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX2lmcmFtZVwiLFwiaWZyYW1lTG9hZGVkXCI6XCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19faWZyYW1lTG9hZGVkIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19pZnJhbWVcIixcImxvYWRpbmdJY29uXCI6XCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1pZnJhbWVfdmlldy1pZnJhbWVfdmlld19fbG9hZGluZ0ljb25cIixcImZhZGVcIjpcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWlmcmFtZV92aWV3LWlmcmFtZV92aWV3X19mYWRlXCIsXCJsb2FkaW5nSWNvbkxvYWRlZFwiOlwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taWZyYW1lX3ZpZXctaWZyYW1lX3ZpZXdfX2xvYWRpbmdJY29uTG9hZGVkXCJ9O1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0eWxlKHN0eWxlOiBrZXlvZiB0eXBlb2YgZGljdFN0eWxlcyk6IEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUge1xuICByZXR1cm4gZGljdFN0eWxlc1tzdHlsZV0gYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZTtcbn07XG4iXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTs7O0FBR0E7QUFDQTtBQUVBOzs7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///43\n");

/***/ }),
/* 44 */,
/* 45 */,
/* 46 */,
/* 47 */
/*!*******************************************!*\
  !*** ./src/pages/design_button/is_rtl.ts ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isRtl\", function() { return isRtl; });\n// keep sync with /canva/services/locale/src/main/java/com/canva/i18n/LocaleHelper.java\r\nconst RTL_LANGUAGES = [\r\n    'ar',\r\n    'ar-AE',\r\n    'ar-AR',\r\n    'ar-AU',\r\n    'ar-BH',\r\n    'ar-DE',\r\n    'ar-DK',\r\n    'ar-DZ',\r\n    'ar-EG',\r\n    'ar-GB',\r\n    'ar-ID',\r\n    'ar-IL',\r\n    'ar-IQ',\r\n    'ar-JO',\r\n    'ar-KW',\r\n    'ar-LB',\r\n    'ar-LY',\r\n    'ar-MA',\r\n    'ar-MR',\r\n    'ar-OM',\r\n    'ar-PS',\r\n    'ar-QA',\r\n    'ar-SA',\r\n    'ar-SD',\r\n    'ar-SO',\r\n    'ar-SY',\r\n    'ar-TN',\r\n    'ar-TR',\r\n    'ar-US',\r\n    'ar-XB',\r\n    'ar-YE',\r\n    'fa',\r\n    'fa-IR',\r\n    'he',\r\n    'he-GB',\r\n    'he-IL',\r\n    'he-IS',\r\n    'he-US',\r\n    'he-ZA',\r\n    'pa',\r\n    'pa-PK',\r\n    'ckb',\r\n    'ckb-US',\r\n    'ckb-IQ',\r\n    'ur',\r\n    'ur-PK',\r\n    'ug',\r\n    'ug-CN',\r\n];\r\nfunction isRtl(language) {\r\n    return RTL_LANGUAGES.includes(language);\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9pc19ydGwudHM/Yzc4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBrZWVwIHN5bmMgd2l0aCAvY2FudmEvc2VydmljZXMvbG9jYWxlL3NyYy9tYWluL2phdmEvY29tL2NhbnZhL2kxOG4vTG9jYWxlSGVscGVyLmphdmFcbmNvbnN0IFJUTF9MQU5HVUFHRVMgPSBbXG4gICdhcicsXG4gICdhci1BRScsXG4gICdhci1BUicsXG4gICdhci1BVScsXG4gICdhci1CSCcsXG4gICdhci1ERScsXG4gICdhci1ESycsXG4gICdhci1EWicsXG4gICdhci1FRycsXG4gICdhci1HQicsXG4gICdhci1JRCcsXG4gICdhci1JTCcsXG4gICdhci1JUScsXG4gICdhci1KTycsXG4gICdhci1LVycsXG4gICdhci1MQicsXG4gICdhci1MWScsXG4gICdhci1NQScsXG4gICdhci1NUicsXG4gICdhci1PTScsXG4gICdhci1QUycsXG4gICdhci1RQScsXG4gICdhci1TQScsXG4gICdhci1TRCcsXG4gICdhci1TTycsXG4gICdhci1TWScsXG4gICdhci1UTicsXG4gICdhci1UUicsXG4gICdhci1VUycsXG4gICdhci1YQicsXG4gICdhci1ZRScsXG5cbiAgJ2ZhJyxcbiAgJ2ZhLUlSJyxcblxuICAnaGUnLFxuICAnaGUtR0InLFxuICAnaGUtSUwnLFxuICAnaGUtSVMnLFxuICAnaGUtVVMnLFxuICAnaGUtWkEnLFxuXG4gICdwYScsXG4gICdwYS1QSycsXG5cbiAgJ2NrYicsXG4gICdja2ItVVMnLFxuICAnY2tiLUlRJyxcblxuICAndXInLFxuICAndXItUEsnLFxuXG4gICd1ZycsXG4gICd1Zy1DTicsXG5dO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNSdGwobGFuZ3VhZ2U6IHN0cmluZykge1xuICByZXR1cm4gUlRMX0xBTkdVQUdFUy5pbmNsdWRlcyhsYW5ndWFnZSk7XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///47\n");

/***/ }),
/* 48 */
/*!**************************************************!*\
  !*** ./src/pages/design_button/routes/routes.ts ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Routes\", function() { return Routes; });\n/* harmony import */ var base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/url_builder/url_builder */ 28);\n/* harmony import */ var _categories_categories_provider__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./categories/categories_provider */ 49);\n\r\n\r\n// The reason not to reuse the `routes/document_routes` is it will introduce `mobx` into the bundle.\r\nclass Routes {\r\n    constructor(baseUrl, apiKey, origin, xat, categoriesProvider = new _categories_categories_provider__WEBPACK_IMPORTED_MODULE_1__[\"CategoriesProvider\"]()) {\r\n        this.baseUrl = baseUrl;\r\n        this.apiKey = apiKey;\r\n        this.origin = origin;\r\n        this.xat = xat;\r\n        this.categoriesProvider = categoriesProvider;\r\n    }\r\n    get commonParams() {\r\n        return {\r\n            embed: true,\r\n            loginApp: 'L2',\r\n            origin: this.origin,\r\n            ['_xat']: this.xat,\r\n            schema: 'web-2',\r\n            apiKey: this.apiKey,\r\n        };\r\n    }\r\n    getEditDesignUrl(designId, publishLabel) {\r\n        return this.baseUrl + base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__[\"UrlBuilder\"]\r\n            .joinAndEncodeSegments(['design', designId, 'edit'])\r\n            .withParam('publishLabel', publishLabel)\r\n            .withParams(this.commonParams)\r\n            .toURI();\r\n    }\r\n    getCreateDesignUrl(type, publishLabel, height, width) {\r\n        const categoryId = this.categoriesProvider.dealiasPublicType(type);\r\n        return this.baseUrl + base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__[\"UrlBuilder\"]\r\n            .joinAndEncodeSegments(['design'])\r\n            .withParam('create', true)\r\n            .withParam('publishLabel', publishLabel)\r\n            .withParam('height', height)\r\n            .withParam('width', width)\r\n            .withParams(this.commonParams)\r\n            .toURI();\r\n    }\r\n    getRemixDesignUrl(designId, type, publishLabel) {\r\n        let categoryId = null;\r\n        if (type) {\r\n            categoryId = this.categoriesProvider.dealiasPublicType(type);\r\n        }\r\n        return this.baseUrl + base_url_builder_url_builder__WEBPACK_IMPORTED_MODULE_0__[\"UrlBuilder\"]\r\n            .joinAndEncodeSegments(['design', designId, 'remix'])\r\n            .withParam('category', categoryId)\r\n            .withParam('publishLabel', publishLabel)\r\n            .withParams(this.commonParams)\r\n            .toURI();\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9yb3V0ZXMvcm91dGVzLnRzP2RjZTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXJsQnVpbGRlciB9IGZyb20gJ2Jhc2UvdXJsX2J1aWxkZXIvdXJsX2J1aWxkZXInO1xuaW1wb3J0IHsgQ2F0ZWdvcmllc1Byb3ZpZGVyIH0gZnJvbSAnLi9jYXRlZ29yaWVzL2NhdGVnb3JpZXNfcHJvdmlkZXInO1xuXG4vLyBUaGUgcmVhc29uIG5vdCB0byByZXVzZSB0aGUgYHJvdXRlcy9kb2N1bWVudF9yb3V0ZXNgIGlzIGl0IHdpbGwgaW50cm9kdWNlIGBtb2J4YCBpbnRvIHRoZSBidW5kbGUuXG5leHBvcnQgY2xhc3MgUm91dGVzIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBwcml2YXRlIHJlYWRvbmx5IGJhc2VVcmw6IHN0cmluZyxcbiAgICAgIHByaXZhdGUgcmVhZG9ubHkgYXBpS2V5OiBzdHJpbmcsXG4gICAgICBwcml2YXRlIHJlYWRvbmx5IG9yaWdpbjogc3RyaW5nLFxuICAgICAgcHJpdmF0ZSByZWFkb25seSB4YXQ/OiBzdHJpbmcsXG4gICAgICBwcml2YXRlIHJlYWRvbmx5IGNhdGVnb3JpZXNQcm92aWRlciA9IG5ldyBDYXRlZ29yaWVzUHJvdmlkZXIoKSxcbiAgKSB7XG5cbiAgfVxuXG4gIHByaXZhdGUgZ2V0IGNvbW1vblBhcmFtcygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZW1iZWQ6IHRydWUsXG4gICAgICBsb2dpbkFwcDogJ0wyJywgLy8gVE9ETyhEYXZpZEcpOiByZW1vdmUgdGhpcyBsaW5lIGFmdGVyIEwyIGJlY29tZXMgdGhlIGRlZmF1bHQuXG4gICAgICBvcmlnaW46IHRoaXMub3JpZ2luLFxuICAgICAgWydfeGF0J106IHRoaXMueGF0LFxuICAgICAgc2NoZW1hOiAnd2ViLTInLFxuICAgICAgYXBpS2V5OiB0aGlzLmFwaUtleSxcbiAgICB9O1xuICB9XG5cbiAgZ2V0RWRpdERlc2lnblVybChkZXNpZ25JZDogc3RyaW5nLCBwdWJsaXNoTGFiZWw/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmJhc2VVcmwgKyBVcmxCdWlsZGVyXG4gICAgICAuam9pbkFuZEVuY29kZVNlZ21lbnRzKFsnZGVzaWduJywgZGVzaWduSWQsICdlZGl0J10pXG4gICAgICAud2l0aFBhcmFtKCdwdWJsaXNoTGFiZWwnLCBwdWJsaXNoTGFiZWwpXG4gICAgICAud2l0aFBhcmFtcyh0aGlzLmNvbW1vblBhcmFtcylcbiAgICAgIC50b1VSSSgpO1xuICB9XG5cbiAgZ2V0Q3JlYXRlRGVzaWduVXJsKHR5cGU6IHN0cmluZywgcHVibGlzaExhYmVsPzogc3RyaW5nLCBoZWlnaHQ/OiBudW1iZXIsIHdpZHRoPzogbnVtYmVyKTogc3RyaW5nIHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gdGhpcy5jYXRlZ29yaWVzUHJvdmlkZXIuZGVhbGlhc1B1YmxpY1R5cGUodHlwZSk7XG4gICAgcmV0dXJuIHRoaXMuYmFzZVVybCArIFVybEJ1aWxkZXJcbiAgICAgICAgLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbJ2Rlc2lnbiddKVxuICAgICAgICAud2l0aFBhcmFtKCdjcmVhdGUnLCB0cnVlKVxuICAgICAgICAud2l0aFBhcmFtKCdwdWJsaXNoTGFiZWwnLCBwdWJsaXNoTGFiZWwpXG4gICAgICAgIC53aXRoUGFyYW0oJ2hlaWdodCcsIGhlaWdodClcbiAgICAgICAgLndpdGhQYXJhbSgnd2lkdGgnLCB3aWR0aClcbiAgICAgICAgLndpdGhQYXJhbXModGhpcy5jb21tb25QYXJhbXMpXG4gICAgICAgIC50b1VSSSgpO1xuICB9XG5cbiAgZ2V0UmVtaXhEZXNpZ25VcmwoZGVzaWduSWQ6IHN0cmluZywgdHlwZT86IHN0cmluZywgIHB1Ymxpc2hMYWJlbD86IHN0cmluZykge1xuICAgIGxldCBjYXRlZ29yeUlkID0gbnVsbDtcbiAgICBpZiAodHlwZSkge1xuICAgICAgY2F0ZWdvcnlJZCA9IHRoaXMuY2F0ZWdvcmllc1Byb3ZpZGVyLmRlYWxpYXNQdWJsaWNUeXBlKHR5cGUpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5iYXNlVXJsICsgVXJsQnVpbGRlclxuICAgICAgLmpvaW5BbmRFbmNvZGVTZWdtZW50cyhbJ2Rlc2lnbicsIGRlc2lnbklkLCAncmVtaXgnXSlcbiAgICAgIC53aXRoUGFyYW0oJ2NhdGVnb3J5JywgY2F0ZWdvcnlJZClcbiAgICAgIC53aXRoUGFyYW0oJ3B1Ymxpc2hMYWJlbCcsIHB1Ymxpc2hMYWJlbClcbiAgICAgIC53aXRoUGFyYW1zKHRoaXMuY29tbW9uUGFyYW1zKVxuICAgICAgLnRvVVJJKCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///48\n");

/***/ }),
/* 49 */
/*!**************************************************************************!*\
  !*** ./src/pages/design_button/routes/categories/categories_provider.ts ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CategoriesProvider\", function() { return CategoriesProvider; });\n// Copyright 2019 Canva Inc. All Rights Reserved.\r\n/**\r\n * Converts public type aliases (e.g. \"resume\") to private category IDs (e.g. \"tABCD1234\").\r\n */\r\nclass CategoriesProvider {\r\n    constructor() {\r\n        /** Hardcoded mapping from alias to id. */\r\n        this.alias2id = new Map([\r\n            ['Poster', 'tACZCs7e-rQ'],\r\n            ['WechatOfficialAccountQrCode', 'tACZCgYi6SA'],\r\n            ['WechatOfficialAccountCover', 'tACZCuOHSQA'],\r\n            ['WechatOfficialAccountThumbnail', 'tADLkqDigy8'],\r\n            ['WechatMoment', 'tACZCsjcdNc'],\r\n            ['Invitation', 'tACZCoWLFL8'],\r\n            ['Banner', 'tACZCmmulYs'],\r\n            ['Logo', 'tACZCuRXg6c'],\r\n            ['Card', 'tACZCnXe2Xo'],\r\n            ['PhoneWallpaper', 'tACZClJxmXA'],\r\n            ['MobilePhotoCollage', 'tADLklHfs_Q'],\r\n            ['Flyer', 'tACZCukkq3s'],\r\n            ['Menu', 'tACZCn2DEzY'],\r\n            ['Announcement', 'tACZCv5k8lI'],\r\n            ['Newsletter', 'tACZCsI-e2w'],\r\n            ['Resume', 'tACZCustSTA'],\r\n            ['TrifoldBrochure', 'tACZClT8HS8'],\r\n            ['InformationChart', 'tACZCgGvwzA'],\r\n            ['Presentation', 'tACZCpxuodA'],\r\n            ['E-businessCard', 'tACZCgZJUBc'],\r\n            ['FitnessPoster', 'tADLkm-MCvQ'],\r\n            ['HDBPoster', 'tADLkvcS0s4'],\r\n        ]);\r\n    }\r\n    dealiasPublicType(alias) {\r\n        const categoryId = this.alias2id.get(alias);\r\n        if (!categoryId) {\r\n            throw new Error(`Could not find alias: ${alias}`);\r\n        }\r\n        return categoryId;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9yb3V0ZXMvY2F0ZWdvcmllcy9jYXRlZ29yaWVzX3Byb3ZpZGVyLnRzPzFjZGQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTkgQ2FudmEgSW5jLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuXG4vKipcbiAqIENvbnZlcnRzIHB1YmxpYyB0eXBlIGFsaWFzZXMgKGUuZy4gXCJyZXN1bWVcIikgdG8gcHJpdmF0ZSBjYXRlZ29yeSBJRHMgKGUuZy4gXCJ0QUJDRDEyMzRcIikuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYXRlZ29yaWVzUHJvdmlkZXIge1xuXG4gIC8qKiBIYXJkY29kZWQgbWFwcGluZyBmcm9tIGFsaWFzIHRvIGlkLiAqL1xuICBwcml2YXRlIHJlYWRvbmx5IGFsaWFzMmlkOiBNYXA8c3RyaW5nLCBzdHJpbmc+ID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oW1xuICAgIFsnUG9zdGVyJywgJ3RBQ1pDczdlLXJRJ10sXG4gICAgWydXZWNoYXRPZmZpY2lhbEFjY291bnRRckNvZGUnLCAndEFDWkNnWWk2U0EnXSxcbiAgICBbJ1dlY2hhdE9mZmljaWFsQWNjb3VudENvdmVyJywgJ3RBQ1pDdU9IU1FBJ10sXG4gICAgWydXZWNoYXRPZmZpY2lhbEFjY291bnRUaHVtYm5haWwnLCAndEFETGtxRGlneTgnXSxcbiAgICBbJ1dlY2hhdE1vbWVudCcsICd0QUNaQ3NqY2ROYyddLFxuICAgIFsnSW52aXRhdGlvbicsICd0QUNaQ29XTEZMOCddLFxuICAgIFsnQmFubmVyJywgJ3RBQ1pDbW11bFlzJ10sXG4gICAgWydMb2dvJywgJ3RBQ1pDdVJYZzZjJ10sXG4gICAgWydDYXJkJywgJ3RBQ1pDblhlMlhvJ10sXG4gICAgWydQaG9uZVdhbGxwYXBlcicsICd0QUNaQ2xKeG1YQSddLFxuICAgIFsnTW9iaWxlUGhvdG9Db2xsYWdlJywgJ3RBRExrbEhmc19RJ10sXG4gICAgWydGbHllcicsICd0QUNaQ3Vra3EzcyddLFxuICAgIFsnTWVudScsICd0QUNaQ24yREV6WSddLFxuICAgIFsnQW5ub3VuY2VtZW50JywgJ3RBQ1pDdjVrOGxJJ10sXG4gICAgWydOZXdzbGV0dGVyJywgJ3RBQ1pDc0ktZTJ3J10sXG4gICAgWydSZXN1bWUnLCAndEFDWkN1c3RTVEEnXSxcbiAgICBbJ1RyaWZvbGRCcm9jaHVyZScsICd0QUNaQ2xUOEhTOCddLFxuICAgIFsnSW5mb3JtYXRpb25DaGFydCcsICd0QUNaQ2dHdnd6QSddLFxuICAgIFsnUHJlc2VudGF0aW9uJywgJ3RBQ1pDcHh1b2RBJ10sXG4gICAgWydFLWJ1c2luZXNzQ2FyZCcsICd0QUNaQ2daSlVCYyddLFxuICAgIFsnRml0bmVzc1Bvc3RlcicsICd0QURMa20tTUN2USddLFxuICAgIFsnSERCUG9zdGVyJywgJ3RBRExrdmNTMHM0J10sXG4gIF0pO1xuXG4gIGRlYWxpYXNQdWJsaWNUeXBlKGFsaWFzOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjYXRlZ29yeUlkID0gdGhpcy5hbGlhczJpZC5nZXQoYWxpYXMpO1xuICAgIGlmICghY2F0ZWdvcnlJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBhbGlhczogJHthbGlhc31gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhdGVnb3J5SWQ7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBRUE7O0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQTtBQVBBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///49\n");

/***/ }),
/* 50 */
/*!***************************************************************************!*\
  !*** ./src/pages/design_button/authentication/authentication_provider.ts ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"AuthenticationProvider\", function() { return AuthenticationProvider; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var services_http_http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! services/http/http_service */ 20);\n/* harmony import */ var services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! services/profile/profile_proto */ 29);\n/* harmony import */ var services_signup_signup_proto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! services/signup/signup_proto */ 36);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\n/**\r\n * Service wrapper for design button SDK authentication\r\n * The services we use here need to be accessed through cross-domain, so need to keep sync with\r\n * bfe/src/main/java/com/canva/cfe/servlet/CorsFilter.java\r\n */\r\nclass AuthenticationProvider {\r\n    constructor(loginService, signupService, profileService) {\r\n        this.loginService = loginService;\r\n        this.signupService = signupService;\r\n        this.profileService = profileService;\r\n    }\r\n    /**\r\n     * will try to log user in first, and try to sign up if user is not found\r\n     */\r\n    authenticateWithAutoAuthToken(autoAuthToken) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            const credentials = new services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"PartnerAuthTokenCredentials\"]({ token: autoAuthToken });\r\n            try {\r\n                const { xatToken } = yield this.loginService.login(credentials, true);\r\n                return base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(xatToken, 'Login success but have no xatToken');\r\n            }\r\n            catch (err) {\r\n                // HttpNotFoundError is used to indicate partner has authentication to log in but the\r\n                // user does not exist\r\n                if (!(err instanceof services_http_http_service__WEBPACK_IMPORTED_MODULE_1__[\"HttpNotFoundError\"])) {\r\n                    throw err;\r\n                }\r\n            }\r\n            const { xatToken } = yield this.signupService.signup(new services_signup_signup_proto__WEBPACK_IMPORTED_MODULE_3__[\"UpdateSignupRequest\"]({ credentials }), true);\r\n            return base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(xatToken, 'Signup success but have no xatToken');\r\n        });\r\n    }\r\n    authenticate({ apiKey, referrer }) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield this.profileService.getApiStatus(new services_profile_profile_proto__WEBPACK_IMPORTED_MODULE_2__[\"GetApiStatusRequest\"]({\r\n                key: apiKey,\r\n                referrer,\r\n            }));\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9hdXRoZW50aWNhdGlvbi9hdXRoZW50aWNhdGlvbl9wcm92aWRlci50cz9kYjFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByZWNvbmRpdGlvbnMgfSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuaW1wb3J0IHsgSHR0cE5vdEZvdW5kRXJyb3IgfSBmcm9tICdzZXJ2aWNlcy9odHRwL2h0dHBfc2VydmljZSc7XG5pbXBvcnQgeyBMb2dpblNlcnZpY2UgfSBmcm9tICdzZXJ2aWNlcy9sb2dpbi9sb2dpbl9zZXJ2aWNlJztcbmltcG9ydCB7IEdldEFwaVN0YXR1c1JlcXVlc3QsIFBhcnRuZXJBdXRoVG9rZW5DcmVkZW50aWFscyB9IGZyb20gJ3NlcnZpY2VzL3Byb2ZpbGUvcHJvZmlsZV9wcm90byc7XG5pbXBvcnQgeyBQcm9maWxlU2VydmljZSB9IGZyb20gJ3NlcnZpY2VzL3Byb2ZpbGUvcHJvZmlsZV9zZXJ2aWNlJztcbmltcG9ydCB7IFVwZGF0ZVNpZ251cFJlcXVlc3QgfSBmcm9tICdzZXJ2aWNlcy9zaWdudXAvc2lnbnVwX3Byb3RvJztcbmltcG9ydCB7IFNpZ251cFNlcnZpY2UgfSBmcm9tICdzZXJ2aWNlcy9zaWdudXAvc2lnbnVwX3NlcnZpY2UnO1xuXG4vKipcbiAqIFNlcnZpY2Ugd3JhcHBlciBmb3IgZGVzaWduIGJ1dHRvbiBTREsgYXV0aGVudGljYXRpb25cbiAqIFRoZSBzZXJ2aWNlcyB3ZSB1c2UgaGVyZSBuZWVkIHRvIGJlIGFjY2Vzc2VkIHRocm91Z2ggY3Jvc3MtZG9tYWluLCBzbyBuZWVkIHRvIGtlZXAgc3luYyB3aXRoXG4gKiBiZmUvc3JjL21haW4vamF2YS9jb20vY2FudmEvY2ZlL3NlcnZsZXQvQ29yc0ZpbHRlci5qYXZhXG4gKi9cbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGlvblByb3ZpZGVyIHtcbiAgY29uc3RydWN0b3IoXG4gICAgICBwcml2YXRlIGxvZ2luU2VydmljZTogUGljazxMb2dpblNlcnZpY2UsICdsb2dpbic+LFxuICAgICAgcHJpdmF0ZSBzaWdudXBTZXJ2aWNlOiBQaWNrPFNpZ251cFNlcnZpY2UsICdzaWdudXAnPixcbiAgICAgIHByaXZhdGUgcHJvZmlsZVNlcnZpY2U6IFBpY2s8UHJvZmlsZVNlcnZpY2UsICdnZXRBcGlTdGF0dXMnPixcbiAgKSB7XG4gIH1cbiAgLyoqIFxuICAgKiB3aWxsIHRyeSB0byBsb2cgdXNlciBpbiBmaXJzdCwgYW5kIHRyeSB0byBzaWduIHVwIGlmIHVzZXIgaXMgbm90IGZvdW5kXG4gICAqL1xuICBhc3luYyBhdXRoZW50aWNhdGVXaXRoQXV0b0F1dGhUb2tlbihhdXRvQXV0aFRva2VuOiBzdHJpbmcpIHtcbiAgICBjb25zdCBjcmVkZW50aWFscyA9IG5ldyBQYXJ0bmVyQXV0aFRva2VuQ3JlZGVudGlhbHMoeyB0b2tlbjogYXV0b0F1dGhUb2tlbiB9KTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyB4YXRUb2tlbiB9ID0gYXdhaXQgdGhpcy5sb2dpblNlcnZpY2UubG9naW4oY3JlZGVudGlhbHMsIHRydWUpO1xuICAgICAgcmV0dXJuIFByZWNvbmRpdGlvbnMuY2hlY2tFeGlzdHMoeGF0VG9rZW4sICdMb2dpbiBzdWNjZXNzIGJ1dCBoYXZlIG5vIHhhdFRva2VuJyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAvLyBIdHRwTm90Rm91bmRFcnJvciBpcyB1c2VkIHRvIGluZGljYXRlIHBhcnRuZXIgaGFzIGF1dGhlbnRpY2F0aW9uIHRvIGxvZyBpbiBidXQgdGhlXG4gICAgICAvLyB1c2VyIGRvZXMgbm90IGV4aXN0XG4gICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBIdHRwTm90Rm91bmRFcnJvcikpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB7IHhhdFRva2VuIH0gPSBhd2FpdCB0aGlzLnNpZ251cFNlcnZpY2Uuc2lnbnVwKFxuICAgICAgICBuZXcgVXBkYXRlU2lnbnVwUmVxdWVzdCh7IGNyZWRlbnRpYWxzIH0pLFxuICAgICAgICB0cnVlLFxuICAgICk7XG4gICAgcmV0dXJuIFByZWNvbmRpdGlvbnMuY2hlY2tFeGlzdHMoeGF0VG9rZW4sICdTaWdudXAgc3VjY2VzcyBidXQgaGF2ZSBubyB4YXRUb2tlbicpO1xuICB9XG5cbiAgYXN5bmMgYXV0aGVudGljYXRlKHsgYXBpS2V5LCByZWZlcnJlciB9OiB7IGFwaUtleTogc3RyaW5nLCByZWZlcnJlcjogc3RyaW5nIH0pIHtcbiAgICBhd2FpdCB0aGlzLnByb2ZpbGVTZXJ2aWNlLmdldEFwaVN0YXR1cyhuZXcgR2V0QXBpU3RhdHVzUmVxdWVzdCh7XG4gICAgICBrZXk6IGFwaUtleSxcbiAgICAgIHJlZmVycmVyLFxuICAgIH0pKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBR0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///50\n");

/***/ }),
/* 51 */
/*!********************************************************************************!*\
  !*** ./src/pages/design_button/html_api/initialize_document_design_buttons.ts ***!
  \********************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DESIGN_BUTTON_CLASSNAME\", function() { return DESIGN_BUTTON_CLASSNAME; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initializeDocumentDesignButtons\", function() { return initializeDocumentDesignButtons; });\n/* harmony import */ var _api_provider__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api_provider */ 52);\n/* harmony import */ var _handlers_create__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./handlers/create */ 53);\n/* harmony import */ var _html_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./html_api */ 56);\n/* harmony import */ var _html_api_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./html_api_config */ 59);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\n\r\n\r\nconst DESIGN_BUTTON_CLASSNAME = 'canva-design-button';\r\nfunction createHtmlApi(element, apiProvider) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        try {\r\n            const config = Object(_html_api_config__WEBPACK_IMPORTED_MODULE_3__[\"createConfig\"])(element);\r\n            const api = new _html_api__WEBPACK_IMPORTED_MODULE_2__[\"HtmlApi\"](element, config, apiProvider);\r\n            api.addPublishHandler(Object(_handlers_create__WEBPACK_IMPORTED_MODULE_1__[\"create\"])(document, config));\r\n            api.install();\r\n        }\r\n        catch (err) {\r\n            // Skip the invalid element\r\n            return;\r\n        }\r\n    });\r\n}\r\nfunction initializeDocumentDesignButtons(container, initialize) {\r\n    const buttonElements = Array.from(container.querySelectorAll(`.${DESIGN_BUTTON_CLASSNAME}`));\r\n    if (buttonElements.length === 0) {\r\n        return;\r\n    }\r\n    const apiProvider = new _api_provider__WEBPACK_IMPORTED_MODULE_0__[\"ApiProvider\"](initialize);\r\n    buttonElements.forEach(element => createHtmlApi(element, apiProvider));\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9odG1sX2FwaS9pbml0aWFsaXplX2RvY3VtZW50X2Rlc2lnbl9idXR0b25zLnRzP2IxM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBpUHJvdmlkZXIsIEluaXRpYWxpemUgfSBmcm9tICcuL2FwaV9wcm92aWRlcic7XG5pbXBvcnQgeyBjcmVhdGUgYXMgY3JlYXRlSGFuZGxlciB9IGZyb20gJy4vaGFuZGxlcnMvY3JlYXRlJztcbmltcG9ydCB7IEh0bWxBcGkgfSBmcm9tICcuL2h0bWxfYXBpJztcbmltcG9ydCB7IGNyZWF0ZUNvbmZpZyB9IGZyb20gJy4vaHRtbF9hcGlfY29uZmlnJztcblxuZXhwb3J0IGNvbnN0IERFU0lHTl9CVVRUT05fQ0xBU1NOQU1FID0gJ2NhbnZhLWRlc2lnbi1idXR0b24nO1xuXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVIdG1sQXBpKGVsZW1lbnQ6IEhUTUxFbGVtZW50LCBhcGlQcm92aWRlcjogQXBpUHJvdmlkZXIpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb25maWcgPSBjcmVhdGVDb25maWcoZWxlbWVudCk7XG4gICAgY29uc3QgYXBpID0gbmV3IEh0bWxBcGkoZWxlbWVudCwgY29uZmlnLCBhcGlQcm92aWRlcik7XG4gICAgYXBpLmFkZFB1Ymxpc2hIYW5kbGVyKGNyZWF0ZUhhbmRsZXIoZG9jdW1lbnQsIGNvbmZpZykpO1xuICAgIGFwaS5pbnN0YWxsKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFNraXAgdGhlIGludmFsaWQgZWxlbWVudFxuICAgIHJldHVybjtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gaW5pdGlhbGl6ZURvY3VtZW50RGVzaWduQnV0dG9ucyhjb250YWluZXI6IEhUTUxFbGVtZW50LCBpbml0aWFsaXplOiBJbml0aWFsaXplKSB7XG4gIGNvbnN0IGJ1dHRvbkVsZW1lbnRzID0gQXJyYXkuZnJvbShcbiAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGAuJHtERVNJR05fQlVUVE9OX0NMQVNTTkFNRX1gKSxcbiAgKSBhcyBIVE1MRWxlbWVudFtdO1xuICBpZiAoYnV0dG9uRWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgYXBpUHJvdmlkZXIgPSBuZXcgQXBpUHJvdmlkZXIoaW5pdGlhbGl6ZSk7XG4gIGJ1dHRvbkVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiBjcmVhdGVIdG1sQXBpKGVsZW1lbnQsIGFwaVByb3ZpZGVyKSk7XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///51\n");

/***/ }),
/* 52 */
/*!**********************************************************!*\
  !*** ./src/pages/design_button/html_api/api_provider.ts ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ApiProvider\", function() { return ApiProvider; });\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nclass ApiProvider {\r\n    constructor(initialize) {\r\n        this.initialize = initialize;\r\n    }\r\n    getApi(config) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.api) {\r\n                this.api = yield this.initialize(config.apiKey, config.autoAuthToken);\r\n            }\r\n            return this.api;\r\n        });\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9odG1sX2FwaS9hcGlfcHJvdmlkZXIudHM/OTA4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdG1sQXBpQ29uZmlnIH0gZnJvbSAnLi9odG1sX2FwaV9jb25maWcnO1xuXG5leHBvcnQgdHlwZSBJbml0aWFsaXplID0gKGFwaUtleTogc3RyaW5nLCBhdXRvQXV0aFRva2VuPzogc3RyaW5nKSA9PiBQcm9taXNlPERlc2lnbkJ1dHRvbkFwaT47XG5cbmV4cG9ydCBjbGFzcyBBcGlQcm92aWRlciB7XG4gIHByaXZhdGUgYXBpPzogRGVzaWduQnV0dG9uQXBpO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgaW5pdGlhbGl6ZTogSW5pdGlhbGl6ZSkge1xuICB9XG5cbiAgYXN5bmMgZ2V0QXBpKGNvbmZpZzogSHRtbEFwaUNvbmZpZykge1xuICAgIGlmICghdGhpcy5hcGkpIHtcbiAgICAgIHRoaXMuYXBpID0gYXdhaXQgdGhpcy5pbml0aWFsaXplKGNvbmZpZy5hcGlLZXksIGNvbmZpZy5hdXRvQXV0aFRva2VuKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYXBpO1xuICB9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFJQTtBQUdBO0FBQUE7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///52\n");

/***/ }),
/* 53 */
/*!*************************************************************!*\
  !*** ./src/pages/design_button/html_api/handlers/create.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"create\", function() { return create; });\n/* harmony import */ var _callback_publish_handler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./callback_publish_handler */ 54);\n/* harmony import */ var _input_publish_handler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./input_publish_handler */ 55);\n\r\n\r\nfunction create(document, config) {\r\n    const inputPublishHandler = new _input_publish_handler__WEBPACK_IMPORTED_MODULE_1__[\"InputPublishHandler\"](document, config);\r\n    const callbackPublishHandler = new _callback_publish_handler__WEBPACK_IMPORTED_MODULE_0__[\"CallbackPublishHandler\"](config);\r\n    return {\r\n        handlePublish: (exportUrl) => {\r\n            inputPublishHandler.handlePublish(exportUrl);\r\n            callbackPublishHandler.handlePublish(exportUrl);\r\n        },\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9odG1sX2FwaS9oYW5kbGVycy9jcmVhdGUudHM/NzViZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEZXNpZ25QdWJsaXNoSGFuZGxlciB9IGZyb20gJy4uL2h0bWxfYXBpJztcbmltcG9ydCB7IEh0bWxBcGlDb25maWcgfSBmcm9tICcuLi9odG1sX2FwaV9jb25maWcnO1xuaW1wb3J0IHsgQ2FsbGJhY2tQdWJsaXNoSGFuZGxlciB9IGZyb20gJy4vY2FsbGJhY2tfcHVibGlzaF9oYW5kbGVyJztcbmltcG9ydCB7IElucHV0UHVibGlzaEhhbmRsZXIgfSBmcm9tICcuL2lucHV0X3B1Ymxpc2hfaGFuZGxlcic7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGUoZG9jdW1lbnQ6IERvY3VtZW50LCBjb25maWc6IEh0bWxBcGlDb25maWcpOiBEZXNpZ25QdWJsaXNoSGFuZGxlciB7XG4gIGNvbnN0IGlucHV0UHVibGlzaEhhbmRsZXIgPSBuZXcgSW5wdXRQdWJsaXNoSGFuZGxlcihkb2N1bWVudCwgY29uZmlnKTtcbiAgY29uc3QgY2FsbGJhY2tQdWJsaXNoSGFuZGxlciA9IG5ldyBDYWxsYmFja1B1Ymxpc2hIYW5kbGVyKGNvbmZpZyk7XG4gIHJldHVybiB7XG4gICAgaGFuZGxlUHVibGlzaDogKGV4cG9ydFVybDogc3RyaW5nKSA9PiB7XG4gICAgICBpbnB1dFB1Ymxpc2hIYW5kbGVyLmhhbmRsZVB1Ymxpc2goZXhwb3J0VXJsKTtcbiAgICAgIGNhbGxiYWNrUHVibGlzaEhhbmRsZXIuaGFuZGxlUHVibGlzaChleHBvcnRVcmwpO1xuICAgIH0sXG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiJBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///53\n");

/***/ }),
/* 54 */
/*!*******************************************************************************!*\
  !*** ./src/pages/design_button/html_api/handlers/callback_publish_handler.ts ***!
  \*******************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CallbackPublishHandler\", function() { return CallbackPublishHandler; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n\r\nclass CallbackPublishHandler {\r\n    constructor(config) {\r\n        this.config = config;\r\n    }\r\n    handlePublish(exportUrl) {\r\n        const callbackName = this.config.urlCallback;\r\n        if (!callbackName) {\r\n            return;\r\n        }\r\n        const callback = window[callbackName];\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(callback, `window.${callbackName} URL callback is not found`);\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkArgument(typeof callback === 'function', `window.${callbackName} is not a function`);\r\n        callback(exportUrl);\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9odG1sX2FwaS9oYW5kbGVycy9jYWxsYmFja19wdWJsaXNoX2hhbmRsZXIudHM/MTgxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmVjb25kaXRpb25zIH0gZnJvbSAnYmFzZS9wcmVjb25kaXRpb25zJztcbmltcG9ydCB7IERlc2lnblB1Ymxpc2hIYW5kbGVyIH0gZnJvbSAnLi4vaHRtbF9hcGknO1xuaW1wb3J0IHsgSHRtbEFwaUNvbmZpZyB9IGZyb20gJy4uL2h0bWxfYXBpX2NvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBDYWxsYmFja1B1Ymxpc2hIYW5kbGVyIGltcGxlbWVudHMgRGVzaWduUHVibGlzaEhhbmRsZXIge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IGNvbmZpZzogSHRtbEFwaUNvbmZpZykge1xuICB9XG5cbiAgaGFuZGxlUHVibGlzaChleHBvcnRVcmw6IHN0cmluZykge1xuICAgIGNvbnN0IGNhbGxiYWNrTmFtZSA9IHRoaXMuY29uZmlnLnVybENhbGxiYWNrO1xuICAgIGlmICghY2FsbGJhY2tOYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgY2FsbGJhY2sgPSAod2luZG93IGFzIHsgW2tleTogc3RyaW5nXTogYW55IH0pW2NhbGxiYWNrTmFtZV07XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0V4aXN0cyhcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIGB3aW5kb3cuJHtjYWxsYmFja05hbWV9IFVSTCBjYWxsYmFjayBpcyBub3QgZm91bmRgLFxuICAgICk7XG4gICAgUHJlY29uZGl0aW9ucy5jaGVja0FyZ3VtZW50KFxuICAgICAgICB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicsXG4gICAgICAgIGB3aW5kb3cuJHtjYWxsYmFja05hbWV9IGlzIG5vdCBhIGZ1bmN0aW9uYCxcbiAgICApO1xuICAgIGNhbGxiYWNrKGV4cG9ydFVybCk7XG4gIH1cbn1cbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBSUE7QUFJQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///54\n");

/***/ }),
/* 55 */
/*!****************************************************************************!*\
  !*** ./src/pages/design_button/html_api/handlers/input_publish_handler.ts ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"InputPublishHandler\", function() { return InputPublishHandler; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n\r\nclass InputPublishHandler {\r\n    constructor(document, config) {\r\n        this.document = document;\r\n        this.config = config;\r\n    }\r\n    handlePublish(exportUrl) {\r\n        const inputName = this.config.input;\r\n        if (!inputName) {\r\n            return;\r\n        }\r\n        const selector = `input[name=\"${inputName}\"]`;\r\n        const inputElement = this.document.querySelector(selector);\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(inputElement, `Input element with name equals to \"${inputName}\" is not found`);\r\n        inputElement.value = exportUrl;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9odG1sX2FwaS9oYW5kbGVycy9pbnB1dF9wdWJsaXNoX2hhbmRsZXIudHM/YTEzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmVjb25kaXRpb25zIH0gZnJvbSAnYmFzZS9wcmVjb25kaXRpb25zJztcbmltcG9ydCB7IERlc2lnblB1Ymxpc2hIYW5kbGVyIH0gZnJvbSAnLi4vaHRtbF9hcGknO1xuaW1wb3J0IHsgSHRtbEFwaUNvbmZpZyB9IGZyb20gJy4uL2h0bWxfYXBpX2NvbmZpZyc7XG5cbmV4cG9ydCBjbGFzcyBJbnB1dFB1Ymxpc2hIYW5kbGVyIGltcGxlbWVudHMgRGVzaWduUHVibGlzaEhhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByaXZhdGUgcmVhZG9ubHkgZG9jdW1lbnQ6IERvY3VtZW50LFxuICAgICAgcHJpdmF0ZSByZWFkb25seSBjb25maWc6IEh0bWxBcGlDb25maWcsXG4gICkge1xuICB9XG5cbiAgaGFuZGxlUHVibGlzaChleHBvcnRVcmw6IHN0cmluZykge1xuICAgIGNvbnN0IGlucHV0TmFtZSA9IHRoaXMuY29uZmlnLmlucHV0O1xuICAgIGlmICghaW5wdXROYW1lKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2VsZWN0b3IgPSBgaW5wdXRbbmFtZT1cIiR7aW5wdXROYW1lfVwiXWA7XG4gICAgY29uc3QgaW5wdXRFbGVtZW50ID0gdGhpcy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIFByZWNvbmRpdGlvbnMuY2hlY2tFeGlzdHMoXG4gICAgICAgIGlucHV0RWxlbWVudCxcbiAgICAgICAgYElucHV0IGVsZW1lbnQgd2l0aCBuYW1lIGVxdWFscyB0byBcIiR7aW5wdXROYW1lfVwiIGlzIG5vdCBmb3VuZGAsXG4gICAgKTtcblxuICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IGV4cG9ydFVybDtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///55\n");

/***/ }),
/* 56 */
/*!******************************************************!*\
  !*** ./src/pages/design_button/html_api/html_api.ts ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"HtmlApi\", function() { return HtmlApi; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n/* harmony import */ var _html_api_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./html_api.css */ 57);\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\n\r\n\r\nclass HtmlApi {\r\n    constructor(element, config, apiProvider) {\r\n        this.element = element;\r\n        this.config = config;\r\n        this.apiProvider = apiProvider;\r\n        this.handleClick = () => __awaiter(this, void 0, void 0, function* () {\r\n            const api = yield this.apiProvider.getApi(this.config);\r\n            api.createDesign({\r\n                type: this.config.designType,\r\n                onPublishCallback: this.handlePublish,\r\n            });\r\n        });\r\n        this.handlePublish = (exportUrl) => {\r\n            if (!this.designEventHandler || !this.designEventHandler.handlePublish) {\r\n                return;\r\n            }\r\n            this.designEventHandler.handlePublish(exportUrl);\r\n        };\r\n    }\r\n    addPublishHandler(handler) {\r\n        this.designEventHandler = handler;\r\n    }\r\n    install() {\r\n        base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(this.designEventHandler, 'Handler is not set');\r\n        const { element } = this;\r\n        element.addEventListener('click', this.handleClick);\r\n        element.className = _html_api_css__WEBPACK_IMPORTED_MODULE_1__[\"default\"].designButton;\r\n        element.style.display = null;\r\n    }\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9odG1sX2FwaS9odG1sX2FwaS50cz8zZjliIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFByZWNvbmRpdGlvbnMgfSBmcm9tICdiYXNlL3ByZWNvbmRpdGlvbnMnO1xuaW1wb3J0IHsgQXBpUHJvdmlkZXIgfSBmcm9tICcuL2FwaV9wcm92aWRlcic7XG5pbXBvcnQgc3R5bGVzIGZyb20gJy4vaHRtbF9hcGkuY3NzJztcbmltcG9ydCB7IEh0bWxBcGlDb25maWcgfSBmcm9tICcuL2h0bWxfYXBpX2NvbmZpZyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGVzaWduUHVibGlzaEhhbmRsZXIge1xuICBoYW5kbGVQdWJsaXNoPyhleHBvcnRVcmw6IHN0cmluZyk6IHZvaWQ7XG5cbiAgaGFuZGxlT3Blbj8oZGVzaWduSWQ6IHN0cmluZyk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBIdG1sQXBpIHtcbiAgcHJpdmF0ZSBkZXNpZ25FdmVudEhhbmRsZXI/OiBEZXNpZ25QdWJsaXNoSGFuZGxlcjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICAgIHByaXZhdGUgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gICAgICBwcml2YXRlIGNvbmZpZzogSHRtbEFwaUNvbmZpZyxcbiAgICAgIHByaXZhdGUgYXBpUHJvdmlkZXI6IEFwaVByb3ZpZGVyLFxuICApIHtcbiAgfVxuXG4gIGFkZFB1Ymxpc2hIYW5kbGVyKGhhbmRsZXI6IERlc2lnblB1Ymxpc2hIYW5kbGVyKSB7XG4gICAgdGhpcy5kZXNpZ25FdmVudEhhbmRsZXIgPSBoYW5kbGVyO1xuICB9XG5cbiAgaW5zdGFsbCgpIHtcbiAgICBQcmVjb25kaXRpb25zLmNoZWNrRXhpc3RzKHRoaXMuZGVzaWduRXZlbnRIYW5kbGVyLCAnSGFuZGxlciBpcyBub3Qgc2V0Jyk7XG4gICAgY29uc3QgeyBlbGVtZW50IH0gPSB0aGlzO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNsaWNrKTtcbiAgICBlbGVtZW50LmNsYXNzTmFtZSA9IHN0eWxlcy5kZXNpZ25CdXR0b247XG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgfVxuXG4gIHByaXZhdGUgaGFuZGxlQ2xpY2sgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgYXBpID0gYXdhaXQgdGhpcy5hcGlQcm92aWRlci5nZXRBcGkodGhpcy5jb25maWcpO1xuICAgIGFwaS5jcmVhdGVEZXNpZ24oe1xuICAgICAgdHlwZTogdGhpcy5jb25maWcuZGVzaWduVHlwZSxcbiAgICAgIG9uUHVibGlzaENhbGxiYWNrOiB0aGlzLmhhbmRsZVB1Ymxpc2gsXG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVQdWJsaXNoID0gKGV4cG9ydFVybDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCF0aGlzLmRlc2lnbkV2ZW50SGFuZGxlciB8fCAhdGhpcy5kZXNpZ25FdmVudEhhbmRsZXIuaGFuZGxlUHVibGlzaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmRlc2lnbkV2ZW50SGFuZGxlci5oYW5kbGVQdWJsaXNoKGV4cG9ydFVybCk7XG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFTQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBM0JBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFnQkE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///56\n");

/***/ }),
/* 57 */
/*!*******************************************************!*\
  !*** ./src/pages/design_button/html_api/html_api.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getStyle\", function() { return getStyle; });\n/**\r\n * @constructor\r\n * @struct\r\n */\r\nfunction Struct() { }\r\n/**\r\n * @constructor\r\n * @dict\r\n */\r\nfunction Dict() { }\r\n/** @type {!Struct} */\r\nconst styles = { defaultFontStack: \"'Open Sans', sans-serif\", fontWeightRegular: \"400\", fontWeightSemiBold: \"600\", fontSizeMedium: \"1.4rem\", textMediumLineHeight: \"1.6\", monoWhite: \"rgb(255, 255, 255)\", colorCanvaBrand: \"rgb(0, 196, 204)\", colorCanvaBrandLight: \"rgb(0, 217, 225)\", colorCanvaBrandDark: \"rgb(0, 175, 181)\", monoBlack: \"rgb(14, 19, 24)\", monoBlackA200: \"rgba(14, 19, 24, 0.45)\", monoBlackA400: \"rgba(14, 19, 24, 0.15)\", gridBaseline: \"8px\", borderRadius: \"4px\", borderWidth: \"2px\", fontSmoothing: \"src-pages-design_button-html_api-html_api__fontSmoothing\", textMedium: \"src-pages-design_button-html_api-html_api__textMedium src-pages-design_button-html_api-html_api__fontSmoothing\", button: \"src-pages-design_button-html_api-html_api__button src-pages-design_button-html_api-html_api__textMedium src-pages-design_button-html_api-html_api__fontSmoothing\", primary: \"src-pages-design_button-html_api-html_api__primary src-pages-design_button-html_api-html_api__button src-pages-design_button-html_api-html_api__textMedium src-pages-design_button-html_api-html_api__fontSmoothing\", hoverSupported: \"src-pages-design_button-html_api-html_api__hoverSupported\", focus: \"src-pages-design_button-html_api-html_api__focus\", active: \"src-pages-design_button-html_api-html_api__active\", anchor: \"src-pages-design_button-html_api-html_api__anchor\", designButton: \"src-pages-design_button-html_api-html_api__designButton src-pages-design_button-html_api-html_api__primary src-pages-design_button-html_api-html_api__button src-pages-design_button-html_api-html_api__textMedium src-pages-design_button-html_api-html_api__fontSmoothing src-pages-design_button-html_api-html_api__anchor\" };\r\n/* harmony default export */ __webpack_exports__[\"default\"] = (styles);\r\n/** @type {!Dict} */\r\nconst dictStyles = { \"defaultFontStack\": \"'Open Sans', sans-serif\", \"fontWeightRegular\": \"400\", \"fontWeightSemiBold\": \"600\", \"fontSizeMedium\": \"1.4rem\", \"textMediumLineHeight\": \"1.6\", \"monoWhite\": \"rgb(255, 255, 255)\", \"colorCanvaBrand\": \"rgb(0, 196, 204)\", \"colorCanvaBrandLight\": \"rgb(0, 217, 225)\", \"colorCanvaBrandDark\": \"rgb(0, 175, 181)\", \"monoBlack\": \"rgb(14, 19, 24)\", \"monoBlackA200\": \"rgba(14, 19, 24, 0.45)\", \"monoBlackA400\": \"rgba(14, 19, 24, 0.15)\", \"gridBaseline\": \"8px\", \"borderRadius\": \"4px\", \"borderWidth\": \"2px\", \"fontSmoothing\": \"src-pages-design_button-html_api-html_api__fontSmoothing\", \"textMedium\": \"src-pages-design_button-html_api-html_api__textMedium src-pages-design_button-html_api-html_api__fontSmoothing\", \"button\": \"src-pages-design_button-html_api-html_api__button src-pages-design_button-html_api-html_api__textMedium src-pages-design_button-html_api-html_api__fontSmoothing\", \"primary\": \"src-pages-design_button-html_api-html_api__primary src-pages-design_button-html_api-html_api__button src-pages-design_button-html_api-html_api__textMedium src-pages-design_button-html_api-html_api__fontSmoothing\", \"hoverSupported\": \"src-pages-design_button-html_api-html_api__hoverSupported\", \"focus\": \"src-pages-design_button-html_api-html_api__focus\", \"active\": \"src-pages-design_button-html_api-html_api__active\", \"anchor\": \"src-pages-design_button-html_api-html_api__anchor\", \"designButton\": \"src-pages-design_button-html_api-html_api__designButton src-pages-design_button-html_api-html_api__primary src-pages-design_button-html_api-html_api__button src-pages-design_button-html_api-html_api__textMedium src-pages-design_button-html_api-html_api__fontSmoothing src-pages-design_button-html_api-html_api__anchor\" };\r\nfunction getStyle(style) {\r\n    return dictStyles[style];\r\n}\r\n;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9odG1sX2FwaS9odG1sX2FwaS5jc3M/OGZiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlIH0gZnJvbSAndWkvYmFzZS9odG1sL2VuY29kZSc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAc3RydWN0XG4gKi9cbmZ1bmN0aW9uIFN0cnVjdCgpIHsgfVxuIFxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkaWN0XG4gKi9cbmZ1bmN0aW9uIERpY3QoKSB7IH1cbiAgXG4vKiogQHR5cGUgeyFTdHJ1Y3R9ICovXG5jb25zdCBzdHlsZXMgPSB7IGRlZmF1bHRGb250U3RhY2s6IFwiJ09wZW4gU2FucycsIHNhbnMtc2VyaWZcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGZvbnRXZWlnaHRSZWd1bGFyOiBcIjQwMFwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUsZm9udFdlaWdodFNlbWlCb2xkOiBcIjYwMFwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUsZm9udFNpemVNZWRpdW06IFwiMS40cmVtXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSx0ZXh0TWVkaXVtTGluZUhlaWdodDogXCIxLjZcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLG1vbm9XaGl0ZTogXCJyZ2IoMjU1LCAyNTUsIDI1NSlcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGNvbG9yQ2FudmFCcmFuZDogXCJyZ2IoMCwgMTk2LCAyMDQpXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxjb2xvckNhbnZhQnJhbmRMaWdodDogXCJyZ2IoMCwgMjE3LCAyMjUpXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxjb2xvckNhbnZhQnJhbmREYXJrOiBcInJnYigwLCAxNzUsIDE4MSlcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLG1vbm9CbGFjazogXCJyZ2IoMTQsIDE5LCAyNClcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLG1vbm9CbGFja0EyMDA6IFwicmdiYSgxNCwgMTksIDI0LCAwLjQ1KVwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUsbW9ub0JsYWNrQTQwMDogXCJyZ2JhKDE0LCAxOSwgMjQsIDAuMTUpXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxncmlkQmFzZWxpbmU6IFwiOHB4XCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxib3JkZXJSYWRpdXM6IFwiNHB4XCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxib3JkZXJXaWR0aDogXCIycHhcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGZvbnRTbW9vdGhpbmc6IFwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2ZvbnRTbW9vdGhpbmdcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLHRleHRNZWRpdW06IFwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX3RleHRNZWRpdW0gc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2ZvbnRTbW9vdGhpbmdcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGJ1dHRvbjogXCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fYnV0dG9uIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX190ZXh0TWVkaXVtIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19mb250U21vb3RoaW5nXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxwcmltYXJ5OiBcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19wcmltYXJ5IHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19idXR0b24gc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX3RleHRNZWRpdW0gc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2ZvbnRTbW9vdGhpbmdcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGhvdmVyU3VwcG9ydGVkOiBcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19ob3ZlclN1cHBvcnRlZFwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUsZm9jdXM6IFwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2ZvY3VzXCIgYXMgSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSxhY3RpdmU6IFwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2FjdGl2ZVwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUsYW5jaG9yOiBcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19hbmNob3JcIiBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlLGRlc2lnbkJ1dHRvbjogXCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fZGVzaWduQnV0dG9uIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19wcmltYXJ5IHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19idXR0b24gc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX3RleHRNZWRpdW0gc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2ZvbnRTbW9vdGhpbmcgc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2FuY2hvclwiIGFzIEh0bWxFbmNvZGVkQXR0cmlidXRlVmFsdWUgfTtcbmV4cG9ydCBkZWZhdWx0IHN0eWxlcztcblxuLyoqIEB0eXBlIHshRGljdH0gKi9cbmNvbnN0IGRpY3RTdHlsZXMgPSB7XCJkZWZhdWx0Rm9udFN0YWNrXCI6XCInT3BlbiBTYW5zJywgc2Fucy1zZXJpZlwiLFwiZm9udFdlaWdodFJlZ3VsYXJcIjpcIjQwMFwiLFwiZm9udFdlaWdodFNlbWlCb2xkXCI6XCI2MDBcIixcImZvbnRTaXplTWVkaXVtXCI6XCIxLjRyZW1cIixcInRleHRNZWRpdW1MaW5lSGVpZ2h0XCI6XCIxLjZcIixcIm1vbm9XaGl0ZVwiOlwicmdiKDI1NSwgMjU1LCAyNTUpXCIsXCJjb2xvckNhbnZhQnJhbmRcIjpcInJnYigwLCAxOTYsIDIwNClcIixcImNvbG9yQ2FudmFCcmFuZExpZ2h0XCI6XCJyZ2IoMCwgMjE3LCAyMjUpXCIsXCJjb2xvckNhbnZhQnJhbmREYXJrXCI6XCJyZ2IoMCwgMTc1LCAxODEpXCIsXCJtb25vQmxhY2tcIjpcInJnYigxNCwgMTksIDI0KVwiLFwibW9ub0JsYWNrQTIwMFwiOlwicmdiYSgxNCwgMTksIDI0LCAwLjQ1KVwiLFwibW9ub0JsYWNrQTQwMFwiOlwicmdiYSgxNCwgMTksIDI0LCAwLjE1KVwiLFwiZ3JpZEJhc2VsaW5lXCI6XCI4cHhcIixcImJvcmRlclJhZGl1c1wiOlwiNHB4XCIsXCJib3JkZXJXaWR0aFwiOlwiMnB4XCIsXCJmb250U21vb3RoaW5nXCI6XCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fZm9udFNtb290aGluZ1wiLFwidGV4dE1lZGl1bVwiOlwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX3RleHRNZWRpdW0gc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2ZvbnRTbW9vdGhpbmdcIixcImJ1dHRvblwiOlwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2J1dHRvbiBzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fdGV4dE1lZGl1bSBzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fZm9udFNtb290aGluZ1wiLFwicHJpbWFyeVwiOlwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX3ByaW1hcnkgc3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2J1dHRvbiBzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fdGV4dE1lZGl1bSBzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fZm9udFNtb290aGluZ1wiLFwiaG92ZXJTdXBwb3J0ZWRcIjpcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19ob3ZlclN1cHBvcnRlZFwiLFwiZm9jdXNcIjpcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19mb2N1c1wiLFwiYWN0aXZlXCI6XCJzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fYWN0aXZlXCIsXCJhbmNob3JcIjpcInNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19hbmNob3JcIixcImRlc2lnbkJ1dHRvblwiOlwic3JjLXBhZ2VzLWRlc2lnbl9idXR0b24taHRtbF9hcGktaHRtbF9hcGlfX2Rlc2lnbkJ1dHRvbiBzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fcHJpbWFyeSBzcmMtcGFnZXMtZGVzaWduX2J1dHRvbi1odG1sX2FwaS1odG1sX2FwaV9fYnV0dG9uIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX190ZXh0TWVkaXVtIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19mb250U21vb3RoaW5nIHNyYy1wYWdlcy1kZXNpZ25fYnV0dG9uLWh0bWxfYXBpLWh0bWxfYXBpX19hbmNob3JcIn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3R5bGUoc3R5bGU6IGtleW9mIHR5cGVvZiBkaWN0U3R5bGVzKTogSHRtbEVuY29kZWRBdHRyaWJ1dGVWYWx1ZSB7XG4gIHJldHVybiBkaWN0U3R5bGVzW3N0eWxlXSBhcyBIdG1sRW5jb2RlZEF0dHJpYnV0ZVZhbHVlO1xufTtcbiJdLCJtYXBwaW5ncyI6IkFBRUE7QUFBQTtBQUFBOzs7QUFHQTtBQUNBO0FBRUE7OztBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///57\n");

/***/ }),
/* 58 */,
/* 59 */
/*!*************************************************************!*\
  !*** ./src/pages/design_button/html_api/html_api_config.ts ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createConfig\", function() { return createConfig; });\n/* harmony import */ var base_preconditions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base/preconditions */ 15);\n// Reference to https://about.canva.com/button/documentation/\r\n\r\nconst DATASET_KEYS = {\r\n    API_KEY: 'apiKey',\r\n    AUTO_AUTH_TOKEN: 'autoAuthToken',\r\n    DESIGN_TYPE: 'type',\r\n    INPUT: 'input',\r\n    URL_CALLBACK: 'urlCallback',\r\n};\r\nfunction createConfig(element) {\r\n    return {\r\n        designType: base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(element.dataset[DATASET_KEYS.DESIGN_TYPE], 'Design type must be provided'),\r\n        apiKey: base_preconditions__WEBPACK_IMPORTED_MODULE_0__[\"Preconditions\"].checkExists(element.dataset[DATASET_KEYS.API_KEY], 'Empty apikey is not allowed'),\r\n        autoAuthToken: element.dataset[DATASET_KEYS.AUTO_AUTH_TOKEN],\r\n        input: element.dataset[DATASET_KEYS.INPUT],\r\n        urlCallback: element.dataset[DATASET_KEYS.URL_CALLBACK],\r\n    };\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvZGVzaWduX2J1dHRvbi9odG1sX2FwaS9odG1sX2FwaV9jb25maWcudHM/NDlkOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBSZWZlcmVuY2UgdG8gaHR0cHM6Ly9hYm91dC5jYW52YS5jb20vYnV0dG9uL2RvY3VtZW50YXRpb24vXG5pbXBvcnQgeyBQcmVjb25kaXRpb25zIH0gZnJvbSAnYmFzZS9wcmVjb25kaXRpb25zJztcblxuY29uc3QgREFUQVNFVF9LRVlTID0ge1xuICBBUElfS0VZOiAnYXBpS2V5JyxcbiAgQVVUT19BVVRIX1RPS0VOOiAnYXV0b0F1dGhUb2tlbicsXG4gIERFU0lHTl9UWVBFOiAndHlwZScsXG4gIElOUFVUOiAnaW5wdXQnLFxuICBVUkxfQ0FMTEJBQ0s6ICd1cmxDYWxsYmFjaycsXG59O1xuXG5leHBvcnQgdHlwZSBIdG1sQXBpQ29uZmlnID0ge1xuICBhcGlLZXk6IHN0cmluZyxcbiAgZGVzaWduVHlwZTogc3RyaW5nLFxuICBhdXRvQXV0aFRva2VuPzogc3RyaW5nLFxuICBpbnB1dD86IHN0cmluZyxcbiAgdXJsQ2FsbGJhY2s/OiBzdHJpbmcsXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ29uZmlnKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gIHJldHVybiB7XG4gICAgZGVzaWduVHlwZTogUHJlY29uZGl0aW9ucy5jaGVja0V4aXN0cyhcbiAgICAgICAgZWxlbWVudC5kYXRhc2V0W0RBVEFTRVRfS0VZUy5ERVNJR05fVFlQRV0sXG4gICAgICAgICdEZXNpZ24gdHlwZSBtdXN0IGJlIHByb3ZpZGVkJyxcbiAgICApLFxuICAgIGFwaUtleTogUHJlY29uZGl0aW9ucy5jaGVja0V4aXN0cyhcbiAgICAgICAgZWxlbWVudC5kYXRhc2V0W0RBVEFTRVRfS0VZUy5BUElfS0VZXSxcbiAgICAgICAgJ0VtcHR5IGFwaWtleSBpcyBub3QgYWxsb3dlZCcsXG4gICAgKSxcbiAgICBhdXRvQXV0aFRva2VuOiBlbGVtZW50LmRhdGFzZXRbREFUQVNFVF9LRVlTLkFVVE9fQVVUSF9UT0tFTl0sXG4gICAgaW5wdXQ6IGVsZW1lbnQuZGF0YXNldFtEQVRBU0VUX0tFWVMuSU5QVVRdLFxuICAgIHVybENhbGxiYWNrOiBlbGVtZW50LmRhdGFzZXRbREFUQVNFVF9LRVlTLlVSTF9DQUxMQkFDS10sXG4gIH07XG59XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///59\n");

/***/ })
],[[7,"src/pages/design_button/design_button.vendor"]]]);